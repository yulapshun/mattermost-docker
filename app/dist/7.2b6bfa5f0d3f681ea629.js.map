{"version":3,"sources":["webpack:///7.2b6bfa5f0d3f681ea629.js","webpack:///./components/needs_team/index.js","webpack:///./node_modules/webrtc-adapter/src/js/utils.js","webpack:///./components/get_link_modal.jsx","webpack:///./node_modules/dom-css/index.js","webpack:///./components/settings_sidebar.jsx","webpack:///./images/ring.mp3","webpack:///./node_modules/sdp/sdp.js","webpack:///./components/needs_team/needs_team.jsx","webpack:///./node_modules/inobounce/inobounce.js","webpack:///./components/delete_post_modal.jsx","webpack:///./components/edit_post_modal.jsx","webpack:///./components/get_post_link_modal.jsx","webpack:///./components/get_public_link_modal.jsx","webpack:///./components/get_team_invite_link_modal.jsx","webpack:///./components/invite_member_modal.jsx","webpack:///./components/leave_team_modal.jsx","webpack:///./components/modals/leave_private_channel_modal.jsx","webpack:///./components/navbar/index.jsx","webpack:///./components/notify_counts.jsx","webpack:///./components/quick_switch_modal/index.js","webpack:///./components/quick_switch_modal/quick_switch_modal.jsx","webpack:///./components/suggestion/switch_channel_provider.jsx","webpack:///./components/suggestion/switch_team_provider.jsx","webpack:///./components/navbar/navbar_info_button.jsx","webpack:///./components/removed_from_channel_modal.jsx","webpack:///./components/reset_status_modal/index.js","webpack:///./components/reset_status_modal/reset_status_modal.jsx","webpack:///./components/shortcuts_modal.jsx","webpack:///./components/sidebar_right/index.js","webpack:///./components/sidebar_right/sidebar_right.jsx","webpack:///./components/rhs_thread/index.js","webpack:///./selectors/rhs.jsx","webpack:///./components/rhs_thread/rhs_thread.jsx","webpack:///./node_modules/react-custom-scrollbars/lib/index.js","webpack:///./node_modules/react-custom-scrollbars/lib/Scrollbars/index.js","webpack:///./node_modules/raf/index.js","webpack:///./node_modules/performance-now/lib/performance-now.js","webpack:///./node_modules/prefix-style/index.js","webpack:///./node_modules/to-camel-case/index.js","webpack:///./node_modules/to-space-case/index.js","webpack:///./node_modules/to-no-case/index.js","webpack:///./node_modules/add-px-to-style/index.js","webpack:///./node_modules/react-custom-scrollbars/lib/utils/isString.js","webpack:///./node_modules/react-custom-scrollbars/lib/utils/getScrollbarWidth.js","webpack:///./node_modules/react-custom-scrollbars/lib/utils/returnFalse.js","webpack:///./node_modules/react-custom-scrollbars/lib/utils/getInnerWidth.js","webpack:///./node_modules/react-custom-scrollbars/lib/utils/getInnerHeight.js","webpack:///./node_modules/react-custom-scrollbars/lib/Scrollbars/styles.js","webpack:///./node_modules/react-custom-scrollbars/lib/Scrollbars/defaultRenderElements.js","webpack:///./components/create_comment/index.js","webpack:///./components/create_comment/create_comment.jsx","webpack:///./components/post_view/date_separator.jsx","webpack:///./components/rhs_comment.jsx","webpack:///./components/rhs_header_post.jsx","webpack:///./components/rhs_root_post.jsx","webpack:///./components/search_results.jsx","webpack:///./components/search_results_header.jsx","webpack:///./components/search_results_item.jsx","webpack:///./components/sidebar_right_menu.jsx","webpack:///./components/team_settings_modal.jsx","webpack:///./components/team_settings.jsx","webpack:///./components/team_general_tab.jsx","webpack:///./components/team_import_tab.jsx","webpack:///./components/setting_upload.jsx","webpack:///./components/user_settings/import_theme_modal.jsx","webpack:///./components/user_settings/user_settings_modal.jsx","webpack:///./components/user_settings/user_settings.jsx","webpack:///./components/user_settings/user_settings_advanced.jsx","webpack:///./components/user_settings/user_settings_display.jsx","webpack:///./components/user_settings/manage_languages.jsx","webpack:///./components/user_settings/user_settings_theme.jsx","webpack:///./components/user_settings/custom_theme_chooser.jsx","webpack:///./node_modules/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.js","webpack:///./components/user_settings/color_chooser.jsx","webpack:///./components/color_input.jsx","webpack:///./components/user_settings/premade_theme_chooser.jsx","webpack:///./components/user_settings/user_settings_general/index.js","webpack:///./components/user_settings/user_settings_general/user_settings_general.jsx","webpack:///./components/setting_picture.jsx","webpack:///./node_modules/exif2css/src/index.js","webpack:///./components/user_settings/user_settings_notifications.jsx","webpack:///./components/user_settings/desktop_notification_settings.jsx","webpack:///./components/user_settings/email_notification_setting.jsx","webpack:///./components/user_settings/user_settings_security/index.js","webpack:///./components/user_settings/user_settings_security/user_settings_security.jsx","webpack:///./components/access_history_modal/index.js","webpack:///./components/access_history_modal/access_history_modal.jsx","webpack:///./components/activity_log_modal/index.js","webpack:///./components/activity_log_modal/activity_log_modal.jsx","webpack:///./components/webrtc/components/webrtc_notification.jsx","webpack:///./components/webrtc/components/webrtc_sidebar.jsx","webpack:///./components/webrtc/webrtc_controller.jsx","webpack:///./non_npm_dependencies/janus/index.js","webpack:///./node_modules/webrtc-adapter/src/js/adapter_core.js","webpack:///./node_modules/webrtc-adapter/src/js/adapter_factory.js","webpack:///./node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js","webpack:///./node_modules/webrtc-adapter/src/js/chrome/getusermedia.js","webpack:///./node_modules/webrtc-adapter/src/js/edge/edge_shim.js","webpack:///./node_modules/rtcpeerconnection-shim/rtcpeerconnection.js","webpack:///./node_modules/webrtc-adapter/src/js/edge/getusermedia.js","webpack:///./node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js","webpack:///./node_modules/webrtc-adapter/src/js/firefox/getusermedia.js","webpack:///./node_modules/webrtc-adapter/src/js/safari/safari_shim.js","webpack:///./node_modules/webrtc-adapter/src/js/common_shim.js","webpack:///./components/webrtc/components/webrtc_header.jsx"],"names":["webpackJsonp","2137","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","mapStateToProps","state","ownProps","_extends3","mapDispatchToProps","dispatch","actions","_redux","bindActionCreators","viewChannel","getMyChannelMembers","Object","defineProperty","value","_extends2","_reactRedux","_channels","_needs_team","_needs_team2","connect","2167","logDisabled_","deprecationWarnings_","utils","disableLog","bool","Error","disableWarnings","log","window","console","apply","arguments","deprecated","oldMethod","newMethod","warn","extractVersion","uastring","expr","pos","match","length","parseInt","detectBrowser","navigator","result","browser","version","mozGetUserMedia","this","userAgent","webkitGetUserMedia","webkitRTCPeerConnection","mediaDevices","shimCreateObjectURL","bind","2188","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_propTypes","_propTypes2","_react","_react2","_reactBootstrap","_reactIntl","GetLinkModal","_React$Component","props","_this","__proto__","call","onHide","copyLink","copiedLink","key","setState","textarea","refs","focus","setSelectionRange","link","document","execCommand","err","helpText","createElement","queryCommandSupported","data-copy-btn","type","className","onClick","FormattedMessage","id","defaultMessage","linkText","ref","readOnly","copyLinkConfirm","Modal","show","Header","closeButton","title","Body","Footer","Component","propTypes","isRequired","func","string","defaultProps","2196","style","element","property","camel","cache","detect","undefined","addPxToStyle","each","properties","k","hasOwnProperty","cssProp","toCamelCase","prefix","set","cssText","float","get","Array","isArray","reduce","prop","2197","_jquery","_jquery2","_user_agent","UserAgent","newObj","prototype","SettingsSidebar","handleClick","tab","e","preventDefault","updateTab","name","target","closest","addClass","isFirefox","_this2","tabList","tabs","map","activeTab","icon","uiName","arrayOf","shape","2198","p","2199","SDPUtils","generateIdentifier","Math","random","toString","substr","localCName","splitLines","blob","trim","split","line","splitSections","part","index","matchPrefix","filter","indexOf","parseCandidate","parts","substring","candidate","foundation","component","protocol","toLowerCase","priority","ip","port","i","relatedAddress","relatedPort","tcpType","ufrag","usernameFragment","writeCandidate","sdp","push","toUpperCase","join","parseIceOptions","parseRtpMap","parsed","payloadType","shift","clockRate","numChannels","writeRtpMap","codec","pt","preferredPayloadType","parseExtmap","direction","uri","writeExtmap","headerExtension","preferredId","parseFmtp","kv","j","writeFmtp","parameters","keys","params","forEach","param","parseRtcpFb","parameter","writeRtcpFb","lines","rtcpFeedback","fb","parseSsrcMedia","sp","ssrc","colon","attribute","getMid","mediaSection","mid","parseFingerprint","algorithm","getDtlsParameters","sessionpart","role","fingerprints","writeDtlsParameters","setupType","fp","getIceParameters","concat","password","writeIceParameters","parseRtpParameters","description","codecs","headerExtensions","fecMechanisms","rtcp","mline","rtpmapline","fmtps","writeRtpDescription","kind","caps","maxptime","extension","parseRtpEncodingParameters","secondarySsrc","encodingParameters","hasRed","hasUlpfec","ssrcs","primarySsrc","flows","apt","encParam","codecPayloadType","rtx","JSON","parse","stringify","fec","mechanism","bandwidth","maxBitrate","parseRtcpParameters","rtcpParameters","remoteSsrc","cname","rsize","reducedSize","compound","mux","parseMsid","spec","stream","track","planB","generateSessionId","writeSessionBoilerplate","sessId","sessVer","writeMediaSection","transceiver","iceGatherer","getLocalParameters","dtlsTransport","rtpSender","rtpReceiver","msid","sendEncodingParameters","getDirection","getKind","isRejected","parseMLine","fmt","slice","2384","_interopRequireWildcard","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","_es","_inobounce","_inobounce2","_posts","_status_actions","_user_actions","_websocket_actions","_channel_store","_channel_store2","_post_store","_post_store2","_preference_store","_preference_store2","_redux_store","_redux_store2","_team_store","_team_store2","_user_store","_user_store2","_pluggable","_pluggable2","_constants","_constants2","_utils","Utils","_announcement_bar","_announcement_bar2","_delete_post_modal","_delete_post_modal2","_edit_post_modal","_edit_post_modal2","_get_post_link_modal","_get_post_link_modal2","_get_public_link_modal","_get_public_link_modal2","_get_team_invite_link_modal","_get_team_invite_link_modal2","_invite_member_modal","_invite_member_modal2","_leave_team_modal","_leave_team_modal2","_leave_private_channel_modal","_leave_private_channel_modal2","_navbar","_navbar2","_removed_from_channel_modal","_removed_from_channel_modal2","_reset_status_modal","_reset_status_modal2","_shortcuts_modal","_shortcuts_modal2","_sidebar_right","_sidebar_right2","_sidebar_right_menu","_sidebar_right_menu2","_team_settings_modal","_team_settings_modal2","_import_theme_modal","_import_theme_modal2","_user_settings_modal","_user_settings_modal2","_webrtc_notification","_webrtc_notification2","_webrtc_sidebar","_webrtc_sidebar2","TutorialSteps","Preferences","NeedsTeam","onTeamChanged","onPreferencesChanged","blurTime","Date","getTime","team","getCurrent","theme","getTheme","category","CATEGORY_THEME","getInt","TUTORIAL_STEP","getCurrentId","INTRO_SCREENS","browserHistory","getCurrentTeamRelativeUrl","addChangeListener","startPeriodicStatusUpdates","startPeriodicSync","isActive","on","mark","_callee","wrap","_context","prev","next","resetCounts","emitChange","then","loadProfilesForSidebar","stop","getCurrentUser","applyTheme","isIosSafari","enable","prevProps","prevState","areObjectsEqual","removeChangeListener","off","disable","stopPeriodicStatusUpdates","stopPeriodicSync","content","children","navbar","team_sidebar","sidebar","cloneElement","center","user","channel","getByName","postId","getFocusedPostId","post","getPost","getState","channel_id","teamType","pluggableName","isMac","oneOfType","object","2385","global","startY","enabled","handleTouchmove","evt","el","body","getComputedStyle","nodeName","getAttribute","scrolling","getPropertyValue","overflowY","height","isScrollable","canScroll","scrollHeight","offsetHeight","curY","touches","screenY","isAtTop","scrollTop","isAtBottom","parentNode","handleTouchstart","addEventListener","removeEventListener","isEnabled","testDiv","documentElement","appendChild","WebkitOverflowScrolling","scrollSupport","removeChild","iNoBounce","define","2386","_reactDom","_reactDom2","_post_actions","_modal_store","_modal_store2","ActionTypes","DeletePostModal","handleDelete","handleToggle","handleHide","commentCount","error","addModalListener","TOGGLE_DELETE_POST_MODAL","removeModalListener","setTimeout","findDOMNode","deletePostBtn","_this3","deletePost","message","args","commentWarning","values","count","postTerm","root_id","Title","term","2387","_deleteProperty","_deleteProperty2","Selectors","_global_actions","GlobalActions","_browser_store","_browser_store2","_message_history_store","_message_history_store2","_emoji_picker_overlay","_emoji_picker_overlay2","_textbox","_textbox2","KeyCodes","EditPostModal","getContainer","editModalBody","toggleEmojiPicker","showEmojiPicker","hideEmojiPicker","handleEmojiClick","emoji","emojiAlias","aliases","editText","newMessage","test","editbox","getEditPostControls","editPostEmoji","handleEdit","handleEditKeyPress","handleEditPostEvent","handleKeyDown","handleChange","onPreferenceChange","onModalHidden","onModalShow","onModalShown","onModalHide","onModalKeyDown","handlePostError","originalText","post_id","comments","refocusId","ctrlSend","getBool","CATEGORY_ADVANCED_SETTINGS","postError","updatedPost","errorClass","ANIMATION_TIMEOUT","modal","storeMessageInHistory","tempState","setItem","showDeletePostModal","updatePost","scrollTo","isMobile","which","ENTER","shiftKey","altKey","ctrlKey","blur","options","mm_license","IsLicensed","mm_config","AllowEditPost","ALLOW_EDIT_POST_NEVER","ALLOW_EDIT_POST_TIME_LIMIT","create_at","PostEditTimeLimit","getTimestamp","channelId","keyCode","typing","button","relatedTarget","attr","recalculateSize","hidePreview","ESCAPE","stopPropagation","addEditPostListener","removeEditPostListner","errorBoxClass","postErrorClass","emojiPicker","EnableEmojiPicker","container","onEmojiClick","rightOffset","topOffset","dangerouslySetInnerHTML","__html","EMOJI_ICON_SVG","tabIndex","aria-hidden","data-dismiss","aria-label","onChange","onKeyPress","onKeyDown","emojiEnabled","createMessage","localizeMessage","supportsCommands","suggestionListStyle","2388","_reactAddonsPureRenderMixin","_reactAddonsPureRenderMixin2","_get_link_modal","_get_link_modal2","GetPostLinkModal","hide","shouldComponentUpdate","TOGGLE_GET_POST_LINK_MODAL","getCurrentTeamUrl","2389","_file_actions","GetPublicLinkModal","handlePublicLink","fileId","TOGGLE_GET_PUBLIC_LINK_MODAL","getPublicLink","2390","GetTeamInviteLinkModal","TOGGLE_GET_TEAM_INVITE_LINK_MODAL","EnableUserCreation","getCurrentInviteLink","2391","_team_actions","_confirm_modal","_confirm_modal2","holders","defineMessages","emailError","firstname","lastname","modalTitle","modalMessage","modalButton","InviteMemberModal","teamChange","handleSubmit","addInviteFields","clearFields","removeInviteFields","showGetTeamInviteLinkModal","inviteIds","idCount","emailErrors","firstNameErrors","lastNameErrors","emailEnabled","SendEmailNotifications","userCreationEnabled","showConfirmModal","isSendingEmails","TOGGLE_INVITE_MEMBER_MODAL","serverError","invites","valid","invite","email","firstName","lastName","isEmail","intl","formatMessage","data","inviteMembers","detailed_error","requireConfirm","notEmpty","splice","currentUser","inviteSections","firstNameError","lastNameError","removeButton","emailClass","nameFields","firstNameClass","lastNameClass","placeholder","maxLength","disabled","spellCheck","onKeyUp","displayNameKeyUp","sendButton","defaultChannelName","DEFAULT_CHANNEL","display_name","FormattedHTMLMessage","sendButtonLabel","teamInviteLink","dialogClassName","enforceFocus","backdrop","confirmButtonText","onConfirm","onCancel","intlShape","injectIntl","2392","_webrtc_store","_webrtc_store2","LeaveTeamModal","handleKeyPress","TOGGLE_LEAVE_TEAM_MODAL","isBusy","emitChanged","action","WebrtcActionTypes","IN_PROGRESS","emitLeaveTeam","toggleSideBarRightMenuAction","2393","_channel_actions","ChannelActions","LeavePrivateChannelModal","mounted","TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL","leaveChannel","confirmButtonClass","2394","_edit_channel_header_modal","_edit_channel_header_modal2","_edit_channel_purpose_modal","_edit_channel_purpose_modal2","_app_dispatcher","_app_dispatcher2","_search_store","_search_store2","_channel_utils","ChannelUtils","_channel_info_modal","_channel_info_modal2","_channel_invite_modal","_channel_invite_modal2","_channel_members_modal","_channel_members_modal2","_channel_notifications_modal","_channel_notifications_modal2","_delete_channel_modal","_delete_channel_modal2","_notify_counts","_notify_counts2","_quick_switch_modal","_quick_switch_modal2","_rename_channel_modal","_rename_channel_modal2","_status_icon","_status_icon2","_toggle_modal_button","_toggle_modal_button2","_navbar_info_button","_navbar_info_button2","Navbar","toggleFavorite","isFavorite","unmarkFavorite","markFavorite","handleLeave","showSearch","showEditChannelHeaderModal","hideEditChannelHeaderModal","showChannelPurposeModal","hideChannelPurposeModal","showRenameChannelModal","hideRenameChannelModal","isStateValid","createCollapseButtons","createDropdown","showMembersModal","hideMembersModal","toggleQuickSwitchModal","hideQuickSwitchModal","handleQuickSwitchKeyPress","openDirectMessageModal","getPinnedPosts","getStateFromStores","showEditChannelPurposeModal","showQuickSwitchModal","quickSwitchMode","member","getCurrentMember","users","userCount","getCurrentStats","member_count","isFavoriteChannel","addStatsChangeListener","addStatusesChangeListener","TOGGLE_QUICK_SWITCH_MODAL","TOGGLE_CHANNEL_HEADER_UPDATE_MODAL","TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL","TOGGLE_CHANNEL_NAME_UPDATE_MODAL","click","hideSidebars","removeStatsChangeListener","removeStatusesChangeListener","Constants","PRIVATE_CHANNEL","showLeavePrivateChannelModal","outerWidth","handleServerAction","RECEIVED_SEARCH","results","RECEIVED_POST_SELECTED","removeClass","toggleClass","SHOW_SEARCH","cmdOrCtrlPressed","K","mode","handleViewAction","TOGGLE_DM_MODAL","isPinnedPosts","toggleSideBarAction","channelTitle","isSystemAdmin","isTeamAdmin","isChannelAdmin","isDirect","isGroup","viewInfoOption","viewPinnedPostsOption","addMembersOption","manageMembersOption","setChannelHeaderOption","setChannelPurposeOption","notificationPreferenceOption","renameChannelOption","deleteChannelOption","leaveChannelOption","href","dialogType","dialogProps","channelMember","isDefault","canManageMembers","showManagementOptions","showDeleteOptionForCurrentUser","toggleFavoriteOption","data-toggle","aria-expanded","status","getTeammateStatus","headerOverlay","Link","to","currentId","buttons","menuIcon","MENU_ICON_SVG","data-target","toggleLeftSidebar","toggleRightSidebar","MENU_ICON","currentUserId","teammate","find","getStatus","teamDisplayName","isTeamAdminForCurrentTeam","isSystemAdminForCurrentUser","editChannelHeaderModal","editChannelPurposeModal","renameChannelModal","channelMembersModal","quickSwitchModal","isChannelAdminForCurrentChannel","DM_CHANNEL","teammateId","getUserIdFromChannelName","displayUsername","GM_CHANNEL","onModalDismissed","showInviteModal","channelInviteModalButton","isAdmin","initialMode","collapseButtons","searchIcon","SEARCH_ICON_SVG","searchButton","channelMenuDropdown","2395","NotifyCounts","onListenerChange","getCountsStateFromStores","newState","mentionCount","messageCount","2396","showTeamSwitcher","2397","_suggestion_box","_suggestion_box2","_suggestion_list","_suggestion_list2","_switch_channel_provider","_switch_channel_provider2","_switch_team_provider","_switch_team_provider2","QuickSwitchModal","_React$PureComponent","onShow","onExited","switchToChannel","switchMode","focusTextbox","enableChannelProvider","enableTeamProvider","channelProviders","teamProviders","text","nextProps","switchbox","textbox","getTextbox","placeCaretAtEnd","querySelector","TAB","selected","selectedChannel","openDirectChannelToUser","ch","getChannel","goToChannel","disableDispatches","providers","header","renderDividers","channelShortcut","defaultChannelShortcut","teamShortcut","defaultTeamShortcut","channelsActiveClass","teamsActiveClass","help","onItemSelected","listComponent","listStyle","completeOnTab","PureComponent","2398","quickSwitchSorter","wrappedA","wrappedB","MENTION_CHANNELS","MENTION_MORE_CHANNELS","a","b","aDisplayName","getChannelDisplayName","bDisplayName","aStartsWith","startsWith","bStartsWith","sortChannelsByDisplayName","_keys","_keys2","_getIterator2","_getIterator3","_assign","_assign2","_client","_preferences","_teams","_users","_provider","_provider2","_suggestion","_suggestion2","SwitchChannelSuggestion","_Suggestion","_props","item","isSelection","globeIcon","GLOBE_ICON_SVG","lockIcon","LOCK_ICON_SVG","displayName","OPEN_CHANNEL","src","imageURLForUser","SwitchChannelProvider","_Provider","suggestionId","channelPrefix","startNewRequest","channels","getChannelsInCurrentTeam","getGroupChannels","searchProfiles","formatChannelsAndDispatch","fetchUsersAndChannels","_x","_x2","_ref","teamId","usersAsync","channelsAsync","usersFromServer","channelsFromServer","RestrictDirectMessage","entities","teams","currentTeamId","Client4","autocompleteUsers","searchChannels","getCurrentTeamId","sent","t0","RECEIVED_ERROR","shouldCancelDispatch","abrupt","allChannels","skipNotInChannel","members","getMyChannelMemberships","getCurrentUserId","completedChannels","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","done","newChannel","wrappedChannel","CATEGORY_GROUP_CHANNEL_SHOW","return","isDMVisible","CATEGORY_DIRECT_CHANNEL_SHOW","username","first_name","last_name","nickname","getFullName","update_at","last_picture_update","channelNames","sort","loading","SUGGESTION_RECEIVED_SUGGESTIONS","matchedPretext","terms","items","2399","locale","_localization_store2","getLocale","localeCompare","numeric","_localization_store","SwitchTeamSuggestion","SwitchTeamProvider","teamPrefix","allTeams","getMyTeams","teamNames","2400","_message_wrapper","_message_wrapper2","NavbarInfoButton","_temp","_ret","_len","_key","popoverContent","singleline","mentionHighlight","newline","popover","Popover","bsStyle","placement","OverlayTrigger","trigger","overlay","rootClose","INFO_ICON_SVG","2401","RemovedFromChannelModal","handleShow","handleClose","channelName","remover","getItem","removeItem","townSquare","2402","autoResetPref","_preferences2","CATEGORY_AUTO_RESET_MANUAL_STATUS","autoResetStatus","setStatus","savePreferences","2403","ResetStatusModal","checked","newStatus","currentUserStatus","pref","user_id","statusIsManual","manual","autoResetPrefNotSet","Boolean","userStatus","toTitleCase","manualStatusTitle","manualStatusMessage","manualStatusButton","manualStatusCancel","manualStatusCheckbox","cancelButtonText","showCheckbox","checkboxText","2404","renderShortcut","shortcut","allShortcuts","mainHeader","mac","navHeader","navPrev","navNext","navUnreadPrev","navUnreadNext","navSwitcher","navDMMenu","navSettings","navMentions","msgHeader","msgInputHeader","msgEdit","msgReply","msgReprintPrev","msgReprintNext","msgCompHeader","msgCompUsername","msgCompChannel","msgCompEmoji","filesHeader","filesUpload","browserHeader","browserChannelPrev","browserChannelNext","browserFontIncrease","browserFontDecrease","browserInputHeader","browserHighlightPrev","browserHighlightNext","browserNewline","info","ShortcutsModal","TOGGLE_SHORTCUTS_MODAL","shortcuts","s","getShortcuts","2405","postRightVisible","views","rhs","selectedPostId","fromSearch","fromFlaggedPosts","fromPinnedPosts","2406","_diagnostics_actions","_file_upload_overlay","_file_upload_overlay2","_rhs_thread","_rhs_thread2","_search_bar","_search_bar2","_search_results","_search_results2","SidebarRight","plScrolledToBottom","onPostPinnedChange","onSearchChange","onUserChange","onShowSearch","onShrink","toggleSize","doStrangeThings","searchVisible","getSearchResults","isMentionSearch","getIsMentionSearch","isFlaggedPosts","getIsFlaggedPosts","getIsPinnedPosts","expanded","useMilitaryTime","CATEGORY_DISPLAY_SETTINGS","USE_MILITARY_TIME","addSearchChangeListener","addPostPinnedChangeListener","addShowSearchListener","removeSearchChangeListener","removePostPinnedChangeListener","removeShowSearchListener","nextState","isOpen","willOpen","trackEvent","emitRhsChanged","wasOpen","postListScrollChange","getFlaggedPosts","isLoading","expandedClass","searchForm","isFocus","channelDisplayName","shrink","overlayType","isWebrtc","2407","makeMapStateToProps","getPostsForThread","makeGetPostsForThread","_rhs","getSelectedPost","posts","rootId","previewCollapsed","COLLAPSE_DISPLAY","previewEnabled","LINK_PREVIEW_DISPLAY","removePost","_posts2","2408","getSelectedPostId","getSelectedPostChannelId","selectedPostChannelId","getRealSelectedPost","_reselect","createSelector","selectedPost","exists","PostTypes","FAKE_PARENT_DELETED","2409","renderView","renderThumbHorizontal","renderThumbVertical","_stringify","_stringify2","_reactCustomScrollbars","_reactCustomScrollbars2","_delayed_action","_delayed_action2","_create_comment","_create_comment2","_date_separator","_date_separator2","_floating_timestamp","_floating_timestamp2","_rhs_comment","_rhs_comment2","_rhs_header_post","_rhs_header_post2","_rhs_root_post","_rhs_root_post2","RhsThread","getSidebarBody","sidebarbody","forceUpdateInfo","onStatusChange","onBusy","handleResize","handleScroll","handleScrollStop","scrollStopAction","openTime","windowWidth","windowHeight","profiles","getProfiles","compactDisplay","MESSAGE_DISPLAY","MESSAGE_DISPLAY_DEFAULT","MESSAGE_DISPLAY_COMPACT","flaggedPosts","getCategory","CATEGORY_FLAGGED_POST","statuses","getStatuses","previewsCollapsed","isScrolling","topRhsPostCreateAt","addBusyListener","scrollToBottom","removeBusyListener","prevPostsArray","curPostsArray","postsArray","postList","forceUpdate","previewSuffix","generateId","cpost","unshift","parent","childNodes","rhspostlist","viewPort","getBoundingClientRect","offsetTop","top","updateFloatingTimestamp","fireAfter","SCROLL_DELAY","filterPosts","profile","isRootFlagged","rootStatus","createAt","rootPostDay","getDateForUnixTicks","previousPostDay","commentsLists","postsLength","comPost","isFlagged","currentPostDay","toDateString","date","keyPrefix","pending_post_id","reverseCount","lastPostCount","TEST_ID_COUNT","createComment","latestPostId","isRhsPost","autoHide","autoHideTimeout","autoHideDuration","onScroll","2410","Scrollbars","_Scrollbars","_Scrollbars2","2411","_objectWithoutProperties","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","_extends","assign","source","_createClass","defineProperties","descriptor","protoProps","staticProps","_raf2","_raf3","_domCss","_domCss2","_isString","_isString2","_getScrollbarWidth","_getScrollbarWidth2","_returnFalse","_returnFalse2","_getInnerWidth","_getInnerWidth2","_getInnerHeight","_getInnerHeight2","_styles","_defaultRenderElements","_Component","rest","getPrototypeOf","getScrollLeft","getScrollTop","getScrollWidth","getScrollHeight","getClientWidth","getClientHeight","getValues","getThumbHorizontalWidth","getThumbVerticalHeight","getScrollLeftForOffset","getScrollTopForOffset","scrollLeft","scrollToLeft","scrollToTop","scrollToRight","handleTrackMouseEnter","handleTrackMouseLeave","handleHorizontalTrackMouseDown","handleVerticalTrackMouseDown","handleHorizontalThumbMouseDown","handleVerticalThumbMouseDown","handleWindowResize","handleDrag","handleDragEnd","didMountUniversal","addListeners","update","componentDidMountUniversal","universal","removeListeners","cancel","requestFrame","clearTimeout","hideTracksTimeout","clearInterval","detectScrollingInterval","view","scrollWidth","clientWidth","clientHeight","_view","left","thumbSize","thumbMinSize","_view2","trackWidth","trackHorizontal","width","ceil","max","_props2","_view3","trackHeight","trackVertical","offset","_view4","_view5","thumbHorizontal","thumbVertical","teardownDragging","event","_props3","onScrollFrame","viewScrollLeft","viewScrollTop","detectScrolling","onScrollStart","handleScrollStartAutoHide","showTracks","onScrollStop","handleScrollStopAutoHide","hideTracks","clientX","_target$getBoundingCl","targetLeft","thumbWidth","abs","clientY","_target$getBoundingCl2","targetTop","thumbHeight","handleDragStart","offsetWidth","_target$getBoundingCl3","prevPageX","_target$getBoundingCl4","prevPageY","disableSelectStyle","onselectstart","disableSelectStyleReset","dragging","stopImmediatePropagation","setupDragging","_trackHorizontal$getB","trackLeft","clickPosition","_trackVertical$getBou","trackTop","_clickPosition","_offset","handleDragEndAutoHide","trackMouseOver","handleTrackMouseEnterAutoHide","handleTrackMouseLeaveAutoHide","opacity","_this4","handleScrollStart","setInterval","lastViewScrollLeft","lastViewScrollTop","callback","_this5","_this6","raf","_update","_props4","onUpdate","hideTracksWhenNotNeeded","trackHorizontalWidth","thumbHorizontalWidth","thumbHorizontalX","thumbHorizontalStyle","transform","trackVerticalHeight","thumbVerticalHeight","thumbVerticalY","thumbVerticalStyle","trackHorizontalStyle","visibility","trackVerticalStyle","_this7","scrollbarWidth","_props5","renderTrackHorizontal","renderTrackVertical","tagName","autoHeight","autoHeightMin","autoHeightMax","containerStyle","containerStyleDefault","containerStyleAutoHeight","minHeight","maxHeight","viewStyle","viewStyleDefault","marginRight","marginBottom","viewStyleAutoHeight","viewStyleUniversalInitial","trackAutoHeightStyle","transition","trackHorizontalStyleDefault","display","trackVerticalStyleDefault","_ref2","_ref3","_ref4","thumbHorizontalStyleDefault","_ref5","_ref6","thumbVerticalStyleDefault","_ref7","number","node","renderViewDefault","renderTrackHorizontalDefault","renderTrackVerticalDefault","renderThumbHorizontalDefault","renderThumbVerticalDefault","2412","now","root","vendors","suffix","caf","last","queue","_now","cp","cancelled","round","handle","fn","polyfill","requestAnimationFrame","cancelAnimationFrame","2413","process","getNanoSeconds","hrtime","loadTime","performance","hr","2414","div","prefixes","titleCase","charAt","2415","space","replace","matches","letter","2416","toSpaceCase","clean","2417","toNoCase","hasSpace","hasSeparator","unseparate","hasCamel","uncamelize","separatorSplitter","m","camelSplitter","previous","uppers","2418","IS_UNITLESS","animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","fontWeight","lineClamp","lineHeight","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","stopOpacity","strokeDashoffset","strokeOpacity","strokeWidth","2419","isString","maybe","2420","getScrollbarWidth","position","overflow","MsOverflowStyle","2421","returnFalse","2422","getInnerWidth","_getComputedStyle","paddingLeft","paddingRight","parseFloat","2423","getInnerHeight","paddingTop","paddingBottom","2424","right","bottom","userSelect","2425","finalStyle","borderRadius","cursor","backgroundColor","2426","requests","createPost","createPostErrorId","server_error_id","2427","PostActions","_emoji_store","_emoji_store2","_create_post","_file_preview","_file_preview2","_file_upload","_file_upload2","_msg_typing","_msg_typing2","_post_deleted_modal","_post_deleted_modal2","CreateComment","_initialiseProps","lastTime","clearCommentDraftUploads","resetHistoryIndex","draft","getCommentDraft","enableAddButton","handleEnableAddButton","fileInfos","uploadsInProgress","submitting","showPostDeletedModal","lastBlurAt","newProps","preview","onRemove","removePreview","uploadsInProgressText","addButtonClass","fileUpload","getFileCount","getTarget","getFileUploadTarget","onFileUploadChange","handleFileUploadChange","onUploadStart","handleUploadStart","onFileUpload","handleFileUploadComplete","onUploadError","handleUploadError","postType","getCreateCommentControls","onSubmit","commentMsgKeyPress","onBlur","handleBlur","initialText","isRHS","popoverMentionKeyClick","parentId","hidePostDeletedModal","isReaction","REACTION_PATTERN","exec","has","handleSubmitReaction","handleSubmitCommand","handleSubmitPost","forceFocus","storeCommentDraft","team_id","parent_id","executeCommand","sendMessage","userId","time","file_ids","emitUserCommentedEvent","emojiName","addReaction","removeReaction","emitLocalUserTypingEvent","metaKey","UP","lastPost","getCurrentUsersLatestPost","RECEIVED_EDIT_POST","getCommentCount","DOWN","lastMessage","nextMessageInHistory","clientIds","scrollIntoView","clientId","findIndex","getWrappedInstance","cancelUpload","createCommentControls","2428","DateSeparator","FormattedDate","weekday","month","day","year","instanceOf","2429","_post_utils","PostUtils","_dot_menu","_dot_menu2","_file_attachment_list","_file_attachment_list2","_failed_post_options","_failed_post_options2","_post_body_additional_content","_post_body_additional_content2","_post_flag_icon","_post_flag_icon2","_post_message_view","_post_message_view2","_reaction_list","_reaction_list2","_profile_picture","_profile_picture2","_user_profile","_user_profile2","RhsComment","dropdownOpened","getClassName","isSystemMessage","is_pinned","reactEmojiClick","handleDropdownOpened","currentTeamDisplayName","updateWindowDimensions","timeOptions","dateTime","toISOString","toLocaleString","timeTag","emitEmojiPosted","isOpened","mattermostLogo","MATTERMOST_ICON_SVG","isEphemeral","isPostEphemeral","from_webhook","botIndicator","userProfile","hasMention","visibleMessage","override_username","EnablePostUsernameOverride","overwriteName","disablePopover","overwriteImage","SYSTEM_MESSAGE_PROFILE_IMAGE","failedPostOptions","postClass","failed","isEdited","profilePic","getProfilePicSrcForPost","profilePicContainer","fileAttachment","react","dotMenu","spaceRequiredAbove","spaceRequiredBelow","createRemovePostButton","idPrefix","RHS","pinnedBadge","hour","minute","hour12","renderTimeTag","2430","RhsHeaderPost","handleBack","emitCloseRightHandSide","RECEIVED_SEARCH_TERM","do_search","is_mention_search","back","closeSidebarTooltip","Tooltip","backToResultsTooltip","expandSidebarTooltip","shrinkSidebarTooltip","delayShow","OVERLAY_TIME_DELAY","2431","RhsRootPost","testStateObj","RHS_ROOT","dotMenuContainer","postFlagIcon","2432","_map2","channelIds","searchTerm","getSearchTerm","_map","_search_results_header","_search_results_header2","_search_results_item","_search_results_item2","SearchResults","resize","addSearchTermChangeListener","onSearchTermChange","perfectScrollbar","removeSearchTermChangeListener","doSearch","noResults","flagIcon","FLAG_ICON_SVG","ctls","tips","DataRetentionEnableMessageDeletion","days","DataRetentionMessageRetentionDays","quotationMarks","fromUser","inChannel","idx","arr","isFlaggedSearch","2433","SearchResultsHeader","2434","_comment_icon","_comment_icon2","SearchResultsItem","handleFocusRHSClick","handleJumpClick","shrinkSidebar","emitPostFocusRightHandSideFromSearch","displayUsernameForUser","getDirectTeammate","overrideUsername","disableProfilePopover","BOT_NAME","flagContent","rhsControls","POST_DELETED","SEARCH_POST","handleCommentClick","searchStyle","2435","_url","_about_build_modal","_about_build_modal2","_add_users_to_team","_add_users_to_team2","_tutorial_tip","_team_members_modal","_team_members_modal2","SidebarRightMenu","handleAboutModal","showAddUsersToTeamModal","hideAddUsersToTeamModal","searchMentions","aboutModalDismissed","getFlagged","showAboutModal","showDropdown","closeRightSidebar","tutorialStep","teamMembers","getMyTeamMembers","teamListings","getTeamListings","showTutorialTip","MENU_POPOVER","emitSearchMentionsEvent","classList","remove","add","teamLink","inviteLink","addUserToTeamLink","teamSettingsLink","manageLink","consoleLink","joinAnotherTeamLink","createTeam","showInviteMemberModal","OPEN_TEAM","RestrictTeamInvite","PERMISSIONS_SYSTEM_ADMIN","PERMISSIONS_TEAM_ADMIN","moreTeams","isAlreadyMember","EnableTeamCreation","leaveTeam","showLeaveTeamModal","LEAVE_TEAM_SVG","siteName","SiteName","helpLink","HelpLink","rel","reportLink","ReportAProblemLink","tutorialTip","createMenuTip","closeLeftSidebar","openRightSidebar","nativeAppLink","AppDownloadLink","isMobileApp","useSafeUrl","addUsersToTeamModal","teamDivider","consoleDivider","showAccountSettingsModal","emitUserLoggedOutEvent","2436","_settings_sidebar","_settings_sidebar2","_team_settings","_team_settings2","generalTab","importTab","TeamSettingsModal","updateSection","activeSection","section","2437","_team_general_tab","_team_general_tab2","_team_import_tab","_team_import_tab2","TeamSettings","2438","_setting_item_max","_setting_item_max2","_setting_item_min","_setting_item_min2","GeneralTab","handleNameSubmit","handleInviteIdSubmit","handleOpenInviteSubmit","handleDescriptionSubmit","onUpdateNameSection","updateName","updateDescription","onUpdateDescriptionSection","onUpdateInviteIdSection","updateInviteId","onUpdateOpenInviteSection","handleOpenInviteRadio","handleGenerateInviteId","setupInitialState","invite_id","allow_open_invite","clientError","newId","floor","openInvite","updateTeam","openInviteSection","inputs","defaultChecked","submit","server_error","describe","inviteSection","getTeamInviteLink","client_error","nameSection","teamNameLabel","MAX_TEAMNAME_LENGTH","nameExtraInfo","extraInfo","descriptionSection","teamDescriptionLabel","MAX_TEAMDESCRIPTION_LENGTH","descriptionExtraInfo","describemsg","2439","_setting_upload","_setting_upload2","importSlack","TeamImportTab","onImportFailure","onImportSuccess","doImportSlack","encodeURIComponent","atob","file","messageSection","uploadDocsLink","uploadExportInstructions","uploadExporterLink","uploadHelpText","exportInstructions","slackAdvancedExporterLink","uploadSection","fileTypesAccepted","download","2440","SettingsUpload","doFileSelect","doSubmit","filename","val","inputnode","uploadinput","files","fileNameText","submitButtonClass","accept","2441","ImportThemeModal","updateShow","inputError","TOGGLE_IMPORT_THEME_MODAL","isInputValid","colors","sidebarBg","sidebarText","sidebarUnreadText","sidebarTextHoverBg","sidebarTextActiveBorder","sidebarTextActiveColor","sidebarHeaderBg","sidebarHeaderTextColor","onlineIndicator","awayIndicator","mentionBj","mentionColor","centerChannelBg","centerChannelColor","newMessageSeparator","linkColor","buttonBg","buttonColor","mentionHighlightBg","mentionHighlightLink","codeTheme","2442","_user_settings","_user_settings2","general","security","notifications","advanced","confirmTitle","confirmMsg","confirmBtns","UserSettingsModal","handleHidden","handleCollapse","handleConfirm","handleCancelConfirmation","closeModal","collapseModal","onUserChanged","active_tab","active_section","TOGGLE_ACCOUNT_SETTINGS_MODAL","A","afterConfirm","modalBody","skipConfirm","setEnforceFocus","setRequireConfirm","2443","_user_settings_advanced","_user_settings_advanced2","_user_settings_display","_user_settings_display2","_user_settings_general","_user_settings_general2","_user_settings_notifications","_user_settings_notifications2","_user_settings_security","_user_settings_security2","UserSettings","2444","_slicedToArray2","_slicedToArray3","PreReleaseFeatures","PRE_RELEASE_FEATURES","AdvancedSettingsDisplay","updateSetting","toggleFeature","saveEnabledFeatures","renderFormattingSection","renderJoinLeaveSection","preReleaseFeaturesKeys","advancedSettings","settings","send_on_ctrl_enter","formatting","join_leave","EnableWebrtc","f","enabledFeatures","_step$value","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","feature","FeatureTogglePrefix","label","preReleaseFeatures","isSaving","setting","String","lastIndexOf","features","preferences","saving","renderOnOffLabel","BuildEnterpriseReady","ctrlSendSection","ctrlSendActive","formattingSection","formattingSectionDivider","displayJoinLeaveSection","displayJoinLeaveSectionDivider","previewFeaturesSection","previewFeaturesSectionDivider","renderFeatureLabel","2445","getDisplayStateFromStores","militaryTime","channelDisplayMode","CHANNEL_DISPLAY_MODE","CHANNEL_DISPLAY_MODE_DEFAULT","messageDisplay","collapseDisplay","COLLAPSE_DISPLAY_DEFAULT","linkPreviewDisplay","LINK_PREVIEW_DISPLAY_DEFAULT","_i18n","I18n","_manage_languages","_manage_languages2","_user_settings_theme","_user_settings_theme2","UserSettingsDisplay","handleClockRadio","updateState","timePreference","channelDisplayModePreference","messageDisplayPreference","collapseDisplayPreference","linkPreviewDisplayPreference","firstOption","secondOption","firstMessage","radionButtonText","moreColon","firstMessageMore","moreId","moreMessage","secondMessageMore","secondMessage","messageTitle","messageDesc","format","handleUpdateSection","firstDisplay","secondDisplay","handleOnChange","collapseSection","createSection","defaultDisplay","isEnableLinkPreviews","EnableLinkPreviews","linkPreviewSection","divider","clockSection","messageDisplaySection","MESSAGE_DISPLAY_CLEAN","channelDisplayModeSection","CHANNEL_DISPLAY_MODE_FULL_SCREEN","CHANNEL_DISPLAY_MODE_CENTERED","languagesSection","userLocale","isLanguageAvailable","DefaultClientLocale","getLanguageInfo","themeSection","EnableThemeSelection","2446","ManageLanguage","setLanguage","changeLanguage","submitUser","updateUser","UserUpdateEvents","LANGUAGE","newLocalizationSelected","locales","getLanguages","l","lang","input","2447","UserActions","_custom_theme_chooser","_custom_theme_chooser2","_premade_theme_chooser","_premade_theme_chooser2","ThemeSetting","submitTheme","updateTheme","resetFields","handleImportModal","originalTheme","DEFAULT_CODE_THEME","showAllTeamsCheckbox","applyToAllTeams","LDAP","getAll","size","saveTheme","themeChanged","field","displayCustom","allowCustomThemes","AllowCustomThemes","custom","premade","themeUI","updateType","allTeamsCheckbox","submitExtra","2448","_defineProperty2","_defineProperty3","_extends4","_color_chooser","_color_chooser2","messages","errorTextColor","CustomThemeChooser","handleColorChange","settingId","color","_this$props","pasteBoxChange","clipboardData","getData","copyTheme","onChangeHandle","toggleSidebarStyles","sidebarStylesHeader","toggleSection","sidebarStyles","toggleCenterChannelStyles","centerChannelStylesHeader","centerChannelStyles","toggleLinkAndButtonStyles","linkAndButtonStylesHeader","linkAndButtonStyles","onCodeThemeChange","selectTheme","image","isIos","slideToggle","sidebarElements","centerChannelElements","linkAndButtonElements","THEME_ELEMENTS","codeThemeOptions","codeThemeURL","themes","codeThemeIndex","iconURL","defaultValue","group","pasteBox","onPaste","2449","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","factory","jq","$","Color","predefinedColors","fallbackColor","fallbackFormat","hexNumberSignPrefix","fallbackValue","h","origFormat","extend","webColors","setColor","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","transparent","getValue","setValue","_sanitizeNumber","isNaN","isTransparent","strVal","rgbaIsTransparent","rgba","r","g","parsedColor","setHue","setSaturation","setBrightness","setAlpha","toRGB","R","G","B","X","C","toHex","ignoreFormat","rgb","toHSL","H","L","S","toAlias","c","original","alias","RGBtoHSB","V","min","HueToRGB","q","HSLtoRGB","tr","tg","tb","that","isAlias","stringParsers","parser","re","getValidFallbackFormat","formats","forceRawValue","translateAlias","execResult","colorNameToHex","defaults","horizontal","inline","sliders","saturation","maxLeft","maxTop","callLeft","callTop","hue","alpha","slidersHorz","template","align","customClass","colorSelectors","Colorpicker","is","createColor","updateInput","updateData","$picker","picker","colorpicker","selectorsContainer","$btn","css","append","proxy","currentTarget","mousedown","appendTo","keyup.colorpicker","keyup","change.colorpicker","change","focus.colorpicker","focusout.colorpicker","click.colorpicker","destroy","removeData","reposition","outerHeight","isDisabled","hasInput","mousedown.colorpicker","parents","updatePicker","sl","icns","eq","end","updateComponent","icn","force","currentSlider","mousePointer","pageX","pageY","originalEvent","zone","guide","mousemove.colorpicker","mousemove","touchmove.colorpicker","mouseup.colorpicker","mouseup","touchend.colorpicker","option","apiArgs","isSingleElement","returnValue","$jq","$this","inst","isFunction","2450","_color_input","_color_input2","ColorChooser","newColor","2451","_reactColor","ColorInput","checkClick","colorPicker","contains","togglePicker","newColorData","hex","idOpened","prevIsOpened","background","ChromePicker","2452","PremadeThemeChooser","premadeThemes","allowedThemes","AllowedThemes","hasAllowedThemes","THEMES","premadeTheme","activeClass","2453","getMe","2454","_error_store","_error_store2","_setting_picture","_setting_picture2","usernameReserved","usernameRestrictions","validEmail","emailMatch","checkEmail","validImage","imageTooLarge","uploadImage","uploadImageMobile","fullName","profilePicture","close","UserSettingsGeneralTab","submitActive","submitUsername","submitNickname","submitName","submitEmail","submitPicture","submitPosition","updateUsername","updateFirstName","updateLastName","updateNickname","updateEmail","updateConfirmEmail","updatePicture","updatePosition","usernameError","isValidUsername","MIN_USERNAME_LENGTH","MAX_USERNAME_LENGTH","USERNAME","NICKNAME","FULLNAME","confirmEmail","EMAIL","emailUpdated","sectionIsSaving","RequireEmailVerification","storeLastError","emailChangeInProgress","pictureFile","maxFileSize","loadingPicture","uploadProfileImage","Position","originalEmail","MaxFileSize","emailSection","emailVerificationEnabled","newEmail","auth_service","GITLAB_SERVICE","GOOGLE_SERVICE","OFFICE365_SERVICE","LDAP_SERVICE","SAML_SERVICE","LdapFristNameAttributeSet","LdapLastNameAttributeSet","SamlFirstNameAttributeSet","SamlLastNameAttributeSet","notifClick","notifLink","notify","nicknameSection","LdapNicknameAttributeSet","nicknameLabel","MAX_NICKNAME_LENGTH","autoCapitalize","usernameSection","usernameLabel","positionSection","PositionAttributeSet","positionLabel","MAX_POSITION_LENGTH","createEmailSection","pictureSection","onFileChange","minMessage","2455","_exif2css2","_exif2css3","_load","_load2","_form_error","_form_error2","SettingPicture","setPicture","previewBlob","URL","createObjectURL","reader","FileReader","onload","orientation","getExifOrientation","orientationStyles","getOrientationStyles","readAsArrayBuffer","revokeObjectURL","DataView","getUint16","byteLength","marker","getUint32","little","tags","_exif2css","transformOrigin","img","imageStyles","backgroundImage","confirmButton","selectButtonSpinner","fileInputDisabled","PROFILE_WIDTH","errors","2456","expandTransforms","transforms","o","propMap","expandTransform","ep","expandTransformStrings","exif2css","transformsMap","transformOriginMap","allTransforms","allTransformStrings","transformStrings","ry","t","ty","2","3","4","5","6","7","8","2457","getNotificationsStateFromStores","desktop","NotificationLevels","DEFAULT","sound","desktopDuration","enableEmail","pushActivity","MENTION","pushStatus","UserStatuses","ONLINE","notify_props","desktop_sound","desktop_duration","push_status","usernameKey","customKeys","firstNameKey","channelKey","mention_keys","desktopActivity","desktopSound","customKeysChecked","notifyCommentsLevel","_desktop_notification_settings","_desktop_notification_settings2","_email_notification_setting","_email_notification_setting2","NotificationsTab","handleCancel","setStateValue","handleEmailRadio","updateUsernameKey","updateFirstNameKey","updateChannelKey","updateCustomMentionKeys","onCustomChange","createPushNotificationSection","_ref$enableEmail","mentionKeys","stringKeys","updateUserNotifyProps","wrapper","customcheck","custommentions","SendPushNotifications","pushActivityRadio","ALL","NONE","pushStatusRadio","AWAY","pushStatusSettings","handlePushStatusRadio","OFFLINE","handlePushRadio","handleUpdatePushSection","keysSection","handleUpdateKeysSection","handleUpdateFirstNameKey","handleUpdateUsernameKey","handleUpdateChannelKey","commentsSection","handleUpdateCommentsSection","commentsActive","handleNotifyCommentsRadio","pushNotificationSection","activity","duration","setParentState","active","emailInterval","getEmailInterval","2458","DesktopNotificationSettings","buildMaximizedSetting","buildMinimizedSetting","activityRadio","soundSection","durationSection","soundRadio","hasSoundOptions","durationRadio","seconds","handleUpdateDesktopSection","2459","EmailNotificationSetting","_this$state","savePreference","CATEGORY_NOTIFICATIONS","EMAIL_INTERVAL","handleExpand","INTERVAL_IMMEDIATE","INTERVAL_HOUR","batchingOptions","batchingInfo","EnableEmailBatching","INTERVAL_FIFTEEN_MINUTES","INTERVAL_NEVER","2460","tokensEnabled","config","EnableUserAccessTokens","userHasTokenRole","UserUtils","hasUserAccessTokenRole","roles","userAccessTokens","myUserAccessTokens","canUseAccessTokens","getUserAccessTokensForUser","createUserAccessToken","revokeUserAccessToken","clearUserAccessTokens","_user_utils","2461","_values","_values2","_icon50x","_icon50x2","_access_history_modal","_access_history_modal2","_activity_log_modal","_activity_log_modal2","TOKEN_CREATING","TOKEN_CREATED","TOKEN_NOT_CREATING","SecurityTab","submitPassword","currentPassword","newPassword","confirmPassword","passwordError","passwordErr","isValidPassword","defaultState","getDefaultState","savingPassword","updatePassword","setupMfa","removeMfa","deactivateMfa","MFA","EnableMultifactorAuthentication","EnforceMultifactorAuthentication","location","updateCurrentPassword","updateNewPassword","updateConfirmPassword","deauthorizeApp","appId","deauthorizeOAuthApp","authorizedApps","app","createMfaSection","updateSectionStatus","mfa_active","mfaRemoveHelp","mfaButtonText","createPasswordSection","d","last_password_update","hours12","FormattedTime","createSignInSection","emailOption","gitlabOption","googleOption","office365Option","ldapOption","samlOption","EnableSignUpWithGitLab","EnableSignUpWithGoogle","EnableSignUpWithOffice365","EnableLdap","EnableSaml","EnableSignUpWithEmail","createOAuthAppsSection","apps","homepage","data-app","alt","icon_url","wrapperClass","startCreatingToken","tokenCreationState","stopCreatingToken","handleCreateToken","handleCancelConfirm","newtokendescription","tokenError","newToken","confirmMessage","confirmComplete","confirmCreateToken","saveTokenKeyPress","confirmRevokeToken","tokenId","token","revokeToken","_callee2","_context2","createTokensSection","tokenListClass","tokenList","noTokenText","newTokenSection","infoPosition","authService","EnableOAuthServiceProvider","getAuthorizedApps","passwordSection","numMethods","signInSection","mfaSection","oauthSection","tokensSection","2462","getUserAudits","2463","_audit_table","_audit_table2","_loading_screen","_loading_screen2","AccessHistoryModal","onAuditChange","getStateFromStoresForAudits","moreInfo","audits","getAudits","addAuditsChangeListener","removeAuditsChangeListener","showIp","showSession","bsSize","2464","getSessions","revokeSession","2465","ActivityLogModal","isMobileSession","session","device_id","includes","mobileSessionInfo","deviceTypeId","deviceTypeMessage","devicePicture","General","PUSH_NOTIFY_APPLE_REACT_NATIVE","PUSH_NOTIFY_ANDROID_REACT_NATIVE","devicePlatform","submitRevoke","handleMoreInfo","sessions","altId","modalContent","addSessionsChangeListener","removeSessionsChangeListener","newMoreInfo","activityList","currentSession","lastAccessTime","last_activity_at","firstAccessTime","platform","sessionInfo","os","2466","_webrtc_actions","WebrtcActions","_web_websocket_client","_web_websocket_client2","_ring","_ring2","WebrtcNotification","closeNotification","onIncomingCall","onCancelCall","onRhs","handleAnswer","handleTimeout","stopRinging","closeRightHandSide","userCalling","rhsOpened","addNotifyListener","addChangedListener","addRhsChangedListener","removeNotifyListener","removeChangedListener","removeRhsChangedListener","ring","removeListener","pause","currentTime","incoming","from_user_id","userMedia","getUserMedia","isFeatureEnabled","WEBRTC_PREVIEW","BUSY","to_user_id","setVideoCallWith","getProfile","UNSUPPORTED","DISABLED","CANCEL","NO_ANSWER","caller","callerId","ANSWER","initWebrtc","DECLINE","profileImgSrc","profileImg","answerBtn","xmlns","viewBox","cx","cy","fill","rejectBtn","msg","marginTop","autoPlay","getVideoCallWith","2467","_webrtc_controller","_webrtc_controller2","onInitializeVideoCall","videoCallVisible","isCaller","videoCallWithUserId","addInitListener","removeInitListener","2468","_janus","_janus2","_webrtc_header","_webrtc_header2","WebrtcController","localMedia","videocall","clearError","getLocalMedia","stopMediaStream","previewVideo","handleMakeOffer","handleCancelOffer","handleWebrtcEvent","handleVideoCallEvent","handleRemoteStream","onCallDeclined","onUnsupported","onNoAnswer","onDisabled","onFailed","onCancelled","onConnectCall","onSessionCreated","onSessionError","doCall","doAnswer","doHangup","doCleanup","renderButtons","onToggleVideo","onToggleAudio","onToggleRemoteMute","toggleIcons","remoteUser","remoteUserImage","currentUserImage","localMediaLoaded","isPaused","isMuted","isRemotePaused","isRemoteMuted","isCalling","isAnswering","callInProgress","errorType","ended","startCall","WEBRTC_CLEAR_ERROR_DELAY","constraints","media","audio","video","srcObject","catch","getTracks","minAspectRatio","maxAspectRatio","connectingMsg","NOTIFY","FAILED","MUTED","jsep","handleRemoteJsep","errorCode","error_code","videoTracks","getVideoTracks","audioTracks","getAudioTracks","muted","webrtcToken","iceServers","stun_uri","urls","turn_uri","turn_username","credential","turn_password","init","debug","EnableDeveloper","server","gateway_url","success","attach","plugin","send","request","onmessage","onremotestream","createOffer","WEBRTC_TIME_DELAY","createAnswer","jsepSuccess","hangup","detach","shouldPause","unmuteVideo","muteVideo","mute","shouldMute","unmuteAudio","muteAudio","icons","toggle","_this8","audioOnClass","audioOffClass","videoOnClass","videoOffClass","audioTitle","videoTitle","remoteImage","localImage","localVideoHidden","remoteVideoHidden","remoteMute","localImageHidden","remoteImageHidden","calling","connecting","onClose","2469","Janus","gatewayCallbacks","randomString","len","charSet","randomPoz","eventHandler","sessionId","connected","longpoll","maxev","apisecret","ajax","url","timeout","handleEvent","XMLHttpRequest","textStatus","errorThrown","retries","dataType","json","websockets","vdebug","sender","pluginHandle","pluginHandles","webrtcState","ondetached","mediaState","slowLink","code","reason","transaction","reportSuccess","transactions","plugindata","keepAlive","wsKeepaliveTimeoutId","janus","session_id","ws","createSession","callbacks","servers","serversIndex","WebSocket","wsHandlers","open","eventName","contentType","destroySession","noop","asyncRequest","destroyed","ph","phv","destroyHandle","unbindWebSocket","onUnbindMessage","onUnbindError","async","createHandle","consentDialog","onlocalstream","ondata","ondataopen","oncleanup","handleId","webrtcStuff","started","myStream","streamExternal","remoteStream","mySdp","pc","dataChannel","dtmfSender","trickle","iceDone","sdpSent","volume","timer","bitrate","bsnow","bsbefore","tsnow","tsbefore","getId","getPlugin","getVolume","isAudioMuted","isVideoMuted","getBitrate","sendData","dtmf","sendDtmf","prepareWebrtc","prepareWebrtcPeer","sendRequest","cleanupWebrtc","sendTrickleCandidate","tracks","local_audio_track","createDTMFSender","ontonechange","tone","tones","gap","insertDTMF","streamsDone","pc_config","iceTransportPolicy","pc_constraints","optional","DtlsSrtpKeyAgreement","ipv6Support","googIPv6","adapter","browserDetails","bundlePolicy","RTCPeerConnection","getStats","onicecandidate","completed","sendSDP","sdpMid","sdpMLineIndex","addStream","onaddstream","isDataEnabled","onDataChannelMessage","onDataChannelStateChange","dcState","readyState","onDataChannelError","createDataChannel","ordered","onopen","onclose","onerror","setRemoteDescription","RTCSessionDescription","callbackUserMedia","getScreenMedia","gsmCallback","webrtcError","isTrickleEnabled","isAudioSendEnabled","isVideoSendEnabled","mandatory","audioSupport","videoSupport","firefoxVer","require","ideal","maxWidth","minWidth","chromever","maxver","googLeakyBucket","screen","maxFrameRate","chromeMediaSource","pending","postMessage","ffver","mozMediaSource","mediaSource","polly","onended","origin","sourceId","googTemporalLayeredScreencast","chromeMediaSourceId","enumerateDevices","devices","audioExist","some","device","videoExist","audioSend","videoSend","needAudioDevice","isAudioSendRequired","needVideoDevice","isVideoSendRequired","haveAudioDevice","haveVideoDevice","mediaConstraints","offerToReceiveAudio","isAudioRecvEnabled","offerToReceiveVideo","isVideoRecvEnabled","OfferToReceiveAudio","OfferToReceiveVideo","offer","setLocalDescription","answer","localDescription","stats","res","stat","timestamp","bitRate","cb","inbound_rtp_video_1","bytesReceived","hangupRequest","mst","failIfNoAudio","audioRecv","failIfNoVideo","videoRecv","initDone","isWebrtcSupported","ipv6","max_poll_events","destroyOnUnload","getServer","isConnected","getSessionId","extensionId","isExtensionEnabled","getElementById","addJs","oHead","getElementsByTagName","oScript","trace","listDevices","attachMediaStream","reattachMediaStream","from","XHR","setRequestHeader","onreadystatechange","responseText","oldOBF","onbeforeunload","srcArray","2470","adapterFactory","2471","dependencies","opts","shimChrome","shimFirefox","shimEdge","shimSafari","logging","chromeShim","edgeShim","firefoxShim","safariShim","commonShim","shimPeerConnection","browserShim","shimGetUserMedia","shimMediaStream","shimSourceObject","shimOnTrack","shimAddTrackRemoveTrack","shimGetSendersWithDtmf","shimRTCIceCandidate","shimReplaceTrack","shimRTCIceServerUrls","shimCallbacksAPI","shimLocalStreamsAPI","shimRemoteStreamsAPI","shimTrackEventTransceiver","2472","MediaStream","webkitMediaStream","_ontrack","origSetRemoteDescription","_ontrackpoly","te","receiver","getReceivers","Event","streams","dispatchEvent","shimSenderWithDtmf","_dtmf","_pc","getSenders","_senders","origAddTrack","addTrack","origRemoveTrack","removeTrack","origAddStream","origRemoveStream","removeStream","_streams","RTCRtpSender","origGetSenders","senders","HTMLMediaElement","_srcObject","replaceInternalStreamId","_reverseStreams","internalId","externalStream","internalStream","RegExp","replaceExternalStreamId","origGetLocalStreams","getLocalStreams","nativeStreams","DOMException","newStream","signalingState","oldStream","Promise","resolve","method","nativeMethod","desc","origSetLocalDescription","origLocalDescription","getOwnPropertyDescriptor","streamid","OrigPeerConnection","pcConfig","pcConstraints","newIceServers","generateCertificate","iceTransports","origGetStats","selector","successCallback","errorCallback","fixChromeStats_","response","standardReport","report","standardStats","localcandidate","remotecandidate","names","makeMapStats","Map","successCallbackWrapper_","reject","promise","RTCIceCandidate","nativeAddIceCandidate","addIceCandidate","2473","constraintsToChrome_","cc","exact","oldname_","oc","mix","shimConstraints_","remap","face","facingMode","getSupportedFacingModeLies","getSupportedConstraints","dev","deviceId","shimError_","PermissionDeniedError","InvalidStateError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","constraint","constraintName","getUserMedia_","onSuccess","onError","getUserMediaPromise_","kinds","MediaStreamTrack","getSources","groupId","echoCancellation","frameRate","origGetUserMedia","cs","2474","shimRTCPeerConnection","RTCIceGatherer","origMSTEnabled","ev","RTCDtmfSender","replaceTrack","setTrack","2475","dtlsRole","filterIceServers","edgeVersion","hasTurn","getCommonCapabilities","localCapabilities","remoteCapabilities","commonCapabilities","findCodecByPayloadType","rtxCapabilityMatches","lRtx","rRtx","lCodecs","rCodecs","lCodec","rCodec","lHeaderExtension","rHeaderExtension","isActionAllowedInSignalingState","maybeAddCandidate","iceTransport","alreadyAdded","getRemoteCandidates","remoteCandidate","addRemoteCandidate","_eventTarget","createDocumentFragment","ontrack","onremovestream","onsignalingstatechange","oniceconnectionstatechange","onicegatheringstatechange","onnegotiationneeded","ondatachannel","canTrickleIceCandidates","needNegotiation","localStreams","remoteStreams","remoteDescription","iceConnectionState","iceGatheringState","usingBundle","rtcpMuxPolicy","_iceGatherers","iceCandidatePoolSize","gatherPolicy","_config","transceivers","_sdpSessionId","_sdpSessionVersion","_dtlsRole","_emitGatheringStateChange","getConfiguration","getRemoteStreams","_createTransceiver","hasBundleTransport","recvEncodingParameters","wantReceive","transports","_createIceAndDtlsTransports","_maybeFireNegotiationNeeded","clonedStream","clone","clonedTrack","_createIceGatherer","candidates","bufferCandidates","_gather","onlocalcandidate","cand","sections","complete","every","RTCIceTransport","onicestatechange","_updateConnectionState","RTCDtlsTransport","ondtlsstatechange","_disposeIceAndDtlsTransports","_transceive","recv","encodings","receive","isIceLite","isDatachannel","remoteIceParameters","remoteDtlsParameters","start","_updateSignalingState","receiverList","iceOptions","rejected","remoteMsid","isComplete","cands","setTransport","setRemoteCandidates","RTCRtpReceiver","getCapabilities","isNewTrack","sid","states","new","closed","checking","disconnected","offerOptions","numAudioTracks","numVideoTracks","getLocalCandidates","mediaSectionsInOffer","localTrack","candidateString","promises","fixStatsType","inboundrtp","outboundrtp","candidatepair","all","2476","2477","RTCTrackEvent","mozSrcObject","mozRTCPeerConnection","newServer","mozRTCSessionDescription","mozRTCIceCandidate","modernStatsTypes","nativeGetStats","onSucc","onErr","2478","InternalError","NotSupportedError","SecurityError","The operation is insecure.","constraintsToFF37_","orgEnumerateDevices","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","2479","_localStreams","getStreamById","_remoteStreams","_addTrack","_onaddstream","_onaddstreampoly","failureCallback","withCallback","errcb","RTCTransceiver","2480","wrapPeerConnectionEvent","eventNameToWrap","proto","nativeAddEventListener","nativeEventName","wrappedCallback","_eventMap","nativeRemoveEventListener","unwrappedCb","NativeRTCIceCandidate","nativeCandidate","parsedCandidate","augmentedCandidate","toJSON","nativeCreateObjectURL","nativeRevokeObjectURL","delete","dsc","nativeSetAttribute","setAttribute","2481","WebrtcHeader"],"mappings":"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","file":"7.2b6bfa5f0d3f681ea629.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ 2137:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(31);\n\nvar _redux = __webpack_require__(20);\n\nvar _channels = __webpack_require__(65);\n\nvar _needs_team = __webpack_require__(2384);\n\nvar _needs_team2 = _interopRequireDefault(_needs_team);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps);\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            viewChannel: _channels.viewChannel,\n            getMyChannelMembers: _channels.getMyChannelMembers\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_needs_team2.default);\n\n/***/ }),\n\n/***/ 2167:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logDisabled_ = true;\nvar deprecationWarnings_ = true;\n\n// Utility methods.\nvar utils = {\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  /**\n   * Disable or enable deprecation warnings\n   * @param {!boolean} bool set to true to disable warnings.\n   */\n  disableWarnings: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    deprecationWarnings_ = !bool;\n    return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Shows a deprecation warning suggesting the modern and spec-compatible API.\n   */\n  deprecated: function(oldMethod, newMethod) {\n    if (!deprecationWarnings_) {\n      return;\n    }\n    console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n        ' instead.');\n  },\n\n  /**\n   * Extract browser version out of the provided user agent string.\n   *\n   * @param {!string} uastring userAgent string.\n   * @param {!string} expr Regular expression used as match criteria.\n   * @param {!number} pos position in the version string to be returned.\n   * @return {!number} browser version.\n   */\n  extractVersion: function(uastring, expr, pos) {\n    var match = uastring.match(expr);\n    return match && match.length >= pos && parseInt(match[pos], 10);\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function(window) {\n    var navigator = window && window.navigator;\n\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    // Firefox.\n    if (navigator.mozGetUserMedia) {\n      result.browser = 'firefox';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Firefox\\/(\\d+)\\./, 1);\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera, all use the chrome shim for now\n      if (window.webkitRTCPeerConnection) {\n        result.browser = 'chrome';\n        result.version = this.extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/(\\d+)\\./, 2);\n      } else { // Safari (in an unpublished version) or unknown webkit-based.\n        if (navigator.userAgent.match(/Version\\/(\\d+).(\\d+)/)) {\n          result.browser = 'safari';\n          result.version = this.extractVersion(navigator.userAgent,\n            /AppleWebKit\\/(\\d+)\\./, 1);\n        } else { // unknown webkit-based browser.\n          result.browser = 'Unsupported webkit-based browser ' +\n              'with GUM support but no WebRTC support.';\n          return result;\n        }\n      }\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n      result.browser = 'edge';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n        // Safari, with webkitGetUserMedia removed.\n      result.browser = 'safari';\n      result.version = this.extractVersion(navigator.userAgent,\n          /AppleWebKit\\/(\\d+)\\./, 1);\n    } else { // Default fallthrough: not supported.\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  },\n\n};\n\n// Export.\nmodule.exports = {\n  log: utils.log,\n  deprecated: utils.deprecated,\n  disableLog: utils.disableLog,\n  disableWarnings: utils.disableWarnings,\n  extractVersion: utils.extractVersion,\n  shimCreateObjectURL: utils.shimCreateObjectURL,\n  detectBrowser: utils.detectBrowser.bind(utils)\n};\n\n\n\n/***/ }),\n\n/***/ 2188:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(40);\n\nvar _reactIntl = __webpack_require__(17);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar GetLinkModal = function (_React$Component) {\n    (0, _inherits3.default)(GetLinkModal, _React$Component);\n\n    function GetLinkModal(props) {\n        (0, _classCallCheck3.default)(this, GetLinkModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GetLinkModal.__proto__ || (0, _getPrototypeOf2.default)(GetLinkModal)).call(this, props));\n\n        _this.onHide = _this.onHide.bind(_this);\n\n        _this.copyLink = _this.copyLink.bind(_this);\n\n        _this.state = {\n            copiedLink: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(GetLinkModal, [{\n        key: 'onHide',\n        value: function onHide() {\n            this.setState({ copiedLink: false });\n\n            this.props.onHide();\n        }\n    }, {\n        key: 'copyLink',\n        value: function copyLink() {\n            var textarea = this.refs.textarea;\n            textarea.focus();\n            textarea.setSelectionRange(0, this.props.link.length);\n\n            try {\n                if (document.execCommand('copy')) {\n                    this.setState({ copiedLink: true });\n                } else {\n                    this.setState({ copiedLink: false });\n                }\n            } catch (err) {\n                this.setState({ copiedLink: false });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var helpText = null;\n            if (this.props.helpText) {\n                helpText = _react2.default.createElement(\n                    'p',\n                    null,\n                    this.props.helpText,\n                    _react2.default.createElement('br', null),\n                    _react2.default.createElement('br', null)\n                );\n            }\n\n            var copyLink = null;\n            if (document.queryCommandSupported('copy')) {\n                copyLink = _react2.default.createElement(\n                    'button',\n                    {\n                        'data-copy-btn': 'true',\n                        type: 'button',\n                        className: 'btn btn-primary pull-left',\n                        onClick: this.copyLink\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'get_link.copy',\n                        defaultMessage: 'Copy Link'\n                    })\n                );\n            }\n\n            var linkText = _react2.default.createElement('textarea', {\n                className: 'form-control no-resize min-height',\n                ref: 'textarea',\n                value: this.props.link,\n                onClick: this.copyLink,\n                readOnly: true\n            });\n\n            var copyLinkConfirm = null;\n            if (this.state.copiedLink) {\n                copyLinkConfirm = _react2.default.createElement(\n                    'p',\n                    { className: 'alert alert-success alert--confirm' },\n                    _react2.default.createElement('i', { className: 'fa fa-check' }),\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'get_link.clipboard',\n                        defaultMessage: ' Link copied'\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    show: this.props.show,\n                    onHide: this.onHide\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        'h4',\n                        { className: 'modal-title' },\n                        this.props.title\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    null,\n                    helpText,\n                    linkText\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Footer,\n                    null,\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'btn btn-default',\n                            onClick: this.onHide\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'get_link.close',\n                            defaultMessage: 'Close'\n                        })\n                    ),\n                    copyLink,\n                    copyLinkConfirm\n                )\n            );\n        }\n    }]);\n    return GetLinkModal;\n}(_react2.default.Component);\n\nexports.default = GetLinkModal;\n\n\nGetLinkModal.propTypes = {\n    show: _propTypes2.default.bool.isRequired,\n    onHide: _propTypes2.default.func.isRequired,\n    title: _propTypes2.default.string.isRequired,\n    helpText: _propTypes2.default.string,\n    link: _propTypes2.default.string.isRequired\n};\n\nGetLinkModal.defaultProps = {\n    helpText: null\n};\n\n/***/ }),\n\n/***/ 2196:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\nvar prefix = __webpack_require__(2414)\nvar toCamelCase = __webpack_require__(2415)\nvar cache = { 'float': 'cssFloat' }\nvar addPxToStyle = __webpack_require__(2418)\n\nfunction style (element, property, value) {\n  var camel = cache[property]\n  if (typeof camel === 'undefined') {\n    camel = detect(property)\n  }\n\n  // may be false if CSS prop is unsupported\n  if (camel) {\n    if (value === undefined) {\n      return element.style[camel]\n    }\n\n    element.style[camel] = addPxToStyle(camel, value)\n  }\n}\n\nfunction each (element, properties) {\n  for (var k in properties) {\n    if (properties.hasOwnProperty(k)) {\n      style(element, k, properties[k])\n    }\n  }\n}\n\nfunction detect (cssProp) {\n  var camel = toCamelCase(cssProp)\n  var result = prefix(camel)\n  cache[camel] = cache[cssProp] = cache[result] = result\n  return result\n}\n\nfunction set () {\n  if (arguments.length === 2) {\n    if (typeof arguments[1] === 'string') {\n      arguments[0].style.cssText = arguments[1]\n    } else {\n      each(arguments[0], arguments[1])\n    }\n  } else {\n    style(arguments[0], arguments[1], arguments[2])\n  }\n}\n\nmodule.exports = set\nmodule.exports.set = set\n\nmodule.exports.get = function (element, properties) {\n  if (Array.isArray(properties)) {\n    return properties.reduce(function (obj, prop) {\n      obj[prop] = style(element, prop || '')\n      return obj\n    }, {})\n  } else {\n    return style(element, properties || '')\n  }\n}\n\n\n\n/***/ }),\n\n/***/ 2197:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _user_agent = __webpack_require__(87);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SettingsSidebar = function (_React$Component) {\n    (0, _inherits3.default)(SettingsSidebar, _React$Component);\n\n    function SettingsSidebar(props) {\n        (0, _classCallCheck3.default)(this, SettingsSidebar);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SettingsSidebar.__proto__ || (0, _getPrototypeOf2.default)(SettingsSidebar)).call(this, props));\n\n        _this.handleClick = _this.handleClick.bind(_this);\n        return _this;\n    }\n\n    (0, _createClass3.default)(SettingsSidebar, [{\n        key: 'handleClick',\n        value: function handleClick(tab, e) {\n            e.preventDefault();\n            this.props.updateTab(tab.name);\n            (0, _jquery2.default)(e.target).closest('.settings-modal').addClass('display--content');\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            if (UserAgent.isFirefox()) {\n                (0, _jquery2.default)('.settings-modal .settings-table .nav').addClass('position--top');\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var tabList = this.props.tabs.map(function (tab) {\n                var key = tab.name + '_li';\n                var className = '';\n                if (_this2.props.activeTab === tab.name) {\n                    className = 'active';\n                }\n\n                return _react2.default.createElement(\n                    'li',\n                    {\n                        id: tab.name + 'Li',\n                        key: key,\n                        className: className\n                    },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: tab.name + 'Button',\n                            className: 'cursor--pointer style--none',\n                            onClick: _this2.handleClick.bind(null, tab)\n                        },\n                        _react2.default.createElement('i', { className: tab.icon }),\n                        tab.uiName\n                    )\n                );\n            });\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'ul',\n                    {\n                        id: 'tabList',\n                        className: 'nav nav-pills nav-stacked'\n                    },\n                    tabList\n                )\n            );\n        }\n    }]);\n    return SettingsSidebar;\n}(_react2.default.Component);\n\nexports.default = SettingsSidebar;\n\n\nSettingsSidebar.propTypes = {\n    tabs: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n        name: _propTypes2.default.string.isRequired,\n        uiName: _propTypes2.default.string.isRequired,\n        icon: _propTypes2.default.string.isRequired\n    })).isRequired,\n    activeTab: _propTypes2.default.string,\n    updateTab: _propTypes2.default.func.isRequired\n};\n\n/***/ }),\n\n/***/ 2198:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"files/a4a8b617d1f6c75ad4bf17bafc2aec6a.mp3\";\n\n/***/ }),\n\n/***/ 2199:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n /* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parseInt(parts[1], 10),\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compability.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag\n        candidate[parts[i]] = parts[i + 1];\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substr(14).split(' ');\n}\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n          ? '/' + headerExtension.direction\n          : '') +\n      ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n}\n\nSDPUtils.parseFingerprint = function(line) {\n  var parts = line.substr(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1]\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n      'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  caps.headerExtensions.forEach(function(extension) {\n    sdp += SDPUtils.writeExtmap(extension);\n  });\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  var cname;\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n      .map(function(line) {\n        return SDPUtils.parseSsrcMedia(line);\n      })\n      .filter(function(obj) {\n        return obj.attribute === 'cname';\n      })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrіbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 21);\n};\n\n// Write boilder plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer) {\n  var sessionId;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return {\n    kind: mline[0].substr(2),\n    port: parseInt(mline[1], 10),\n    protocol: mline[2],\n    fmt: mline.slice(3).join(' ')\n  };\n};\n\n// Expose public methods.\nif (true) {\n  module.exports = SDPUtils;\n}\n\n\n\n/***/ }),\n\n/***/ 2384:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _regenerator = __webpack_require__(76);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(77);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _es = __webpack_require__(44);\n\nvar _inobounce = __webpack_require__(2385);\n\nvar _inobounce2 = _interopRequireDefault(_inobounce);\n\nvar _posts = __webpack_require__(138);\n\nvar _status_actions = __webpack_require__(241);\n\nvar _user_actions = __webpack_require__(69);\n\nvar _websocket_actions = __webpack_require__(314);\n\nvar _channel_store = __webpack_require__(32);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _post_store = __webpack_require__(312);\n\nvar _post_store2 = _interopRequireDefault(_post_store);\n\nvar _preference_store = __webpack_require__(119);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _redux_store = __webpack_require__(38);\n\nvar _redux_store2 = _interopRequireDefault(_redux_store);\n\nvar _team_store = __webpack_require__(35);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _pluggable = __webpack_require__(316);\n\nvar _pluggable2 = _interopRequireDefault(_pluggable);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _user_agent = __webpack_require__(87);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _announcement_bar = __webpack_require__(2083);\n\nvar _announcement_bar2 = _interopRequireDefault(_announcement_bar);\n\nvar _delete_post_modal = __webpack_require__(2386);\n\nvar _delete_post_modal2 = _interopRequireDefault(_delete_post_modal);\n\nvar _edit_post_modal = __webpack_require__(2387);\n\nvar _edit_post_modal2 = _interopRequireDefault(_edit_post_modal);\n\nvar _get_post_link_modal = __webpack_require__(2388);\n\nvar _get_post_link_modal2 = _interopRequireDefault(_get_post_link_modal);\n\nvar _get_public_link_modal = __webpack_require__(2389);\n\nvar _get_public_link_modal2 = _interopRequireDefault(_get_public_link_modal);\n\nvar _get_team_invite_link_modal = __webpack_require__(2390);\n\nvar _get_team_invite_link_modal2 = _interopRequireDefault(_get_team_invite_link_modal);\n\nvar _invite_member_modal = __webpack_require__(2391);\n\nvar _invite_member_modal2 = _interopRequireDefault(_invite_member_modal);\n\nvar _leave_team_modal = __webpack_require__(2392);\n\nvar _leave_team_modal2 = _interopRequireDefault(_leave_team_modal);\n\nvar _leave_private_channel_modal = __webpack_require__(2393);\n\nvar _leave_private_channel_modal2 = _interopRequireDefault(_leave_private_channel_modal);\n\nvar _navbar = __webpack_require__(2394);\n\nvar _navbar2 = _interopRequireDefault(_navbar);\n\nvar _removed_from_channel_modal = __webpack_require__(2401);\n\nvar _removed_from_channel_modal2 = _interopRequireDefault(_removed_from_channel_modal);\n\nvar _reset_status_modal = __webpack_require__(2402);\n\nvar _reset_status_modal2 = _interopRequireDefault(_reset_status_modal);\n\nvar _shortcuts_modal = __webpack_require__(2404);\n\nvar _shortcuts_modal2 = _interopRequireDefault(_shortcuts_modal);\n\nvar _sidebar_right = __webpack_require__(2405);\n\nvar _sidebar_right2 = _interopRequireDefault(_sidebar_right);\n\nvar _sidebar_right_menu = __webpack_require__(2435);\n\nvar _sidebar_right_menu2 = _interopRequireDefault(_sidebar_right_menu);\n\nvar _team_settings_modal = __webpack_require__(2436);\n\nvar _team_settings_modal2 = _interopRequireDefault(_team_settings_modal);\n\nvar _import_theme_modal = __webpack_require__(2441);\n\nvar _import_theme_modal2 = _interopRequireDefault(_import_theme_modal);\n\nvar _user_settings_modal = __webpack_require__(2442);\n\nvar _user_settings_modal2 = _interopRequireDefault(_user_settings_modal);\n\nvar _webrtc_notification = __webpack_require__(2466);\n\nvar _webrtc_notification2 = _interopRequireDefault(_webrtc_notification);\n\nvar _webrtc_sidebar = __webpack_require__(2467);\n\nvar _webrtc_sidebar2 = _interopRequireDefault(_webrtc_sidebar);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TutorialSteps = _constants2.default.TutorialSteps; // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar Preferences = _constants2.default.Preferences;\n\nvar UNREAD_CHECK_TIME_MILLISECONDS = 10000;\n\nvar NeedsTeam = function (_React$Component) {\n    (0, _inherits3.default)(NeedsTeam, _React$Component);\n\n    function NeedsTeam(params) {\n        (0, _classCallCheck3.default)(this, NeedsTeam);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (NeedsTeam.__proto__ || (0, _getPrototypeOf2.default)(NeedsTeam)).call(this, params));\n\n        _this.onTeamChanged = _this.onTeamChanged.bind(_this);\n        _this.onPreferencesChanged = _this.onPreferencesChanged.bind(_this);\n\n        _this.blurTime = new Date().getTime();\n\n        var team = _team_store2.default.getCurrent();\n\n        _this.state = {\n            team: team,\n            theme: _preference_store2.default.getTheme(team.id)\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(NeedsTeam, [{\n        key: 'onTeamChanged',\n        value: function onTeamChanged() {\n            var team = _team_store2.default.getCurrent();\n\n            this.setState({\n                team: team,\n                theme: _preference_store2.default.getTheme(team.id)\n            });\n        }\n    }, {\n        key: 'onPreferencesChanged',\n        value: function onPreferencesChanged(category) {\n            if (!category || category === Preferences.CATEGORY_THEME) {\n                this.setState({\n                    theme: _preference_store2.default.getTheme(this.state.team.id)\n                });\n            }\n        }\n    }, {\n        key: 'componentWillMount',\n        value: function componentWillMount() {\n            // Go to tutorial if we are first arriving\n            var tutorialStep = _preference_store2.default.getInt(Preferences.TUTORIAL_STEP, _user_store2.default.getCurrentId(), 999);\n            if (tutorialStep <= TutorialSteps.INTRO_SCREENS) {\n                _es.browserHistory.push(_team_store2.default.getCurrentTeamRelativeUrl() + '/tutorial');\n            }\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            _team_store2.default.addChangeListener(this.onTeamChanged);\n            _preference_store2.default.addChangeListener(this.onPreferencesChanged);\n\n            (0, _status_actions.startPeriodicStatusUpdates)();\n            (0, _websocket_actions.startPeriodicSync)();\n\n            // Set up tracking for whether the window is active\n            window.isActive = true;\n            (0, _jquery2.default)(window).on('focus', (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _channel_store2.default.resetCounts([_channel_store2.default.getCurrentId()]);\n                                _channel_store2.default.emitChange();\n                                window.isActive = true;\n\n                                _context.next = 5;\n                                return _this2.props.actions.viewChannel(_channel_store2.default.getCurrentId());\n\n                            case 5:\n                                if (new Date().getTime() - _this2.blurTime > UNREAD_CHECK_TIME_MILLISECONDS) {\n                                    _this2.props.actions.getMyChannelMembers(_team_store2.default.getCurrentId()).then(_user_actions.loadProfilesForSidebar);\n                                }\n\n                            case 6:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, _this2);\n            })));\n\n            (0, _jquery2.default)(window).on('blur', function () {\n                window.isActive = false;\n                _this2.blurTime = new Date().getTime();\n                if (_user_store2.default.getCurrentUser()) {\n                    _this2.props.actions.viewChannel('');\n                }\n            });\n\n            Utils.applyTheme(this.state.theme);\n\n            if (UserAgent.isIosSafari()) {\n                // Use iNoBounce to prevent scrolling past the boundaries of the page\n                _inobounce2.default.enable();\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            if (!Utils.areObjectsEqual(prevState.theme, this.state.theme)) {\n                Utils.applyTheme(this.state.theme);\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _team_store2.default.removeChangeListener(this.onTeamChanged);\n            _preference_store2.default.removeChangeListener(this.onPreferencesChanged);\n            (0, _jquery2.default)(window).off('focus');\n            (0, _jquery2.default)(window).off('blur');\n\n            if (UserAgent.isIosSafari()) {\n                _inobounce2.default.disable();\n            }\n            (0, _status_actions.stopPeriodicStatusUpdates)();\n            (0, _websocket_actions.stopPeriodicSync)();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var content = [];\n            if (this.props.children) {\n                content = this.props.children;\n            } else {\n                content.push(this.props.navbar);\n                content.push(this.props.team_sidebar);\n                content.push(this.props.sidebar);\n                content.push(_react2.default.createElement(\n                    'div',\n                    {\n                        key: 'inner-wrap',\n                        className: 'inner-wrap channel__wrap'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'row header' },\n                        _react2.default.createElement(\n                            'div',\n                            { id: 'navbar' },\n                            _react2.default.createElement(_navbar2.default, null)\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'row main' },\n                        _react2.default.cloneElement(this.props.center, {\n                            user: this.props.user,\n                            team: this.state.team\n                        })\n                    )\n                ));\n            }\n\n            var channel = _channel_store2.default.getByName(this.props.params.channel);\n            if (channel == null) {\n                // the permalink view is not really tied to a particular channel but still needs it\n                var postId = _post_store2.default.getFocusedPostId();\n                var post = (0, _posts.getPost)(_redux_store2.default.getState(), postId);\n\n                // the post take some time before being available on page load\n                if (post != null) {\n                    channel = _channel_store2.default.get(post.channel_id);\n                }\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'channel-view' },\n                _react2.default.createElement(_announcement_bar2.default, null),\n                _react2.default.createElement(_webrtc_notification2.default, null),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'container-fluid' },\n                    _react2.default.createElement(_sidebar_right2.default, { channel: channel }),\n                    _react2.default.createElement(_sidebar_right_menu2.default, { teamType: this.state.team.type }),\n                    _react2.default.createElement(_webrtc_sidebar2.default, null),\n                    content,\n                    _react2.default.createElement(_pluggable2.default, { pluggableName: 'Root' }),\n                    _react2.default.createElement(_user_settings_modal2.default, null),\n                    _react2.default.createElement(_get_post_link_modal2.default, null),\n                    _react2.default.createElement(_get_public_link_modal2.default, null),\n                    _react2.default.createElement(_get_team_invite_link_modal2.default, null),\n                    _react2.default.createElement(_invite_member_modal2.default, null),\n                    _react2.default.createElement(_leave_team_modal2.default, null),\n                    _react2.default.createElement(_import_theme_modal2.default, null),\n                    _react2.default.createElement(_team_settings_modal2.default, null),\n                    _react2.default.createElement(_edit_post_modal2.default, null),\n                    _react2.default.createElement(_delete_post_modal2.default, null),\n                    _react2.default.createElement(_removed_from_channel_modal2.default, null),\n                    _react2.default.createElement(_reset_status_modal2.default, null),\n                    _react2.default.createElement(_leave_private_channel_modal2.default, null),\n                    _react2.default.createElement(_shortcuts_modal2.default, { isMac: Utils.isMac() })\n                )\n            );\n        }\n    }]);\n    return NeedsTeam;\n}(_react2.default.Component);\n\nNeedsTeam.propTypes = {\n    children: _propTypes2.default.oneOfType([_propTypes2.default.arrayOf(_propTypes2.default.element), _propTypes2.default.element]),\n    navbar: _propTypes2.default.element,\n    sidebar: _propTypes2.default.element,\n    team_sidebar: _propTypes2.default.element,\n    center: _propTypes2.default.element,\n    params: _propTypes2.default.object,\n    user: _propTypes2.default.object,\n    actions: _propTypes2.default.shape({\n        viewChannel: _propTypes2.default.func.isRequired,\n        getMyChannelMembers: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = NeedsTeam;\n\n/***/ }),\n\n/***/ 2385:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*! iNoBounce - v0.1.0\n* https://github.com/lazd/iNoBounce/\n* Copyright (c) 2013 Larry Davis <lazdnet@gmail.com>; Licensed BSD */\n(function(global) {\n\t// Stores the Y position where the touch started\n\tvar startY = 0;\n\n\t// Store enabled status\n\tvar enabled = false;\n\n\tvar handleTouchmove = function(evt) {\n\t\t// Get the element that was scrolled upon\n\t\tvar el = evt.target;\n\n\t\t// Check all parent elements for scrollability\n\t\twhile (el !== document.body && el !== document) {\n\t\t\t// Get some style properties\n\t\t\tvar style = window.getComputedStyle(el);\n\n\t\t\tif (!style) {\n\t\t\t\t// If we've encountered an element we can't compute the style for, get out\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Ignore range input element\n\t\t\tif (el.nodeName === 'INPUT' && el.getAttribute('type') === 'range') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar scrolling = style.getPropertyValue('-webkit-overflow-scrolling');\n\t\t\tvar overflowY = style.getPropertyValue('overflow-y');\n\t\t\tvar height = parseInt(style.getPropertyValue('height'), 10);\n\n\t\t\t// Determine if the element should scroll\n\t\t\tvar isScrollable = scrolling === 'touch' && (overflowY === 'auto' || overflowY === 'scroll');\n\t\t\tvar canScroll = el.scrollHeight > el.offsetHeight;\n\n\t\t\tif (isScrollable && canScroll) {\n\t\t\t\t// Get the current Y position of the touch\n\t\t\t\tvar curY = evt.touches ? evt.touches[0].screenY : evt.screenY;\n\n\t\t\t\t// Determine if the user is trying to scroll past the top or bottom\n\t\t\t\t// In this case, the window will bounce, so we have to prevent scrolling completely\n\t\t\t\tvar isAtTop = (startY <= curY && el.scrollTop === 0);\n\t\t\t\tvar isAtBottom = (startY >= curY && el.scrollHeight - el.scrollTop === height);\n\n\t\t\t\t// Stop a bounce bug when at the bottom or top of the scrollable element\n\t\t\t\tif (isAtTop || isAtBottom) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t}\n\n\t\t\t\t// No need to continue up the DOM, we've done our job\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Test the next parent\n\t\t\tel = el.parentNode;\n\t\t}\n\n\t\t// Stop the bouncing -- no parents are scrollable\n\t\tevt.preventDefault();\n\t};\n\n\tvar handleTouchstart = function(evt) {\n\t\t// Store the first Y position of the touch\n\t\tstartY = evt.touches ? evt.touches[0].screenY : evt.screenY;\n\t};\n\n\tvar enable = function() {\n\t\t// Listen to a couple key touch events\n\t\twindow.addEventListener('touchstart', handleTouchstart, false);\n\t\twindow.addEventListener('touchmove', handleTouchmove, false);\n\t\tenabled = true;\n\t};\n\n\tvar disable = function() {\n\t\t// Stop listening\n\t\twindow.removeEventListener('touchstart', handleTouchstart, false);\n\t\twindow.removeEventListener('touchmove', handleTouchmove, false);\n\t\tenabled = false;\n\t};\n\n\tvar isEnabled = function() {\n\t\treturn enabled;\n\t};\n\n\t// Enable by default if the browser supports -webkit-overflow-scrolling\n\t// Test this by setting the property with JavaScript on an element that exists in the DOM\n\t// Then, see if the property is reflected in the computed style\n\tvar testDiv = document.createElement('div');\n\tdocument.documentElement.appendChild(testDiv);\n\ttestDiv.style.WebkitOverflowScrolling = 'touch';\n\tvar scrollSupport = 'getComputedStyle' in window && window.getComputedStyle(testDiv)['-webkit-overflow-scrolling'] === 'touch';\n\tdocument.documentElement.removeChild(testDiv);\n\n\tif (scrollSupport) {\n\t\tenable();\n\t}\n\n\t// A module to support enabling/disabling iNoBounce\n\tvar iNoBounce = {\n\t\tenable: enable,\n\t\tdisable: disable,\n\t\tisEnabled: isEnabled\n\t};\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\t// Node.js Support\n\t\tmodule.exports = iNoBounce;\n\t}\n\tif (typeof global.define === 'function') {\n\t\t// AMD Support\n\t\t(function(define) {\n\t\t\tdefine('iNoBounce', [], function() { return iNoBounce; });\n\t\t}(global.define));\n\t}\n\telse {\n\t\t// Browser support\n\t\tglobal.iNoBounce = iNoBounce;\n\t}\n}(this));\n\n\n\n/***/ }),\n\n/***/ 2386:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(40);\n\nvar _reactDom = __webpack_require__(47);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _post_actions = __webpack_require__(73);\n\nvar _modal_store = __webpack_require__(2080);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ActionTypes = _constants2.default.ActionTypes;\n\nvar DeletePostModal = function (_React$Component) {\n    (0, _inherits3.default)(DeletePostModal, _React$Component);\n\n    function DeletePostModal(props) {\n        (0, _classCallCheck3.default)(this, DeletePostModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (DeletePostModal.__proto__ || (0, _getPrototypeOf2.default)(DeletePostModal)).call(this, props));\n\n        _this.handleDelete = _this.handleDelete.bind(_this);\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.handleHide = _this.handleHide.bind(_this);\n\n        _this.state = {\n            show: false,\n            post: null,\n            commentCount: 0,\n            error: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(DeletePostModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(ActionTypes.TOGGLE_DELETE_POST_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(ActionTypes.TOGGLE_DELETE_POST_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            var _this2 = this;\n\n            if (this.state.show && !prevState.show) {\n                setTimeout(function () {\n                    (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this2.refs.deletePostBtn)).focus();\n                }, 0);\n            }\n        }\n    }, {\n        key: 'handleDelete',\n        value: function handleDelete() {\n            var _this3 = this;\n\n            (0, _post_actions.deletePost)(this.state.post.channel_id, this.state.post, function () {\n                _this3.handleHide();\n            }, function (err) {\n                _this3.setState({ error: err.message });\n            });\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value, args) {\n            this.setState({\n                show: value,\n                post: args.post,\n                commentCount: args.commentCount,\n                error: ''\n            });\n        }\n    }, {\n        key: 'handleHide',\n        value: function handleHide() {\n            this.setState({ show: false });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.state.post) {\n                return null;\n            }\n\n            var error = null;\n            if (this.state.error) {\n                error = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'control-label' },\n                        this.state.error\n                    )\n                );\n            }\n\n            var commentWarning = '';\n            if (this.state.commentCount > 0) {\n                commentWarning = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'delete_post.warning',\n                    defaultMessage: 'This post has {count, number} {count, plural, one {comment} other {comments}} on it.',\n                    values: {\n                        count: this.state.commentCount\n                    }\n                });\n            }\n\n            var postTerm = this.state.post.root_id ? _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'delete_post.comment',\n                defaultMessage: 'Comment'\n            }) : _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'delete_post.post',\n                defaultMessage: 'Post'\n            });\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    show: this.state.show,\n                    onHide: this.handleHide\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'delete_post.confirm',\n                            defaultMessage: 'Confirm {term} Delete',\n                            values: {\n                                term: postTerm\n                            }\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'delete_post.question',\n                        defaultMessage: 'Are you sure you want to delete this {term}?',\n                        values: {\n                            term: postTerm\n                        }\n                    }),\n                    _react2.default.createElement('br', null),\n                    _react2.default.createElement('br', null),\n                    commentWarning,\n                    error\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Footer,\n                    null,\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'btn btn-default',\n                            onClick: this.handleHide\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'delete_post.cancel',\n                            defaultMessage: 'Cancel'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            ref: 'deletePostBtn',\n                            type: 'button',\n                            className: 'btn btn-danger',\n                            onClick: this.handleDelete\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'delete_post.del',\n                            defaultMessage: 'Delete'\n                        })\n                    )\n                )\n            );\n        }\n    }]);\n    return DeletePostModal;\n}(_react2.default.Component);\n\nexports.default = DeletePostModal;\n\n/***/ }),\n\n/***/ 2387:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _deleteProperty = __webpack_require__(139);\n\nvar _deleteProperty2 = _interopRequireDefault(_deleteProperty);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(47);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _posts = __webpack_require__(138);\n\nvar Selectors = _interopRequireWildcard(_posts);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _post_actions = __webpack_require__(73);\n\nvar _browser_store = __webpack_require__(135);\n\nvar _browser_store2 = _interopRequireDefault(_browser_store);\n\nvar _message_history_store = __webpack_require__(750);\n\nvar _message_history_store2 = _interopRequireDefault(_message_history_store);\n\nvar _post_store = __webpack_require__(312);\n\nvar _post_store2 = _interopRequireDefault(_post_store);\n\nvar _preference_store = __webpack_require__(119);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _redux_store = __webpack_require__(38);\n\nvar _redux_store2 = _interopRequireDefault(_redux_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _user_agent = __webpack_require__(87);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _emoji_picker_overlay = __webpack_require__(438);\n\nvar _emoji_picker_overlay2 = _interopRequireDefault(_emoji_picker_overlay);\n\nvar _textbox = __webpack_require__(444);\n\nvar _textbox2 = _interopRequireDefault(_textbox);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar KeyCodes = _constants2.default.KeyCodes; // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar getState = _redux_store2.default.getState;\n\nvar EditPostModal = function (_React$Component) {\n    (0, _inherits3.default)(EditPostModal, _React$Component);\n\n    function EditPostModal(props) {\n        (0, _classCallCheck3.default)(this, EditPostModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (EditPostModal.__proto__ || (0, _getPrototypeOf2.default)(EditPostModal)).call(this, props));\n\n        _this.getContainer = function () {\n            return _this.refs.editModalBody;\n        };\n\n        _this.toggleEmojiPicker = function () {\n            _this.setState({ showEmojiPicker: !_this.state.showEmojiPicker });\n        };\n\n        _this.hideEmojiPicker = function () {\n            _this.setState({ showEmojiPicker: false });\n        };\n\n        _this.handleEmojiClick = function (emoji) {\n            var emojiAlias = emoji.name || emoji.aliases[0];\n\n            if (!emojiAlias) {\n                //Oops.. There went something wrong\n                return;\n            }\n\n            if (_this.state.editText === '') {\n                _this.setState({ editText: ':' + emojiAlias + ': ' });\n            } else {\n                //check whether there is already a blank at the end of the current message\n                var newMessage = /\\s+$/.test(_this.state.editText) ? _this.state.editText + ':' + emojiAlias + ': ' : _this.state.editText + ' :' + emojiAlias + ': ';\n\n                _this.setState({ editText: newMessage });\n            }\n\n            _this.setState({ showEmojiPicker: false });\n\n            _this.refs.editbox.focus();\n        };\n\n        _this.getEditPostControls = function () {\n            return _this.refs.editPostEmoji;\n        };\n\n        _this.handleEdit = _this.handleEdit.bind(_this);\n        _this.handleEditKeyPress = _this.handleEditKeyPress.bind(_this);\n        _this.handleEditPostEvent = _this.handleEditPostEvent.bind(_this);\n        _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n        _this.handleChange = _this.handleChange.bind(_this);\n        _this.onPreferenceChange = _this.onPreferenceChange.bind(_this);\n        _this.onModalHidden = _this.onModalHidden.bind(_this);\n        _this.onModalShow = _this.onModalShow.bind(_this);\n        _this.onModalShown = _this.onModalShown.bind(_this);\n        _this.onModalHide = _this.onModalHide.bind(_this);\n        _this.onModalKeyDown = _this.onModalKeyDown.bind(_this);\n        _this.handlePostError = _this.handlePostError.bind(_this);\n\n        _this.state = {\n            editText: '',\n            originalText: '',\n            title: '',\n            post_id: '',\n            channel_id: '',\n            comments: 0,\n            refocusId: '',\n            ctrlSend: _preference_store2.default.getBool(_constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n            postError: '',\n            showEmojiPicker: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(EditPostModal, [{\n        key: 'handlePostError',\n        value: function handlePostError(postError) {\n            if (this.state.postError !== postError) {\n                this.setState({ postError: postError });\n            }\n        }\n    }, {\n        key: 'handleEdit',\n        value: function handleEdit() {\n            var _this2 = this;\n\n            var updatedPost = {\n                message: this.state.editText,\n                id: this.state.post_id,\n                channel_id: this.state.channel_id\n            };\n\n            if (this.state.postError) {\n                this.setState({ errorClass: 'animation--highlight' });\n                setTimeout(function () {\n                    _this2.setState({ errorClass: null });\n                }, _constants2.default.ANIMATION_TIMEOUT);\n                return;\n            }\n\n            if (updatedPost.message === this.state.originalText) {\n                // no changes so just close the modal\n                (0, _jquery2.default)('#edit_post').modal('hide');\n                return;\n            }\n\n            _message_history_store2.default.storeMessageInHistory(updatedPost.message);\n\n            if (updatedPost.message.trim().length === 0) {\n                var tempState = this.state;\n                (0, _deleteProperty2.default)(tempState, 'editText');\n                _browser_store2.default.setItem('edit_state_transfer', tempState);\n                (0, _jquery2.default)('#edit_post').modal('hide');\n                GlobalActions.showDeletePostModal(Selectors.getPost(getState(), this.state.post_id), this.state.comments);\n                return;\n            }\n\n            (0, _post_actions.updatePost)(updatedPost, function () {\n                window.scrollTo(0, 0);\n            });\n\n            (0, _jquery2.default)('#edit_post').modal('hide');\n        }\n    }, {\n        key: 'handleChange',\n        value: function handleChange(e) {\n            var message = e.target.value;\n            this.setState({\n                editText: message\n            });\n        }\n    }, {\n        key: 'handleEditKeyPress',\n        value: function handleEditKeyPress(e) {\n            if (!UserAgent.isMobile() && !this.state.ctrlSend && e.which === KeyCodes.ENTER && !e.shiftKey && !e.altKey) {\n                e.preventDefault();\n                _reactDom2.default.findDOMNode(this.refs.editbox).blur();\n                this.handleEdit();\n            } else if (this.state.ctrlSend && e.ctrlKey && e.which === KeyCodes.ENTER) {\n                e.preventDefault();\n                _reactDom2.default.findDOMNode(this.refs.editbox).blur();\n                this.handleEdit();\n            }\n        }\n    }, {\n        key: 'handleEditPostEvent',\n        value: function handleEditPostEvent(options) {\n            var post = Selectors.getPost(getState(), options.postId);\n            if (global.window.mm_license.IsLicensed === 'true') {\n                if (global.window.mm_config.AllowEditPost === _constants2.default.ALLOW_EDIT_POST_NEVER) {\n                    return;\n                }\n                if (global.window.mm_config.AllowEditPost === _constants2.default.ALLOW_EDIT_POST_TIME_LIMIT) {\n                    if (post.create_at + global.window.mm_config.PostEditTimeLimit * 1000 < Utils.getTimestamp()) {\n                        return;\n                    }\n                }\n            }\n            this.setState({\n                editText: options.message || '',\n                originalText: options.message || '',\n                title: options.title || '',\n                post_id: options.postId || '',\n                channel_id: options.channelId || '',\n                comments: options.comments || 0,\n                refocusId: options.refocusId || ''\n            });\n\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs.modal)).modal('show');\n        }\n    }, {\n        key: 'handleKeyDown',\n        value: function handleKeyDown(e) {\n            if (this.state.ctrlSend && e.keyCode === KeyCodes.ENTER && e.ctrlKey === true) {\n                this.handleEdit();\n            }\n        }\n    }, {\n        key: 'onPreferenceChange',\n        value: function onPreferenceChange() {\n            this.setState({\n                ctrlSend: _preference_store2.default.getBool(_constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter')\n            });\n        }\n    }, {\n        key: 'onModalHidden',\n        value: function onModalHidden() {\n            this.setState({ editText: '', originalText: '', title: '', channel_id: '', post_id: '', comments: 0, refocusId: '', error: '', typing: false });\n        }\n    }, {\n        key: 'onModalShow',\n        value: function onModalShow(e) {\n            var button = e.relatedTarget;\n            if (!button) {\n                return;\n            }\n            this.setState({\n                editText: (0, _jquery2.default)(button).attr('data-message'),\n                originalText: (0, _jquery2.default)(button).attr('data-message'),\n                title: (0, _jquery2.default)(button).attr('data-title'),\n                channel_id: (0, _jquery2.default)(button).attr('data-channelid'),\n                post_id: (0, _jquery2.default)(button).attr('data-postid'),\n                comments: (0, _jquery2.default)(button).attr('data-comments'),\n                refocusId: (0, _jquery2.default)(button).attr('data-refocusid'),\n                typing: false\n            });\n        }\n    }, {\n        key: 'onModalShown',\n        value: function onModalShown() {\n            this.refs.editbox.focus();\n\n            this.refs.editbox.recalculateSize();\n        }\n    }, {\n        key: 'onModalHide',\n        value: function onModalHide() {\n            var _this3 = this;\n\n            this.refs.editbox.hidePreview();\n\n            if (this.state.refocusId !== '') {\n                setTimeout(function () {\n                    var element = (0, _jquery2.default)(_this3.state.refocusId).get(0);\n                    if (element) {\n                        element.focus();\n                    }\n                });\n            }\n        }\n    }, {\n        key: 'onModalKeyDown',\n        value: function onModalKeyDown(e) {\n            if (e.which === _constants2.default.KeyCodes.ESCAPE) {\n                e.stopPropagation();\n            }\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            (0, _jquery2.default)(this.refs.modal).on('hidden.bs.modal', this.onModalHidden);\n            (0, _jquery2.default)(this.refs.modal).on('show.bs.modal', this.onModalShow);\n            (0, _jquery2.default)(this.refs.modal).on('shown.bs.modal', this.onModalShown);\n            (0, _jquery2.default)(this.refs.modal).on('hide.bs.modal', this.onModalHide);\n            (0, _jquery2.default)(this.refs.modal).on('keydown', this.onModalKeyDown);\n            _post_store2.default.addEditPostListener(this.handleEditPostEvent);\n            _preference_store2.default.addChangeListener(this.onPreferenceChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            (0, _jquery2.default)(this.refs.modal).off('hidden.bs.modal', this.onModalHidden);\n            (0, _jquery2.default)(this.refs.modal).off('show.bs.modal', this.onModalShow);\n            (0, _jquery2.default)(this.refs.modal).off('shown.bs.modal', this.onModalShown);\n            (0, _jquery2.default)(this.refs.modal).off('hide.bs.modal', this.onModalHide);\n            (0, _jquery2.default)(this.refs.modal).off('keydown', this.onModalKeyDown);\n            _post_store2.default.removeEditPostListner(this.handleEditPostEvent);\n            _preference_store2.default.removeChangeListener(this.onPreferenceChange);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var errorBoxClass = 'edit-post-footer' + (this.state.postError ? ' has-error' : '');\n            var postError = null;\n            if (this.state.postError) {\n                var postErrorClass = 'post-error' + (this.state.errorClass ? ' ' + this.state.errorClass : '');\n                postError = _react2.default.createElement(\n                    'label',\n                    { className: postErrorClass },\n                    this.state.postError\n                );\n            }\n\n            var emojiPicker = null;\n            if (window.mm_config.EnableEmojiPicker === 'true') {\n                emojiPicker = _react2.default.createElement(\n                    'span',\n                    { className: 'emoji-picker__container' },\n                    _react2.default.createElement(_emoji_picker_overlay2.default, {\n                        show: this.state.showEmojiPicker,\n                        container: this.getContainer,\n                        target: this.getEditPostControls,\n                        onHide: this.hideEmojiPicker,\n                        onEmojiClick: this.handleEmojiClick,\n                        rightOffset: 50,\n                        topOffset: -20\n                    }),\n                    _react2.default.createElement('span', {\n                        className: 'icon icon--emoji',\n                        onClick: this.toggleEmojiPicker,\n                        dangerouslySetInnerHTML: { __html: _constants2.default.EMOJI_ICON_SVG }\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'modal fade edit-modal',\n                    ref: 'modal',\n                    id: 'edit_post',\n                    role: 'dialog',\n                    tabIndex: '-1',\n                    'aria-hidden': 'true'\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-dialog modal-push-down modal-xl' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'modal-content' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-header' },\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'close',\n                                    'data-dismiss': 'modal',\n                                    'aria-label': 'Close'\n                                },\n                                _react2.default.createElement(\n                                    'span',\n                                    { 'aria-hidden': 'true' },\n                                    '×'\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'h4',\n                                { className: 'modal-title' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'edit_post.edit',\n                                    defaultMessage: 'Edit {title}',\n                                    values: {\n                                        title: this.state.title\n                                    }\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            {\n                                ref: 'editModalBody',\n                                className: 'edit-modal-body modal-body'\n                            },\n                            _react2.default.createElement(_textbox2.default, {\n                                onChange: this.handleChange,\n                                onKeyPress: this.handleEditKeyPress,\n                                onKeyDown: this.handleKeyDown,\n                                handlePostError: this.handlePostError,\n                                value: this.state.editText,\n                                channelId: this.state.channel_id,\n                                emojiEnabled: window.mm_config.EnableEmojiPicker === 'true',\n                                createMessage: Utils.localizeMessage('edit_post.editPost', 'Edit the post...'),\n                                supportsCommands: false,\n                                suggestionListStyle: 'bottom',\n                                id: 'edit_textbox',\n                                ref: 'editbox'\n                            }),\n                            _react2.default.createElement(\n                                'span',\n                                {\n                                    ref: 'editPostEmoji',\n                                    className: 'edit-post__actions'\n                                },\n                                emojiPicker\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: errorBoxClass },\n                                postError\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-footer' },\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'btn btn-default',\n                                    'data-dismiss': 'modal'\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'edit_post.cancel',\n                                    defaultMessage: 'Cancel'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'btn btn-primary',\n                                    onClick: this.handleEdit\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'edit_post.save',\n                                    defaultMessage: 'Save'\n                                })\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return EditPostModal;\n}(_react2.default.Component);\n\nexports.default = EditPostModal;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2388:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactAddonsPureRenderMixin = __webpack_require__(739);\n\nvar _reactAddonsPureRenderMixin2 = _interopRequireDefault(_reactAddonsPureRenderMixin);\n\nvar _modal_store = __webpack_require__(2080);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _team_store = __webpack_require__(35);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _get_link_modal = __webpack_require__(2188);\n\nvar _get_link_modal2 = _interopRequireDefault(_get_link_modal);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GetPostLinkModal = function (_React$Component) {\n    (0, _inherits3.default)(GetPostLinkModal, _React$Component);\n\n    function GetPostLinkModal(props) {\n        (0, _classCallCheck3.default)(this, GetPostLinkModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GetPostLinkModal.__proto__ || (0, _getPrototypeOf2.default)(GetPostLinkModal)).call(this, props));\n\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.hide = _this.hide.bind(_this);\n\n        _this.shouldComponentUpdate = _reactAddonsPureRenderMixin2.default.shouldComponentUpdate.bind(_this);\n\n        _this.state = {\n            show: false,\n            post: {}\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(GetPostLinkModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(_constants2.default.ActionTypes.TOGGLE_GET_POST_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(_constants2.default.ActionTypes.TOGGLE_GET_POST_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value, args) {\n            this.setState({\n                show: value,\n                post: args.post\n            });\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            this.setState({\n                show: false\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(_get_link_modal2.default, {\n                show: this.state.show,\n                onHide: this.hide,\n                title: Utils.localizeMessage('get_post_link_modal.title', 'Copy Permalink'),\n                helpText: Utils.localizeMessage('get_post_link_modal.help', 'The link below allows authorized users to see your post.'),\n                link: _team_store2.default.getCurrentTeamUrl() + '/pl/' + this.state.post.id\n            });\n        }\n    }]);\n    return GetPostLinkModal;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = GetPostLinkModal;\n\n/***/ }),\n\n/***/ 2389:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactAddonsPureRenderMixin = __webpack_require__(739);\n\nvar _reactAddonsPureRenderMixin2 = _interopRequireDefault(_reactAddonsPureRenderMixin);\n\nvar _file_actions = __webpack_require__(773);\n\nvar _modal_store = __webpack_require__(2080);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _get_link_modal = __webpack_require__(2188);\n\nvar _get_link_modal2 = _interopRequireDefault(_get_link_modal);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GetPublicLinkModal = function (_React$Component) {\n    (0, _inherits3.default)(GetPublicLinkModal, _React$Component);\n\n    function GetPublicLinkModal(props) {\n        (0, _classCallCheck3.default)(this, GetPublicLinkModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GetPublicLinkModal.__proto__ || (0, _getPrototypeOf2.default)(GetPublicLinkModal)).call(this, props));\n\n        _this.handlePublicLink = _this.handlePublicLink.bind(_this);\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.hide = _this.hide.bind(_this);\n\n        _this.shouldComponentUpdate = _reactAddonsPureRenderMixin2.default.shouldComponentUpdate.bind(_this);\n\n        _this.state = {\n            show: false,\n            fileId: '',\n            link: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(GetPublicLinkModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(_constants2.default.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            if (this.state.show && !prevState.show) {\n                (0, _file_actions.getPublicLink)(this.state.fileId, this.handlePublicLink);\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(_constants2.default.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'handlePublicLink',\n        value: function handlePublicLink(link) {\n            this.setState({\n                link: link\n            });\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value, args) {\n            this.setState({\n                show: value,\n                fileId: args.fileId,\n                link: ''\n            });\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            this.setState({\n                show: false\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(_get_link_modal2.default, {\n                show: this.state.show,\n                onHide: this.hide,\n                title: Utils.localizeMessage('get_public_link_modal.title', 'Copy Public Link'),\n                helpText: Utils.localizeMessage('get_public_link_modal.help', 'The link below allows anyone to see this file without being registered on this server.'),\n                link: this.state.link\n            });\n        }\n    }]);\n    return GetPublicLinkModal;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = GetPublicLinkModal;\n\n/***/ }),\n\n/***/ 2390:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactAddonsPureRenderMixin = __webpack_require__(739);\n\nvar _reactAddonsPureRenderMixin2 = _interopRequireDefault(_reactAddonsPureRenderMixin);\n\nvar _modal_store = __webpack_require__(2080);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _team_store = __webpack_require__(35);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _get_link_modal = __webpack_require__(2188);\n\nvar _get_link_modal2 = _interopRequireDefault(_get_link_modal);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GetTeamInviteLinkModal = function (_React$Component) {\n    (0, _inherits3.default)(GetTeamInviteLinkModal, _React$Component);\n\n    function GetTeamInviteLinkModal(props) {\n        (0, _classCallCheck3.default)(this, GetTeamInviteLinkModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GetTeamInviteLinkModal.__proto__ || (0, _getPrototypeOf2.default)(GetTeamInviteLinkModal)).call(this, props));\n\n        _this.handleToggle = _this.handleToggle.bind(_this);\n\n        _this.shouldComponentUpdate = _reactAddonsPureRenderMixin2.default.shouldComponentUpdate.bind(_this);\n\n        _this.state = {\n            show: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(GetTeamInviteLinkModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(_constants2.default.ActionTypes.TOGGLE_GET_TEAM_INVITE_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(_constants2.default.ActionTypes.TOGGLE_GET_TEAM_INVITE_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value) {\n            this.setState({\n                show: value\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var helpText = void 0;\n            if (global.window.mm_config.EnableUserCreation === 'true') {\n                helpText = Utils.localizeMessage('get_team_invite_link_modal.help', 'Send teammates the link below for them to sign-up to this team site. The Team Invite Link can be shared with multiple teammates as it does not change unless it\\'s regenerated in Team Settings by a Team Admin.');\n            } else {\n                helpText = Utils.localizeMessage('get_team_invite_link_modal.helpDisabled', 'User creation has been disabled for your team. Please ask your team administrator for details.');\n            }\n\n            return _react2.default.createElement(_get_link_modal2.default, {\n                show: this.state.show,\n                onHide: function onHide() {\n                    return _this2.setState({ show: false });\n                },\n                title: Utils.localizeMessage('get_team_invite_link_modal.title', 'Team Invite Link'),\n                helpText: helpText,\n                link: _team_store2.default.getCurrentInviteLink()\n            });\n        }\n    }]);\n    return GetTeamInviteLinkModal;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = GetTeamInviteLinkModal;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2391:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(40);\n\nvar _reactDom = __webpack_require__(47);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _team_actions = __webpack_require__(435);\n\nvar _channel_store = __webpack_require__(32);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _modal_store = __webpack_require__(2080);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _team_store = __webpack_require__(35);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _confirm_modal = __webpack_require__(311);\n\nvar _confirm_modal2 = _interopRequireDefault(_confirm_modal);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ActionTypes = _constants2.default.ActionTypes; // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar holders = (0, _reactIntl.defineMessages)({\n    emailError: {\n        id: 'invite_member.emailError',\n        defaultMessage: 'Please enter a valid email address'\n    },\n    firstname: {\n        id: 'invite_member.firstname',\n        defaultMessage: 'First name'\n    },\n    lastname: {\n        id: 'invite_member.lastname',\n        defaultMessage: 'Last name'\n    },\n    modalTitle: {\n        id: 'invite_member.modalTitle',\n        defaultMessage: 'Discard Invitations?'\n    },\n    modalMessage: {\n        id: 'invite_member.modalMessage',\n        defaultMessage: 'You have unsent invitations, are you sure you want to discard them?'\n    },\n    modalButton: {\n        id: 'invite_member.modalButton',\n        defaultMessage: 'Yes, Discard'\n    }\n});\n\nvar InviteMemberModal = function (_React$Component) {\n    (0, _inherits3.default)(InviteMemberModal, _React$Component);\n\n    function InviteMemberModal(props) {\n        (0, _classCallCheck3.default)(this, InviteMemberModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (InviteMemberModal.__proto__ || (0, _getPrototypeOf2.default)(InviteMemberModal)).call(this, props));\n\n        _this.teamChange = _this.teamChange.bind(_this);\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleHide = _this.handleHide.bind(_this);\n        _this.addInviteFields = _this.addInviteFields.bind(_this);\n        _this.clearFields = _this.clearFields.bind(_this);\n        _this.removeInviteFields = _this.removeInviteFields.bind(_this);\n        _this.showGetTeamInviteLinkModal = _this.showGetTeamInviteLinkModal.bind(_this);\n        _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n\n        var team = _team_store2.default.getCurrent();\n\n        _this.state = {\n            show: false,\n            inviteIds: [0],\n            idCount: 0,\n            emailErrors: {},\n            firstNameErrors: {},\n            lastNameErrors: {},\n            emailEnabled: global.window.mm_config.SendEmailNotifications === 'true',\n            userCreationEnabled: global.window.mm_config.EnableUserCreation === 'true',\n            showConfirmModal: false,\n            isSendingEmails: false,\n            teamType: team ? team.type : null\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(InviteMemberModal, [{\n        key: 'teamChange',\n        value: function teamChange() {\n            var team = _team_store2.default.getCurrent();\n            var teamType = team ? team.type : null;\n            this.setState({\n                teamType: teamType\n            });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(ActionTypes.TOGGLE_INVITE_MEMBER_MODAL, this.handleToggle);\n            _team_store2.default.addChangeListener(this.teamChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(ActionTypes.TOGGLE_INVITE_MEMBER_MODAL, this.handleToggle);\n            _team_store2.default.removeChangeListener(this.teamChange);\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value) {\n            this.setState({\n                show: value,\n                serverError: null\n            });\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit() {\n            var _this2 = this;\n\n            if (!this.state.emailEnabled) {\n                return;\n            }\n\n            var inviteIds = this.state.inviteIds;\n            var count = inviteIds.length;\n            var invites = [];\n            var emailErrors = this.state.emailErrors;\n            var firstNameErrors = this.state.firstNameErrors;\n            var lastNameErrors = this.state.lastNameErrors;\n            var valid = true;\n\n            for (var i = 0; i < count; i++) {\n                var invite = {};\n                var index = inviteIds[i];\n                invite.email = _reactDom2.default.findDOMNode(this.refs['email' + index]).value.trim();\n                invite.firstName = _reactDom2.default.findDOMNode(this.refs['first_name' + index]).value.trim();\n                invite.lastName = _reactDom2.default.findDOMNode(this.refs['last_name' + index]).value.trim();\n                if (invite.email !== '' || index === 0) {\n                    if (!invite.email || !utils.isEmail(invite.email)) {\n                        emailErrors[index] = this.props.intl.formatMessage(holders.emailError);\n                        valid = false;\n                    } else {\n                        emailErrors[index] = '';\n                    }\n                    invites.push(invite);\n                }\n            }\n\n            this.setState({ emailErrors: emailErrors, firstNameErrors: firstNameErrors, lastNameErrors: lastNameErrors });\n\n            if (!valid || invites.length === 0) {\n                return;\n            }\n\n            var data = {};\n            data.invites = invites;\n\n            this.setState({ isSendingEmails: true });\n\n            (0, _team_actions.inviteMembers)(data, function () {\n                _this2.handleHide(false);\n                _this2.setState({ isSendingEmails: false });\n            }, function (err) {\n                if (err.id === 'api.team.invite_members.already.app_error') {\n                    emailErrors[err.detailed_error] = err.message;\n                    _this2.setState({ emailErrors: emailErrors });\n                } else {\n                    _this2.setState({ serverError: err.message });\n                }\n\n                _this2.setState({ isSendingEmails: false });\n            });\n        }\n    }, {\n        key: 'handleHide',\n        value: function handleHide(requireConfirm) {\n            if (requireConfirm) {\n                var notEmpty = false;\n                for (var i = 0; i < this.state.inviteIds.length; i++) {\n                    var index = this.state.inviteIds[i];\n                    if (_reactDom2.default.findDOMNode(this.refs['email' + index]).value.trim() !== '') {\n                        notEmpty = true;\n                        break;\n                    }\n                }\n\n                if (notEmpty) {\n                    this.setState({\n                        showConfirmModal: true\n                    });\n\n                    return;\n                }\n            }\n\n            this.clearFields();\n\n            this.setState({\n                show: false,\n                showConfirmModal: false\n            });\n        }\n    }, {\n        key: 'addInviteFields',\n        value: function addInviteFields() {\n            var count = this.state.idCount + 1;\n            var inviteIds = this.state.inviteIds;\n            inviteIds.push(count);\n            this.setState({ inviteIds: inviteIds, idCount: count });\n        }\n    }, {\n        key: 'clearFields',\n        value: function clearFields() {\n            var inviteIds = this.state.inviteIds;\n\n            for (var i = 0; i < inviteIds.length; i++) {\n                var index = inviteIds[i];\n                _reactDom2.default.findDOMNode(this.refs['email' + index]).value = '';\n                _reactDom2.default.findDOMNode(this.refs['first_name' + index]).value = '';\n                _reactDom2.default.findDOMNode(this.refs['last_name' + index]).value = '';\n            }\n\n            this.setState({\n                inviteIds: [0],\n                idCount: 0,\n                emailErrors: {},\n                firstNameErrors: {},\n                lastNameErrors: {}\n            });\n        }\n    }, {\n        key: 'removeInviteFields',\n        value: function removeInviteFields(index) {\n            var count = this.state.idCount;\n            var inviteIds = this.state.inviteIds;\n            var i = inviteIds.indexOf(index);\n            if (i > -1) {\n                inviteIds.splice(i, 1);\n            }\n            if (!inviteIds.length) {\n                inviteIds.push(++count);\n            }\n            this.setState({ inviteIds: inviteIds, idCount: count });\n        }\n    }, {\n        key: 'showGetTeamInviteLinkModal',\n        value: function showGetTeamInviteLinkModal() {\n            this.handleHide(false);\n\n            GlobalActions.showGetTeamInviteLinkModal();\n        }\n    }, {\n        key: 'handleKeyDown',\n        value: function handleKeyDown(e) {\n            if (e.keyCode === _constants2.default.KeyCodes.ENTER) {\n                e.preventDefault();\n                this.handleSubmit();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            var currentUser = _user_store2.default.getCurrentUser();\n            var formatMessage = this.props.intl.formatMessage;\n\n\n            if (currentUser != null && this.state.teamType != null) {\n                var inviteSections = [];\n                var inviteIds = this.state.inviteIds;\n                for (var i = 0; i < inviteIds.length; i++) {\n                    var index = inviteIds[i];\n                    var emailError = null;\n                    if (this.state.emailErrors[index]) {\n                        emailError = _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' },\n                            this.state.emailErrors[index]\n                        );\n                    }\n                    var firstNameError = null;\n                    if (this.state.firstNameErrors[index]) {\n                        firstNameError = _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' },\n                            this.state.firstNameErrors[index]\n                        );\n                    }\n                    var lastNameError = null;\n                    if (this.state.lastNameErrors[index]) {\n                        lastNameError = _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' },\n                            this.state.lastNameErrors[index]\n                        );\n                    }\n\n                    var removeButton = null;\n                    if (index) {\n                        removeButton = _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'btn btn-link remove__member',\n                                    onClick: this.removeInviteFields.bind(this, index)\n                                },\n                                _react2.default.createElement('span', { className: 'fa fa-trash' })\n                            )\n                        );\n                    }\n                    var emailClass = 'form-group invite';\n                    if (emailError) {\n                        emailClass += ' has-error';\n                    }\n\n                    var nameFields = null;\n\n                    var firstNameClass = 'form-group';\n                    if (firstNameError) {\n                        firstNameClass += ' has-error';\n                    }\n                    var lastNameClass = 'form-group';\n                    if (lastNameError) {\n                        lastNameClass += ' has-error';\n                    }\n                    nameFields = _react2.default.createElement(\n                        'div',\n                        { className: 'row row--invite' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-6' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: firstNameClass },\n                                _react2.default.createElement('input', {\n                                    onKeyDown: this.handleKeyDown,\n                                    type: 'text',\n                                    className: 'form-control',\n                                    ref: 'first_name' + index,\n                                    placeholder: formatMessage(holders.firstname),\n                                    maxLength: '64',\n                                    disabled: !this.state.emailEnabled || !this.state.userCreationEnabled,\n                                    spellCheck: 'false'\n                                }),\n                                firstNameError\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-6' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: lastNameClass },\n                                _react2.default.createElement('input', {\n                                    onKeyDown: this.handleKeyDown,\n                                    type: 'text',\n                                    className: 'form-control',\n                                    ref: 'last_name' + index,\n                                    placeholder: formatMessage(holders.lastname),\n                                    maxLength: '64',\n                                    disabled: !this.state.emailEnabled || !this.state.userCreationEnabled,\n                                    spellCheck: 'false'\n                                }),\n                                lastNameError\n                            )\n                        )\n                    );\n\n                    inviteSections[index] = _react2.default.createElement(\n                        'div',\n                        { key: 'key' + index },\n                        removeButton,\n                        _react2.default.createElement(\n                            'div',\n                            { className: emailClass },\n                            _react2.default.createElement('input', {\n                                onKeyUp: this.displayNameKeyUp,\n                                onKeyDown: this.handleKeyDown,\n                                type: 'text',\n                                ref: 'email' + index,\n                                className: 'form-control',\n                                placeholder: 'email@domain.com',\n                                maxLength: '64',\n                                disabled: !this.state.emailEnabled || !this.state.userCreationEnabled,\n                                spellCheck: 'false'\n                            }),\n                            emailError\n                        ),\n                        nameFields\n                    );\n                }\n\n                var serverError = null;\n                if (this.state.serverError) {\n                    serverError = _react2.default.createElement(\n                        'div',\n                        { className: 'form-group has-error' },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' },\n                            this.state.serverError\n                        )\n                    );\n                }\n\n                var content = null;\n                var sendButton = null;\n\n                var defaultChannelName = '';\n                if (_channel_store2.default.getByName(_constants2.default.DEFAULT_CHANNEL)) {\n                    defaultChannelName = _channel_store2.default.getByName(_constants2.default.DEFAULT_CHANNEL).display_name;\n                }\n\n                if (this.state.emailEnabled && this.state.userCreationEnabled) {\n                    content = _react2.default.createElement(\n                        'div',\n                        null,\n                        serverError,\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                type: 'button',\n                                className: 'btn btn-default',\n                                onClick: this.addInviteFields\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.addAnother',\n                                defaultMessage: 'Add another'\n                            })\n                        ),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(\n                            'span',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                                id: 'invite_member.autoJoin',\n                                defaultMessage: 'People invited automatically join the <strong>{channel}</strong> channel.',\n                                values: {\n                                    channel: defaultChannelName\n                                }\n                            })\n                        )\n                    );\n\n                    var sendButtonLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'invite_member.send',\n                        defaultMessage: 'Send Invitation'\n                    });\n                    if (this.state.isSendingEmails) {\n                        sendButtonLabel = _react2.default.createElement(\n                            'span',\n                            null,\n                            _react2.default.createElement('i', { className: 'fa fa-spinner fa-spin' }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.sending',\n                                defaultMessage: ' Sending'\n                            })\n                        );\n                    } else if (this.state.inviteIds.length > 1) {\n                        sendButtonLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'invite_member.send2',\n                            defaultMessage: 'Send Invitations'\n                        });\n                    }\n\n                    sendButton = _react2.default.createElement(\n                        'button',\n                        {\n                            onClick: this.handleSubmit,\n                            type: 'button',\n                            className: 'btn btn-primary',\n                            disabled: this.state.isSendingEmails\n                        },\n                        sendButtonLabel\n                    );\n                } else if (this.state.userCreationEnabled) {\n                    var teamInviteLink = null;\n                    if (currentUser && this.state.teamType === 'O') {\n                        var link = _react2.default.createElement(\n                            'button',\n                            {\n                                className: 'color--link style--none',\n                                onClick: this.showGetTeamInviteLinkModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.inviteLink',\n                                defaultMessage: 'Team Invite Link'\n                            })\n                        );\n\n                        teamInviteLink = _react2.default.createElement(\n                            'p',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.teamInviteLink',\n                                defaultMessage: 'You can also invite people using the {link}.',\n                                values: {\n                                    link: link\n                                }\n                            })\n                        );\n                    }\n\n                    content = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(\n                            'p',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.content',\n                                defaultMessage: 'Email is currently disabled for your team, and email invitations cannot be sent. Contact your System Administrator to enable email and email invitations.'\n                            })\n                        ),\n                        teamInviteLink\n                    );\n                } else {\n                    content = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(\n                            'p',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.disabled',\n                                defaultMessage: 'User creation has been disabled for your team. Please ask your Team Administrator for details.'\n                            })\n                        )\n                    );\n                }\n\n                return _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal,\n                        {\n                            dialogClassName: 'modal-invite-member',\n                            show: this.state.show,\n                            onHide: this.handleHide.bind(this, true),\n                            enforceFocus: !this.state.showConfirmModal,\n                            backdrop: this.state.isSendingEmails ? 'static' : true\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Header,\n                            { closeButton: !this.state.isSendingEmails },\n                            _react2.default.createElement(\n                                _reactBootstrap.Modal.Title,\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'invite_member.newMember',\n                                    defaultMessage: 'Send Email Invite'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Body,\n                            { ref: 'modalBody' },\n                            _react2.default.createElement(\n                                'form',\n                                { role: 'form' },\n                                inviteSections\n                            ),\n                            content\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Footer,\n                            null,\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'btn btn-default',\n                                    onClick: this.handleHide.bind(this, true),\n                                    disabled: this.state.isSendingEmails\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'invite_member.cancel',\n                                    defaultMessage: 'Cancel'\n                                })\n                            ),\n                            sendButton\n                        )\n                    ),\n                    _react2.default.createElement(_confirm_modal2.default, {\n                        title: formatMessage(holders.modalTitle),\n                        message: formatMessage(holders.modalMessage),\n                        confirmButtonText: formatMessage(holders.modalButton),\n                        show: this.state.showConfirmModal,\n                        onConfirm: this.handleHide.bind(this, false),\n                        onCancel: function onCancel() {\n                            return _this3.setState({ showConfirmModal: false });\n                        }\n                    })\n                );\n            }\n\n            return null;\n        }\n    }]);\n    return InviteMemberModal;\n}(_react2.default.Component);\n\nInviteMemberModal.propTypes = {\n    intl: _reactIntl.intlShape.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(InviteMemberModal);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2392:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(40);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _modal_store = __webpack_require__(2080);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(436);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _constants = __webpack_require__(9);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar LeaveTeamModal = function (_React$Component) {\n    (0, _inherits3.default)(LeaveTeamModal, _React$Component);\n\n    function LeaveTeamModal(props) {\n        (0, _classCallCheck3.default)(this, LeaveTeamModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (LeaveTeamModal.__proto__ || (0, _getPrototypeOf2.default)(LeaveTeamModal)).call(this, props));\n\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleHide = _this.handleHide.bind(_this);\n        _this.handleKeyPress = _this.handleKeyPress.bind(_this);\n\n        _this.state = {\n            show: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(LeaveTeamModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_LEAVE_TEAM_MODAL, this.handleToggle);\n            document.addEventListener('keypress', this.handleKeyPress);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(_constants.ActionTypes.TOGGLE_LEAVE_TEAM_MODAL, this.handleToggle);\n            document.removeEventListener('keypress', this.handleKeyPress);\n        }\n    }, {\n        key: 'handleKeyPress',\n        value: function handleKeyPress(e) {\n            if (e.key === 'Enter' && this.state.show) {\n                this.handleSubmit(e);\n            }\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value) {\n            this.setState({\n                show: value\n            });\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(e) {\n            this.setState({\n                show: false\n            });\n\n            if (_webrtc_store2.default.isBusy()) {\n                _webrtc_store2.default.emitChanged({ action: _constants.WebrtcActionTypes.IN_PROGRESS });\n                e.preventDefault();\n                return;\n            }\n\n            GlobalActions.emitLeaveTeam();\n            GlobalActions.toggleSideBarRightMenuAction();\n        }\n    }, {\n        key: 'handleHide',\n        value: function handleHide() {\n            this.setState({\n                show: false\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var currentUser = _user_store2.default.getCurrentUser();\n\n            if (currentUser != null) {\n                return _react2.default.createElement(\n                    _reactBootstrap.Modal,\n                    {\n                        className: 'modal-confirm',\n                        show: this.state.show,\n                        onHide: this.handleHide\n                    },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Header,\n                        { closeButton: false },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Title,\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'leave_team_modal.title',\n                                defaultMessage: 'Leave the team?'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Body,\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'leave_team_modal.desc',\n                            defaultMessage: 'You will be removed from all public and private channels.  If the team is private you will not be able to rejoin the team.  Are you sure?'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Footer,\n                        null,\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                type: 'button',\n                                className: 'btn btn-default',\n                                onClick: this.handleHide\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'leave_team_modal.no',\n                                defaultMessage: 'No'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                type: 'button',\n                                className: 'btn btn-danger',\n                                onClick: this.handleSubmit\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'leave_team_modal.yes',\n                                defaultMessage: 'Yes'\n                            })\n                        )\n                    )\n                );\n            }\n\n            return null;\n        }\n    }]);\n    return LeaveTeamModal;\n}(_react2.default.Component);\n\nLeaveTeamModal.propTypes = {\n    intl: _reactIntl.intlShape.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(LeaveTeamModal);\n\n/***/ }),\n\n/***/ 2393:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _channel_actions = __webpack_require__(79);\n\nvar ChannelActions = _interopRequireWildcard(_channel_actions);\n\nvar _modal_store = __webpack_require__(2080);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _confirm_modal = __webpack_require__(311);\n\nvar _confirm_modal2 = _interopRequireDefault(_confirm_modal);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar LeavePrivateChannelModal = function (_React$Component) {\n    (0, _inherits3.default)(LeavePrivateChannelModal, _React$Component);\n\n    function LeavePrivateChannelModal(props) {\n        (0, _classCallCheck3.default)(this, LeavePrivateChannelModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (LeavePrivateChannelModal.__proto__ || (0, _getPrototypeOf2.default)(LeavePrivateChannelModal)).call(this, props));\n\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleHide = _this.handleHide.bind(_this);\n        _this.handleKeyPress = _this.handleKeyPress.bind(_this);\n\n        _this.state = {\n            show: false,\n            channel: null\n        };\n        _this.mounted = false;\n        return _this;\n    }\n\n    (0, _createClass3.default)(LeavePrivateChannelModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.mounted = true;\n            _modal_store2.default.addModalListener(_constants2.default.ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.mounted = false;\n            _modal_store2.default.removeModalListener(_constants2.default.ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'handleKeyPress',\n        value: function handleKeyPress(e) {\n            if (e.key === 'Enter' && this.state.show) {\n                this.handleSubmit();\n            }\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit() {\n            var channelId = this.state.channel.id;\n            this.setState({\n                show: false,\n                channel: null\n            });\n            ChannelActions.leaveChannel(channelId);\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value) {\n            this.setState({\n                channel: value,\n                show: value !== null\n            });\n        }\n    }, {\n        key: 'handleHide',\n        value: function handleHide() {\n            this.setState({\n                show: false\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var title = '';\n            var message = '';\n            if (this.state.channel) {\n                title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'leave_private_channel_modal.title',\n                    defaultMessage: 'Leave Private Channel {channel}',\n                    values: {\n                        channel: _react2.default.createElement(\n                            'b',\n                            null,\n                            this.state.channel.display_name\n                        )\n                    }\n                });\n\n                message = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'leave_private_channel_modal.message',\n                    defaultMessage: 'Are you sure you wish to leave the private channel {channel}? You must be re-invited in order to re-join this channel in the future.',\n                    values: {\n                        channel: _react2.default.createElement(\n                            'b',\n                            null,\n                            this.state.channel.display_name\n                        )\n                    }\n                });\n            }\n\n            var buttonClass = 'btn btn-danger';\n            var button = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'leave_private_channel_modal.leave',\n                defaultMessage: 'Yes, leave channel'\n            });\n\n            return _react2.default.createElement(_confirm_modal2.default, {\n                show: this.state.show,\n                title: title,\n                message: message,\n                confirmButtonClass: buttonClass,\n                confirmButtonText: button,\n                onConfirm: this.handleSubmit,\n                onCancel: this.handleHide\n            });\n        }\n    }]);\n    return LeavePrivateChannelModal;\n}(_react2.default.Component);\n\nLeavePrivateChannelModal.propTypes = {\n    intl: _reactIntl.intlShape.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(LeavePrivateChannelModal);\n\n/***/ }),\n\n/***/ 2394:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _es = __webpack_require__(44);\n\nvar _edit_channel_header_modal = __webpack_require__(449);\n\nvar _edit_channel_header_modal2 = _interopRequireDefault(_edit_channel_header_modal);\n\nvar _edit_channel_purpose_modal = __webpack_require__(774);\n\nvar _edit_channel_purpose_modal2 = _interopRequireDefault(_edit_channel_purpose_modal);\n\nvar _channel_actions = __webpack_require__(79);\n\nvar ChannelActions = _interopRequireWildcard(_channel_actions);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _post_actions = __webpack_require__(73);\n\nvar _app_dispatcher = __webpack_require__(34);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _channel_store = __webpack_require__(32);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _modal_store = __webpack_require__(2080);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _preference_store = __webpack_require__(119);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _search_store = __webpack_require__(313);\n\nvar _search_store2 = _interopRequireDefault(_search_store);\n\nvar _team_store = __webpack_require__(35);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _channel_utils = __webpack_require__(121);\n\nvar ChannelUtils = _interopRequireWildcard(_channel_utils);\n\nvar _constants = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _channel_info_modal = __webpack_require__(775);\n\nvar _channel_info_modal2 = _interopRequireDefault(_channel_info_modal);\n\nvar _channel_invite_modal = __webpack_require__(318);\n\nvar _channel_invite_modal2 = _interopRequireDefault(_channel_invite_modal);\n\nvar _channel_members_modal = __webpack_require__(451);\n\nvar _channel_members_modal2 = _interopRequireDefault(_channel_members_modal);\n\nvar _channel_notifications_modal = __webpack_require__(778);\n\nvar _channel_notifications_modal2 = _interopRequireDefault(_channel_notifications_modal);\n\nvar _delete_channel_modal = __webpack_require__(780);\n\nvar _delete_channel_modal2 = _interopRequireDefault(_delete_channel_modal);\n\nvar _notify_counts = __webpack_require__(2395);\n\nvar _notify_counts2 = _interopRequireDefault(_notify_counts);\n\nvar _quick_switch_modal = __webpack_require__(2396);\n\nvar _quick_switch_modal2 = _interopRequireDefault(_quick_switch_modal);\n\nvar _rename_channel_modal = __webpack_require__(781);\n\nvar _rename_channel_modal2 = _interopRequireDefault(_rename_channel_modal);\n\nvar _status_icon = __webpack_require__(440);\n\nvar _status_icon2 = _interopRequireDefault(_status_icon);\n\nvar _toggle_modal_button = __webpack_require__(441);\n\nvar _toggle_modal_button2 = _interopRequireDefault(_toggle_modal_button);\n\nvar _navbar_info_button = __webpack_require__(2400);\n\nvar _navbar_info_button2 = _interopRequireDefault(_navbar_info_button);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Navbar = function (_React$Component) {\n    (0, _inherits3.default)(Navbar, _React$Component);\n\n    function Navbar(props) {\n        (0, _classCallCheck3.default)(this, Navbar);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (Navbar.__proto__ || (0, _getPrototypeOf2.default)(Navbar)).call(this, props));\n\n        _this.toggleFavorite = function (e) {\n            e.preventDefault();\n\n            if (_this.state.isFavorite) {\n                ChannelActions.unmarkFavorite(_this.state.channel.id);\n            } else {\n                ChannelActions.markFavorite(_this.state.channel.id);\n            }\n        };\n\n        _this.onChange = _this.onChange.bind(_this);\n        _this.handleLeave = _this.handleLeave.bind(_this);\n        _this.showSearch = _this.showSearch.bind(_this);\n\n        _this.showEditChannelHeaderModal = _this.showEditChannelHeaderModal.bind(_this);\n        _this.hideEditChannelHeaderModal = _this.hideEditChannelHeaderModal.bind(_this);\n        _this.showChannelPurposeModal = _this.showChannelPurposeModal.bind(_this);\n        _this.hideChannelPurposeModal = _this.hideChannelPurposeModal.bind(_this);\n        _this.showRenameChannelModal = _this.showRenameChannelModal.bind(_this);\n        _this.hideRenameChannelModal = _this.hideRenameChannelModal.bind(_this);\n        _this.isStateValid = _this.isStateValid.bind(_this);\n\n        _this.createCollapseButtons = _this.createCollapseButtons.bind(_this);\n        _this.createDropdown = _this.createDropdown.bind(_this);\n\n        _this.showMembersModal = _this.showMembersModal.bind(_this);\n        _this.hideMembersModal = _this.hideMembersModal.bind(_this);\n\n        _this.toggleQuickSwitchModal = _this.toggleQuickSwitchModal.bind(_this);\n        _this.hideQuickSwitchModal = _this.hideQuickSwitchModal.bind(_this);\n        _this.handleQuickSwitchKeyPress = _this.handleQuickSwitchKeyPress.bind(_this);\n\n        _this.openDirectMessageModal = _this.openDirectMessageModal.bind(_this);\n        _this.getPinnedPosts = _this.getPinnedPosts.bind(_this);\n\n        var state = _this.getStateFromStores();\n        state.showEditChannelPurposeModal = false;\n        state.showEditChannelHeaderModal = false;\n        state.showMembersModal = false;\n        state.showRenameChannelModal = false;\n        state.showQuickSwitchModal = false;\n        state.quickSwitchMode = 'channel';\n        _this.state = state;\n        return _this;\n    }\n\n    (0, _createClass3.default)(Navbar, [{\n        key: 'getStateFromStores',\n        value: function getStateFromStores() {\n            var channel = _channel_store2.default.getCurrent();\n\n            return {\n                channel: channel,\n                member: _channel_store2.default.getCurrentMember(),\n                users: [],\n                userCount: _channel_store2.default.getCurrentStats().member_count,\n                currentUser: _user_store2.default.getCurrentUser(),\n                isFavorite: channel && ChannelUtils.isFavoriteChannel(channel)\n            };\n        }\n    }, {\n        key: 'isStateValid',\n        value: function isStateValid() {\n            return this.state.channel && this.state.member && this.state.users && this.state.currentUser;\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _channel_store2.default.addChangeListener(this.onChange);\n            _channel_store2.default.addStatsChangeListener(this.onChange);\n            _user_store2.default.addStatusesChangeListener(this.onChange);\n            _user_store2.default.addChangeListener(this.onChange);\n            _preference_store2.default.addChangeListener(this.onChange);\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_QUICK_SWITCH_MODAL, this.toggleQuickSwitchModal);\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_CHANNEL_HEADER_UPDATE_MODAL, this.showEditChannelHeaderModal);\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL, this.showChannelPurposeModal);\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_CHANNEL_NAME_UPDATE_MODAL, this.showRenameChannelModal);\n            (0, _jquery2.default)('.inner-wrap').click(this.hideSidebars);\n            document.addEventListener('keydown', this.handleQuickSwitchKeyPress);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _channel_store2.default.removeChangeListener(this.onChange);\n            _channel_store2.default.removeStatsChangeListener(this.onChange);\n            _user_store2.default.removeStatusesChangeListener(this.onChange);\n            _user_store2.default.removeChangeListener(this.onChange);\n            _preference_store2.default.removeChangeListener(this.onChange);\n            _modal_store2.default.removeModalListener(_constants.ActionTypes.TOGGLE_QUICK_SWITCH_MODAL, this.toggleQuickSwitchModal);\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_CHANNEL_HEADER_UPDATE_MODAL, this.hideEditChannelHeaderModal);\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL, this.hideChannelPurposeModal);\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_CHANNEL_NAME_UPDATE_MODAL, this.hideRenameChannelModal);\n            document.removeEventListener('keydown', this.handleQuickSwitchKeyPress);\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(e) {\n            e.preventDefault();\n        }\n    }, {\n        key: 'handleLeave',\n        value: function handleLeave() {\n            if (this.state.channel.type === _constants.Constants.PRIVATE_CHANNEL) {\n                GlobalActions.showLeavePrivateChannelModal(this.state.channel);\n            } else {\n                ChannelActions.leaveChannel(this.state.channel.id);\n            }\n        }\n    }, {\n        key: 'hideSidebars',\n        value: function hideSidebars(e) {\n            var windowWidth = (0, _jquery2.default)(window).outerWidth();\n            if (windowWidth <= 768) {\n                _app_dispatcher2.default.handleServerAction({\n                    type: _constants.ActionTypes.RECEIVED_SEARCH,\n                    results: null\n                });\n\n                _app_dispatcher2.default.handleServerAction({\n                    type: _constants.ActionTypes.RECEIVED_POST_SELECTED,\n                    postId: null,\n                    channelId: null\n                });\n\n                if (e.target.className !== 'navbar-toggle' && e.target.className !== 'icon-bar') {\n                    (0, _jquery2.default)('.app__body .inner-wrap').removeClass('move--right move--left move--left-small');\n                    (0, _jquery2.default)('.app__body .sidebar--left').removeClass('move--right');\n                    (0, _jquery2.default)('.multi-teams .team-sidebar').removeClass('move--right');\n                    (0, _jquery2.default)('.app__body .sidebar--right').removeClass('move--left');\n                    (0, _jquery2.default)('.app__body .sidebar--menu').removeClass('move--left');\n                }\n            }\n        }\n    }, {\n        key: 'toggleLeftSidebar',\n        value: function toggleLeftSidebar() {\n            (0, _jquery2.default)('.app__body .inner-wrap').toggleClass('move--right');\n            (0, _jquery2.default)('.app__body .sidebar--left').toggleClass('move--right');\n            (0, _jquery2.default)('.multi-teams .team-sidebar').toggleClass('move--right');\n        }\n    }, {\n        key: 'toggleRightSidebar',\n        value: function toggleRightSidebar() {\n            (0, _jquery2.default)('.app__body .inner-wrap').toggleClass('move--left-small');\n            (0, _jquery2.default)('.app__body .sidebar--menu').toggleClass('move--left');\n        }\n    }, {\n        key: 'showSearch',\n        value: function showSearch() {\n            _app_dispatcher2.default.handleServerAction({\n                type: _constants.ActionTypes.SHOW_SEARCH\n            });\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange() {\n            this.setState(this.getStateFromStores());\n        }\n    }, {\n        key: 'showEditChannelHeaderModal',\n        value: function showEditChannelHeaderModal() {\n            this.setState({\n                showEditChannelHeaderModal: true\n            });\n        }\n    }, {\n        key: 'hideEditChannelHeaderModal',\n        value: function hideEditChannelHeaderModal() {\n            this.setState({\n                showEditChannelHeaderModal: false\n            });\n        }\n    }, {\n        key: 'showChannelPurposeModal',\n        value: function showChannelPurposeModal() {\n            this.setState({\n                showEditChannelPurposeModal: true\n            });\n        }\n    }, {\n        key: 'hideChannelPurposeModal',\n        value: function hideChannelPurposeModal() {\n            this.setState({\n                showEditChannelPurposeModal: false\n            });\n        }\n    }, {\n        key: 'showRenameChannelModal',\n        value: function showRenameChannelModal() {\n            this.setState({\n                showRenameChannelModal: true\n            });\n        }\n    }, {\n        key: 'hideRenameChannelModal',\n        value: function hideRenameChannelModal() {\n            this.setState({\n                showRenameChannelModal: false\n            });\n        }\n    }, {\n        key: 'showMembersModal',\n        value: function showMembersModal(e) {\n            e.preventDefault();\n\n            this.setState({ showMembersModal: true });\n        }\n    }, {\n        key: 'hideMembersModal',\n        value: function hideMembersModal() {\n            this.setState({ showMembersModal: false });\n        }\n    }, {\n        key: 'handleQuickSwitchKeyPress',\n        value: function handleQuickSwitchKeyPress(e) {\n            if (Utils.cmdOrCtrlPressed(e) && !e.shiftKey && e.keyCode === _constants.Constants.KeyCodes.K) {\n                if (!e.altKey) {\n                    e.preventDefault();\n                    this.toggleQuickSwitchModal('channel');\n                }\n            }\n        }\n    }, {\n        key: 'toggleQuickSwitchModal',\n        value: function toggleQuickSwitchModal() {\n            var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'channel';\n\n            if (this.state.showQuickSwitchModal) {\n                this.setState({ showQuickSwitchModal: false, quickSwitchMode: 'channel' });\n            } else {\n                this.setState({ showQuickSwitchModal: true, quickSwitchMode: mode });\n            }\n        }\n    }, {\n        key: 'hideQuickSwitchModal',\n        value: function hideQuickSwitchModal() {\n            this.setState({\n                showQuickSwitchModal: false,\n                quickSwitchMode: 'channel'\n            });\n        }\n    }, {\n        key: 'openDirectMessageModal',\n        value: function openDirectMessageModal() {\n            _app_dispatcher2.default.handleViewAction({\n                type: _constants.ActionTypes.TOGGLE_DM_MODAL,\n                value: true,\n                channelId: this.state.channel.id\n            });\n        }\n    }, {\n        key: 'getPinnedPosts',\n        value: function getPinnedPosts(e) {\n            e.preventDefault();\n            if (_search_store2.default.isPinnedPosts) {\n                GlobalActions.toggleSideBarAction(false);\n            } else {\n                (0, _post_actions.getPinnedPosts)(this.state.channel.id);\n            }\n        }\n    }, {\n        key: 'createDropdown',\n        value: function createDropdown(channel, channelTitle, isSystemAdmin, isTeamAdmin, isChannelAdmin, isDirect, isGroup) {\n            var _this2 = this;\n\n            if (channel) {\n                var viewInfoOption = void 0;\n                var viewPinnedPostsOption = void 0;\n                var addMembersOption = void 0;\n                var manageMembersOption = void 0;\n                var setChannelHeaderOption = void 0;\n                var setChannelPurposeOption = void 0;\n                var notificationPreferenceOption = void 0;\n                var renameChannelOption = void 0;\n                var deleteChannelOption = void 0;\n                var leaveChannelOption = void 0;\n\n                if (isDirect) {\n                    setChannelHeaderOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                role: 'menuitem',\n                                href: '#',\n                                onClick: this.showEditChannelHeaderModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'channel_header.channelHeader',\n                                defaultMessage: 'Set Channel Header...'\n                            })\n                        )\n                    );\n                } else if (isGroup) {\n                    setChannelHeaderOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                role: 'menuitem',\n                                href: '#',\n                                onClick: this.showEditChannelHeaderModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'channel_header.channelHeader',\n                                defaultMessage: 'Set Channel Header...'\n                            })\n                        )\n                    );\n\n                    notificationPreferenceOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            _toggle_modal_button2.default,\n                            {\n                                role: 'menuitem',\n                                dialogType: _channel_notifications_modal2.default,\n                                dialogProps: {\n                                    channel: channel,\n                                    channelMember: this.state.member,\n                                    currentUser: this.state.currentUser\n                                }\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar.preferences',\n                                defaultMessage: 'Notification Preferences'\n                            })\n                        )\n                    );\n\n                    addMembersOption = _react2.default.createElement(\n                        'li',\n                        {\n                            role: 'presentation'\n                        },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                role: 'menuitem',\n                                href: '#',\n                                onClick: this.openDirectMessageModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar.addMembers',\n                                defaultMessage: 'Add Members'\n                            })\n                        )\n                    );\n                } else {\n                    viewInfoOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            _toggle_modal_button2.default,\n                            {\n                                role: 'menuitem',\n                                dialogType: _channel_info_modal2.default,\n                                dialogProps: { channel: channel }\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar.viewInfo',\n                                defaultMessage: 'View Info'\n                            })\n                        )\n                    );\n\n                    viewPinnedPostsOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                role: 'menuitem',\n                                href: '#',\n                                onClick: this.getPinnedPosts\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar.viewPinnedPosts',\n                                defaultMessage: 'View Pinned Posts'\n                            })\n                        )\n                    );\n\n                    if (_channel_store2.default.isDefault(channel)) {\n                        manageMembersOption = _react2.default.createElement(\n                            'li',\n                            {\n                                key: 'view_members',\n                                role: 'presentation'\n                            },\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    role: 'menuitem',\n                                    href: '#',\n                                    onClick: this.showMembersModal\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_header.viewMembers',\n                                    defaultMessage: 'View Members'\n                                })\n                            )\n                        );\n                    } else {\n                        addMembersOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                _toggle_modal_button2.default,\n                                {\n                                    ref: 'channelInviteModalButton',\n                                    role: 'menuitem',\n                                    dialogType: _channel_invite_modal2.default,\n                                    dialogProps: { channel: channel, currentUser: this.state.currentUser }\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'navbar.addMembers',\n                                    defaultMessage: 'Add Members'\n                                })\n                            )\n                        );\n\n                        if (ChannelUtils.canManageMembers(channel, isChannelAdmin, isTeamAdmin, isSystemAdmin)) {\n                            manageMembersOption = _react2.default.createElement(\n                                'li',\n                                {\n                                    key: 'manage_members',\n                                    role: 'presentation'\n                                },\n                                _react2.default.createElement(\n                                    'a',\n                                    {\n                                        role: 'menuitem',\n                                        href: '#',\n                                        onClick: this.showMembersModal\n                                    },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'channel_header.manageMembers',\n                                        defaultMessage: 'Manage Members'\n                                    })\n                                )\n                            );\n                        } else {\n                            manageMembersOption = _react2.default.createElement(\n                                'li',\n                                {\n                                    key: 'view_members',\n                                    role: 'presentation'\n                                },\n                                _react2.default.createElement(\n                                    'a',\n                                    {\n                                        role: 'menuitem',\n                                        href: '#',\n                                        onClick: this.showMembersModal\n                                    },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'channel_header.viewMembers',\n                                        defaultMessage: 'View Members'\n                                    })\n                                )\n                            );\n                        }\n                    }\n\n                    notificationPreferenceOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            _toggle_modal_button2.default,\n                            {\n                                role: 'menuitem',\n                                dialogType: _channel_notifications_modal2.default,\n                                dialogProps: {\n                                    channel: channel,\n                                    channelMember: this.state.member,\n                                    currentUser: this.state.currentUser\n                                }\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar.preferences',\n                                defaultMessage: 'Notification Preferences'\n                            })\n                        )\n                    );\n\n                    if (ChannelUtils.showManagementOptions(channel, isChannelAdmin, isTeamAdmin, isSystemAdmin)) {\n                        setChannelHeaderOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    role: 'menuitem',\n                                    href: '#',\n                                    onClick: this.showEditChannelHeaderModal\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_header.setHeader',\n                                    defaultMessage: 'Edit Channel Header'\n                                })\n                            )\n                        );\n\n                        setChannelPurposeOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    role: 'menuitem',\n                                    href: '#',\n                                    onClick: this.showChannelPurposeModal\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_header.setPurpose',\n                                    defaultMessage: 'Edit Channel Purpose'\n                                })\n                            )\n                        );\n\n                        renameChannelOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    role: 'menuitem',\n                                    href: '#',\n                                    onClick: this.showRenameChannelModal\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_header.rename',\n                                    defaultMessage: 'Rename Channel'\n                                })\n                            )\n                        );\n                    }\n\n                    if (ChannelUtils.showDeleteOptionForCurrentUser(channel, isChannelAdmin, isTeamAdmin, isSystemAdmin)) {\n                        deleteChannelOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                _toggle_modal_button2.default,\n                                {\n                                    role: 'menuitem',\n                                    dialogType: _delete_channel_modal2.default,\n                                    dialogProps: { channel: channel }\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_header.delete',\n                                    defaultMessage: 'Delete Channel'\n                                })\n                            )\n                        );\n                    }\n\n                    if (!_channel_store2.default.isDefault(channel)) {\n                        leaveChannelOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    role: 'menuitem',\n                                    href: '#',\n                                    onClick: this.handleLeave\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_header.leave',\n                                    defaultMessage: 'Leave Channel'\n                                })\n                            )\n                        );\n                    }\n                }\n\n                var toggleFavoriteOption = _react2.default.createElement(\n                    'li',\n                    {\n                        key: 'toggle_favorite',\n                        role: 'presentation'\n                    },\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            role: 'menuitem',\n                            href: '#',\n                            onClick: this.toggleFavorite\n                        },\n                        this.state.isFavorite ? _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channelHeader.removeFromFavorites',\n                            defaultMessage: 'Remove from Favorites'\n                        }) : _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channelHeader.addToFavorites',\n                            defaultMessage: 'Add to Favorites'\n                        })\n                    )\n                );\n\n                return _react2.default.createElement(\n                    'div',\n                    { className: 'navbar-brand' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'dropdown' },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                className: 'dropdown-toggle theme',\n                                type: 'button',\n                                'data-toggle': 'dropdown',\n                                'aria-expanded': 'true'\n                            },\n                            _react2.default.createElement(\n                                'span',\n                                { className: 'heading' },\n                                _react2.default.createElement(_status_icon2.default, { status: this.getTeammateStatus() }),\n                                channelTitle,\n                                ' '\n                            ),\n                            _react2.default.createElement('span', { className: 'fa fa-angle-down header-dropdown__icon' })\n                        ),\n                        _react2.default.createElement(\n                            'ul',\n                            {\n                                className: 'dropdown-menu',\n                                role: 'menu'\n                            },\n                            viewInfoOption,\n                            viewPinnedPostsOption,\n                            notificationPreferenceOption,\n                            addMembersOption,\n                            manageMembersOption,\n                            setChannelHeaderOption,\n                            setChannelPurposeOption,\n                            renameChannelOption,\n                            deleteChannelOption,\n                            leaveChannelOption,\n                            toggleFavoriteOption,\n                            _react2.default.createElement(\n                                'div',\n                                {\n                                    className: 'close visible-xs-block',\n                                    onClick: function onClick() {\n                                        return _this2.refs.headerOverlay.hide();\n                                    }\n                                },\n                                '×'\n                            )\n                        )\n                    )\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'navbar-brand' },\n                _react2.default.createElement(\n                    _es.Link,\n                    {\n                        to: _team_store2.default.getCurrentTeamUrl() + '/channels/town-square',\n                        className: 'heading'\n                    },\n                    channelTitle\n                )\n            );\n        }\n    }, {\n        key: 'createCollapseButtons',\n        value: function createCollapseButtons(currentId) {\n            var buttons = [];\n            var menuIcon = _constants.Constants.MENU_ICON_SVG;\n\n            if (currentId == null) {\n                buttons.push(_react2.default.createElement(\n                    'button',\n                    {\n                        key: 'navbar-toggle-collapse',\n                        type: 'button',\n                        className: 'navbar-toggle',\n                        'data-toggle': 'collapse',\n                        'data-target': '#navbar-collapse-1'\n                    },\n                    _react2.default.createElement(\n                        'span',\n                        { className: 'sr-only' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar.toggle1',\n                            defaultMessage: 'Toggle sidebar'\n                        })\n                    ),\n                    _react2.default.createElement('span', { className: 'icon-bar' }),\n                    _react2.default.createElement('span', { className: 'icon-bar' }),\n                    _react2.default.createElement('span', { className: 'icon-bar' })\n                ));\n            } else {\n                buttons.push(_react2.default.createElement(\n                    'button',\n                    {\n                        key: 'navbar-toggle-sidebar',\n                        type: 'button',\n                        className: 'navbar-toggle',\n                        'data-toggle': 'collapse',\n                        'data-target': '#sidebar-nav',\n                        onClick: this.toggleLeftSidebar\n                    },\n                    _react2.default.createElement(\n                        'span',\n                        { className: 'sr-only' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar.toggle2',\n                            defaultMessage: 'Toggle sidebar'\n                        })\n                    ),\n                    _react2.default.createElement('span', {\n                        className: 'icon icon__menu icon--sidebarHeaderTextColor',\n                        dangerouslySetInnerHTML: { __html: menuIcon },\n                        'aria-hidden': 'true'\n                    }),\n                    _react2.default.createElement(_notify_counts2.default, null)\n                ));\n\n                buttons.push(_react2.default.createElement(\n                    'button',\n                    {\n                        key: 'navbar-toggle-menu',\n                        type: 'button',\n                        className: 'navbar-toggle navbar-right__icon menu-toggle pull-right',\n                        'data-toggle': 'collapse',\n                        'data-target': '#sidebar-nav',\n                        onClick: this.toggleRightSidebar\n                    },\n                    _react2.default.createElement('span', { dangerouslySetInnerHTML: { __html: _constants.Constants.MENU_ICON } })\n                ));\n            }\n\n            return buttons;\n        }\n    }, {\n        key: 'getTeammateStatus',\n        value: function getTeammateStatus() {\n            var channel = this.state.channel;\n\n            // get status for direct message channels\n            if (channel.type === 'D') {\n                var currentUserId = this.state.currentUser.id;\n                var teammate = this.state.users.find(function (user) {\n                    return user.id !== currentUserId;\n                });\n                if (teammate) {\n                    return _user_store2.default.getStatus(teammate.id);\n                }\n            }\n            return null;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            if (!this.isStateValid()) {\n                return null;\n            }\n\n            var currentId = this.state.currentUser.id;\n            var channel = this.state.channel;\n            var channelTitle = this.props.teamDisplayName;\n            var isTeamAdmin = _team_store2.default.isTeamAdminForCurrentTeam();\n            var isSystemAdmin = _user_store2.default.isSystemAdminForCurrentUser();\n            var isChannelAdmin = false;\n            var isDirect = false;\n            var isGroup = false;\n\n            var editChannelHeaderModal = null;\n            var editChannelPurposeModal = null;\n            var renameChannelModal = null;\n            var channelMembersModal = null;\n            var quickSwitchModal = null;\n\n            if (channel) {\n                isChannelAdmin = _channel_store2.default.isChannelAdminForCurrentChannel();\n                channelTitle = channel.display_name;\n\n                if (channel.type === _constants.Constants.DM_CHANNEL) {\n                    isDirect = true;\n                    var teammateId = Utils.getUserIdFromChannelName(channel);\n                    channelTitle = Utils.displayUsername(teammateId);\n                } else if (channel.type === _constants.Constants.GM_CHANNEL) {\n                    isGroup = true;\n                }\n\n                if (this.state.showEditChannelHeaderModal) {\n                    editChannelHeaderModal = _react2.default.createElement(_edit_channel_header_modal2.default, {\n                        onHide: function onHide() {\n                            return _this3.setState({ showEditChannelHeaderModal: false });\n                        },\n                        channel: channel\n                    });\n                }\n\n                if (this.state.showEditChannelPurposeModal) {\n                    editChannelPurposeModal = _react2.default.createElement(_edit_channel_purpose_modal2.default, {\n                        onModalDismissed: this.hideChannelPurposeModal,\n                        channel: channel\n                    });\n                }\n\n                renameChannelModal = _react2.default.createElement(_rename_channel_modal2.default, {\n                    show: this.state.showRenameChannelModal,\n                    onHide: this.hideRenameChannelModal,\n                    channel: channel\n                });\n\n                if (this.state.showMembersModal) {\n                    channelMembersModal = _react2.default.createElement(_channel_members_modal2.default, {\n                        show: true,\n                        onModalDismissed: this.hideMembersModal,\n                        showInviteModal: function showInviteModal() {\n                            return _this3.refs.channelInviteModalButton.show();\n                        },\n                        channel: channel,\n                        isAdmin: isTeamAdmin || isSystemAdmin\n                    });\n                }\n\n                quickSwitchModal = _react2.default.createElement(_quick_switch_modal2.default, {\n                    show: this.state.showQuickSwitchModal,\n                    onHide: this.hideQuickSwitchModal,\n                    initialMode: this.state.quickSwitchMode\n                });\n            }\n\n            var collapseButtons = this.createCollapseButtons(currentId);\n\n            var searchIcon = _constants.Constants.SEARCH_ICON_SVG;\n            var searchButton = _react2.default.createElement(\n                'button',\n                {\n                    type: 'button',\n                    className: 'navbar-toggle navbar-right__icon navbar-search pull-right',\n                    onClick: this.showSearch\n                },\n                _react2.default.createElement('span', {\n                    className: 'icon icon__search',\n                    dangerouslySetInnerHTML: { __html: searchIcon },\n                    'aria-hidden': 'true'\n                })\n            );\n\n            var channelMenuDropdown = this.createDropdown(channel, channelTitle, isSystemAdmin, isTeamAdmin, isChannelAdmin, isDirect, isGroup);\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'nav',\n                    {\n                        className: 'navbar navbar-default navbar-fixed-top',\n                        role: 'navigation'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'container-fluid theme' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'navbar-header' },\n                            collapseButtons,\n                            searchButton,\n                            _react2.default.createElement(_navbar_info_button2.default, {\n                                ref: 'headerOverlay',\n                                channel: channel,\n                                showEditChannelHeaderModal: this.showEditChannelHeaderModal\n                            }),\n                            channelMenuDropdown\n                        )\n                    )\n                ),\n                editChannelHeaderModal,\n                editChannelPurposeModal,\n                renameChannelModal,\n                channelMembersModal,\n                quickSwitchModal\n            );\n        }\n    }]);\n    return Navbar;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = Navbar;\n\n\nNavbar.defaultProps = {\n    teamDisplayName: ''\n};\nNavbar.propTypes = {\n    teamDisplayName: _propTypes2.default.string\n};\n\n/***/ }),\n\n/***/ 2395:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _channel_store = __webpack_require__(32);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _team_store = __webpack_require__(35);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _channel_utils = __webpack_require__(121);\n\nvar _utils = __webpack_require__(16);\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NotifyCounts = function (_React$Component) {\n    (0, _inherits3.default)(NotifyCounts, _React$Component);\n\n    function NotifyCounts(props) {\n        (0, _classCallCheck3.default)(this, NotifyCounts);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (NotifyCounts.__proto__ || (0, _getPrototypeOf2.default)(NotifyCounts)).call(this, props));\n\n        _this.onListenerChange = _this.onListenerChange.bind(_this);\n\n        _this.state = (0, _channel_utils.getCountsStateFromStores)();\n        _this.mounted = false;\n        return _this;\n    }\n\n    (0, _createClass3.default)(NotifyCounts, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.mounted = true;\n            _channel_store2.default.addChangeListener(this.onListenerChange);\n            _team_store2.default.addChangeListener(this.onListenerChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.mounted = false;\n            _channel_store2.default.removeChangeListener(this.onListenerChange);\n            _team_store2.default.removeChangeListener(this.onListenerChange);\n        }\n    }, {\n        key: 'onListenerChange',\n        value: function onListenerChange() {\n            if (this.mounted) {\n                var newState = (0, _channel_utils.getCountsStateFromStores)();\n                if (!utils.areObjectsEqual(newState, this.state)) {\n                    this.setState(newState);\n                }\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (this.state.mentionCount) {\n                return _react2.default.createElement(\n                    'span',\n                    { className: 'badge badge-notify' },\n                    this.state.mentionCount\n                );\n            } else if (this.state.messageCount) {\n                return _react2.default.createElement(\n                    'span',\n                    { className: 'badge badge-notify' },\n                    '•'\n                );\n            }\n            return null;\n        }\n    }]);\n    return NotifyCounts;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = NotifyCounts;\n\n/***/ }),\n\n/***/ 2396:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(31);\n\nvar _quick_switch_modal = __webpack_require__(2397);\n\nvar _quick_switch_modal2 = _interopRequireDefault(_quick_switch_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps, {\n        showTeamSwitcher: false\n    });\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps)(_quick_switch_modal2.default);\n\n/***/ }),\n\n/***/ 2397:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(40);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _es = __webpack_require__(44);\n\nvar _channels = __webpack_require__(136);\n\nvar _channel_actions = __webpack_require__(79);\n\nvar _redux_store = __webpack_require__(38);\n\nvar _redux_store2 = _interopRequireDefault(_redux_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _user_agent = __webpack_require__(87);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _suggestion_box = __webpack_require__(445);\n\nvar _suggestion_box2 = _interopRequireDefault(_suggestion_box);\n\nvar _suggestion_list = __webpack_require__(446);\n\nvar _suggestion_list2 = _interopRequireDefault(_suggestion_list);\n\nvar _switch_channel_provider = __webpack_require__(2398);\n\nvar _switch_channel_provider2 = _interopRequireDefault(_switch_channel_provider);\n\nvar _switch_team_provider = __webpack_require__(2399);\n\nvar _switch_team_provider2 = _interopRequireDefault(_switch_team_provider);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getState = _redux_store2.default.getState; // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar CHANNEL_MODE = 'channel';\nvar TEAM_MODE = 'team';\n\nvar QuickSwitchModal = function (_React$PureComponent) {\n    (0, _inherits3.default)(QuickSwitchModal, _React$PureComponent);\n\n    function QuickSwitchModal(props) {\n        (0, _classCallCheck3.default)(this, QuickSwitchModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (QuickSwitchModal.__proto__ || (0, _getPrototypeOf2.default)(QuickSwitchModal)).call(this, props));\n\n        _this.onChange = _this.onChange.bind(_this);\n        _this.onShow = _this.onShow.bind(_this);\n        _this.onHide = _this.onHide.bind(_this);\n        _this.onExited = _this.onExited.bind(_this);\n        _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.switchToChannel = _this.switchToChannel.bind(_this);\n        _this.switchMode = _this.switchMode.bind(_this);\n        _this.focusTextbox = _this.focusTextbox.bind(_this);\n\n        _this.enableChannelProvider = _this.enableChannelProvider.bind(_this);\n        _this.enableTeamProvider = _this.enableTeamProvider.bind(_this);\n        _this.channelProviders = [new _switch_channel_provider2.default()];\n        _this.teamProviders = [new _switch_team_provider2.default()];\n\n        _this.state = {\n            text: '',\n            mode: props.initialMode\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(QuickSwitchModal, [{\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            if (this.props.show && !prevProps.show) {\n                this.focusTextbox();\n            }\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (!this.props.show && nextProps.show) {\n                this.setState({ mode: nextProps.initialMode, text: '' });\n            }\n        }\n    }, {\n        key: 'focusTextbox',\n        value: function focusTextbox() {\n            if (this.refs.switchbox == null) {\n                return;\n            }\n\n            var textbox = this.refs.switchbox.getTextbox();\n            textbox.focus();\n            Utils.placeCaretAtEnd(textbox);\n        }\n    }, {\n        key: 'onShow',\n        value: function onShow() {\n            this.setState({\n                text: ''\n            });\n        }\n    }, {\n        key: 'onHide',\n        value: function onHide() {\n            this.setState({\n                text: ''\n            });\n            this.props.onHide();\n        }\n    }, {\n        key: 'onExited',\n        value: function onExited() {\n            if (!UserAgent.isMobile()) {\n                setTimeout(function () {\n                    document.querySelector('#post_textbox').focus();\n                });\n            }\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange(e) {\n            this.setState({ text: e.target.value });\n        }\n    }, {\n        key: 'handleKeyDown',\n        value: function handleKeyDown(e) {\n            if (e.keyCode === _constants2.default.KeyCodes.TAB) {\n                e.preventDefault();\n                this.switchMode();\n            }\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(selected) {\n            var _this2 = this;\n\n            var channel = null;\n\n            if (!selected) {\n                return;\n            }\n\n            if (this.state.mode === CHANNEL_MODE) {\n                var selectedChannel = selected.channel;\n                if (selectedChannel.type === _constants2.default.DM_CHANNEL) {\n                    (0, _channel_actions.openDirectChannelToUser)(selectedChannel.id, function (ch) {\n                        channel = ch;\n                        _this2.switchToChannel(channel);\n                    }, function () {\n                        channel = null;\n                        _this2.switchToChannel(channel);\n                    });\n                } else if (selectedChannel.type === _constants2.default.GM_CHANNEL) {\n                    channel = (0, _channels.getChannel)(getState(), selectedChannel.id);\n                    this.switchToChannel(channel);\n                } else {\n                    this.switchToChannel(selectedChannel);\n                }\n            } else {\n                _es.browserHistory.push('/' + selected.name);\n                this.onHide();\n            }\n        }\n    }, {\n        key: 'switchToChannel',\n        value: function switchToChannel(channel) {\n            if (channel != null) {\n                (0, _channel_actions.goToChannel)(channel);\n                this.onHide();\n            }\n        }\n    }, {\n        key: 'enableChannelProvider',\n        value: function enableChannelProvider() {\n            this.channelProviders[0].disableDispatches = false;\n            this.teamProviders[0].disableDispatches = true;\n        }\n    }, {\n        key: 'enableTeamProvider',\n        value: function enableTeamProvider() {\n            this.teamProviders[0].disableDispatches = false;\n            this.channelProviders[0].disableDispatches = true;\n        }\n    }, {\n        key: 'switchMode',\n        value: function switchMode() {\n            if (this.state.mode === CHANNEL_MODE && this.props.showTeamSwitcher) {\n                this.enableTeamProvider();\n                this.setState({ mode: TEAM_MODE });\n            } else if (this.state.mode === TEAM_MODE) {\n                this.enableChannelProvider();\n                this.setState({ mode: CHANNEL_MODE });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            var providers = this.channelProviders;\n            var header = void 0;\n            var renderDividers = true;\n\n            var channelShortcut = 'quick_switch_modal.channelsShortcut.windows';\n            var defaultChannelShortcut = 'CTRL+K';\n            if (Utils.isMac()) {\n                channelShortcut = 'quick_switch_modal.channelsShortcut.mac';\n                defaultChannelShortcut = 'CMD+K';\n            }\n\n            var teamShortcut = 'quick_switch_modal.teamsShortcut.windows';\n            var defaultTeamShortcut = 'CTRL+ALT+K';\n            if (Utils.isMac()) {\n                teamShortcut = 'quick_switch_modal.teamsShortcut.mac';\n                defaultTeamShortcut = 'CMD+ALT+K';\n            }\n\n            if (this.props.showTeamSwitcher) {\n                var channelsActiveClass = '';\n                var teamsActiveClass = '';\n                if (this.state.mode === TEAM_MODE) {\n                    providers = this.teamProviders;\n                    renderDividers = false;\n                    teamsActiveClass = 'active';\n                } else {\n                    channelsActiveClass = 'active';\n                }\n\n                header = _react2.default.createElement(\n                    'div',\n                    { className: 'nav nav-tabs' },\n                    _react2.default.createElement(\n                        'li',\n                        { className: channelsActiveClass },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                onClick: function onClick(e) {\n                                    e.preventDefault();\n                                    _this3.enableChannelProvider();\n                                    _this3.setState({ mode: 'channel' });\n                                    _this3.focusTextbox();\n                                }\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'quick_switch_modal.channels',\n                                defaultMessage: 'Channels'\n                            }),\n                            _react2.default.createElement(\n                                'span',\n                                { className: 'small' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: channelShortcut,\n                                    defaultMessage: defaultChannelShortcut\n                                })\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'li',\n                        { className: teamsActiveClass },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                onClick: function onClick(e) {\n                                    e.preventDefault();\n                                    _this3.enableTeamProvider();\n                                    _this3.setState({ mode: 'team' });\n                                    _this3.focusTextbox();\n                                }\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'quick_switch_modal.teams',\n                                defaultMessage: 'Teams'\n                            }),\n                            _react2.default.createElement(\n                                'span',\n                                { className: 'small' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: teamShortcut,\n                                    defaultMessage: defaultTeamShortcut\n                                })\n                            )\n                        )\n                    )\n                );\n            }\n\n            var help = void 0;\n            if (Utils.isMobile()) {\n                help = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'quick_switch_modal.help_mobile',\n                    defaultMessage: 'Type to find a channel.'\n                });\n            } else if (this.props.showTeamSwitcher) {\n                help = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'quick_switch_modal.help',\n                    defaultMessage: 'Start typing then use TAB to toggle channels/teams, \\u2191\\u2193 to browse, \\u21B5 to select, and ESC to dismiss.'\n                });\n            } else {\n                help = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'quick_switch_modal.help_no_team',\n                    defaultMessage: 'Type to find a channel. Use \\u2191\\u2193 to browse, \\u21B5 to select, ESC to dismiss.'\n                });\n            }\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    dialogClassName: 'channel-switch-modal modal--overflow',\n                    ref: 'modal',\n                    show: this.props.show,\n                    onHide: this.onHide,\n                    onExited: this.onExited\n                },\n                _react2.default.createElement(_reactBootstrap.Modal.Header, { closeButton: true }),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    null,\n                    header,\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'modal__hint' },\n                        help\n                    ),\n                    _react2.default.createElement(_suggestion_box2.default, {\n                        ref: 'switchbox',\n                        className: 'form-control focused',\n                        type: 'input',\n                        onChange: this.onChange,\n                        value: this.state.text,\n                        onKeyDown: this.handleKeyDown,\n                        onItemSelected: this.handleSubmit,\n                        listComponent: _suggestion_list2.default,\n                        maxLength: '64',\n                        providers: providers,\n                        listStyle: 'bottom',\n                        completeOnTab: false,\n                        renderDividers: renderDividers\n                    })\n                )\n            );\n        }\n    }]);\n    return QuickSwitchModal;\n}(_react2.default.PureComponent);\n\nQuickSwitchModal.propTypes = {\n\n    /**\n     * The mode to start in when showing the modal, either 'channel' or 'team'\n     */\n    initialMode: _propTypes2.default.string.isRequired,\n\n    /**\n     * Set to show the modal\n     */\n    show: _propTypes2.default.bool.isRequired,\n\n    /**\n     * The function called to hide the modal\n     */\n    onHide: _propTypes2.default.func.isRequired,\n\n    /**\n     * Set to show team switcher\n     */\n    showTeamSwitcher: _propTypes2.default.bool\n};\nQuickSwitchModal.defaultProps = {\n    initialMode: CHANNEL_MODE\n};\nexports.default = QuickSwitchModal;\n\n/***/ }),\n\n/***/ 2398:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _keys = __webpack_require__(59);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _getIterator2 = __webpack_require__(48);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _regenerator = __webpack_require__(76);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(77);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _assign = __webpack_require__(41);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _client = __webpack_require__(29);\n\nvar _constants = __webpack_require__(26);\n\nvar _channels = __webpack_require__(136);\n\nvar _preferences = __webpack_require__(64);\n\nvar _teams = __webpack_require__(120);\n\nvar _users = __webpack_require__(50);\n\nvar _app_dispatcher = __webpack_require__(34);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _redux_store = __webpack_require__(38);\n\nvar _redux_store2 = _interopRequireDefault(_redux_store);\n\nvar _channel_utils = __webpack_require__(121);\n\nvar _constants2 = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _provider = __webpack_require__(239);\n\nvar _provider2 = _interopRequireDefault(_provider);\n\nvar _suggestion = __webpack_require__(182);\n\nvar _suggestion2 = _interopRequireDefault(_suggestion);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar getState = _redux_store2.default.getState;\n\nvar SwitchChannelSuggestion = function (_Suggestion) {\n    (0, _inherits3.default)(SwitchChannelSuggestion, _Suggestion);\n\n    function SwitchChannelSuggestion() {\n        (0, _classCallCheck3.default)(this, SwitchChannelSuggestion);\n        return (0, _possibleConstructorReturn3.default)(this, (SwitchChannelSuggestion.__proto__ || (0, _getPrototypeOf2.default)(SwitchChannelSuggestion)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(SwitchChannelSuggestion, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                item = _props.item,\n                isSelection = _props.isSelection;\n\n            var channel = item.channel;\n            var globeIcon = _constants2.Constants.GLOBE_ICON_SVG;\n            var lockIcon = _constants2.Constants.LOCK_ICON_SVG;\n\n            var className = 'mentions__name';\n            if (isSelection) {\n                className += ' suggestion--selected';\n            }\n\n            var displayName = channel.display_name;\n            var icon = null;\n            if (channel.type === _constants2.Constants.OPEN_CHANNEL) {\n                icon = _react2.default.createElement('span', {\n                    className: 'icon icon__globe icon--body',\n                    dangerouslySetInnerHTML: { __html: globeIcon }\n                });\n            } else if (channel.type === _constants2.Constants.PRIVATE_CHANNEL) {\n                icon = _react2.default.createElement('span', {\n                    className: 'icon icon__lock icon--body',\n                    dangerouslySetInnerHTML: { __html: lockIcon }\n                });\n            } else if (channel.type === _constants2.Constants.GM_CHANNEL) {\n                displayName = (0, _channel_utils.getChannelDisplayName)(channel);\n                icon = _react2.default.createElement(\n                    'div',\n                    { className: 'status status--group' },\n                    'G'\n                );\n            } else {\n                icon = _react2.default.createElement(\n                    'div',\n                    { className: 'pull-left' },\n                    _react2.default.createElement('img', {\n                        className: 'mention__image',\n                        src: Utils.imageURLForUser(channel)\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    onClick: this.handleClick,\n                    className: className\n                },\n                icon,\n                displayName\n            );\n        }\n    }]);\n    return SwitchChannelSuggestion;\n}(_suggestion2.default);\n\nvar prefix = '';\n\nfunction quickSwitchSorter(wrappedA, wrappedB) {\n    if (wrappedA.type === _constants2.Constants.MENTION_CHANNELS && wrappedB.type === _constants2.Constants.MENTION_MORE_CHANNELS) {\n        return -1;\n    } else if (wrappedB.type === _constants2.Constants.MENTION_CHANNELS && wrappedA.type === _constants2.Constants.MENTION_MORE_CHANNELS) {\n        return 1;\n    }\n\n    var a = wrappedA.channel;\n    var b = wrappedB.channel;\n\n    var aDisplayName = (0, _channel_utils.getChannelDisplayName)(a).toLowerCase();\n    var bDisplayName = (0, _channel_utils.getChannelDisplayName)(b).toLowerCase();\n\n    if (a.type === _constants2.Constants.DM_CHANNEL) {\n        aDisplayName = aDisplayName.substring(1);\n    }\n\n    if (b.type === _constants2.Constants.DM_CHANNEL) {\n        bDisplayName = bDisplayName.substring(1);\n    }\n\n    var aStartsWith = aDisplayName.startsWith(prefix);\n    var bStartsWith = bDisplayName.startsWith(prefix);\n    if (aStartsWith && bStartsWith) {\n        return (0, _channel_utils.sortChannelsByDisplayName)(a, b);\n    } else if (!aStartsWith && !bStartsWith) {\n        return (0, _channel_utils.sortChannelsByDisplayName)(a, b);\n    } else if (aStartsWith) {\n        return -1;\n    }\n\n    return 1;\n}\n\nvar SwitchChannelProvider = function (_Provider) {\n    (0, _inherits3.default)(SwitchChannelProvider, _Provider);\n\n    function SwitchChannelProvider() {\n        (0, _classCallCheck3.default)(this, SwitchChannelProvider);\n        return (0, _possibleConstructorReturn3.default)(this, (SwitchChannelProvider.__proto__ || (0, _getPrototypeOf2.default)(SwitchChannelProvider)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(SwitchChannelProvider, [{\n        key: 'handlePretextChanged',\n        value: function handlePretextChanged(suggestionId, channelPrefix) {\n            if (channelPrefix) {\n                prefix = channelPrefix;\n                this.startNewRequest(suggestionId, channelPrefix);\n\n                // Dispatch suggestions for local data\n                var channels = (0, _channels.getChannelsInCurrentTeam)(getState()).concat((0, _channels.getGroupChannels)(getState()));\n                var users = (0, _assign2.default)([], (0, _users.searchProfiles)(getState(), channelPrefix, true));\n                this.formatChannelsAndDispatch(channelPrefix, suggestionId, channels, users, true);\n\n                // Fetch data from the server and dispatch\n                this.fetchUsersAndChannels(channelPrefix, suggestionId);\n\n                return true;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'fetchUsersAndChannels',\n        value: function () {\n            var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(channelPrefix, suggestionId) {\n                var teamId, usersAsync, channelsAsync, usersFromServer, channelsFromServer, users, channels;\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                teamId = '';\n\n                                if (global.window.mm_config.RestrictDirectMessage === 'team') {\n                                    teamId = _redux_store2.default.getState().entities.teams.currentTeamId;\n                                }\n                                usersAsync = _client.Client4.autocompleteUsers(channelPrefix, teamId, '');\n                                channelsAsync = _client.Client4.searchChannels((0, _teams.getCurrentTeamId)(getState()), channelPrefix);\n                                usersFromServer = [];\n                                channelsFromServer = [];\n                                _context.prev = 6;\n                                _context.next = 9;\n                                return usersAsync;\n\n                            case 9:\n                                usersFromServer = _context.sent;\n                                _context.next = 12;\n                                return channelsAsync;\n\n                            case 12:\n                                channelsFromServer = _context.sent;\n                                _context.next = 18;\n                                break;\n\n                            case 15:\n                                _context.prev = 15;\n                                _context.t0 = _context['catch'](6);\n\n                                _app_dispatcher2.default.handleServerAction({\n                                    type: _constants2.ActionTypes.RECEIVED_ERROR,\n                                    err: _context.t0\n                                });\n\n                            case 18:\n                                if (!this.shouldCancelDispatch(channelPrefix)) {\n                                    _context.next = 20;\n                                    break;\n                                }\n\n                                return _context.abrupt('return');\n\n                            case 20:\n                                users = (0, _assign2.default)([], (0, _users.searchProfiles)(getState(), channelPrefix, true), usersFromServer.users);\n                                channels = (0, _channels.getChannelsInCurrentTeam)(getState()).concat((0, _channels.getGroupChannels)(getState())).concat(channelsFromServer);\n\n                                this.formatChannelsAndDispatch(channelPrefix, suggestionId, channels, users);\n\n                            case 23:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this, [[6, 15]]);\n            }));\n\n            function fetchUsersAndChannels(_x, _x2) {\n                return _ref.apply(this, arguments);\n            }\n\n            return fetchUsersAndChannels;\n        }()\n    }, {\n        key: 'formatChannelsAndDispatch',\n        value: function formatChannelsAndDispatch(channelPrefix, suggestionId, allChannels, users) {\n            var skipNotInChannel = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n            var channels = [];\n            var members = (0, _channels.getMyChannelMemberships)(getState());\n\n            if (this.shouldCancelDispatch(channelPrefix)) {\n                return;\n            }\n\n            var currentId = (0, _users.getCurrentUserId)(getState());\n\n            var completedChannels = {};\n\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = (0, _getIterator3.default)((0, _keys2.default)(allChannels)), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var id = _step.value;\n\n                    var channel = allChannels[id];\n\n                    if (completedChannels[channel.id]) {\n                        continue;\n                    }\n\n                    var member = members[channel.id];\n\n                    if (channel.display_name.toLowerCase().indexOf(channelPrefix.toLowerCase()) !== -1) {\n                        var newChannel = (0, _assign2.default)({}, channel);\n                        var _wrappedChannel = { channel: newChannel, name: newChannel.name };\n                        if (newChannel.type === _constants2.Constants.GM_CHANNEL) {\n                            newChannel.name = (0, _channel_utils.getChannelDisplayName)(newChannel);\n                            _wrappedChannel.name = newChannel.name;\n                            var isGMVisible = (0, _preferences.getBool)(getState(), _constants.Preferences.CATEGORY_GROUP_CHANNEL_SHOW, newChannel.id, false);\n                            if (isGMVisible) {\n                                _wrappedChannel.type = _constants2.Constants.MENTION_CHANNELS;\n                            } else {\n                                _wrappedChannel.type = _constants2.Constants.MENTION_MORE_CHANNELS;\n                                if (skipNotInChannel) {\n                                    continue;\n                                }\n                            }\n                        } else if (member) {\n                            _wrappedChannel.type = _constants2.Constants.MENTION_CHANNELS;\n                        } else {\n                            _wrappedChannel.type = _constants2.Constants.MENTION_MORE_CHANNELS;\n                            if (skipNotInChannel || !newChannel.display_name.toLowerCase().startsWith(channelPrefix)) {\n                                continue;\n                            }\n                        }\n\n                        completedChannels[channel.id] = true;\n                        channels.push(_wrappedChannel);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            for (var i = 0; i < users.length; i++) {\n                var user = users[i];\n\n                if (completedChannels[user.id]) {\n                    continue;\n                }\n\n                var isDMVisible = (0, _preferences.getBool)(getState(), _constants.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW, user.id, false);\n                var displayName = '@' + user.username + ' ';\n\n                if (user.id === currentId) {\n                    continue;\n                }\n\n                if ((user.first_name || user.last_name) && user.nickname) {\n                    displayName += '- ' + Utils.getFullName(user) + ' (' + user.nickname + ')';\n                } else if (user.nickname) {\n                    displayName += '- (' + user.nickname + ')';\n                } else if (user.first_name || user.last_name) {\n                    displayName += '- ' + Utils.getFullName(user);\n                }\n\n                var wrappedChannel = {\n                    channel: {\n                        display_name: displayName,\n                        name: user.username,\n                        id: user.id,\n                        update_at: user.update_at,\n                        type: _constants2.Constants.DM_CHANNEL,\n                        last_picture_update: user.last_picture_update || 0\n                    },\n                    name: user.username\n                };\n\n                if (isDMVisible) {\n                    wrappedChannel.type = _constants2.Constants.MENTION_CHANNELS;\n                } else {\n                    wrappedChannel.type = _constants2.Constants.MENTION_MORE_CHANNELS;\n                    if (skipNotInChannel) {\n                        continue;\n                    }\n                }\n\n                completedChannels[user.id] = true;\n                channels.push(wrappedChannel);\n            }\n\n            var channelNames = channels.sort(quickSwitchSorter).map(function (wrappedChannel) {\n                return wrappedChannel.channel.name;\n            });\n\n            if (skipNotInChannel) {\n                channels.push({\n                    type: _constants2.Constants.MENTION_MORE_CHANNELS,\n                    loading: true\n                });\n            }\n\n            setTimeout(function () {\n                _app_dispatcher2.default.handleServerAction({\n                    type: _constants2.ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,\n                    id: suggestionId,\n                    matchedPretext: channelPrefix,\n                    terms: channelNames,\n                    items: channels,\n                    component: SwitchChannelSuggestion\n                });\n            }, 0);\n        }\n    }]);\n    return SwitchChannelProvider;\n}(_provider2.default);\n\nexports.default = SwitchChannelProvider;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2399:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _teams = __webpack_require__(120);\n\nvar Selectors = _interopRequireWildcard(_teams);\n\nvar _app_dispatcher = __webpack_require__(34);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _localization_store = __webpack_require__(211);\n\nvar _localization_store2 = _interopRequireDefault(_localization_store);\n\nvar _redux_store = __webpack_require__(38);\n\nvar _redux_store2 = _interopRequireDefault(_redux_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _provider = __webpack_require__(239);\n\nvar _provider2 = _interopRequireDefault(_provider);\n\nvar _suggestion = __webpack_require__(182);\n\nvar _suggestion2 = _interopRequireDefault(_suggestion);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar getState = _redux_store2.default.getState;\n\nvar SwitchTeamSuggestion = function (_Suggestion) {\n    (0, _inherits3.default)(SwitchTeamSuggestion, _Suggestion);\n\n    function SwitchTeamSuggestion() {\n        (0, _classCallCheck3.default)(this, SwitchTeamSuggestion);\n        return (0, _possibleConstructorReturn3.default)(this, (SwitchTeamSuggestion.__proto__ || (0, _getPrototypeOf2.default)(SwitchTeamSuggestion)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(SwitchTeamSuggestion, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                item = _props.item,\n                isSelection = _props.isSelection;\n\n\n            var className = 'mentions__name';\n            if (isSelection) {\n                className += ' suggestion--selected';\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    onClick: this.handleClick,\n                    className: className\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'status' },\n                    _react2.default.createElement('i', { className: 'fa fa-group' })\n                ),\n                item.display_name\n            );\n        }\n    }]);\n    return SwitchTeamSuggestion;\n}(_suggestion2.default);\n\nvar prefix = '';\n\nfunction quickSwitchSorter(a, b) {\n    var aDisplayName = a.display_name.toLowerCase();\n    var bDisplayName = b.display_name.toLowerCase();\n    var aStartsWith = aDisplayName.startsWith(prefix);\n    var bStartsWith = bDisplayName.startsWith(prefix);\n\n    if (aStartsWith && bStartsWith) {\n        var locale = _localization_store2.default.getLocale();\n\n        if (aDisplayName !== bDisplayName) {\n            return aDisplayName.localeCompare(bDisplayName, locale, { numeric: true });\n        }\n\n        return a.name.localeCompare(b.name, locale, { numeric: true });\n    } else if (aStartsWith) {\n        return -1;\n    }\n\n    return 1;\n}\n\nvar SwitchTeamProvider = function (_Provider) {\n    (0, _inherits3.default)(SwitchTeamProvider, _Provider);\n\n    function SwitchTeamProvider() {\n        (0, _classCallCheck3.default)(this, SwitchTeamProvider);\n        return (0, _possibleConstructorReturn3.default)(this, (SwitchTeamProvider.__proto__ || (0, _getPrototypeOf2.default)(SwitchTeamProvider)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(SwitchTeamProvider, [{\n        key: 'handlePretextChanged',\n        value: function handlePretextChanged(suggestionId, teamPrefix) {\n            if (teamPrefix) {\n                prefix = teamPrefix;\n                this.startNewRequest(suggestionId, teamPrefix);\n\n                var allTeams = Selectors.getMyTeams(getState());\n\n                var teams = allTeams.filter(function (team) {\n                    return team.display_name.toLowerCase().indexOf(teamPrefix) !== -1 || team.name.indexOf(teamPrefix) !== -1;\n                });\n\n                var teamNames = teams.sort(quickSwitchSorter).map(function (team) {\n                    return team.name;\n                });\n\n                setTimeout(function () {\n                    _app_dispatcher2.default.handleServerAction({\n                        type: _constants.ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,\n                        id: suggestionId,\n                        matchedPretext: teamPrefix,\n                        terms: teamNames,\n                        items: teams,\n                        component: SwitchTeamSuggestion\n                    });\n                }, 0);\n\n                return true;\n            }\n\n            return false;\n        }\n    }]);\n    return SwitchTeamProvider;\n}(_provider2.default);\n\nexports.default = SwitchTeamProvider;\n\n/***/ }),\n\n/***/ 2400:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(40);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _message_wrapper = __webpack_require__(782);\n\nvar _message_wrapper2 = _interopRequireDefault(_message_wrapper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar NavbarInfoButton = function (_React$PureComponent) {\n    (0, _inherits3.default)(NavbarInfoButton, _React$PureComponent);\n\n    function NavbarInfoButton() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        (0, _classCallCheck3.default)(this, NavbarInfoButton);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = NavbarInfoButton.__proto__ || (0, _getPrototypeOf2.default)(NavbarInfoButton)).call.apply(_ref, [this].concat(args))), _this), _this.showEditChannelHeaderModal = function () {\n            _this.refs.headerOverlay.hide();\n\n            _this.props.showEditChannelHeaderModal();\n        }, _this.hide = function () {\n            _this.refs.headerOverlay.hide();\n        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n\n    (0, _createClass3.default)(NavbarInfoButton, [{\n        key: 'render',\n        value: function render() {\n            var popoverContent = null;\n            if (this.props.channel) {\n                if (this.props.channel.header) {\n                    popoverContent = _react2.default.createElement(_message_wrapper2.default, {\n                        message: this.props.channel.header,\n                        options: { singleline: true, mentionHighlight: false }\n                    });\n                } else {\n                    var link = _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            onClick: this.showEditChannelHeaderModal\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar.click',\n                            defaultMessage: 'Click here'\n                        })\n                    );\n\n                    popoverContent = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar.noHeader',\n                            defaultMessage: 'No channel header yet.{newline}{link} to add one.',\n                            values: {\n                                newline: _react2.default.createElement('br', null),\n                                link: link\n                            }\n                        })\n                    );\n                }\n            }\n\n            var popover = _react2.default.createElement(\n                _reactBootstrap.Popover,\n                {\n                    bsStyle: 'info',\n                    placement: 'bottom',\n                    id: 'header-popover'\n                },\n                popoverContent,\n                _react2.default.createElement(\n                    'div',\n                    {\n                        className: 'close visible-xs-block',\n                        onClick: this.hide\n                    },\n                    '×'\n                )\n            );\n\n            return _react2.default.createElement(\n                _reactBootstrap.OverlayTrigger,\n                {\n                    ref: 'headerOverlay',\n                    trigger: 'click',\n                    placement: 'bottom',\n                    overlay: popover,\n                    className: 'description',\n                    rootClose: true\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'navbar-toggle navbar-right__icon navbar-info-button pull-right' },\n                    _react2.default.createElement('span', {\n                        className: 'icon icon__info',\n                        dangerouslySetInnerHTML: { __html: _constants2.default.INFO_ICON_SVG },\n                        'aria-hidden': 'true'\n                    })\n                )\n            );\n        }\n    }]);\n    return NavbarInfoButton;\n}(_react2.default.PureComponent);\n\nNavbarInfoButton.propTypes = {\n    channel: _propTypes2.default.object,\n    showEditChannelHeaderModal: _propTypes2.default.func.isRequired\n};\nexports.default = NavbarInfoButton;\n\n/***/ }),\n\n/***/ 2401:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(47);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _es = __webpack_require__(44);\n\nvar _browser_store = __webpack_require__(135);\n\nvar _browser_store2 = _interopRequireDefault(_browser_store);\n\nvar _channel_store = __webpack_require__(32);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _team_store = __webpack_require__(35);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RemovedFromChannelModal = function (_React$Component) {\n    (0, _inherits3.default)(RemovedFromChannelModal, _React$Component);\n\n    function RemovedFromChannelModal(props) {\n        (0, _classCallCheck3.default)(this, RemovedFromChannelModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (RemovedFromChannelModal.__proto__ || (0, _getPrototypeOf2.default)(RemovedFromChannelModal)).call(this, props));\n\n        _this.handleShow = _this.handleShow.bind(_this);\n        _this.handleClose = _this.handleClose.bind(_this);\n\n        _this.state = {\n            channelName: '',\n            remover: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(RemovedFromChannelModal, [{\n        key: 'handleShow',\n        value: function handleShow() {\n            var newState = {};\n            if (_browser_store2.default.getItem('channel-removed-state')) {\n                newState = _browser_store2.default.getItem('channel-removed-state');\n                _browser_store2.default.removeItem('channel-removed-state');\n            }\n\n            var townSquare = _channel_store2.default.getByName('town-square');\n            setTimeout(function () {\n                _es.browserHistory.push(_team_store2.default.getCurrentTeamRelativeUrl() + '/channels/' + townSquare.name);\n            }, 1);\n\n            this.setState(newState);\n        }\n    }, {\n        key: 'handleClose',\n        value: function handleClose() {\n            this.setState({ channelName: '', remover: '' });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this)).on('show.bs.modal', this.handleShow);\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this)).on('hidden.bs.modal', this.handleClose);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this)).off('show.bs.modal', this.handleShow);\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this)).off('hidden.bs.modal', this.handleClose);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var currentUser = _user_store2.default.getCurrentUser();\n\n            var channelName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'removed_channel.channelName',\n                defaultMessage: 'the channel'\n            });\n            if (this.state.channelName) {\n                channelName = this.state.channelName;\n            }\n\n            var remover = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'removed_channel.someone',\n                defaultMessage: 'Someone'\n            });\n            if (this.state.remover) {\n                remover = this.state.remover;\n            }\n\n            if (currentUser != null) {\n                return _react2.default.createElement(\n                    'div',\n                    {\n                        className: 'modal fade',\n                        ref: 'modal',\n                        id: 'removed_from_channel',\n                        tabIndex: '-1',\n                        role: 'dialog',\n                        'aria-hidden': 'true'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'modal-dialog' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-content' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'modal-header' },\n                                _react2.default.createElement(\n                                    'button',\n                                    {\n                                        type: 'button',\n                                        className: 'close',\n                                        'data-dismiss': 'modal',\n                                        'aria-label': 'Close'\n                                    },\n                                    _react2.default.createElement(\n                                        'span',\n                                        { 'aria-hidden': 'true' },\n                                        '×'\n                                    )\n                                ),\n                                _react2.default.createElement(\n                                    'h4',\n                                    { className: 'modal-title' },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'removed_channel.from',\n                                        defaultMessage: 'Removed from '\n                                    }),\n                                    _react2.default.createElement(\n                                        'span',\n                                        { className: 'name' },\n                                        channelName\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'modal-body' },\n                                _react2.default.createElement(\n                                    'p',\n                                    null,\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'removed_channel.remover',\n                                        defaultMessage: '{remover} removed you from {channel}',\n                                        values: {\n                                            remover: remover,\n                                            channel: channelName\n                                        }\n                                    })\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'modal-footer' },\n                                _react2.default.createElement(\n                                    'button',\n                                    {\n                                        type: 'button',\n                                        className: 'btn btn-primary',\n                                        'data-dismiss': 'modal'\n                                    },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'removed_channel.okay',\n                                        defaultMessage: 'Okay'\n                                    })\n                                )\n                            )\n                        )\n                    )\n                );\n            }\n\n            return _react2.default.createElement('div', null);\n        }\n    }]);\n    return RemovedFromChannelModal;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = RemovedFromChannelModal;\n\n/***/ }),\n\n/***/ 2402:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(31);\n\nvar _redux = __webpack_require__(20);\n\nvar _preferences = __webpack_require__(210);\n\nvar _users = __webpack_require__(61);\n\nvar _constants = __webpack_require__(26);\n\nvar _preferences2 = __webpack_require__(64);\n\nvar _user_actions = __webpack_require__(69);\n\nvar _reset_status_modal = __webpack_require__(2403);\n\nvar _reset_status_modal2 = _interopRequireDefault(_reset_status_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    var currentUserId = state.entities.users.currentUserId;\n\n    return (0, _extends3.default)({}, ownProps, {\n        autoResetPref: (0, _preferences2.get)(state, _constants.Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS, currentUserId, '')\n    });\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            autoResetStatus: _user_actions.autoResetStatus,\n            setStatus: _users.setStatus,\n            savePreferences: _preferences.savePreferences\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_reset_status_modal2.default);\n\n/***/ }),\n\n/***/ 2403:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _constants = __webpack_require__(26);\n\nvar _utils = __webpack_require__(16);\n\nvar _confirm_modal = __webpack_require__(311);\n\nvar _confirm_modal2 = _interopRequireDefault(_confirm_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ResetStatusModal = function (_React$PureComponent) {\n    (0, _inherits3.default)(ResetStatusModal, _React$PureComponent);\n\n    function ResetStatusModal(props) {\n        (0, _classCallCheck3.default)(this, ResetStatusModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ResetStatusModal.__proto__ || (0, _getPrototypeOf2.default)(ResetStatusModal)).call(this, props));\n\n        _this.onConfirm = function (checked) {\n            _this.setState({ show: false });\n\n            var newStatus = (0, _extends3.default)({}, _this.state.currentUserStatus);\n            newStatus.status = 'online';\n            _this.props.actions.setStatus(newStatus);\n\n            if (checked) {\n                var pref = { category: _constants.Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS, user_id: newStatus.user_id, name: newStatus.user_id, value: 'true' };\n                _this.props.actions.savePreferences(pref.user_id, [pref]);\n            }\n        };\n\n        _this.onCancel = function (checked) {\n            _this.setState({ show: false });\n\n            if (checked) {\n                var status = (0, _extends3.default)({}, _this.state.currentUserStatus);\n                var pref = { category: _constants.Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS, user_id: status.user_id, name: status.user_id, value: 'false' };\n                _this.props.actions.savePreferences(pref.user_id, [pref]);\n            }\n        };\n\n        _this.state = {\n            show: false,\n            currentUserStatus: {}\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(ResetStatusModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            this.props.actions.autoResetStatus().then(function (status) {\n                var statusIsManual = status.manual;\n                var autoResetPrefNotSet = _this2.props.autoResetPref === '';\n\n                _this2.setState({\n                    currentUserStatus: status, // Set in state until status refactor where we store 'manual' field in redux\n                    show: Boolean(statusIsManual && autoResetPrefNotSet)\n                });\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var userStatus = (0, _utils.toTitleCase)(this.state.currentUserStatus.status || '');\n            var manualStatusTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'modal.manaul_status.title',\n                defaultMessage: 'Your status is set to \"{status}\"',\n                values: {\n                    status: userStatus\n                }\n            });\n\n            var manualStatusMessage = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'modal.manaul_status.message',\n                defaultMessage: 'Would you like to switch your status to \"Online\"?'\n            });\n\n            var manualStatusButton = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'modal.manaul_status.button',\n                defaultMessage: 'Yes, set my status to \"Online\"'\n            });\n\n            var manualStatusCancel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'modal.manaul_status.cancel',\n                defaultMessage: 'No, keep it as \"{status}\"',\n                values: {\n                    status: userStatus\n                }\n            });\n\n            var manualStatusCheckbox = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'modal.manaul_status.ask',\n                defaultMessage: 'Do not ask me again'\n            });\n\n            return _react2.default.createElement(_confirm_modal2.default, {\n                show: this.state.show,\n                title: manualStatusTitle,\n                message: manualStatusMessage,\n                confirmButtonText: manualStatusButton,\n                onConfirm: this.onConfirm,\n                cancelButtonText: manualStatusCancel,\n                onCancel: this.onCancel,\n                showCheckbox: true,\n                checkboxText: manualStatusCheckbox\n            });\n        }\n    }]);\n    return ResetStatusModal;\n}(_react2.default.PureComponent);\n\nResetStatusModal.propTypes = {\n\n    /*\n     * The user's preference for whether their status is automatically reset\n     */\n    autoResetPref: _propTypes2.default.string,\n    actions: _propTypes2.default.shape({\n\n        /*\n         * Function to get and then reset the user's status if needed\n         */\n        autoResetStatus: _propTypes2.default.func.isRequired,\n\n        /*\n         * Function to set the status for a user\n         */\n        setStatus: _propTypes2.default.func.isRequired,\n\n        /*\n         * Function to save user preferences\n         */\n        savePreferences: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = ResetStatusModal;\n\n/***/ }),\n\n/***/ 2404:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _keys = __webpack_require__(59);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(40);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _modal_store = __webpack_require__(2080);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar allShortcuts = (0, _reactIntl.defineMessages)({\n    mainHeader: {\n        default: {\n            id: 'shortcuts.header',\n            defaultMessage: 'Keyboard Shortcuts\\tCtrl|/'\n        },\n        mac: {\n            id: 'shortcuts.header.mac',\n            defaultMessage: 'Keyboard Shortcuts\\t⌘|/'\n        }\n    },\n    navHeader: {\n        id: 'shortcuts.nav.header',\n        defaultMessage: 'Navigation'\n    },\n    navPrev: {\n        default: {\n            id: 'shortcuts.nav.prev',\n            defaultMessage: 'Previous channel:\\tAlt|Up'\n        },\n        mac: {\n            id: 'shortcuts.nav.prev.mac',\n            defaultMessage: 'Previous channel:\\t⌥|Up'\n        }\n    },\n    navNext: {\n        default: {\n            id: 'shortcuts.nav.next',\n            defaultMessage: 'Next channel:\\tAlt|Down'\n        },\n        mac: {\n            id: 'shortcuts.nav.next.mac',\n            defaultMessage: 'Next channel:\\t⌥|Down'\n        }\n    },\n    navUnreadPrev: {\n        default: {\n            id: 'shortcuts.nav.unread_prev',\n            defaultMessage: 'Previous unread channel:\\tAlt|Shift|Up'\n        },\n        mac: {\n            id: 'shortcuts.nav.unread_prev.mac',\n            defaultMessage: 'Previous unread channel:\\t⌥|Shift|Up'\n        }\n    },\n    navUnreadNext: {\n        default: {\n            id: 'shortcuts.nav.unread_next',\n            defaultMessage: 'Next unread channel:\\tAlt|Shift|Down'\n        },\n        mac: {\n            id: 'shortcuts.nav.unread_next.mac',\n            defaultMessage: 'Next unread channel:\\t⌥|Shift|Down'\n        }\n    },\n    navSwitcher: {\n        default: {\n            id: 'shortcuts.nav.switcher',\n            defaultMessage: 'Quick channel switcher:\\tCtrl|K'\n        },\n        mac: {\n            id: 'shortcuts.nav.switcher.mac',\n            defaultMessage: 'Quick channel switcher:\\t⌘|K'\n        }\n    },\n    navDMMenu: {\n        default: {\n            id: 'shortcuts.nav.direct_messages_menu',\n            defaultMessage: 'Direct messages menu:\\tCtrl|Shift|K'\n        },\n        mac: {\n            id: 'shortcuts.nav.direct_messages_menu.mac',\n            defaultMessage: 'Direct messages menu:\\t⌘|Shift|K'\n        }\n    },\n    navSettings: {\n        default: {\n            id: 'shortcuts.nav.settings',\n            defaultMessage: 'Account settings:\\tCtrl|Shift|A'\n        },\n        mac: {\n            id: 'shortcuts.nav.settings.mac',\n            defaultMessage: 'Account settings:\\t⌘|Shift|A'\n        }\n    },\n    navMentions: {\n        default: {\n            id: 'shortcuts.nav.recent_mentions',\n            defaultMessage: 'Recent mentions:\\tCtrl|Shift|M'\n        },\n        mac: {\n            id: 'shortcuts.nav.recent_mentions.mac',\n            defaultMessage: 'Recent mentions:\\t⌘|Shift|M'\n        }\n    },\n    msgHeader: {\n        id: 'shortcuts.msgs.header',\n        defaultMessage: 'Messages'\n    },\n    msgInputHeader: {\n        id: 'shortcuts.msgs.input.header',\n        defaultMessage: 'Works inside an empty input field'\n    },\n    msgEdit: {\n        id: 'shortcuts.msgs.edit',\n        defaultMessage: 'Edit last message in channel:\\tUp'\n    },\n    msgReply: {\n        id: 'shortcuts.msgs.reply',\n        defaultMessage: 'Reply to last message in channel:\\tShift|Up'\n    },\n    msgReprintPrev: {\n        default: {\n            id: 'shortcuts.msgs.reprint_prev',\n            defaultMessage: 'Reprint previous message:\\tCtrl|Up'\n        },\n        mac: {\n            id: 'shortcuts.msgs.reprint_prev.mac',\n            defaultMessage: 'Reprint previous message:\\t⌘|Up'\n        }\n    },\n    msgReprintNext: {\n        default: {\n            id: 'shortcuts.msgs.reprint_next',\n            defaultMessage: 'Reprint next message:\\tCtrl|Down'\n        },\n        mac: {\n            id: 'shortcuts.msgs.reprint_next.mac',\n            defaultMessage: 'Reprint next message:\\t⌘|Down'\n        }\n    },\n    msgCompHeader: {\n        id: 'shortcuts.msgs.comp.header',\n        defaultMessage: 'Autocomplete'\n    },\n    msgCompUsername: {\n        id: 'shortcuts.msgs.comp.username',\n        defaultMessage: 'Username:\\t@|[a-z]|Tab'\n    },\n    msgCompChannel: {\n        id: 'shortcuts.msgs.comp.channel',\n        defaultMessage: 'Channel:\\t~|[a-z]|Tab'\n    },\n    msgCompEmoji: {\n        id: 'shortcuts.msgs.comp.emoji',\n        defaultMessage: 'Emoji:\\t:|[a-z]|Tab'\n    },\n    filesHeader: {\n        id: 'shortcuts.files.header',\n        defaultMessage: 'Files'\n    },\n    filesUpload: {\n        default: {\n            id: 'shortcuts.files.upload',\n            defaultMessage: 'Upload files:\\tCtrl|U'\n        },\n        mac: {\n            id: 'shortcuts.files.upload.mac',\n            defaultMessage: 'Upload files:\\t⌘|U'\n        }\n    },\n    browserHeader: {\n        id: 'shortcuts.browser.header',\n        defaultMessage: 'Built-in Browser Commands'\n    },\n    browserChannelPrev: {\n        default: {\n            id: 'shortcuts.browser.channel_prev',\n            defaultMessage: 'Back in history:\\tAlt|Left'\n        },\n        mac: {\n            id: 'shortcuts.browser.channel_prev.mac',\n            defaultMessage: 'Back in history:\\t⌘|['\n        }\n    },\n    browserChannelNext: {\n        default: {\n            id: 'shortcuts.browser.channel_next',\n            defaultMessage: 'Forward in history:\\tAlt|Right'\n        },\n        mac: {\n            id: 'shortcuts.browser.channel_next.mac',\n            defaultMessage: 'Forward in history:\\t⌘|]'\n        }\n    },\n    browserFontIncrease: {\n        default: {\n            id: 'shortcuts.browser.font_increase',\n            defaultMessage: 'Zoom in:\\tCtrl|+'\n        },\n        mac: {\n            id: 'shortcuts.browser.font_increase.mac',\n            defaultMessage: 'Zoom in:\\t⌘|+'\n        }\n    },\n    browserFontDecrease: {\n        default: {\n            id: 'shortcuts.browser.font_decrease',\n            defaultMessage: 'Zoom out:\\tCtrl|-'\n        },\n        mac: {\n            id: 'shortcuts.browser.font_decrease.mac',\n            defaultMessage: 'Zoom out:\\t⌘|-'\n        }\n    },\n    browserInputHeader: {\n        id: 'shortcuts.browser.input.header',\n        defaultMessage: 'Works inside an input field'\n    },\n    browserHighlightPrev: {\n        id: 'shortcuts.browser.highlight_prev',\n        defaultMessage: 'Highlight text to the previous line:\\tShift|Up'\n    },\n    browserHighlightNext: {\n        id: 'shortcuts.browser.highlight_next',\n        defaultMessage: 'Highlight text to the next line:\\tShift|Down'\n    },\n    browserNewline: {\n        id: 'shortcuts.browser.newline',\n        defaultMessage: 'Create a new line:\\tShift|Enter'\n    },\n    info: {\n        id: 'shortcuts.info',\n        defaultMessage: 'Begin a message with / for a list of all the commands at your disposal.'\n    }\n});\n\nvar ShortcutsModal = function (_React$PureComponent) {\n    (0, _inherits3.default)(ShortcutsModal, _React$PureComponent);\n\n    function ShortcutsModal(props) {\n        (0, _classCallCheck3.default)(this, ShortcutsModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ShortcutsModal.__proto__ || (0, _getPrototypeOf2.default)(ShortcutsModal)).call(this, props));\n\n        _this.handleToggle = function (value) {\n            _this.setState({\n                show: value\n            });\n        };\n\n        _this.handleHide = function () {\n            _this.setState({ show: false });\n        };\n\n        _this.state = {\n            show: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(ShortcutsModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(_constants2.default.ActionTypes.TOGGLE_SHORTCUTS_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(_constants2.default.ActionTypes.TOGGLE_SHORTCUTS_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'getShortcuts',\n        value: function getShortcuts() {\n            var isMac = this.props.isMac;\n\n            var shortcuts = {};\n            (0, _keys2.default)(allShortcuts).forEach(function (s) {\n                if (isMac && allShortcuts[s].mac) {\n                    shortcuts[s] = allShortcuts[s].mac;\n                } else if (!isMac && allShortcuts[s].default) {\n                    shortcuts[s] = allShortcuts[s].default;\n                } else {\n                    shortcuts[s] = allShortcuts[s];\n                }\n            });\n\n            return shortcuts;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var shortcuts = this.getShortcuts();\n            var formatMessage = this.props.intl.formatMessage;\n\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    dialogClassName: 'shortcuts-modal',\n                    show: this.state.show,\n                    onHide: this.handleHide,\n                    onExited: this.handleHide\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'shortcuts-content' },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Header,\n                        { closeButton: true },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Title,\n                            null,\n                            _react2.default.createElement(\n                                'strong',\n                                null,\n                                renderShortcut(formatMessage(shortcuts.mainHeader))\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Body,\n                        { ref: 'modalBody' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'row' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-4' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'section' },\n                                    _react2.default.createElement(\n                                        'div',\n                                        null,\n                                        _react2.default.createElement(\n                                            'h4',\n                                            { className: 'section-title' },\n                                            _react2.default.createElement(\n                                                'strong',\n                                                null,\n                                                formatMessage(shortcuts.navHeader)\n                                            )\n                                        ),\n                                        renderShortcut(formatMessage(shortcuts.navPrev)),\n                                        renderShortcut(formatMessage(shortcuts.navNext)),\n                                        renderShortcut(formatMessage(shortcuts.navUnreadPrev)),\n                                        renderShortcut(formatMessage(shortcuts.navUnreadNext)),\n                                        renderShortcut(formatMessage(shortcuts.navSwitcher)),\n                                        renderShortcut(formatMessage(shortcuts.navDMMenu)),\n                                        renderShortcut(formatMessage(shortcuts.navSettings)),\n                                        renderShortcut(formatMessage(shortcuts.navMentions))\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-4' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'section' },\n                                    _react2.default.createElement(\n                                        'div',\n                                        null,\n                                        _react2.default.createElement(\n                                            'h4',\n                                            { className: 'section-title' },\n                                            _react2.default.createElement(\n                                                'strong',\n                                                null,\n                                                formatMessage(shortcuts.msgHeader)\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            'span',\n                                            null,\n                                            _react2.default.createElement(\n                                                'strong',\n                                                null,\n                                                formatMessage(shortcuts.msgInputHeader)\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            'div',\n                                            { className: 'subsection' },\n                                            renderShortcut(formatMessage(shortcuts.msgEdit)),\n                                            renderShortcut(formatMessage(shortcuts.msgReply)),\n                                            renderShortcut(formatMessage(shortcuts.msgReprintPrev)),\n                                            renderShortcut(formatMessage(shortcuts.msgReprintNext))\n                                        ),\n                                        _react2.default.createElement(\n                                            'span',\n                                            null,\n                                            _react2.default.createElement(\n                                                'strong',\n                                                null,\n                                                formatMessage(shortcuts.msgCompHeader)\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            'div',\n                                            { className: 'subsection' },\n                                            renderShortcut(formatMessage(shortcuts.msgCompUsername)),\n                                            renderShortcut(formatMessage(shortcuts.msgCompChannel)),\n                                            renderShortcut(formatMessage(shortcuts.msgCompEmoji))\n                                        )\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-4' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'section' },\n                                    _react2.default.createElement(\n                                        'div',\n                                        null,\n                                        _react2.default.createElement(\n                                            'h4',\n                                            { className: 'section-title' },\n                                            _react2.default.createElement(\n                                                'strong',\n                                                null,\n                                                formatMessage(shortcuts.filesHeader)\n                                            )\n                                        ),\n                                        renderShortcut(formatMessage(shortcuts.filesUpload))\n                                    ),\n                                    _react2.default.createElement(\n                                        'div',\n                                        { className: 'section--lower' },\n                                        _react2.default.createElement(\n                                            'h4',\n                                            { className: 'section-title' },\n                                            _react2.default.createElement(\n                                                'strong',\n                                                null,\n                                                formatMessage(shortcuts.browserHeader)\n                                            )\n                                        ),\n                                        renderShortcut(formatMessage(shortcuts.browserChannelPrev)),\n                                        renderShortcut(formatMessage(shortcuts.browserChannelNext)),\n                                        renderShortcut(formatMessage(shortcuts.browserFontIncrease)),\n                                        renderShortcut(formatMessage(shortcuts.browserFontDecrease)),\n                                        _react2.default.createElement(\n                                            'span',\n                                            null,\n                                            _react2.default.createElement(\n                                                'strong',\n                                                null,\n                                                formatMessage(shortcuts.browserInputHeader)\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            'div',\n                                            { className: 'subsection' },\n                                            renderShortcut(formatMessage(shortcuts.browserHighlightPrev)),\n                                            renderShortcut(formatMessage(shortcuts.browserHighlightNext)),\n                                            renderShortcut(formatMessage(shortcuts.browserNewline))\n                                        )\n                                    )\n                                )\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'info__label' },\n                            formatMessage(shortcuts.info)\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return ShortcutsModal;\n}(_react2.default.PureComponent);\n\nShortcutsModal.propTypes = {\n    intl: _reactIntl.intlShape.isRequired,\n    isMac: _propTypes2.default.bool.isRequired\n};\n\n\nfunction renderShortcut(text) {\n    if (!text) {\n        return null;\n    }\n\n    var shortcut = text.split('\\t');\n    var description = _react2.default.createElement(\n        'span',\n        null,\n        shortcut[0]\n    );\n\n    var keys = null;\n    if (shortcut.length > 1) {\n        keys = shortcut[1].split('|').map(function (key) {\n            return _react2.default.createElement(\n                'span',\n                {\n                    className: 'shortcut-key',\n                    key: key\n                },\n                key\n            );\n        });\n    }\n\n    return _react2.default.createElement(\n        'div',\n        { className: 'shortcut-line' },\n        description,\n        keys\n    );\n}\n\nexports.default = (0, _reactIntl.injectIntl)(ShortcutsModal);\n\n/***/ }),\n\n/***/ 2405:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(31);\n\nvar _sidebar_right = __webpack_require__(2406);\n\nvar _sidebar_right2 = _interopRequireDefault(_sidebar_right);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps, {\n        postRightVisible: Boolean(state.views.rhs.selectedPostId),\n        fromSearch: state.views.rhs.fromSearch,\n        fromFlaggedPosts: state.views.rhs.fromFlaggedPosts,\n        fromPinnedPosts: state.views.rhs.fromPinnedPosts\n    });\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps)(_sidebar_right2.default);\n\n/***/ }),\n\n/***/ 2406:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _diagnostics_actions = __webpack_require__(237);\n\nvar _global_actions = __webpack_require__(56);\n\nvar _post_actions = __webpack_require__(73);\n\nvar _post_store = __webpack_require__(312);\n\nvar _post_store2 = _interopRequireDefault(_post_store);\n\nvar _preference_store = __webpack_require__(119);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _search_store = __webpack_require__(313);\n\nvar _search_store2 = _interopRequireDefault(_search_store);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(436);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _file_upload_overlay = __webpack_require__(2095);\n\nvar _file_upload_overlay2 = _interopRequireDefault(_file_upload_overlay);\n\nvar _rhs_thread = __webpack_require__(2407);\n\nvar _rhs_thread2 = _interopRequireDefault(_rhs_thread);\n\nvar _search_bar = __webpack_require__(753);\n\nvar _search_bar2 = _interopRequireDefault(_search_bar);\n\nvar _search_results = __webpack_require__(2432);\n\nvar _search_results2 = _interopRequireDefault(_search_results);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SidebarRight = function (_React$Component) {\n    (0, _inherits3.default)(SidebarRight, _React$Component);\n\n    function SidebarRight(props) {\n        (0, _classCallCheck3.default)(this, SidebarRight);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SidebarRight.__proto__ || (0, _getPrototypeOf2.default)(SidebarRight)).call(this, props));\n\n        _this.plScrolledToBottom = true;\n\n        _this.onPreferenceChange = _this.onPreferenceChange.bind(_this);\n        _this.onPostPinnedChange = _this.onPostPinnedChange.bind(_this);\n        _this.onSearchChange = _this.onSearchChange.bind(_this);\n        _this.onUserChange = _this.onUserChange.bind(_this);\n        _this.onShowSearch = _this.onShowSearch.bind(_this);\n        _this.onShrink = _this.onShrink.bind(_this);\n        _this.toggleSize = _this.toggleSize.bind(_this);\n\n        _this.doStrangeThings = _this.doStrangeThings.bind(_this);\n\n        _this.state = {\n            searchVisible: _search_store2.default.getSearchResults() !== null,\n            isMentionSearch: _search_store2.default.getIsMentionSearch(),\n            isFlaggedPosts: _search_store2.default.getIsFlaggedPosts(),\n            isPinnedPosts: _search_store2.default.getIsPinnedPosts(),\n            expanded: false,\n            fromSearch: false,\n            currentUser: _user_store2.default.getCurrentUser(),\n            useMilitaryTime: _preference_store2.default.getBool(_constants2.default.Preferences.CATEGORY_DISPLAY_SETTINGS, _constants2.default.Preferences.USE_MILITARY_TIME, false)\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SidebarRight, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _search_store2.default.addSearchChangeListener(this.onSearchChange);\n            _post_store2.default.addPostPinnedChangeListener(this.onPostPinnedChange);\n            _search_store2.default.addShowSearchListener(this.onShowSearch);\n            _user_store2.default.addChangeListener(this.onUserChange);\n            _preference_store2.default.addChangeListener(this.onPreferenceChange);\n            this.doStrangeThings();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _search_store2.default.removeSearchChangeListener(this.onSearchChange);\n            _post_store2.default.removePostPinnedChangeListener(this.onPostPinnedChange);\n            _search_store2.default.removeShowSearchListener(this.onShowSearch);\n            _user_store2.default.removeChangeListener(this.onUserChange);\n            _preference_store2.default.removeChangeListener(this.onPreferenceChange);\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            return !Utils.areObjectsEqual(nextState, this.state) || this.props.postRightVisible !== nextProps.postRightVisible;\n        }\n    }, {\n        key: 'componentWillUpdate',\n        value: function componentWillUpdate(nextProps, nextState) {\n            var isOpen = this.state.searchVisible || this.props.postRightVisible;\n            var willOpen = nextState.searchVisible || nextProps.postRightVisible;\n\n            if (!isOpen && willOpen) {\n                (0, _diagnostics_actions.trackEvent)('ui', 'ui_rhs_opened');\n            }\n\n            if (!isOpen && willOpen) {\n                this.setState({\n                    expanded: false\n                });\n            }\n        }\n    }, {\n        key: 'doStrangeThings',\n        value: function doStrangeThings() {\n            // We should have a better way to do this stuff\n            // Hence the function name.\n            (0, _jquery2.default)('.app__body .inner-wrap').removeClass('.move--right');\n            (0, _jquery2.default)('.app__body .inner-wrap').addClass('move--left');\n            (0, _jquery2.default)('.app__body .sidebar--left').removeClass('move--right');\n            (0, _jquery2.default)('.multi-teams .team-sidebar').removeClass('move--right');\n            (0, _jquery2.default)('.app__body .sidebar--right').addClass('move--left');\n\n            //$('.sidebar--right').prepend('<div class=\"sidebar__overlay\"></div>');\n            if (!this.state.searchVisible && !this.props.postRightVisible) {\n                (0, _jquery2.default)('.app__body .inner-wrap').removeClass('move--left').removeClass('move--right');\n                (0, _jquery2.default)('.app__body .sidebar--right').removeClass('move--left');\n                return _react2.default.createElement('div', null);\n            }\n\n            /*setTimeout(() => {\n                $('.sidebar__overlay').fadeOut('200', () => {\n                    $('.sidebar__overlay').remove();\n                });\n                }, 500);*/\n            return null;\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            var isOpen = this.state.searchVisible || this.props.postRightVisible;\n            _webrtc_store2.default.emitRhsChanged(isOpen);\n            this.doStrangeThings();\n\n            var wasOpen = prevState.searchVisible || prevProps.postRightVisible;\n\n            if (isOpen && !wasOpen) {\n                setTimeout(function () {\n                    return (0, _global_actions.postListScrollChange)();\n                }, 0);\n            }\n        }\n    }, {\n        key: 'onPreferenceChange',\n        value: function onPreferenceChange() {\n            if (this.state.isFlaggedPosts) {\n                (0, _post_actions.getFlaggedPosts)();\n            }\n\n            this.setState({\n                useMilitaryTime: _preference_store2.default.getBool(_constants2.default.Preferences.CATEGORY_DISPLAY_SETTINGS, _constants2.default.Preferences.USE_MILITARY_TIME, false)\n            });\n        }\n    }, {\n        key: 'onPostPinnedChange',\n        value: function onPostPinnedChange() {\n            if (this.props.channel && this.state.isPinnedPosts) {\n                (0, _post_actions.getPinnedPosts)(this.props.channel.id);\n            }\n        }\n    }, {\n        key: 'onShrink',\n        value: function onShrink() {\n            this.setState({\n                expanded: false\n            });\n        }\n    }, {\n        key: 'onSearchChange',\n        value: function onSearchChange() {\n            this.setState({\n                searchVisible: _search_store2.default.getSearchResults() !== null || _search_store2.default.isLoading(),\n                isMentionSearch: _search_store2.default.getIsMentionSearch(),\n                isFlaggedPosts: _search_store2.default.getIsFlaggedPosts(),\n                isPinnedPosts: _search_store2.default.getIsPinnedPosts()\n            });\n        }\n    }, {\n        key: 'onUserChange',\n        value: function onUserChange() {\n            this.setState({\n                currentUser: _user_store2.default.getCurrentUser()\n            });\n        }\n    }, {\n        key: 'onShowSearch',\n        value: function onShowSearch() {\n            if (!this.state.searchVisible) {\n                this.setState({\n                    searchVisible: true\n                });\n            }\n        }\n    }, {\n        key: 'toggleSize',\n        value: function toggleSize() {\n            this.setState({ expanded: !this.state.expanded });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var content = null;\n            var expandedClass = '';\n\n            if (this.state.expanded) {\n                expandedClass = 'sidebar--right--expanded';\n            }\n\n            var currentId = _user_store2.default.getCurrentId();\n            var searchForm = null;\n            if (currentId) {\n                searchForm = _react2.default.createElement(_search_bar2.default, { isFocus: this.state.searchVisible && Utils.isMobile() });\n            }\n\n            var channel = this.props.channel;\n\n            var channelDisplayName = '';\n            if (channel) {\n                if (channel.type === _constants2.default.DM_CHANNEL || channel.type === _constants2.default.GM_CHANNEL) {\n                    channelDisplayName = Utils.localizeMessage('rhs_root.direct', 'Direct Message');\n                } else {\n                    channelDisplayName = channel.display_name;\n                }\n            }\n\n            if (this.state.searchVisible) {\n                content = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__content' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'search-bar__container channel-header alt' },\n                        searchForm\n                    ),\n                    _react2.default.createElement(_search_results2.default, {\n                        isMentionSearch: this.state.isMentionSearch,\n                        isFlaggedPosts: this.state.isFlaggedPosts,\n                        isPinnedPosts: this.state.isPinnedPosts,\n                        useMilitaryTime: this.state.useMilitaryTime,\n                        toggleSize: this.toggleSize,\n                        shrink: this.onShrink,\n                        channelDisplayName: channelDisplayName\n                    })\n                );\n            } else if (this.props.postRightVisible) {\n                content = _react2.default.createElement(\n                    'div',\n                    { className: 'post-right__container' },\n                    _react2.default.createElement(_file_upload_overlay2.default, { overlayType: 'right' }),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'search-bar__container channel-header alt' },\n                        searchForm\n                    ),\n                    _react2.default.createElement(_rhs_thread2.default, {\n                        fromFlaggedPosts: this.props.fromFlaggedPosts,\n                        fromSearch: this.props.fromSearch,\n                        fromPinnedPosts: this.props.fromPinnedPosts,\n                        isWebrtc: _webrtc_store2.default.isBusy(),\n                        isMentionSearch: this.state.isMentionSearch,\n                        currentUser: this.state.currentUser,\n                        useMilitaryTime: this.state.useMilitaryTime,\n                        toggleSize: this.toggleSize,\n                        shrink: this.onShrink\n                    })\n                );\n            }\n\n            if (!content) {\n                expandedClass = '';\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'sidebar--right ' + expandedClass,\n                    id: 'sidebar-right'\n                },\n                _react2.default.createElement('div', {\n                    onClick: this.onShrink,\n                    className: 'sidebar--right__bg'\n                }),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar-right-container' },\n                    content\n                )\n            );\n        }\n    }]);\n    return SidebarRight;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nSidebarRight.propTypes = {\n    channel: _propTypes2.default.object,\n    postRightVisible: _propTypes2.default.bool,\n    fromSearch: _propTypes2.default.string,\n    fromFlaggedPosts: _propTypes2.default.bool,\n    fromPinnedPosts: _propTypes2.default.bool\n};\nexports.default = SidebarRight;\n\n/***/ }),\n\n/***/ 2407:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(31);\n\nvar _redux = __webpack_require__(20);\n\nvar _posts = __webpack_require__(138);\n\nvar _preferences = __webpack_require__(64);\n\nvar _posts2 = __webpack_require__(106);\n\nvar _constants = __webpack_require__(9);\n\nvar _rhs = __webpack_require__(2408);\n\nvar _rhs_thread = __webpack_require__(2409);\n\nvar _rhs_thread2 = _interopRequireDefault(_rhs_thread);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction makeMapStateToProps() {\n    var getPostsForThread = (0, _posts.makeGetPostsForThread)();\n\n    return function mapStateToProps(state, ownProps) {\n        var selected = (0, _rhs.getSelectedPost)(state);\n\n        var posts = [];\n        if (selected) {\n            posts = getPostsForThread(state, { rootId: selected.id, channelId: selected.channel_id });\n        }\n\n        return (0, _extends3.default)({}, ownProps, {\n            selected: selected,\n            posts: posts,\n            previewCollapsed: (0, _preferences.get)(state, _constants.Preferences.CATEGORY_DISPLAY_SETTINGS, _constants.Preferences.COLLAPSE_DISPLAY, 'false'),\n            previewEnabled: (0, _preferences.getBool)(state, _constants.Preferences.CATEGORY_DISPLAY_SETTINGS, _constants.Preferences.LINK_PREVIEW_DISPLAY, true)\n        });\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            removePost: _posts2.removePost\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(makeMapStateToProps, mapDispatchToProps)(_rhs_thread2.default);\n\n/***/ }),\n\n/***/ 2408:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getSelectedPost = undefined;\nexports.getSelectedPostId = getSelectedPostId;\n\nvar _reselect = __webpack_require__(88);\n\nvar _users = __webpack_require__(50);\n\nvar _constants = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction getSelectedPostId(state) {\n    return state.views.rhs.selectedPostId;\n}\n\nfunction getSelectedPostChannelId(state) {\n    return state.views.rhs.selectedPostChannelId;\n}\n\nfunction getRealSelectedPost(state) {\n    return state.entities.posts.posts[state.views.rhs.selectedPostId];\n}\n\nvar getSelectedPost = exports.getSelectedPost = (0, _reselect.createSelector)(getSelectedPostId, getRealSelectedPost, getSelectedPostChannelId, _users.getCurrentUserId, function (selectedPostId, selectedPost, selectedPostChannelId, currentUserId) {\n    if (selectedPost) {\n        return selectedPost;\n    }\n\n    // If there is no root post found, assume it has been deleted by data retention policy, and create a fake one.\n    return {\n        id: selectedPostId,\n        exists: false,\n        type: _constants.PostTypes.FAKE_PARENT_DELETED,\n        message: (0, _utils.localizeMessage)('rhs_thread.rootPostDeletedMessage.body', 'Part of this thread has been deleted due to a data retention policy. You can no longer reply to this thread.'),\n        channel_id: selectedPostChannelId,\n        user_id: currentUserId\n    };\n});\n\n/***/ }),\n\n/***/ 2409:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _assign = __webpack_require__(41);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _stringify = __webpack_require__(155);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nexports.renderView = renderView;\nexports.renderThumbHorizontal = renderThumbHorizontal;\nexports.renderThumbVertical = renderThumbVertical;\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactCustomScrollbars = __webpack_require__(2410);\n\nvar _reactCustomScrollbars2 = _interopRequireDefault(_reactCustomScrollbars);\n\nvar _preference_store = __webpack_require__(119);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(436);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _delayed_action = __webpack_require__(319);\n\nvar _delayed_action2 = _interopRequireDefault(_delayed_action);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _create_comment = __webpack_require__(2426);\n\nvar _create_comment2 = _interopRequireDefault(_create_comment);\n\nvar _date_separator = __webpack_require__(2428);\n\nvar _date_separator2 = _interopRequireDefault(_date_separator);\n\nvar _floating_timestamp = __webpack_require__(787);\n\nvar _floating_timestamp2 = _interopRequireDefault(_floating_timestamp);\n\nvar _rhs_comment = __webpack_require__(2429);\n\nvar _rhs_comment2 = _interopRequireDefault(_rhs_comment);\n\nvar _rhs_header_post = __webpack_require__(2430);\n\nvar _rhs_header_post2 = _interopRequireDefault(_rhs_header_post);\n\nvar _rhs_root_post = __webpack_require__(2431);\n\nvar _rhs_root_post2 = _interopRequireDefault(_rhs_root_post);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar Preferences = _constants2.default.Preferences;\n\nfunction renderView(props) {\n    return _react2.default.createElement('div', (0, _extends3.default)({}, props, {\n        className: 'scrollbar--view'\n    }));\n}\n\nfunction renderThumbHorizontal(props) {\n    return _react2.default.createElement('div', (0, _extends3.default)({}, props, {\n        className: 'scrollbar--horizontal'\n    }));\n}\n\nfunction renderThumbVertical(props) {\n    return _react2.default.createElement('div', (0, _extends3.default)({}, props, {\n        className: 'scrollbar--vertical'\n    }));\n}\n\nvar RhsThread = function (_React$Component) {\n    (0, _inherits3.default)(RhsThread, _React$Component);\n\n    function RhsThread(props) {\n        (0, _classCallCheck3.default)(this, RhsThread);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (RhsThread.__proto__ || (0, _getPrototypeOf2.default)(RhsThread)).call(this, props));\n\n        _this.getSidebarBody = function () {\n            return _this.refs.sidebarbody;\n        };\n\n        _this.mounted = false;\n\n        _this.onUserChange = _this.onUserChange.bind(_this);\n        _this.forceUpdateInfo = _this.forceUpdateInfo.bind(_this);\n        _this.onPreferenceChange = _this.onPreferenceChange.bind(_this);\n        _this.onStatusChange = _this.onStatusChange.bind(_this);\n        _this.onBusy = _this.onBusy.bind(_this);\n        _this.handleResize = _this.handleResize.bind(_this);\n        _this.handleScroll = _this.handleScroll.bind(_this);\n        _this.handleScrollStop = _this.handleScrollStop.bind(_this);\n        _this.scrollStopAction = new _delayed_action2.default(_this.handleScrollStop);\n\n        var openTime = new Date().getTime();\n        var state = {};\n        state.windowWidth = Utils.windowWidth();\n        state.windowHeight = Utils.windowHeight();\n        state.profiles = JSON.parse((0, _stringify2.default)(_user_store2.default.getProfiles()));\n        state.compactDisplay = _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT;\n        state.flaggedPosts = _preference_store2.default.getCategory(_constants2.default.Preferences.CATEGORY_FLAGGED_POST);\n        state.statuses = (0, _assign2.default)({}, _user_store2.default.getStatuses());\n        state.previewsCollapsed = _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.COLLAPSE_DISPLAY, 'false');\n        state.isBusy = _webrtc_store2.default.isBusy();\n\n        _this.state = (0, _extends3.default)({}, state, {\n            isScrolling: false,\n            topRhsPostCreateAt: 0,\n            openTime: openTime\n        });\n        return _this;\n    }\n\n    (0, _createClass3.default)(RhsThread, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _preference_store2.default.addChangeListener(this.onPreferenceChange);\n            _user_store2.default.addChangeListener(this.onUserChange);\n            _user_store2.default.addStatusesChangeListener(this.onStatusChange);\n            _webrtc_store2.default.addBusyListener(this.onBusy);\n\n            this.scrollToBottom();\n            window.addEventListener('resize', this.handleResize);\n\n            this.mounted = true;\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _preference_store2.default.removeChangeListener(this.onPreferenceChange);\n            _user_store2.default.removeChangeListener(this.onUserChange);\n            _user_store2.default.removeStatusesChangeListener(this.onStatusChange);\n            _webrtc_store2.default.removeBusyListener(this.onBusy);\n\n            window.removeEventListener('resize', this.handleResize);\n\n            this.mounted = false;\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            var prevPostsArray = prevProps.posts || [];\n            var curPostsArray = this.props.posts || [];\n\n            if (prevPostsArray.length >= curPostsArray.length) {\n                return;\n            }\n\n            var curLastPost = curPostsArray[curPostsArray.length - 1];\n\n            if (curLastPost.user_id === _user_store2.default.getCurrentId()) {\n                this.scrollToBottom();\n            }\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            if (!Utils.areObjectsEqual(nextState.statuses, this.state.statuses)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextState.postsArray, this.props.posts)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextState.selected, this.props.selected)) {\n                return true;\n            }\n\n            if (nextState.compactDisplay !== this.state.compactDisplay) {\n                return true;\n            }\n\n            if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n                return true;\n            }\n\n            if (nextState.previewsCollapsed !== this.state.previewsCollapsed) {\n                return true;\n            }\n\n            if (nextProps.previewEnabled !== this.props.previewEnabled) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextState.flaggedPosts, this.state.flaggedPosts)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextState.profiles, this.state.profiles)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n                return true;\n            }\n\n            if (nextState.isBusy !== this.state.isBusy) {\n                return true;\n            }\n\n            if (nextState.isScrolling !== this.state.isScrolling) {\n                return true;\n            }\n\n            if (nextState.topRhsPostCreateAt !== this.state.topRhsPostCreateAt) {\n                return true;\n            }\n            if (nextProps.previewCollapsed !== this.props.previewCollapsed) {\n                return true;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'forceUpdateInfo',\n        value: function forceUpdateInfo() {\n            if (this.state.postList) {\n                for (var postId in this.state.postList.posts) {\n                    if (this.refs[postId]) {\n                        this.refs[postId].forceUpdate();\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'handleResize',\n        value: function handleResize() {\n            this.setState({\n                windowWidth: Utils.windowWidth(),\n                windowHeight: Utils.windowHeight()\n            });\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (!this.props.selected || !nextProps.selected) {\n                return;\n            }\n\n            if (this.props.selected.id !== nextProps.selected.id) {\n                this.setState({\n                    openTime: new Date().getTime()\n                });\n            }\n        }\n    }, {\n        key: 'onPreferenceChange',\n        value: function onPreferenceChange(category) {\n            var previewSuffix = '';\n            if (category === Preferences.CATEGORY_DISPLAY_SETTINGS) {\n                previewSuffix = '_' + Utils.generateId();\n            }\n\n            this.setState({\n                compactDisplay: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT,\n                flaggedPosts: _preference_store2.default.getCategory(_constants2.default.Preferences.CATEGORY_FLAGGED_POST),\n                previewsCollapsed: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.COLLAPSE_DISPLAY, 'false') + previewSuffix\n            });\n            this.forceUpdateInfo();\n        }\n    }, {\n        key: 'onStatusChange',\n        value: function onStatusChange() {\n            this.setState({ statuses: (0, _assign2.default)({}, _user_store2.default.getStatuses()) });\n        }\n    }, {\n        key: 'onBusy',\n        value: function onBusy(isBusy) {\n            this.setState({ isBusy: isBusy });\n        }\n    }, {\n        key: 'filterPosts',\n        value: function filterPosts(posts, selected, openTime) {\n            var postsArray = [];\n\n            posts.forEach(function (cpost) {\n                // Do not show empherals created before sidebar has been opened\n                if (cpost.type === 'system_ephemeral' && cpost.create_at < openTime) {\n                    return;\n                }\n\n                if (cpost.root_id === selected.id) {\n                    postsArray.unshift(cpost);\n                }\n            });\n\n            return postsArray;\n        }\n    }, {\n        key: 'onUserChange',\n        value: function onUserChange() {\n            var profiles = JSON.parse((0, _stringify2.default)(_user_store2.default.getProfiles()));\n            this.setState({ profiles: profiles });\n        }\n    }, {\n        key: 'scrollToBottom',\n        value: function scrollToBottom() {\n            if ((0, _jquery2.default)('.post-right__scroll')[0]) {\n                (0, _jquery2.default)('.post-right__scroll').parent().scrollTop((0, _jquery2.default)('.post-right__scroll')[0].scrollHeight);\n            }\n        }\n    }, {\n        key: 'updateFloatingTimestamp',\n        value: function updateFloatingTimestamp() {\n            // skip this in non-mobile view since that's when the timestamp is visible\n            if (!Utils.isMobile()) {\n                return;\n            }\n\n            if (this.props.posts) {\n                var childNodes = this.refs.rhspostlist.childNodes;\n                var viewPort = this.refs.rhspostlist.getBoundingClientRect();\n                var topRhsPostCreateAt = 0;\n                var offset = 100;\n\n                // determine the top rhs comment assuming that childNodes and postsArray are of same length\n                for (var i = 0; i < childNodes.length; i++) {\n                    if (childNodes[i].offsetTop + viewPort.top - offset > 0) {\n                        topRhsPostCreateAt = this.props.posts[i].create_at;\n                        break;\n                    }\n                }\n\n                if (topRhsPostCreateAt !== this.state.topRhsPostCreateAt) {\n                    this.setState({\n                        topRhsPostCreateAt: topRhsPostCreateAt\n                    });\n                }\n            }\n        }\n    }, {\n        key: 'handleScroll',\n        value: function handleScroll() {\n            this.updateFloatingTimestamp();\n\n            if (!this.state.isScrolling) {\n                this.setState({\n                    isScrolling: true\n                });\n            }\n\n            this.scrollStopAction.fireAfter(_constants2.default.SCROLL_DELAY);\n        }\n    }, {\n        key: 'handleScrollStop',\n        value: function handleScrollStop() {\n            this.setState({\n                isScrolling: false\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (this.props.posts == null || this.props.selected == null) {\n                return _react2.default.createElement('div', null);\n            }\n\n            var postsArray = this.filterPosts(this.props.posts, this.props.selected, this.state.openTime);\n            var selected = this.props.selected;\n            var profiles = this.state.profiles || {};\n\n            var profile = void 0;\n            if (_user_store2.default.getCurrentId() === selected.user_id) {\n                profile = this.props.currentUser;\n            } else {\n                profile = profiles[selected.user_id];\n            }\n\n            var isRootFlagged = false;\n            if (this.state.flaggedPosts) {\n                isRootFlagged = this.state.flaggedPosts.get(selected.id) != null;\n            }\n\n            var rootStatus = 'offline';\n            if (this.state.statuses) {\n                rootStatus = this.state.statuses[selected.user_id] || 'offline';\n            }\n\n            var createAt = selected.create_at;\n            if (!createAt) {\n                createAt = this.props.posts[0].create_at;\n            }\n            var rootPostDay = Utils.getDateForUnixTicks(createAt);\n            var previousPostDay = rootPostDay;\n\n            var commentsLists = [];\n            var postsLength = postsArray.length;\n            for (var i = 0; i < postsLength; i++) {\n                var comPost = postsArray[i];\n                var p = void 0;\n                if (_user_store2.default.getCurrentId() === comPost.user_id) {\n                    p = _user_store2.default.getCurrentUser();\n                } else {\n                    p = profiles[comPost.user_id];\n                }\n\n                var isFlagged = false;\n                if (this.state.flaggedPosts) {\n                    isFlagged = this.state.flaggedPosts.get(comPost.id) != null;\n                }\n\n                var status = 'offline';\n                if (this.state.statuses && p && p.id) {\n                    status = this.state.statuses[p.id] || 'offline';\n                }\n\n                var currentPostDay = Utils.getDateForUnixTicks(comPost.create_at);\n                if (currentPostDay.toDateString() !== previousPostDay.toDateString()) {\n                    previousPostDay = currentPostDay;\n                    commentsLists.push(_react2.default.createElement(_date_separator2.default, {\n                        date: currentPostDay\n                    }));\n                }\n\n                var keyPrefix = comPost.id ? comPost.id : comPost.pending_post_id;\n                var reverseCount = postsLength - i - 1;\n                commentsLists.push(_react2.default.createElement(\n                    'div',\n                    { key: keyPrefix + 'commentKey' },\n                    _react2.default.createElement(_rhs_comment2.default, {\n                        ref: comPost.id,\n                        post: comPost,\n                        lastPostCount: reverseCount >= 0 && reverseCount < _constants2.default.TEST_ID_COUNT ? reverseCount : -1,\n                        user: p,\n                        currentUser: this.props.currentUser,\n                        compactDisplay: this.state.compactDisplay,\n                        useMilitaryTime: this.props.useMilitaryTime,\n                        isFlagged: isFlagged,\n                        status: status,\n                        isBusy: this.state.isBusy,\n                        removePost: this.props.actions.removePost,\n                        previewCollapsed: this.props.previewCollapsed\n                    })\n                ));\n            }\n\n            var createComment = void 0;\n            if (selected.type !== _constants2.default.PostTypes.FAKE_PARENT_DELETED) {\n                createComment = _react2.default.createElement(\n                    'div',\n                    { className: 'post-create__container' },\n                    _react2.default.createElement(_create_comment2.default, {\n                        channelId: selected.channel_id,\n                        rootId: selected.id,\n                        latestPostId: postsLength > 0 ? postsArray[postsLength - 1].id : selected.id,\n                        getSidebarBody: this.getSidebarBody\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'sidebar-right__body',\n                    ref: 'sidebarbody'\n                },\n                _react2.default.createElement(_floating_timestamp2.default, {\n                    isScrolling: this.state.isScrolling,\n                    isMobile: Utils.isMobile(),\n                    createAt: this.state.topRhsPostCreateAt,\n                    isRhsPost: true\n                }),\n                _react2.default.createElement(_rhs_header_post2.default, {\n                    fromFlaggedPosts: this.props.fromFlaggedPosts,\n                    fromSearch: this.props.fromSearch,\n                    fromPinnedPosts: this.props.fromPinnedPosts,\n                    isWebrtc: this.props.isWebrtc,\n                    isMentionSearch: this.props.isMentionSearch,\n                    toggleSize: this.props.toggleSize,\n                    shrink: this.props.shrink\n                }),\n                _react2.default.createElement(\n                    _reactCustomScrollbars2.default,\n                    {\n                        autoHide: true,\n                        autoHideTimeout: 500,\n                        autoHideDuration: 500,\n                        renderThumbHorizontal: renderThumbHorizontal,\n                        renderThumbVertical: renderThumbVertical,\n                        renderView: renderView,\n                        onScroll: this.handleScroll\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'post-right__scroll' },\n                        _react2.default.createElement(_date_separator2.default, {\n                            date: rootPostDay\n                        }),\n                        _react2.default.createElement(_rhs_root_post2.default, {\n                            ref: selected.id,\n                            post: selected,\n                            commentCount: postsLength,\n                            user: profile,\n                            currentUser: this.props.currentUser,\n                            compactDisplay: this.state.compactDisplay,\n                            useMilitaryTime: this.props.useMilitaryTime,\n                            isFlagged: isRootFlagged,\n                            status: rootStatus,\n                            previewCollapsed: this.state.previewsCollapsed,\n                            previewEnabled: this.props.previewEnabled,\n                            isBusy: this.state.isBusy\n                        }),\n                        _react2.default.createElement(\n                            'div',\n                            {\n                                ref: 'rhspostlist',\n                                className: 'post-right-comments-container'\n                            },\n                            commentsLists\n                        ),\n                        createComment\n                    )\n                )\n            );\n        }\n    }]);\n    return RhsThread;\n}(_react2.default.Component);\n\nRhsThread.propTypes = {\n    posts: _propTypes2.default.arrayOf(_propTypes2.default.object).isRequired,\n    selected: _propTypes2.default.object.isRequired,\n    fromSearch: _propTypes2.default.string,\n    fromFlaggedPosts: _propTypes2.default.bool,\n    fromPinnedPosts: _propTypes2.default.bool,\n    isWebrtc: _propTypes2.default.bool,\n    isMentionSearch: _propTypes2.default.bool,\n    currentUser: _propTypes2.default.object.isRequired,\n    useMilitaryTime: _propTypes2.default.bool.isRequired,\n    toggleSize: _propTypes2.default.func,\n    shrink: _propTypes2.default.func,\n    previewCollapsed: _propTypes2.default.string.isRequired,\n    previewEnabled: _propTypes2.default.bool.isRequired,\n    actions: _propTypes2.default.shape({\n        removePost: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nRhsThread.defaultProps = {\n    fromSearch: '',\n    isMentionSearch: false\n};\nexports.default = RhsThread;\n\n/***/ }),\n\n/***/ 2410:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Scrollbars = undefined;\n\nvar _Scrollbars = __webpack_require__(2411);\n\nvar _Scrollbars2 = _interopRequireDefault(_Scrollbars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nexports[\"default\"] = _Scrollbars2[\"default\"];\nexports.Scrollbars = _Scrollbars2[\"default\"];\n\n\n/***/ }),\n\n/***/ 2411:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _raf2 = __webpack_require__(2412);\n\nvar _raf3 = _interopRequireDefault(_raf2);\n\nvar _domCss = __webpack_require__(2196);\n\nvar _domCss2 = _interopRequireDefault(_domCss);\n\nvar _react = __webpack_require__(1);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _isString = __webpack_require__(2419);\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _getScrollbarWidth = __webpack_require__(2420);\n\nvar _getScrollbarWidth2 = _interopRequireDefault(_getScrollbarWidth);\n\nvar _returnFalse = __webpack_require__(2421);\n\nvar _returnFalse2 = _interopRequireDefault(_returnFalse);\n\nvar _getInnerWidth = __webpack_require__(2422);\n\nvar _getInnerWidth2 = _interopRequireDefault(_getInnerWidth);\n\nvar _getInnerHeight = __webpack_require__(2423);\n\nvar _getInnerHeight2 = _interopRequireDefault(_getInnerHeight);\n\nvar _styles = __webpack_require__(2424);\n\nvar _defaultRenderElements = __webpack_require__(2425);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Scrollbars = function (_Component) {\n    _inherits(Scrollbars, _Component);\n\n    function Scrollbars(props) {\n        var _ref;\n\n        _classCallCheck(this, Scrollbars);\n\n        for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            rest[_key - 1] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = Scrollbars.__proto__ || Object.getPrototypeOf(Scrollbars)).call.apply(_ref, [this, props].concat(rest)));\n\n        _this.getScrollLeft = _this.getScrollLeft.bind(_this);\n        _this.getScrollTop = _this.getScrollTop.bind(_this);\n        _this.getScrollWidth = _this.getScrollWidth.bind(_this);\n        _this.getScrollHeight = _this.getScrollHeight.bind(_this);\n        _this.getClientWidth = _this.getClientWidth.bind(_this);\n        _this.getClientHeight = _this.getClientHeight.bind(_this);\n        _this.getValues = _this.getValues.bind(_this);\n        _this.getThumbHorizontalWidth = _this.getThumbHorizontalWidth.bind(_this);\n        _this.getThumbVerticalHeight = _this.getThumbVerticalHeight.bind(_this);\n        _this.getScrollLeftForOffset = _this.getScrollLeftForOffset.bind(_this);\n        _this.getScrollTopForOffset = _this.getScrollTopForOffset.bind(_this);\n\n        _this.scrollLeft = _this.scrollLeft.bind(_this);\n        _this.scrollTop = _this.scrollTop.bind(_this);\n        _this.scrollToLeft = _this.scrollToLeft.bind(_this);\n        _this.scrollToTop = _this.scrollToTop.bind(_this);\n        _this.scrollToRight = _this.scrollToRight.bind(_this);\n        _this.scrollToBottom = _this.scrollToBottom.bind(_this);\n\n        _this.handleTrackMouseEnter = _this.handleTrackMouseEnter.bind(_this);\n        _this.handleTrackMouseLeave = _this.handleTrackMouseLeave.bind(_this);\n        _this.handleHorizontalTrackMouseDown = _this.handleHorizontalTrackMouseDown.bind(_this);\n        _this.handleVerticalTrackMouseDown = _this.handleVerticalTrackMouseDown.bind(_this);\n        _this.handleHorizontalThumbMouseDown = _this.handleHorizontalThumbMouseDown.bind(_this);\n        _this.handleVerticalThumbMouseDown = _this.handleVerticalThumbMouseDown.bind(_this);\n        _this.handleWindowResize = _this.handleWindowResize.bind(_this);\n        _this.handleScroll = _this.handleScroll.bind(_this);\n        _this.handleDrag = _this.handleDrag.bind(_this);\n        _this.handleDragEnd = _this.handleDragEnd.bind(_this);\n\n        _this.state = {\n            didMountUniversal: false\n        };\n        return _this;\n    }\n\n    _createClass(Scrollbars, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.addListeners();\n            this.update();\n            this.componentDidMountUniversal();\n        }\n    }, {\n        key: 'componentDidMountUniversal',\n        value: function componentDidMountUniversal() {\n            // eslint-disable-line react/sort-comp\n            var universal = this.props.universal;\n\n            if (!universal) return;\n            this.setState({ didMountUniversal: true });\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            this.update();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.removeListeners();\n            (0, _raf2.cancel)(this.requestFrame);\n            clearTimeout(this.hideTracksTimeout);\n            clearInterval(this.detectScrollingInterval);\n        }\n    }, {\n        key: 'getScrollLeft',\n        value: function getScrollLeft() {\n            return this.view.scrollLeft;\n        }\n    }, {\n        key: 'getScrollTop',\n        value: function getScrollTop() {\n            return this.view.scrollTop;\n        }\n    }, {\n        key: 'getScrollWidth',\n        value: function getScrollWidth() {\n            return this.view.scrollWidth;\n        }\n    }, {\n        key: 'getScrollHeight',\n        value: function getScrollHeight() {\n            return this.view.scrollHeight;\n        }\n    }, {\n        key: 'getClientWidth',\n        value: function getClientWidth() {\n            return this.view.clientWidth;\n        }\n    }, {\n        key: 'getClientHeight',\n        value: function getClientHeight() {\n            return this.view.clientHeight;\n        }\n    }, {\n        key: 'getValues',\n        value: function getValues() {\n            var _view = this.view,\n                scrollLeft = _view.scrollLeft,\n                scrollTop = _view.scrollTop,\n                scrollWidth = _view.scrollWidth,\n                scrollHeight = _view.scrollHeight,\n                clientWidth = _view.clientWidth,\n                clientHeight = _view.clientHeight;\n\n\n            return {\n                left: scrollLeft / (scrollWidth - clientWidth) || 0,\n                top: scrollTop / (scrollHeight - clientHeight) || 0,\n                scrollLeft: scrollLeft,\n                scrollTop: scrollTop,\n                scrollWidth: scrollWidth,\n                scrollHeight: scrollHeight,\n                clientWidth: clientWidth,\n                clientHeight: clientHeight\n            };\n        }\n    }, {\n        key: 'getThumbHorizontalWidth',\n        value: function getThumbHorizontalWidth() {\n            var _props = this.props,\n                thumbSize = _props.thumbSize,\n                thumbMinSize = _props.thumbMinSize;\n            var _view2 = this.view,\n                scrollWidth = _view2.scrollWidth,\n                clientWidth = _view2.clientWidth;\n\n            var trackWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n            var width = Math.ceil(clientWidth / scrollWidth * trackWidth);\n            if (trackWidth === width) return 0;\n            if (thumbSize) return thumbSize;\n            return Math.max(width, thumbMinSize);\n        }\n    }, {\n        key: 'getThumbVerticalHeight',\n        value: function getThumbVerticalHeight() {\n            var _props2 = this.props,\n                thumbSize = _props2.thumbSize,\n                thumbMinSize = _props2.thumbMinSize;\n            var _view3 = this.view,\n                scrollHeight = _view3.scrollHeight,\n                clientHeight = _view3.clientHeight;\n\n            var trackHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n            var height = Math.ceil(clientHeight / scrollHeight * trackHeight);\n            if (trackHeight === height) return 0;\n            if (thumbSize) return thumbSize;\n            return Math.max(height, thumbMinSize);\n        }\n    }, {\n        key: 'getScrollLeftForOffset',\n        value: function getScrollLeftForOffset(offset) {\n            var _view4 = this.view,\n                scrollWidth = _view4.scrollWidth,\n                clientWidth = _view4.clientWidth;\n\n            var trackWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n            var thumbWidth = this.getThumbHorizontalWidth();\n            return offset / (trackWidth - thumbWidth) * (scrollWidth - clientWidth);\n        }\n    }, {\n        key: 'getScrollTopForOffset',\n        value: function getScrollTopForOffset(offset) {\n            var _view5 = this.view,\n                scrollHeight = _view5.scrollHeight,\n                clientHeight = _view5.clientHeight;\n\n            var trackHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n            var thumbHeight = this.getThumbVerticalHeight();\n            return offset / (trackHeight - thumbHeight) * (scrollHeight - clientHeight);\n        }\n    }, {\n        key: 'scrollLeft',\n        value: function scrollLeft() {\n            var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n            this.view.scrollLeft = left;\n        }\n    }, {\n        key: 'scrollTop',\n        value: function scrollTop() {\n            var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n            this.view.scrollTop = top;\n        }\n    }, {\n        key: 'scrollToLeft',\n        value: function scrollToLeft() {\n            this.view.scrollLeft = 0;\n        }\n    }, {\n        key: 'scrollToTop',\n        value: function scrollToTop() {\n            this.view.scrollTop = 0;\n        }\n    }, {\n        key: 'scrollToRight',\n        value: function scrollToRight() {\n            this.view.scrollLeft = this.view.scrollWidth;\n        }\n    }, {\n        key: 'scrollToBottom',\n        value: function scrollToBottom() {\n            this.view.scrollTop = this.view.scrollHeight;\n        }\n    }, {\n        key: 'addListeners',\n        value: function addListeners() {\n            /* istanbul ignore if */\n            if (typeof document === 'undefined') return;\n            var view = this.view,\n                trackHorizontal = this.trackHorizontal,\n                trackVertical = this.trackVertical,\n                thumbHorizontal = this.thumbHorizontal,\n                thumbVertical = this.thumbVertical;\n\n            view.addEventListener('scroll', this.handleScroll);\n            if (!(0, _getScrollbarWidth2[\"default\"])()) return;\n            trackHorizontal.addEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackHorizontal.addEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackHorizontal.addEventListener('mousedown', this.handleHorizontalTrackMouseDown);\n            trackVertical.addEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackVertical.addEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackVertical.addEventListener('mousedown', this.handleVerticalTrackMouseDown);\n            thumbHorizontal.addEventListener('mousedown', this.handleHorizontalThumbMouseDown);\n            thumbVertical.addEventListener('mousedown', this.handleVerticalThumbMouseDown);\n            window.addEventListener('resize', this.handleWindowResize);\n        }\n    }, {\n        key: 'removeListeners',\n        value: function removeListeners() {\n            /* istanbul ignore if */\n            if (typeof document === 'undefined') return;\n            var view = this.view,\n                trackHorizontal = this.trackHorizontal,\n                trackVertical = this.trackVertical,\n                thumbHorizontal = this.thumbHorizontal,\n                thumbVertical = this.thumbVertical;\n\n            view.removeEventListener('scroll', this.handleScroll);\n            if (!(0, _getScrollbarWidth2[\"default\"])()) return;\n            trackHorizontal.removeEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackHorizontal.removeEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackHorizontal.removeEventListener('mousedown', this.handleHorizontalTrackMouseDown);\n            trackVertical.removeEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackVertical.removeEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackVertical.removeEventListener('mousedown', this.handleVerticalTrackMouseDown);\n            thumbHorizontal.removeEventListener('mousedown', this.handleHorizontalThumbMouseDown);\n            thumbVertical.removeEventListener('mousedown', this.handleVerticalThumbMouseDown);\n            window.removeEventListener('resize', this.handleWindowResize);\n            // Possibly setup by `handleDragStart`\n            this.teardownDragging();\n        }\n    }, {\n        key: 'handleScroll',\n        value: function handleScroll(event) {\n            var _this2 = this;\n\n            var _props3 = this.props,\n                onScroll = _props3.onScroll,\n                onScrollFrame = _props3.onScrollFrame;\n\n            if (onScroll) onScroll(event);\n            this.update(function (values) {\n                var scrollLeft = values.scrollLeft,\n                    scrollTop = values.scrollTop;\n\n                _this2.viewScrollLeft = scrollLeft;\n                _this2.viewScrollTop = scrollTop;\n                if (onScrollFrame) onScrollFrame(values);\n            });\n            this.detectScrolling();\n        }\n    }, {\n        key: 'handleScrollStart',\n        value: function handleScrollStart() {\n            var onScrollStart = this.props.onScrollStart;\n\n            if (onScrollStart) onScrollStart();\n            this.handleScrollStartAutoHide();\n        }\n    }, {\n        key: 'handleScrollStartAutoHide',\n        value: function handleScrollStartAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.showTracks();\n        }\n    }, {\n        key: 'handleScrollStop',\n        value: function handleScrollStop() {\n            var onScrollStop = this.props.onScrollStop;\n\n            if (onScrollStop) onScrollStop();\n            this.handleScrollStopAutoHide();\n        }\n    }, {\n        key: 'handleScrollStopAutoHide',\n        value: function handleScrollStopAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.hideTracks();\n        }\n    }, {\n        key: 'handleWindowResize',\n        value: function handleWindowResize() {\n            this.update();\n        }\n    }, {\n        key: 'handleHorizontalTrackMouseDown',\n        value: function handleHorizontalTrackMouseDown(event) {\n            event.preventDefault();\n            var target = event.target,\n                clientX = event.clientX;\n\n            var _target$getBoundingCl = target.getBoundingClientRect(),\n                targetLeft = _target$getBoundingCl.left;\n\n            var thumbWidth = this.getThumbHorizontalWidth();\n            var offset = Math.abs(targetLeft - clientX) - thumbWidth / 2;\n            this.view.scrollLeft = this.getScrollLeftForOffset(offset);\n        }\n    }, {\n        key: 'handleVerticalTrackMouseDown',\n        value: function handleVerticalTrackMouseDown(event) {\n            event.preventDefault();\n            var target = event.target,\n                clientY = event.clientY;\n\n            var _target$getBoundingCl2 = target.getBoundingClientRect(),\n                targetTop = _target$getBoundingCl2.top;\n\n            var thumbHeight = this.getThumbVerticalHeight();\n            var offset = Math.abs(targetTop - clientY) - thumbHeight / 2;\n            this.view.scrollTop = this.getScrollTopForOffset(offset);\n        }\n    }, {\n        key: 'handleHorizontalThumbMouseDown',\n        value: function handleHorizontalThumbMouseDown(event) {\n            event.preventDefault();\n            this.handleDragStart(event);\n            var target = event.target,\n                clientX = event.clientX;\n            var offsetWidth = target.offsetWidth;\n\n            var _target$getBoundingCl3 = target.getBoundingClientRect(),\n                left = _target$getBoundingCl3.left;\n\n            this.prevPageX = offsetWidth - (clientX - left);\n        }\n    }, {\n        key: 'handleVerticalThumbMouseDown',\n        value: function handleVerticalThumbMouseDown(event) {\n            event.preventDefault();\n            this.handleDragStart(event);\n            var target = event.target,\n                clientY = event.clientY;\n            var offsetHeight = target.offsetHeight;\n\n            var _target$getBoundingCl4 = target.getBoundingClientRect(),\n                top = _target$getBoundingCl4.top;\n\n            this.prevPageY = offsetHeight - (clientY - top);\n        }\n    }, {\n        key: 'setupDragging',\n        value: function setupDragging() {\n            (0, _domCss2[\"default\"])(document.body, _styles.disableSelectStyle);\n            document.addEventListener('mousemove', this.handleDrag);\n            document.addEventListener('mouseup', this.handleDragEnd);\n            document.onselectstart = _returnFalse2[\"default\"];\n        }\n    }, {\n        key: 'teardownDragging',\n        value: function teardownDragging() {\n            (0, _domCss2[\"default\"])(document.body, _styles.disableSelectStyleReset);\n            document.removeEventListener('mousemove', this.handleDrag);\n            document.removeEventListener('mouseup', this.handleDragEnd);\n            document.onselectstart = undefined;\n        }\n    }, {\n        key: 'handleDragStart',\n        value: function handleDragStart(event) {\n            this.dragging = true;\n            event.stopImmediatePropagation();\n            this.setupDragging();\n        }\n    }, {\n        key: 'handleDrag',\n        value: function handleDrag(event) {\n            if (this.prevPageX) {\n                var clientX = event.clientX;\n\n                var _trackHorizontal$getB = this.trackHorizontal.getBoundingClientRect(),\n                    trackLeft = _trackHorizontal$getB.left;\n\n                var thumbWidth = this.getThumbHorizontalWidth();\n                var clickPosition = thumbWidth - this.prevPageX;\n                var offset = -trackLeft + clientX - clickPosition;\n                this.view.scrollLeft = this.getScrollLeftForOffset(offset);\n            }\n            if (this.prevPageY) {\n                var clientY = event.clientY;\n\n                var _trackVertical$getBou = this.trackVertical.getBoundingClientRect(),\n                    trackTop = _trackVertical$getBou.top;\n\n                var thumbHeight = this.getThumbVerticalHeight();\n                var _clickPosition = thumbHeight - this.prevPageY;\n                var _offset = -trackTop + clientY - _clickPosition;\n                this.view.scrollTop = this.getScrollTopForOffset(_offset);\n            }\n            return false;\n        }\n    }, {\n        key: 'handleDragEnd',\n        value: function handleDragEnd() {\n            this.dragging = false;\n            this.prevPageX = this.prevPageY = 0;\n            this.teardownDragging();\n            this.handleDragEndAutoHide();\n        }\n    }, {\n        key: 'handleDragEndAutoHide',\n        value: function handleDragEndAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.hideTracks();\n        }\n    }, {\n        key: 'handleTrackMouseEnter',\n        value: function handleTrackMouseEnter() {\n            this.trackMouseOver = true;\n            this.handleTrackMouseEnterAutoHide();\n        }\n    }, {\n        key: 'handleTrackMouseEnterAutoHide',\n        value: function handleTrackMouseEnterAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.showTracks();\n        }\n    }, {\n        key: 'handleTrackMouseLeave',\n        value: function handleTrackMouseLeave() {\n            this.trackMouseOver = false;\n            this.handleTrackMouseLeaveAutoHide();\n        }\n    }, {\n        key: 'handleTrackMouseLeaveAutoHide',\n        value: function handleTrackMouseLeaveAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.hideTracks();\n        }\n    }, {\n        key: 'showTracks',\n        value: function showTracks() {\n            clearTimeout(this.hideTracksTimeout);\n            (0, _domCss2[\"default\"])(this.trackHorizontal, { opacity: 1 });\n            (0, _domCss2[\"default\"])(this.trackVertical, { opacity: 1 });\n        }\n    }, {\n        key: 'hideTracks',\n        value: function hideTracks() {\n            var _this3 = this;\n\n            if (this.dragging) return;\n            if (this.scrolling) return;\n            if (this.trackMouseOver) return;\n            var autoHideTimeout = this.props.autoHideTimeout;\n\n            clearTimeout(this.hideTracksTimeout);\n            this.hideTracksTimeout = setTimeout(function () {\n                (0, _domCss2[\"default\"])(_this3.trackHorizontal, { opacity: 0 });\n                (0, _domCss2[\"default\"])(_this3.trackVertical, { opacity: 0 });\n            }, autoHideTimeout);\n        }\n    }, {\n        key: 'detectScrolling',\n        value: function detectScrolling() {\n            var _this4 = this;\n\n            if (this.scrolling) return;\n            this.scrolling = true;\n            this.handleScrollStart();\n            this.detectScrollingInterval = setInterval(function () {\n                if (_this4.lastViewScrollLeft === _this4.viewScrollLeft && _this4.lastViewScrollTop === _this4.viewScrollTop) {\n                    clearInterval(_this4.detectScrollingInterval);\n                    _this4.scrolling = false;\n                    _this4.handleScrollStop();\n                }\n                _this4.lastViewScrollLeft = _this4.viewScrollLeft;\n                _this4.lastViewScrollTop = _this4.viewScrollTop;\n            }, 100);\n        }\n    }, {\n        key: 'raf',\n        value: function raf(callback) {\n            var _this5 = this;\n\n            if (this.requestFrame) _raf3[\"default\"].cancel(this.requestFrame);\n            this.requestFrame = (0, _raf3[\"default\"])(function () {\n                _this5.requestFrame = undefined;\n                callback();\n            });\n        }\n    }, {\n        key: 'update',\n        value: function update(callback) {\n            var _this6 = this;\n\n            this.raf(function () {\n                return _this6._update(callback);\n            });\n        }\n    }, {\n        key: '_update',\n        value: function _update(callback) {\n            var _props4 = this.props,\n                onUpdate = _props4.onUpdate,\n                hideTracksWhenNotNeeded = _props4.hideTracksWhenNotNeeded;\n\n            var values = this.getValues();\n            if ((0, _getScrollbarWidth2[\"default\"])()) {\n                var scrollLeft = values.scrollLeft,\n                    clientWidth = values.clientWidth,\n                    scrollWidth = values.scrollWidth;\n\n                var trackHorizontalWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n                var thumbHorizontalWidth = this.getThumbHorizontalWidth();\n                var thumbHorizontalX = scrollLeft / (scrollWidth - clientWidth) * (trackHorizontalWidth - thumbHorizontalWidth);\n                var thumbHorizontalStyle = {\n                    width: thumbHorizontalWidth,\n                    transform: 'translateX(' + thumbHorizontalX + 'px)'\n                };\n                var scrollTop = values.scrollTop,\n                    clientHeight = values.clientHeight,\n                    scrollHeight = values.scrollHeight;\n\n                var trackVerticalHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n                var thumbVerticalHeight = this.getThumbVerticalHeight();\n                var thumbVerticalY = scrollTop / (scrollHeight - clientHeight) * (trackVerticalHeight - thumbVerticalHeight);\n                var thumbVerticalStyle = {\n                    height: thumbVerticalHeight,\n                    transform: 'translateY(' + thumbVerticalY + 'px)'\n                };\n                if (hideTracksWhenNotNeeded) {\n                    var trackHorizontalStyle = {\n                        visibility: scrollWidth > clientWidth ? 'visible' : 'hidden'\n                    };\n                    var trackVerticalStyle = {\n                        visibility: scrollHeight > clientHeight ? 'visible' : 'hidden'\n                    };\n                    (0, _domCss2[\"default\"])(this.trackHorizontal, trackHorizontalStyle);\n                    (0, _domCss2[\"default\"])(this.trackVertical, trackVerticalStyle);\n                }\n                (0, _domCss2[\"default\"])(this.thumbHorizontal, thumbHorizontalStyle);\n                (0, _domCss2[\"default\"])(this.thumbVertical, thumbVerticalStyle);\n            }\n            if (onUpdate) onUpdate(values);\n            if (typeof callback !== 'function') return;\n            callback(values);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this7 = this;\n\n            var scrollbarWidth = (0, _getScrollbarWidth2[\"default\"])();\n            /* eslint-disable no-unused-vars */\n\n            var _props5 = this.props,\n                onScroll = _props5.onScroll,\n                onScrollFrame = _props5.onScrollFrame,\n                onScrollStart = _props5.onScrollStart,\n                onScrollStop = _props5.onScrollStop,\n                onUpdate = _props5.onUpdate,\n                renderView = _props5.renderView,\n                renderTrackHorizontal = _props5.renderTrackHorizontal,\n                renderTrackVertical = _props5.renderTrackVertical,\n                renderThumbHorizontal = _props5.renderThumbHorizontal,\n                renderThumbVertical = _props5.renderThumbVertical,\n                tagName = _props5.tagName,\n                hideTracksWhenNotNeeded = _props5.hideTracksWhenNotNeeded,\n                autoHide = _props5.autoHide,\n                autoHideTimeout = _props5.autoHideTimeout,\n                autoHideDuration = _props5.autoHideDuration,\n                thumbSize = _props5.thumbSize,\n                thumbMinSize = _props5.thumbMinSize,\n                universal = _props5.universal,\n                autoHeight = _props5.autoHeight,\n                autoHeightMin = _props5.autoHeightMin,\n                autoHeightMax = _props5.autoHeightMax,\n                style = _props5.style,\n                children = _props5.children,\n                props = _objectWithoutProperties(_props5, ['onScroll', 'onScrollFrame', 'onScrollStart', 'onScrollStop', 'onUpdate', 'renderView', 'renderTrackHorizontal', 'renderTrackVertical', 'renderThumbHorizontal', 'renderThumbVertical', 'tagName', 'hideTracksWhenNotNeeded', 'autoHide', 'autoHideTimeout', 'autoHideDuration', 'thumbSize', 'thumbMinSize', 'universal', 'autoHeight', 'autoHeightMin', 'autoHeightMax', 'style', 'children']);\n            /* eslint-enable no-unused-vars */\n\n            var didMountUniversal = this.state.didMountUniversal;\n\n\n            var containerStyle = _extends({}, _styles.containerStyleDefault, autoHeight && _extends({}, _styles.containerStyleAutoHeight, {\n                minHeight: autoHeightMin,\n                maxHeight: autoHeightMax\n            }), style);\n\n            var viewStyle = _extends({}, _styles.viewStyleDefault, {\n                // Hide scrollbars by setting a negative margin\n                marginRight: scrollbarWidth ? -scrollbarWidth : 0,\n                marginBottom: scrollbarWidth ? -scrollbarWidth : 0\n            }, autoHeight && _extends({}, _styles.viewStyleAutoHeight, {\n                // Add scrollbarWidth to autoHeight in order to compensate negative margins\n                minHeight: (0, _isString2[\"default\"])(autoHeightMin) ? 'calc(' + autoHeightMin + ' + ' + scrollbarWidth + 'px)' : autoHeightMin + scrollbarWidth,\n                maxHeight: (0, _isString2[\"default\"])(autoHeightMax) ? 'calc(' + autoHeightMax + ' + ' + scrollbarWidth + 'px)' : autoHeightMax + scrollbarWidth\n            }), autoHeight && universal && !didMountUniversal && {\n                minHeight: autoHeightMin,\n                maxHeight: autoHeightMax\n            }, universal && !didMountUniversal && _styles.viewStyleUniversalInitial);\n\n            var trackAutoHeightStyle = {\n                transition: 'opacity ' + autoHideDuration + 'ms',\n                opacity: 0\n            };\n\n            var trackHorizontalStyle = _extends({}, _styles.trackHorizontalStyleDefault, autoHide && trackAutoHeightStyle, (!scrollbarWidth || universal && !didMountUniversal) && {\n                display: 'none'\n            });\n\n            var trackVerticalStyle = _extends({}, _styles.trackVerticalStyleDefault, autoHide && trackAutoHeightStyle, (!scrollbarWidth || universal && !didMountUniversal) && {\n                display: 'none'\n            });\n\n            return (0, _react.createElement)(tagName, _extends({}, props, { style: containerStyle, ref: function ref(_ref2) {\n                    _this7.container = _ref2;\n                } }), [(0, _react.cloneElement)(renderView({ style: viewStyle }), { key: 'view', ref: function ref(_ref3) {\n                    _this7.view = _ref3;\n                } }, children), (0, _react.cloneElement)(renderTrackHorizontal({ style: trackHorizontalStyle }), { key: 'trackHorizontal', ref: function ref(_ref4) {\n                    _this7.trackHorizontal = _ref4;\n                } }, (0, _react.cloneElement)(renderThumbHorizontal({ style: _styles.thumbHorizontalStyleDefault }), { ref: function ref(_ref5) {\n                    _this7.thumbHorizontal = _ref5;\n                } })), (0, _react.cloneElement)(renderTrackVertical({ style: trackVerticalStyle }), { key: 'trackVertical', ref: function ref(_ref6) {\n                    _this7.trackVertical = _ref6;\n                } }, (0, _react.cloneElement)(renderThumbVertical({ style: _styles.thumbVerticalStyleDefault }), { ref: function ref(_ref7) {\n                    _this7.thumbVertical = _ref7;\n                } }))]);\n        }\n    }]);\n\n    return Scrollbars;\n}(_react.Component);\n\nexports[\"default\"] = Scrollbars;\n\n\nScrollbars.propTypes = {\n    onScroll: _propTypes2[\"default\"].func,\n    onScrollFrame: _propTypes2[\"default\"].func,\n    onScrollStart: _propTypes2[\"default\"].func,\n    onScrollStop: _propTypes2[\"default\"].func,\n    onUpdate: _propTypes2[\"default\"].func,\n    renderView: _propTypes2[\"default\"].func,\n    renderTrackHorizontal: _propTypes2[\"default\"].func,\n    renderTrackVertical: _propTypes2[\"default\"].func,\n    renderThumbHorizontal: _propTypes2[\"default\"].func,\n    renderThumbVertical: _propTypes2[\"default\"].func,\n    tagName: _propTypes2[\"default\"].string,\n    thumbSize: _propTypes2[\"default\"].number,\n    thumbMinSize: _propTypes2[\"default\"].number,\n    hideTracksWhenNotNeeded: _propTypes2[\"default\"].bool,\n    autoHide: _propTypes2[\"default\"].bool,\n    autoHideTimeout: _propTypes2[\"default\"].number,\n    autoHideDuration: _propTypes2[\"default\"].number,\n    autoHeight: _propTypes2[\"default\"].bool,\n    autoHeightMin: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].number, _propTypes2[\"default\"].string]),\n    autoHeightMax: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].number, _propTypes2[\"default\"].string]),\n    universal: _propTypes2[\"default\"].bool,\n    style: _propTypes2[\"default\"].object,\n    children: _propTypes2[\"default\"].node\n};\n\nScrollbars.defaultProps = {\n    renderView: _defaultRenderElements.renderViewDefault,\n    renderTrackHorizontal: _defaultRenderElements.renderTrackHorizontalDefault,\n    renderTrackVertical: _defaultRenderElements.renderTrackVerticalDefault,\n    renderThumbHorizontal: _defaultRenderElements.renderThumbHorizontalDefault,\n    renderThumbVertical: _defaultRenderElements.renderThumbVerticalDefault,\n    tagName: 'div',\n    thumbMinSize: 30,\n    hideTracksWhenNotNeeded: false,\n    autoHide: false,\n    autoHideTimeout: 1000,\n    autoHideDuration: 200,\n    autoHeight: false,\n    autoHeightMin: 0,\n    autoHeightMax: 200,\n    universal: false\n};\n\n\n/***/ }),\n\n/***/ 2412:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\nvar now = __webpack_require__(2413)\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function() {\n  root.requestAnimationFrame = raf\n  root.cancelAnimationFrame = caf\n}\n\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2413:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process) {/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(105)))\n\n/***/ }),\n\n/***/ 2414:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\nvar div = null\nvar prefixes = [ 'Webkit', 'Moz', 'O', 'ms' ]\n\nmodule.exports = function prefixStyle (prop) {\n  // re-use a dummy div\n  if (!div) {\n    div = document.createElement('div')\n  }\n\n  var style = div.style\n\n  // prop exists without prefix\n  if (prop in style) {\n    return prop\n  }\n\n  // borderRadius -> BorderRadius\n  var titleCase = prop.charAt(0).toUpperCase() + prop.slice(1)\n\n  // find the vendor-prefixed prop\n  for (var i = prefixes.length; i >= 0; i--) {\n    var name = prefixes[i] + titleCase\n    // e.g. WebkitBorderRadius or webkitBorderRadius\n    if (name in style) {\n      return name\n    }\n  }\n\n  return false\n}\n\n\n\n/***/ }),\n\n/***/ 2415:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\nvar space = __webpack_require__(2416)\n\n/**\n * Export.\n */\n\nmodule.exports = toCamelCase\n\n/**\n * Convert a `string` to camel case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toCamelCase(string) {\n  return space(string).replace(/\\s(\\w)/g, function (matches, letter) {\n    return letter.toUpperCase()\n  })\n}\n\n\n\n/***/ }),\n\n/***/ 2416:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\nvar clean = __webpack_require__(2417)\n\n/**\n * Export.\n */\n\nmodule.exports = toSpaceCase\n\n/**\n * Convert a `string` to space case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toSpaceCase(string) {\n  return clean(string).replace(/[\\W_]+(.|$)/g, function (matches, match) {\n    return match ? ' ' + match : ''\n  }).trim()\n}\n\n\n\n/***/ }),\n\n/***/ 2417:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\n/**\n * Export.\n */\n\nmodule.exports = toNoCase\n\n/**\n * Test whether a string is camel-case.\n */\n\nvar hasSpace = /\\s/\nvar hasSeparator = /(_|-|\\.|:)/\nvar hasCamel = /([a-z][A-Z]|[A-Z][a-z])/\n\n/**\n * Remove any starting case from a `string`, like camel or snake, but keep\n * spaces and punctuation that may be important otherwise.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toNoCase(string) {\n  if (hasSpace.test(string)) return string.toLowerCase()\n  if (hasSeparator.test(string)) return (unseparate(string) || string).toLowerCase()\n  if (hasCamel.test(string)) return uncamelize(string).toLowerCase()\n  return string.toLowerCase()\n}\n\n/**\n * Separator splitter.\n */\n\nvar separatorSplitter = /[\\W_]+(.|$)/g\n\n/**\n * Un-separate a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction unseparate(string) {\n  return string.replace(separatorSplitter, function (m, next) {\n    return next ? ' ' + next : ''\n  })\n}\n\n/**\n * Camelcase splitter.\n */\n\nvar camelSplitter = /(.)([A-Z]+)/g\n\n/**\n * Un-camelcase a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction uncamelize(string) {\n  return string.replace(camelSplitter, function (m, previous, uppers) {\n    return previous + ' ' + uppers.toLowerCase().split('').join(' ')\n  })\n}\n\n\n\n/***/ }),\n\n/***/ 2418:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/* The following list is defined in React's core */\nvar IS_UNITLESS = {\n  animationIterationCount: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridColumn: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n\n  // SVG-related properties\n  fillOpacity: true,\n  stopOpacity: true,\n  strokeDashoffset: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nmodule.exports = function(name, value) {\n  if(typeof value === 'number' && !IS_UNITLESS[ name ]) {\n    return value + 'px';\n  } else {\n    return value;\n  }\n};\n\n\n/***/ }),\n\n/***/ 2419:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = isString;\nfunction isString(maybe) {\n    return typeof maybe === 'string';\n}\n\n\n/***/ }),\n\n/***/ 2420:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getScrollbarWidth;\n\nvar _domCss = __webpack_require__(2196);\n\nvar _domCss2 = _interopRequireDefault(_domCss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar scrollbarWidth = false;\n\nfunction getScrollbarWidth() {\n    if (scrollbarWidth !== false) return scrollbarWidth;\n    /* istanbul ignore else */\n    if (typeof document !== 'undefined') {\n        var div = document.createElement('div');\n        (0, _domCss2[\"default\"])(div, {\n            width: 100,\n            height: 100,\n            position: 'absolute',\n            top: -9999,\n            overflow: 'scroll',\n            MsOverflowStyle: 'scrollbar'\n        });\n        document.body.appendChild(div);\n        scrollbarWidth = div.offsetWidth - div.clientWidth;\n        document.body.removeChild(div);\n    } else {\n        scrollbarWidth = 0;\n    }\n    return scrollbarWidth || 0;\n}\n\n\n/***/ }),\n\n/***/ 2421:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = returnFalse;\nfunction returnFalse() {\n    return false;\n}\n\n\n/***/ }),\n\n/***/ 2422:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getInnerWidth;\nfunction getInnerWidth(el) {\n    var clientWidth = el.clientWidth;\n\n    var _getComputedStyle = getComputedStyle(el),\n        paddingLeft = _getComputedStyle.paddingLeft,\n        paddingRight = _getComputedStyle.paddingRight;\n\n    return clientWidth - parseFloat(paddingLeft) - parseFloat(paddingRight);\n}\n\n\n/***/ }),\n\n/***/ 2423:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getInnerHeight;\nfunction getInnerHeight(el) {\n    var clientHeight = el.clientHeight;\n\n    var _getComputedStyle = getComputedStyle(el),\n        paddingTop = _getComputedStyle.paddingTop,\n        paddingBottom = _getComputedStyle.paddingBottom;\n\n    return clientHeight - parseFloat(paddingTop) - parseFloat(paddingBottom);\n}\n\n\n/***/ }),\n\n/***/ 2424:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar containerStyleDefault = exports.containerStyleDefault = {\n    position: 'relative',\n    overflow: 'hidden',\n    width: '100%',\n    height: '100%'\n};\n\n// Overrides containerStyleDefault properties\nvar containerStyleAutoHeight = exports.containerStyleAutoHeight = {\n    height: 'auto'\n};\n\nvar viewStyleDefault = exports.viewStyleDefault = {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflow: 'scroll',\n    WebkitOverflowScrolling: 'touch'\n};\n\n// Overrides viewStyleDefault properties\nvar viewStyleAutoHeight = exports.viewStyleAutoHeight = {\n    position: 'relative',\n    top: undefined,\n    left: undefined,\n    right: undefined,\n    bottom: undefined\n};\n\nvar viewStyleUniversalInitial = exports.viewStyleUniversalInitial = {\n    overflow: 'hidden',\n    marginRight: 0,\n    marginBottom: 0\n};\n\nvar trackHorizontalStyleDefault = exports.trackHorizontalStyleDefault = {\n    position: 'absolute',\n    height: 6\n};\n\nvar trackVerticalStyleDefault = exports.trackVerticalStyleDefault = {\n    position: 'absolute',\n    width: 6\n};\n\nvar thumbHorizontalStyleDefault = exports.thumbHorizontalStyleDefault = {\n    position: 'relative',\n    display: 'block',\n    height: '100%'\n};\n\nvar thumbVerticalStyleDefault = exports.thumbVerticalStyleDefault = {\n    position: 'relative',\n    display: 'block',\n    width: '100%'\n};\n\nvar disableSelectStyle = exports.disableSelectStyle = {\n    userSelect: 'none'\n};\n\nvar disableSelectStyleReset = exports.disableSelectStyleReset = {\n    userSelect: ''\n};\n\n\n/***/ }),\n\n/***/ 2425:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.renderViewDefault = renderViewDefault;\nexports.renderTrackHorizontalDefault = renderTrackHorizontalDefault;\nexports.renderTrackVerticalDefault = renderTrackVerticalDefault;\nexports.renderThumbHorizontalDefault = renderThumbHorizontalDefault;\nexports.renderThumbVerticalDefault = renderThumbVerticalDefault;\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n/* eslint-disable react/prop-types */\n\nfunction renderViewDefault(props) {\n    return _react2[\"default\"].createElement('div', props);\n}\n\nfunction renderTrackHorizontalDefault(_ref) {\n    var style = _ref.style,\n        props = _objectWithoutProperties(_ref, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        right: 2,\n        bottom: 2,\n        left: 2,\n        borderRadius: 3\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderTrackVerticalDefault(_ref2) {\n    var style = _ref2.style,\n        props = _objectWithoutProperties(_ref2, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        right: 2,\n        bottom: 2,\n        top: 2,\n        borderRadius: 3\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderThumbHorizontalDefault(_ref3) {\n    var style = _ref3.style,\n        props = _objectWithoutProperties(_ref3, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        cursor: 'pointer',\n        borderRadius: 'inherit',\n        backgroundColor: 'rgba(0,0,0,.2)'\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderThumbVerticalDefault(_ref4) {\n    var style = _ref4.style,\n        props = _objectWithoutProperties(_ref4, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        cursor: 'pointer',\n        borderRadius: 'inherit',\n        backgroundColor: 'rgba(0,0,0,.2)'\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\n\n/***/ }),\n\n/***/ 2426:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(31);\n\nvar _create_comment = __webpack_require__(2427);\n\nvar _create_comment2 = _interopRequireDefault(_create_comment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    var err = state.requests.posts.createPost.error || {};\n    return (0, _extends3.default)({}, ownProps, {\n        createPostErrorId: err.server_error_id\n    });\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps)(_create_comment2.default);\n\n/***/ }),\n\n/***/ 2427:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(47);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _channel_actions = __webpack_require__(79);\n\nvar ChannelActions = _interopRequireWildcard(_channel_actions);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _post_actions = __webpack_require__(73);\n\nvar PostActions = _interopRequireWildcard(_post_actions);\n\nvar _app_dispatcher = __webpack_require__(34);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _emoji_store = __webpack_require__(137);\n\nvar _emoji_store2 = _interopRequireDefault(_emoji_store);\n\nvar _message_history_store = __webpack_require__(750);\n\nvar _message_history_store2 = _interopRequireDefault(_message_history_store);\n\nvar _post_store = __webpack_require__(312);\n\nvar _post_store2 = _interopRequireDefault(_post_store);\n\nvar _preference_store = __webpack_require__(119);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _team_store = __webpack_require__(35);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _user_agent = __webpack_require__(87);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _create_post = __webpack_require__(2096);\n\nvar _emoji_picker_overlay = __webpack_require__(438);\n\nvar _emoji_picker_overlay2 = _interopRequireDefault(_emoji_picker_overlay);\n\nvar _file_preview = __webpack_require__(783);\n\nvar _file_preview2 = _interopRequireDefault(_file_preview);\n\nvar _file_upload = __webpack_require__(784);\n\nvar _file_upload2 = _interopRequireDefault(_file_upload);\n\nvar _msg_typing = __webpack_require__(785);\n\nvar _msg_typing2 = _interopRequireDefault(_msg_typing);\n\nvar _post_deleted_modal = __webpack_require__(786);\n\nvar _post_deleted_modal2 = _interopRequireDefault(_post_deleted_modal);\n\nvar _textbox = __webpack_require__(444);\n\nvar _textbox2 = _interopRequireDefault(_textbox);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ActionTypes = _constants2.default.ActionTypes; // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar KeyCodes = _constants2.default.KeyCodes;\n\nvar CreateComment = function (_React$Component) {\n    (0, _inherits3.default)(CreateComment, _React$Component);\n\n    function CreateComment(props) {\n        (0, _classCallCheck3.default)(this, CreateComment);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (CreateComment.__proto__ || (0, _getPrototypeOf2.default)(CreateComment)).call(this, props));\n\n        _initialiseProps.call(_this);\n\n        _this.lastTime = 0;\n\n        _post_store2.default.clearCommentDraftUploads();\n        _message_history_store2.default.resetHistoryIndex('comment');\n\n        var draft = _post_store2.default.getCommentDraft(_this.props.rootId);\n        var enableAddButton = _this.handleEnableAddButton(draft.message, draft.fileInfos);\n        _this.state = {\n            message: draft.message,\n            uploadsInProgress: draft.uploadsInProgress,\n            fileInfos: draft.fileInfos,\n            submitting: false,\n            ctrlSend: _preference_store2.default.getBool(_constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n            showPostDeletedModal: false,\n            enableAddButton: enableAddButton,\n            showEmojiPicker: false\n        };\n\n        _this.lastBlurAt = 0;\n        return _this;\n    }\n\n    (0, _createClass3.default)(CreateComment, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _preference_store2.default.addChangeListener(this.onPreferenceChange);\n\n            this.focusTextbox();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _preference_store2.default.removeChangeListener(this.onPreferenceChange);\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            if (prevState.uploadsInProgress < this.state.uploadsInProgress) {\n                (0, _jquery2.default)('.post-right__scroll').scrollTop((0, _jquery2.default)('.post-right__scroll')[0].scrollHeight);\n            }\n\n            if (prevProps.rootId !== this.props.rootId) {\n                this.focusTextbox();\n            }\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.rootId !== this.props.rootId) {\n                var draft = _post_store2.default.getCommentDraft(newProps.rootId);\n                var enableAddButton = this.handleEnableAddButton(draft.message, draft.fileInfos);\n                this.setState({\n                    message: draft.message,\n                    uploadsInProgress: draft.uploadsInProgress,\n                    fileInfos: draft.fileInfos,\n                    enableAddButton: enableAddButton\n                });\n            }\n\n            if (newProps.createPostErrorId === 'api.post.create_post.root_id.app_error' && newProps.createPostErrorId !== this.props.createPostErrorId) {\n                this.showPostDeletedModal();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var serverError = null;\n            if (this.state.serverError) {\n                serverError = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'control-label' },\n                        this.state.serverError\n                    )\n                );\n            }\n\n            var postError = null;\n            if (this.state.postError) {\n                var postErrorClass = 'post-error' + (this.state.errorClass ? ' ' + this.state.errorClass : '');\n                postError = _react2.default.createElement(\n                    'label',\n                    { className: postErrorClass },\n                    this.state.postError\n                );\n            }\n\n            var preview = null;\n            if (this.state.fileInfos.length > 0 || this.state.uploadsInProgress.length > 0) {\n                preview = _react2.default.createElement(_file_preview2.default, {\n                    fileInfos: this.state.fileInfos,\n                    onRemove: this.removePreview,\n                    uploadsInProgress: this.state.uploadsInProgress,\n                    ref: 'preview'\n                });\n            }\n\n            var uploadsInProgressText = null;\n            if (this.state.uploadsInProgress.length > 0) {\n                uploadsInProgressText = _react2.default.createElement(\n                    'span',\n                    { className: 'pull-right post-right-comments-upload-in-progress' },\n                    this.state.uploadsInProgress.length === 1 ? _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'create_comment.file',\n                        defaultMessage: 'File uploading'\n                    }) : _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'create_comment.files',\n                        defaultMessage: 'Files uploading'\n                    })\n                );\n            }\n\n            var addButtonClass = 'btn btn-primary comment-btn pull-right';\n            if (!this.state.enableAddButton) {\n                addButtonClass += ' disabled';\n            }\n\n            var fileUpload = _react2.default.createElement(_file_upload2.default, {\n                ref: 'fileUpload',\n                getFileCount: this.getFileCount,\n                getTarget: this.getFileUploadTarget,\n                onFileUploadChange: this.handleFileUploadChange,\n                onUploadStart: this.handleUploadStart,\n                onFileUpload: this.handleFileUploadComplete,\n                onUploadError: this.handleUploadError,\n                postType: 'comment',\n                channelId: this.props.channelId\n            });\n\n            var emojiPicker = null;\n            if (window.mm_config.EnableEmojiPicker === 'true') {\n                emojiPicker = _react2.default.createElement(\n                    'span',\n                    { className: 'emoji-picker__container' },\n                    _react2.default.createElement(_emoji_picker_overlay2.default, {\n                        show: this.state.showEmojiPicker,\n                        container: this.props.getSidebarBody,\n                        target: this.getCreateCommentControls,\n                        onHide: this.hideEmojiPicker,\n                        onEmojiClick: this.handleEmojiClick,\n                        rightOffset: 15,\n                        topOffset: 55\n                    }),\n                    _react2.default.createElement('span', {\n                        className: 'icon icon--emoji emoji-rhs ' + (this.state.showEmojiPicker ? 'active' : ''),\n                        dangerouslySetInnerHTML: { __html: _constants2.default.EMOJI_ICON_SVG },\n                        onClick: this.toggleEmojiPicker\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                'form',\n                { onSubmit: this.handleSubmit },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'post-create' },\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            id: this.props.rootId,\n                            className: 'post-create-body comment-create-body'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'post-body__cell' },\n                            _react2.default.createElement(_textbox2.default, {\n                                onChange: this.handleChange,\n                                onKeyPress: this.commentMsgKeyPress,\n                                onKeyDown: this.handleKeyDown,\n                                handlePostError: this.handlePostError,\n                                value: this.state.message,\n                                onBlur: this.handleBlur,\n                                createMessage: Utils.localizeMessage('create_comment.addComment', 'Add a comment...'),\n                                emojiEnabled: window.mm_config.EnableEmojiPicker === 'true',\n                                initialText: '',\n                                channelId: this.props.channelId,\n                                isRHS: true,\n                                popoverMentionKeyClick: true,\n                                id: 'reply_textbox',\n                                ref: 'textbox'\n                            }),\n                            _react2.default.createElement(\n                                'span',\n                                {\n                                    ref: 'createCommentControls',\n                                    className: 'post-body__actions'\n                                },\n                                fileUpload,\n                                emojiPicker\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(_msg_typing2.default, {\n                        channelId: this.props.channelId,\n                        parentId: this.props.rootId\n                    }),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'post-create-footer' },\n                        _react2.default.createElement('input', {\n                            type: 'button',\n                            className: addButtonClass,\n                            value: Utils.localizeMessage('create_comment.comment', 'Add Comment'),\n                            onClick: this.handleSubmit\n                        }),\n                        uploadsInProgressText,\n                        postError,\n                        preview,\n                        serverError\n                    )\n                ),\n                _react2.default.createElement(_post_deleted_modal2.default, {\n                    show: this.state.showPostDeletedModal,\n                    onHide: this.hidePostDeletedModal\n                })\n            );\n        }\n    }]);\n    return CreateComment;\n}(_react2.default.Component);\n\nCreateComment.propTypes = {\n    channelId: _propTypes2.default.string.isRequired,\n    rootId: _propTypes2.default.string.isRequired,\n    latestPostId: _propTypes2.default.string,\n    getSidebarBody: _propTypes2.default.func,\n    createPostErrorId: _propTypes2.default.string\n};\n\nvar _initialiseProps = function _initialiseProps() {\n    var _this2 = this;\n\n    this.toggleEmojiPicker = function () {\n        _this2.setState({ showEmojiPicker: !_this2.state.showEmojiPicker });\n    };\n\n    this.hideEmojiPicker = function () {\n        _this2.setState({ showEmojiPicker: false });\n    };\n\n    this.handleEmojiClick = function (emoji) {\n        var emojiAlias = emoji.name || emoji.aliases[0];\n\n        if (!emojiAlias) {\n            //Oops.. There went something wrong\n            return;\n        }\n\n        if (_this2.state.message === '') {\n            _this2.setState({ message: ':' + emojiAlias + ': ' });\n        } else {\n            // Check whether there is already a blank at the end of the current message\n            var newMessage = void 0;\n            if (/\\s+$/.test(_this2.state.message)) {\n                newMessage = _this2.state.message + ':' + emojiAlias + ': ';\n            } else {\n                newMessage = _this2.state.message + ' :' + emojiAlias + ': ';\n            }\n\n            _this2.setState({ message: newMessage });\n        }\n\n        _this2.setState({ showEmojiPicker: false });\n\n        _this2.focusTextbox();\n    };\n\n    this.onPreferenceChange = function () {\n        _this2.setState({\n            ctrlSend: _preference_store2.default.getBool(_constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter')\n        });\n    };\n\n    this.handlePostError = function (postError) {\n        _this2.setState({ postError: postError });\n    };\n\n    this.handleSubmit = function (e) {\n        e.preventDefault();\n\n        if (_this2.state.uploadsInProgress.length > 0 || _this2.state.submitting) {\n            return;\n        }\n\n        var message = _this2.state.message;\n\n        if (_this2.state.postError) {\n            _this2.setState({ errorClass: 'animation--highlight' });\n            setTimeout(function () {\n                _this2.setState({ errorClass: null });\n            }, _constants2.default.ANIMATION_TIMEOUT);\n            return;\n        }\n\n        _message_history_store2.default.storeMessageInHistory(message);\n        if (message.trim().length === 0 && _this2.state.fileInfos.length === 0) {\n            return;\n        }\n\n        var isReaction = _create_post.REACTION_PATTERN.exec(message);\n        if (isReaction && _emoji_store2.default.has(isReaction[2])) {\n            _this2.handleSubmitReaction(isReaction);\n        } else if (message.indexOf('/') === 0) {\n            _this2.handleSubmitCommand(message);\n        } else {\n            _this2.handleSubmitPost(message);\n        }\n\n        _this2.setState({\n            message: '',\n            submitting: false,\n            postError: null,\n            fileInfos: [],\n            serverError: null,\n            enableAddButton: false\n        });\n\n        var fasterThanHumanWillClick = 150;\n        var forceFocus = Date.now() - _this2.lastBlurAt < fasterThanHumanWillClick;\n        _this2.focusTextbox(forceFocus);\n    };\n\n    this.handleSubmitCommand = function (message) {\n        _post_store2.default.storeCommentDraft(_this2.props.rootId, null);\n        _this2.setState({\n            message: '',\n            postError: null,\n            fileInfos: [],\n            enableAddButton: false\n        });\n\n        var args = {};\n        args.channel_id = _this2.props.channelId;\n        args.team_id = _team_store2.default.getCurrentId();\n        args.root_id = _this2.props.rootId;\n        args.parent_id = _this2.props.rootId;\n        ChannelActions.executeCommand(message, args, function () {\n            _this2.setState({ submitting: false });\n        }, function (err) {\n            if (err.sendMessage) {\n                _this2.handleSubmitPost(message);\n            } else {\n                var state = {};\n                state.serverError = err.message;\n                state.submitting = false;\n                _this2.setState(state);\n            }\n        });\n    };\n\n    this.handleSubmitPost = function (message) {\n        var userId = _user_store2.default.getCurrentId();\n        var time = Utils.getTimestamp();\n\n        var post = {};\n        post.file_ids = [];\n        post.message = message;\n        post.channel_id = _this2.props.channelId;\n        post.root_id = _this2.props.rootId;\n        post.parent_id = _this2.props.rootId;\n        post.pending_post_id = userId + ':' + time;\n        post.user_id = userId;\n        post.create_at = time;\n\n        GlobalActions.emitUserCommentedEvent(post);\n\n        PostActions.createPost(post, _this2.state.fileInfos);\n\n        _this2.setState({\n            message: '',\n            submitting: false,\n            postError: null,\n            fileInfos: [],\n            serverError: null,\n            enableAddButton: false\n        });\n\n        var fasterThanHumanWillClick = 150;\n        var forceFocus = Date.now() - _this2.state.lastBlurAt < fasterThanHumanWillClick;\n        _this2.focusTextbox(forceFocus);\n    };\n\n    this.handleSubmitReaction = function (isReaction) {\n        var action = isReaction[1];\n\n        var emojiName = isReaction[2];\n        var postId = _this2.props.latestPostId;\n\n        if (action === '+') {\n            PostActions.addReaction(_this2.props.channelId, postId, emojiName);\n        } else if (action === '-') {\n            PostActions.removeReaction(_this2.props.channelId, postId, emojiName);\n        }\n\n        _post_store2.default.storeCommentDraft(_this2.props.rootId, null);\n    };\n\n    this.commentMsgKeyPress = function (e) {\n        if (!UserAgent.isMobile() && (_this2.state.ctrlSend && e.ctrlKey || !_this2.state.ctrlSend)) {\n            if (e.which === KeyCodes.ENTER && !e.shiftKey && !e.altKey) {\n                e.preventDefault();\n                _reactDom2.default.findDOMNode(_this2.refs.textbox).blur();\n                _this2.handleSubmit(e);\n            }\n        }\n\n        GlobalActions.emitLocalUserTypingEvent(_this2.props.channelId, _this2.props.rootId);\n    };\n\n    this.handleChange = function (e) {\n        var message = e.target.value;\n\n        var draft = _post_store2.default.getCommentDraft(_this2.props.rootId);\n        draft.message = message;\n        _post_store2.default.storeCommentDraft(_this2.props.rootId, draft);\n\n        (0, _jquery2.default)('.post-right__scroll').parent().scrollTop((0, _jquery2.default)('.post-right__scroll')[0].scrollHeight);\n\n        var enableAddButton = _this2.handleEnableAddButton(message, _this2.state.fileInfos);\n\n        _this2.setState({\n            message: message,\n            enableAddButton: enableAddButton\n        });\n    };\n\n    this.handleKeyDown = function (e) {\n        if (_this2.state.ctrlSend && e.keyCode === KeyCodes.ENTER && e.ctrlKey === true) {\n            _this2.commentMsgKeyPress(e);\n            return;\n        }\n\n        if (!e.ctrlKey && !e.metaKey && !e.altKey && !e.shiftKey && e.keyCode === KeyCodes.UP && _this2.state.message === '') {\n            e.preventDefault();\n\n            var lastPost = _post_store2.default.getCurrentUsersLatestPost(_this2.props.channelId, _this2.props.rootId);\n            if (!lastPost) {\n                return;\n            }\n\n            _app_dispatcher2.default.handleViewAction({\n                type: ActionTypes.RECEIVED_EDIT_POST,\n                refocusId: '#reply_textbox',\n                title: Utils.localizeMessage('create_comment.commentTitle', 'Comment'),\n                message: lastPost.message,\n                postId: lastPost.id,\n                channelId: lastPost.channel_id,\n                comments: _post_store2.default.getCommentCount(lastPost)\n            });\n        }\n\n        if ((e.ctrlKey || e.metaKey) && !e.altKey && !e.shiftKey && (e.keyCode === _constants2.default.KeyCodes.UP || e.keyCode === _constants2.default.KeyCodes.DOWN)) {\n            var lastMessage = _message_history_store2.default.nextMessageInHistory(e.keyCode, _this2.state.message, 'comment');\n            if (lastMessage !== null) {\n                e.preventDefault();\n                _this2.setState({\n                    message: lastMessage,\n                    enableAddButton: true\n                });\n            }\n        }\n    };\n\n    this.handleFileUploadChange = function () {\n        _this2.focusTextbox();\n    };\n\n    this.handleUploadStart = function (clientIds) {\n        var draft = _post_store2.default.getCommentDraft(_this2.props.rootId);\n\n        draft.uploadsInProgress = draft.uploadsInProgress.concat(clientIds);\n        _post_store2.default.storeCommentDraft(_this2.props.rootId, draft);\n\n        _this2.setState({ uploadsInProgress: draft.uploadsInProgress });\n\n        // this is a bit redundant with the code that sets focus when the file input is clicked,\n        // but this also resets the focus after a drag and drop\n        _this2.focusTextbox();\n    };\n\n    this.handleFileUploadComplete = function (fileInfos, clientIds) {\n        var draft = _post_store2.default.getCommentDraft(_this2.props.rootId);\n\n        // remove each finished file from uploads\n        for (var i = 0; i < clientIds.length; i++) {\n            var index = draft.uploadsInProgress.indexOf(clientIds[i]);\n\n            if (index !== -1) {\n                draft.uploadsInProgress.splice(index, 1);\n            }\n        }\n\n        draft.fileInfos = draft.fileInfos.concat(fileInfos);\n        _post_store2.default.storeCommentDraft(_this2.props.rootId, draft);\n\n        // Focus on preview if needed/possible - if user has switched teams since starting the file upload,\n        // the preview will be undefined and the switch will fail\n        if (typeof _this2.refs.preview != 'undefined' && _this2.refs.preview) {\n            _this2.refs.preview.refs.container.scrollIntoView();\n        }\n\n        var enableAddButton = _this2.handleEnableAddButton(draft.message, draft.fileInfos);\n\n        _this2.setState({\n            uploadsInProgress: draft.uploadsInProgress,\n            fileInfos: draft.fileInfos,\n            enableAddButton: enableAddButton\n        });\n    };\n\n    this.handleUploadError = function (err, clientId) {\n        if (clientId === -1) {\n            _this2.setState({ serverError: err });\n        } else {\n            var draft = _post_store2.default.getCommentDraft(_this2.props.rootId);\n\n            var index = draft.uploadsInProgress.indexOf(clientId);\n            if (index !== -1) {\n                draft.uploadsInProgress.splice(index, 1);\n            }\n\n            _post_store2.default.storeCommentDraft(_this2.props.rootId, draft);\n\n            _this2.setState({ uploadsInProgress: draft.uploadsInProgress, serverError: err });\n        }\n    };\n\n    this.removePreview = function (id) {\n        var fileInfos = _this2.state.fileInfos;\n        var uploadsInProgress = _this2.state.uploadsInProgress;\n\n        // Clear previous errors\n        _this2.handleUploadError(null);\n\n        // id can either be the id of an uploaded file or the client id of an in progress upload\n        var index = fileInfos.findIndex(function (info) {\n            return info.id === id;\n        });\n        if (index === -1) {\n            index = uploadsInProgress.indexOf(id);\n\n            if (index !== -1) {\n                uploadsInProgress.splice(index, 1);\n                _this2.refs.fileUpload.getWrappedInstance().cancelUpload(id);\n            }\n        } else {\n            fileInfos.splice(index, 1);\n        }\n\n        var draft = _post_store2.default.getCommentDraft(_this2.props.rootId);\n        draft.fileInfos = fileInfos;\n        draft.uploadsInProgress = uploadsInProgress;\n        _post_store2.default.storeCommentDraft(_this2.props.rootId, draft);\n\n        _this2.setState({ fileInfos: fileInfos, uploadsInProgress: uploadsInProgress });\n\n        _this2.handleFileUploadChange();\n    };\n\n    this.getFileCount = function () {\n        return _this2.state.fileInfos.length + _this2.state.uploadsInProgress.length;\n    };\n\n    this.getFileUploadTarget = function () {\n        return _this2.refs.textbox;\n    };\n\n    this.getCreateCommentControls = function () {\n        return _this2.refs.createCommentControls;\n    };\n\n    this.focusTextbox = function () {\n        var keepFocus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n        if (keepFocus || !UserAgent.isMobile()) {\n            _this2.refs.textbox.focus();\n        }\n    };\n\n    this.showPostDeletedModal = function () {\n        _this2.setState({\n            showPostDeletedModal: true\n        });\n    };\n\n    this.hidePostDeletedModal = function () {\n        _this2.setState({\n            showPostDeletedModal: false\n        });\n    };\n\n    this.handleBlur = function () {\n        _this2.lastBlurAt = Date.now();\n    };\n\n    this.handleEnableAddButton = function (message, fileInfos) {\n        return message.trim().length !== 0 || fileInfos.length !== 0;\n    };\n};\n\nexports.default = CreateComment;\n\n/***/ }),\n\n/***/ 2428:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DateSeparator = function (_React$PureComponent) {\n    (0, _inherits3.default)(DateSeparator, _React$PureComponent);\n\n    function DateSeparator() {\n        (0, _classCallCheck3.default)(this, DateSeparator);\n        return (0, _possibleConstructorReturn3.default)(this, (DateSeparator.__proto__ || (0, _getPrototypeOf2.default)(DateSeparator)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(DateSeparator, [{\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'date-separator'\n                },\n                _react2.default.createElement('hr', { className: 'separator__hr' }),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'separator__text' },\n                    _react2.default.createElement(_reactIntl.FormattedDate, {\n                        value: this.props.date,\n                        weekday: 'short',\n                        month: 'short',\n                        day: '2-digit',\n                        year: 'numeric'\n                    })\n                )\n            );\n        }\n    }]);\n    return DateSeparator;\n}(_react2.default.PureComponent); // Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nDateSeparator.propTypes = {\n\n    /*\n     * The date to display in the separator\n     */\n    date: _propTypes2.default.instanceOf(Date)\n};\nexports.default = DateSeparator;\n\n/***/ }),\n\n/***/ 2429:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _es = __webpack_require__(44);\n\nvar _post_actions = __webpack_require__(73);\n\nvar _team_store = __webpack_require__(35);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _post_utils = __webpack_require__(94);\n\nvar PostUtils = _interopRequireWildcard(_post_utils);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _dot_menu = __webpack_require__(743);\n\nvar _dot_menu2 = _interopRequireDefault(_dot_menu);\n\nvar _emoji_picker_overlay = __webpack_require__(438);\n\nvar _emoji_picker_overlay2 = _interopRequireDefault(_emoji_picker_overlay);\n\nvar _file_attachment_list = __webpack_require__(744);\n\nvar _file_attachment_list2 = _interopRequireDefault(_file_attachment_list);\n\nvar _failed_post_options = __webpack_require__(788);\n\nvar _failed_post_options2 = _interopRequireDefault(_failed_post_options);\n\nvar _post_body_additional_content = __webpack_require__(751);\n\nvar _post_body_additional_content2 = _interopRequireDefault(_post_body_additional_content);\n\nvar _post_flag_icon = __webpack_require__(745);\n\nvar _post_flag_icon2 = _interopRequireDefault(_post_flag_icon);\n\nvar _post_message_view = __webpack_require__(746);\n\nvar _post_message_view2 = _interopRequireDefault(_post_message_view);\n\nvar _reaction_list = __webpack_require__(752);\n\nvar _reaction_list2 = _interopRequireDefault(_reaction_list);\n\nvar _profile_picture = __webpack_require__(181);\n\nvar _profile_picture2 = _interopRequireDefault(_profile_picture);\n\nvar _user_profile = __webpack_require__(442);\n\nvar _user_profile2 = _interopRequireDefault(_user_profile);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RhsComment = function (_React$Component) {\n    (0, _inherits3.default)(RhsComment, _React$Component);\n\n    function RhsComment(props) {\n        (0, _classCallCheck3.default)(this, RhsComment);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (RhsComment.__proto__ || (0, _getPrototypeOf2.default)(RhsComment)).call(this, props));\n\n        _this.toggleEmojiPicker = function () {\n            var showEmojiPicker = !_this.state.showEmojiPicker;\n\n            _this.setState({\n                showEmojiPicker: showEmojiPicker,\n                dropdownOpened: showEmojiPicker\n            });\n        };\n\n        _this.getClassName = function (post, isSystemMessage) {\n            var className = 'post post--thread';\n\n            if (_this.props.currentUser.id === post.user_id) {\n                className += ' current--user';\n            }\n\n            if (isSystemMessage) {\n                className += ' post--system';\n            }\n\n            if (_this.props.compactDisplay) {\n                className += ' post--compact';\n            }\n\n            if (post.is_pinned) {\n                className += ' post--pinned';\n            }\n\n            if (_this.state.dropdownOpened) {\n                className += ' post--hovered';\n            }\n\n            return className;\n        };\n\n        _this.removePost = _this.removePost.bind(_this);\n        _this.reactEmojiClick = _this.reactEmojiClick.bind(_this);\n        _this.handleDropdownOpened = _this.handleDropdownOpened.bind(_this);\n\n        _this.state = {\n            currentTeamDisplayName: _team_store2.default.getCurrent().name,\n            width: '',\n            height: '',\n            showEmojiPicker: false,\n            dropdownOpened: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(RhsComment, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            window.addEventListener('resize', function () {\n                Utils.updateWindowDimensions(_this2);\n            });\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            var _this3 = this;\n\n            window.removeEventListener('resize', function () {\n                Utils.updateWindowDimensions(_this3);\n            });\n        }\n    }, {\n        key: 'removePost',\n        value: function removePost() {\n            this.props.removePost(this.props.post);\n        }\n    }, {\n        key: 'createRemovePostButton',\n        value: function createRemovePostButton() {\n            return _react2.default.createElement(\n                'button',\n                {\n                    className: 'post__remove theme color--link style--none',\n                    type: 'button',\n                    onClick: this.removePost\n                },\n                '×'\n            );\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            if (nextProps.status !== this.props.status) {\n                return true;\n            }\n\n            if (nextProps.isBusy !== this.props.isBusy) {\n                return true;\n            }\n\n            if (nextProps.compactDisplay !== this.props.compactDisplay) {\n                return true;\n            }\n\n            if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n                return true;\n            }\n\n            if (nextProps.isFlagged !== this.props.isFlagged) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.post, this.props.post)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n                return true;\n            }\n\n            if (this.state.showEmojiPicker !== nextState.showEmojiPicker) {\n                return true;\n            }\n\n            if (nextProps.lastPostCount !== this.props.lastPostCount) {\n                return true;\n            }\n\n            if (this.state.dropdownOpened !== nextState.dropdownOpened) {\n                return true;\n            }\n\n            if (this.props.previewCollapsed !== nextProps.previewCollapsed) {\n                return true;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'timeTag',\n        value: function timeTag(post, timeOptions) {\n            var date = Utils.getDateForUnixTicks(post.create_at);\n\n            return _react2.default.createElement(\n                'time',\n                {\n                    className: 'post__time',\n                    dateTime: date.toISOString(),\n                    title: date\n                },\n                date.toLocaleString('en', timeOptions)\n            );\n        }\n    }, {\n        key: 'renderTimeTag',\n        value: function renderTimeTag(post, timeOptions) {\n            return Utils.isMobile() ? this.timeTag(post, timeOptions) : _react2.default.createElement(\n                _es.Link,\n                {\n                    to: '/' + this.state.currentTeamDisplayName + '/pl/' + post.id,\n                    target: '_blank',\n                    className: 'post__permalink'\n                },\n                this.timeTag(post, timeOptions)\n            );\n        }\n    }, {\n        key: 'reactEmojiClick',\n        value: function reactEmojiClick(emoji) {\n            this.setState({ showEmojiPicker: false });\n            var emojiName = emoji.name || emoji.aliases[0];\n            (0, _post_actions.addReaction)(this.props.post.channel_id, this.props.post.id, emojiName);\n            (0, _post_actions.emitEmojiPosted)(emojiName);\n            this.handleDropdownOpened(false);\n        }\n    }, {\n        key: 'handleDropdownOpened',\n        value: function handleDropdownOpened(isOpened) {\n            this.setState({\n                dropdownOpened: isOpened\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var post = this.props.post;\n            var mattermostLogo = _constants2.default.MATTERMOST_ICON_SVG;\n\n            var idCount = -1;\n            if (this.props.lastPostCount >= 0 && this.props.lastPostCount < _constants2.default.TEST_ID_COUNT) {\n                idCount = this.props.lastPostCount;\n            }\n\n            var isEphemeral = Utils.isPostEphemeral(post);\n            var isSystemMessage = PostUtils.isSystemMessage(post);\n\n            var status = this.props.status;\n            if (post.props && post.props.from_webhook === 'true') {\n                status = null;\n            }\n\n            var botIndicator = void 0;\n            var userProfile = _react2.default.createElement(_user_profile2.default, {\n                user: this.props.user,\n                status: status,\n                isBusy: this.props.isBusy,\n                isRHS: true,\n                hasMention: true\n            });\n\n            var visibleMessage = void 0;\n            if (post.props && post.props.from_webhook) {\n                if (post.props.override_username && global.window.mm_config.EnablePostUsernameOverride === 'true') {\n                    userProfile = _react2.default.createElement(_user_profile2.default, {\n                        user: this.props.user,\n                        overwriteName: post.props.override_username,\n                        disablePopover: true\n                    });\n                } else {\n                    userProfile = _react2.default.createElement(_user_profile2.default, {\n                        user: this.props.user,\n                        disablePopover: true\n                    });\n                }\n\n                botIndicator = _react2.default.createElement(\n                    'div',\n                    { className: 'col col__name bot-indicator' },\n                    'BOT'\n                );\n            } else if (isSystemMessage) {\n                userProfile = _react2.default.createElement(_user_profile2.default, {\n                    user: {},\n                    overwriteName: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.system',\n                        defaultMessage: 'System'\n                    }),\n                    overwriteImage: _constants2.default.SYSTEM_MESSAGE_PROFILE_IMAGE,\n                    disablePopover: true\n                });\n\n                visibleMessage = _react2.default.createElement(\n                    'span',\n                    { className: 'post__visibility' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.message.visible',\n                        defaultMessage: '(Only visible to you)'\n                    })\n                );\n            }\n\n            var failedPostOptions = void 0;\n            var postClass = '';\n\n            if (post.failed) {\n                postClass += ' post-failed';\n                failedPostOptions = _react2.default.createElement(_failed_post_options2.default, { post: this.props.post });\n            }\n\n            if (PostUtils.isEdited(this.props.post)) {\n                postClass += ' post--edited';\n            }\n\n            var profilePic = _react2.default.createElement(_profile_picture2.default, {\n                src: PostUtils.getProfilePicSrcForPost(post, this.props.user),\n                status: status,\n                width: '36',\n                height: '36',\n                user: this.props.user,\n                isBusy: this.props.isBusy,\n                isRHS: true,\n                hasMention: true\n            });\n\n            if (post.props && post.props.from_webhook) {\n                profilePic = _react2.default.createElement(_profile_picture2.default, {\n                    src: PostUtils.getProfilePicSrcForPost(post, this.props.user),\n                    width: '36',\n                    height: '36'\n                });\n            }\n\n            if (isSystemMessage) {\n                profilePic = _react2.default.createElement('span', {\n                    className: 'icon',\n                    dangerouslySetInnerHTML: { __html: mattermostLogo }\n                });\n            }\n\n            if (this.props.compactDisplay) {\n                if (post.props && post.props.from_webhook) {\n                    profilePic = _react2.default.createElement(_profile_picture2.default, {\n                        src: ''\n                    });\n                } else {\n                    profilePic = _react2.default.createElement(_profile_picture2.default, {\n                        src: '',\n                        status: status,\n                        user: this.props.user,\n                        isBusy: this.props.isBusy,\n                        isRHS: true,\n                        hasMention: true\n                    });\n                }\n            }\n\n            var profilePicContainer = _react2.default.createElement(\n                'div',\n                { className: 'post__img' },\n                profilePic\n            );\n\n            var fileAttachment = null;\n            if (post.file_ids && post.file_ids.length > 0) {\n                fileAttachment = _react2.default.createElement(_file_attachment_list2.default, {\n                    post: post,\n                    compactDisplay: this.props.compactDisplay\n                });\n            }\n\n            var react = void 0;\n\n            if (!isEphemeral && !post.failed && !isSystemMessage && window.mm_config.EnableEmojiPicker === 'true') {\n                react = _react2.default.createElement(\n                    'span',\n                    null,\n                    _react2.default.createElement(_emoji_picker_overlay2.default, {\n                        show: this.state.showEmojiPicker,\n                        onHide: this.toggleEmojiPicker,\n                        target: function target() {\n                            return _this4.refs.dotMenu;\n                        },\n                        onEmojiClick: this.reactEmojiClick,\n                        rightOffset: 15,\n                        spaceRequiredAbove: 342,\n                        spaceRequiredBelow: 342\n                    }),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            className: 'reacticon__container reaction color--link style--none',\n                            onClick: this.toggleEmojiPicker,\n                            ref: 'rhs_reacticon_' + post.id\n                        },\n                        _react2.default.createElement('span', {\n                            className: 'icon icon--emoji',\n                            dangerouslySetInnerHTML: { __html: _constants2.default.EMOJI_ICON_SVG }\n                        })\n                    )\n                );\n            }\n\n            var options = void 0;\n            if (isEphemeral) {\n                options = _react2.default.createElement(\n                    'div',\n                    { className: 'col col__remove' },\n                    this.createRemovePostButton()\n                );\n            } else if (!isSystemMessage) {\n                var dotMenu = _react2.default.createElement(_dot_menu2.default, {\n                    idPrefix: _constants2.default.RHS,\n                    idCount: idCount,\n                    post: this.props.post,\n                    isFlagged: this.props.isFlagged,\n                    handleDropdownOpened: this.handleDropdownOpened\n                });\n\n                options = _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'dotMenu',\n                        className: 'col col__reply'\n                    },\n                    dotMenu,\n                    react\n                );\n            }\n\n            var pinnedBadge = void 0;\n            if (post.is_pinned) {\n                pinnedBadge = _react2.default.createElement(\n                    'span',\n                    { className: 'post__pinned-badge' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.pinned',\n                        defaultMessage: 'Pinned'\n                    })\n                );\n            }\n\n            var timeOptions = {\n                hour: '2-digit',\n                minute: '2-digit',\n                hour12: !this.props.useMilitaryTime\n            };\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    ref: 'post_body_' + post.id,\n                    className: this.getClassName(post, isSystemMessage)\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'post__content' },\n                    profilePicContainer,\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'post__header' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col col__name' },\n                                _react2.default.createElement(\n                                    'strong',\n                                    null,\n                                    userProfile\n                                )\n                            ),\n                            botIndicator,\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col' },\n                                this.renderTimeTag(post, timeOptions),\n                                pinnedBadge,\n                                _react2.default.createElement(_post_flag_icon2.default, {\n                                    idPrefix: 'rhsCommentFlag',\n                                    idCount: idCount,\n                                    postId: post.id,\n                                    isFlagged: this.props.isFlagged,\n                                    isEphemeral: isEphemeral\n                                }),\n                                visibleMessage\n                            ),\n                            options\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'post__body' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: postClass },\n                                failedPostOptions,\n                                _react2.default.createElement(\n                                    _post_body_additional_content2.default,\n                                    {\n                                        post: post,\n                                        previewCollapsed: this.props.previewCollapsed\n                                    },\n                                    _react2.default.createElement(_post_message_view2.default, {\n                                        post: post,\n                                        isRHS: true,\n                                        hasMention: true\n                                    })\n                                )\n                            ),\n                            fileAttachment,\n                            _react2.default.createElement(_reaction_list2.default, { post: post })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return RhsComment;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nRhsComment.propTypes = {\n    post: _propTypes2.default.object,\n    lastPostCount: _propTypes2.default.number,\n    user: _propTypes2.default.object.isRequired,\n    currentUser: _propTypes2.default.object.isRequired,\n    compactDisplay: _propTypes2.default.bool,\n    useMilitaryTime: _propTypes2.default.bool.isRequired,\n    isFlagged: _propTypes2.default.bool,\n    status: _propTypes2.default.string,\n    isBusy: _propTypes2.default.bool,\n    removePost: _propTypes2.default.func.isRequired,\n    previewCollapsed: _propTypes2.default.string.isRequired\n};\nexports.default = RhsComment;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2430:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(40);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _post_actions = __webpack_require__(73);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _app_dispatcher = __webpack_require__(34);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ActionTypes = _constants2.default.ActionTypes;\n\nvar RhsHeaderPost = function (_React$Component) {\n    (0, _inherits3.default)(RhsHeaderPost, _React$Component);\n\n    function RhsHeaderPost(props) {\n        (0, _classCallCheck3.default)(this, RhsHeaderPost);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (RhsHeaderPost.__proto__ || (0, _getPrototypeOf2.default)(RhsHeaderPost)).call(this, props));\n\n        _this.handleClose = _this.handleClose.bind(_this);\n        _this.toggleSize = _this.toggleSize.bind(_this);\n        _this.handleBack = _this.handleBack.bind(_this);\n\n        _this.state = {};\n        return _this;\n    }\n\n    (0, _createClass3.default)(RhsHeaderPost, [{\n        key: 'handleClose',\n        value: function handleClose(e) {\n            e.preventDefault();\n            GlobalActions.emitCloseRightHandSide();\n            this.props.shrink();\n        }\n    }, {\n        key: 'toggleSize',\n        value: function toggleSize(e) {\n            e.preventDefault();\n            this.props.toggleSize();\n        }\n    }, {\n        key: 'handleBack',\n        value: function handleBack(e) {\n            e.preventDefault();\n\n            if (this.props.fromSearch || this.props.isWebrtc) {\n                _app_dispatcher2.default.handleServerAction({\n                    type: ActionTypes.RECEIVED_SEARCH_TERM,\n                    term: this.props.fromSearch,\n                    do_search: true,\n                    is_mention_search: this.props.isMentionSearch\n                });\n\n                _app_dispatcher2.default.handleServerAction({\n                    type: ActionTypes.RECEIVED_POST_SELECTED,\n                    postId: null,\n                    channelId: null\n                });\n            } else if (this.props.fromFlaggedPosts) {\n                (0, _post_actions.getFlaggedPosts)();\n            } else if (this.props.fromPinnedPosts) {\n                (0, _post_actions.getPinnedPosts)();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var back = void 0;\n            var closeSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'closeSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.closeSidebarTooltip',\n                    defaultMessage: 'Close Sidebar'\n                })\n            );\n\n            var backToResultsTooltip = void 0;\n            if (this.props.fromSearch) {\n                backToResultsTooltip = _react2.default.createElement(\n                    _reactBootstrap.Tooltip,\n                    { id: 'backToResultsTooltip' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'rhs_header.backToResultsTooltip',\n                        defaultMessage: 'Back to Search Results'\n                    })\n                );\n            } else if (this.props.fromFlaggedPosts) {\n                backToResultsTooltip = _react2.default.createElement(\n                    _reactBootstrap.Tooltip,\n                    { id: 'backToResultsTooltip' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'rhs_header.backToFlaggedTooltip',\n                        defaultMessage: 'Back to Flagged Posts'\n                    })\n                );\n            } else if (this.props.isWebrtc) {\n                backToResultsTooltip = _react2.default.createElement(\n                    _reactBootstrap.Tooltip,\n                    { id: 'backToResultsTooltip' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'rhs_header.backToCallTooltip',\n                        defaultMessage: 'Back to Call'\n                    })\n                );\n            } else if (this.props.fromPinnedPosts) {\n                backToResultsTooltip = _react2.default.createElement(\n                    _reactBootstrap.Tooltip,\n                    { id: 'backToResultsTooltip' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'rhs_header.backToPinnedTooltip',\n                        defaultMessage: 'Back to Pinned Posts'\n                    })\n                );\n            }\n\n            var expandSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'expandSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.expandSidebarTooltip',\n                    defaultMessage: 'Expand Sidebar'\n                })\n            );\n\n            var shrinkSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'shrinkSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.shrinkSidebarTooltip',\n                    defaultMessage: 'Shrink Sidebar'\n                })\n            );\n\n            if (this.props.fromSearch || this.props.fromFlaggedPosts || this.props.isWebrtc || this.props.fromPinnedPosts) {\n                back = _react2.default.createElement(\n                    'a',\n                    {\n                        href: '#',\n                        onClick: this.handleBack,\n                        className: 'sidebar--right__back'\n                    },\n                    _react2.default.createElement(\n                        _reactBootstrap.OverlayTrigger,\n                        {\n                            trigger: ['hover', 'focus'],\n                            delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                            placement: 'top',\n                            overlay: backToResultsTooltip\n                        },\n                        _react2.default.createElement('i', { className: 'fa fa-angle-left' })\n                    )\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'sidebar--right__header' },\n                _react2.default.createElement(\n                    'span',\n                    { className: 'sidebar--right__title' },\n                    back,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'rhs_header.details',\n                        defaultMessage: 'Message Details'\n                    })\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'pull-right' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'sidebar--right__expand',\n                            'aria-label': 'Expand',\n                            onClick: this.toggleSize\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                trigger: ['hover', 'focus'],\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: expandSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-expand' })\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                trigger: ['hover', 'focus'],\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: shrinkSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-compress' })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'sidebar--right__close',\n                            'aria-label': 'Close',\n                            onClick: this.handleClose\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                trigger: ['hover', 'focus'],\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: closeSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-sign-out' })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return RhsHeaderPost;\n}(_react2.default.Component);\n\nexports.default = RhsHeaderPost;\n\n\nRhsHeaderPost.defaultProps = {\n    isMentionSearch: false,\n    fromSearch: ''\n};\nRhsHeaderPost.propTypes = {\n    isMentionSearch: _propTypes2.default.bool,\n    isWebrtc: _propTypes2.default.bool,\n    fromSearch: _propTypes2.default.string,\n    fromFlaggedPosts: _propTypes2.default.bool,\n    fromPinnedPosts: _propTypes2.default.bool,\n    toggleSize: _propTypes2.default.func,\n    shrink: _propTypes2.default.func\n};\n\n/***/ }),\n\n/***/ 2431:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _es = __webpack_require__(44);\n\nvar _post_actions = __webpack_require__(73);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _channel_store = __webpack_require__(32);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _team_store = __webpack_require__(35);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _post_utils = __webpack_require__(94);\n\nvar PostUtils = _interopRequireWildcard(_post_utils);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _dot_menu = __webpack_require__(743);\n\nvar _dot_menu2 = _interopRequireDefault(_dot_menu);\n\nvar _emoji_picker_overlay = __webpack_require__(438);\n\nvar _emoji_picker_overlay2 = _interopRequireDefault(_emoji_picker_overlay);\n\nvar _file_attachment_list = __webpack_require__(744);\n\nvar _file_attachment_list2 = _interopRequireDefault(_file_attachment_list);\n\nvar _post_body_additional_content = __webpack_require__(751);\n\nvar _post_body_additional_content2 = _interopRequireDefault(_post_body_additional_content);\n\nvar _post_flag_icon = __webpack_require__(745);\n\nvar _post_flag_icon2 = _interopRequireDefault(_post_flag_icon);\n\nvar _post_message_view = __webpack_require__(746);\n\nvar _post_message_view2 = _interopRequireDefault(_post_message_view);\n\nvar _reaction_list = __webpack_require__(752);\n\nvar _reaction_list2 = _interopRequireDefault(_reaction_list);\n\nvar _profile_picture = __webpack_require__(181);\n\nvar _profile_picture2 = _interopRequireDefault(_profile_picture);\n\nvar _user_profile = __webpack_require__(442);\n\nvar _user_profile2 = _interopRequireDefault(_user_profile);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar RhsRootPost = function (_React$Component) {\n    (0, _inherits3.default)(RhsRootPost, _React$Component);\n\n    function RhsRootPost(props) {\n        (0, _classCallCheck3.default)(this, RhsRootPost);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (RhsRootPost.__proto__ || (0, _getPrototypeOf2.default)(RhsRootPost)).call(this, props));\n\n        _this.toggleEmojiPicker = function () {\n            var showEmojiPicker = !_this.state.showEmojiPicker;\n\n            _this.setState({\n                showEmojiPicker: showEmojiPicker,\n                dropdownOpened: showEmojiPicker\n            });\n        };\n\n        _this.getClassName = function (post, isSystemMessage) {\n            var className = 'post post--root post--thread';\n            if (_user_store2.default.getCurrentId() === post.user_id) {\n                className += ' current--user';\n            }\n\n            if (isSystemMessage) {\n                className += ' post--system';\n            }\n\n            if (_this.props.compactDisplay) {\n                className += ' post--compact';\n            }\n\n            if (post.is_pinned) {\n                className += ' post--pinned';\n            }\n\n            if (_this.state.dropdownOpened) {\n                className += ' post--hovered';\n            }\n\n            return className;\n        };\n\n        _this.reactEmojiClick = _this.reactEmojiClick.bind(_this);\n        _this.handleDropdownOpened = _this.handleDropdownOpened.bind(_this);\n\n        _this.state = {\n            currentTeamDisplayName: _team_store2.default.getCurrent().name,\n            width: '',\n            height: '',\n            showEmojiPicker: false,\n            testStateObj: true,\n            dropdownOpened: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(RhsRootPost, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            window.addEventListener('resize', function () {\n                Utils.updateWindowDimensions(_this2);\n            });\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            var _this3 = this;\n\n            window.removeEventListener('resize', function () {\n                Utils.updateWindowDimensions(_this3);\n            });\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            if (nextProps.status !== this.props.status) {\n                return true;\n            }\n\n            if (nextProps.isBusy !== this.props.isBusy) {\n                return true;\n            }\n\n            if (nextProps.compactDisplay !== this.props.compactDisplay) {\n                return true;\n            }\n\n            if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n                return true;\n            }\n\n            if (nextProps.isFlagged !== this.props.isFlagged) {\n                return true;\n            }\n\n            if (nextProps.previewCollapsed !== this.props.previewCollapsed) {\n                return true;\n            }\n\n            if (nextProps.previewEnabled !== this.props.previewEnabled) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.post, this.props.post)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.user, this.props.user)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n                return true;\n            }\n\n            if (this.state.showEmojiPicker !== nextState.showEmojiPicker) {\n                return true;\n            }\n\n            if (this.state.dropdownOpened !== nextState.dropdownOpened) {\n                return true;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'timeTag',\n        value: function timeTag(post, timeOptions) {\n            var date = Utils.getDateForUnixTicks(post.create_at);\n\n            return _react2.default.createElement(\n                'time',\n                {\n                    className: 'post__time',\n                    dateTime: date.toISOString(),\n                    title: date\n                },\n                date.toLocaleString('en', timeOptions)\n            );\n        }\n    }, {\n        key: 'renderTimeTag',\n        value: function renderTimeTag(post, timeOptions) {\n            if (post.type === _constants2.default.PostTypes.FAKE_PARENT_DELETED) {\n                return null;\n            }\n\n            if (Utils.isMobile()) {\n                return this.timeTag(post, timeOptions);\n            }\n\n            return _react2.default.createElement(\n                _es.Link,\n                {\n                    to: '/' + this.state.currentTeamDisplayName + '/pl/' + post.id,\n                    target: '_blank',\n                    className: 'post__permalink'\n                },\n                this.timeTag(post, timeOptions)\n            );\n        }\n    }, {\n        key: 'reactEmojiClick',\n        value: function reactEmojiClick(emoji) {\n            this.setState({ showEmojiPicker: false });\n            var emojiName = emoji.name || emoji.aliases[0];\n            (0, _post_actions.addReaction)(this.props.post.channel_id, this.props.post.id, emojiName);\n            (0, _post_actions.emitEmojiPosted)(emojiName);\n            this.handleDropdownOpened(false);\n        }\n    }, {\n        key: 'handleDropdownOpened',\n        value: function handleDropdownOpened(isOpened) {\n            this.setState({\n                dropdownOpened: isOpened\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var post = this.props.post;\n            var user = this.props.user;\n            var mattermostLogo = _constants2.default.MATTERMOST_ICON_SVG;\n            var channel = _channel_store2.default.get(post.channel_id);\n\n            var isEphemeral = Utils.isPostEphemeral(post);\n            var isSystemMessage = PostUtils.isSystemMessage(post);\n\n            var channelName;\n            if (channel) {\n                if (channel.type === 'D') {\n                    channelName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'rhs_root.direct',\n                        defaultMessage: 'Direct Message'\n                    });\n                } else {\n                    channelName = channel.display_name;\n                }\n            }\n\n            var react = void 0;\n\n            if (!isEphemeral && !post.failed && !isSystemMessage && window.mm_config.EnableEmojiPicker === 'true') {\n                react = _react2.default.createElement(\n                    'span',\n                    null,\n                    _react2.default.createElement(_emoji_picker_overlay2.default, {\n                        show: this.state.showEmojiPicker,\n                        onHide: this.toggleEmojiPicker,\n                        target: function target() {\n                            return _this4.refs.dotMenu;\n                        },\n                        onEmojiClick: this.reactEmojiClick,\n                        rightOffset: 15,\n                        spaceRequiredAbove: 342,\n                        spaceRequiredBelow: 342\n                    }),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            className: 'reacticon__container reaction color--link style--none',\n                            onClick: this.toggleEmojiPicker,\n                            ref: 'rhs_root_reacticon'\n                        },\n                        _react2.default.createElement('span', {\n                            className: 'icon icon--emoji',\n                            dangerouslySetInnerHTML: { __html: _constants2.default.EMOJI_ICON_SVG }\n                        })\n                    )\n                );\n            }\n\n            var fileAttachment = null;\n            if (post.file_ids && post.file_ids.length > 0) {\n                fileAttachment = _react2.default.createElement(_file_attachment_list2.default, {\n                    post: post,\n                    compactDisplay: this.props.compactDisplay\n                });\n            }\n\n            var userProfile = void 0;\n            var botIndicator = void 0;\n            if (isSystemMessage) {\n                userProfile = _react2.default.createElement(_user_profile2.default, {\n                    user: {},\n                    overwriteName: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.system',\n                        defaultMessage: 'System'\n                    }),\n                    overwriteImage: _constants2.default.SYSTEM_MESSAGE_PROFILE_IMAGE,\n                    disablePopover: true\n                });\n            } else if (post.props && post.props.from_webhook) {\n                if (post.props.override_username && global.window.mm_config.EnablePostUsernameOverride === 'true') {\n                    userProfile = _react2.default.createElement(_user_profile2.default, {\n                        user: user,\n                        overwriteName: post.props.override_username,\n                        disablePopover: true\n                    });\n                } else {\n                    userProfile = _react2.default.createElement(_user_profile2.default, {\n                        user: user,\n                        disablePopover: true\n                    });\n                }\n\n                botIndicator = _react2.default.createElement(\n                    'div',\n                    { className: 'col col__name bot-indicator' },\n                    'BOT'\n                );\n            } else {\n                userProfile = _react2.default.createElement(_user_profile2.default, {\n                    user: user,\n                    status: this.props.status,\n                    isBusy: this.props.isBusy,\n                    isRHS: true,\n                    hasMention: true\n                });\n            }\n\n            var status = this.props.status;\n            if (post.props && post.props.from_webhook === 'true') {\n                status = null;\n            }\n\n            var profilePic = void 0;\n            if (isSystemMessage) {\n                profilePic = _react2.default.createElement('span', {\n                    className: 'icon',\n                    dangerouslySetInnerHTML: { __html: mattermostLogo }\n                });\n            } else if (post.props && post.props.from_webhook) {\n                profilePic = _react2.default.createElement(_profile_picture2.default, {\n                    src: PostUtils.getProfilePicSrcForPost(post, user),\n                    width: '36',\n                    height: '36'\n                });\n            } else {\n                profilePic = _react2.default.createElement(_profile_picture2.default, {\n                    src: PostUtils.getProfilePicSrcForPost(post, user),\n                    status: status,\n                    width: '36',\n                    height: '36',\n                    user: this.props.user,\n                    isBusy: this.props.isBusy,\n                    isRHS: true,\n                    hasMention: true\n                });\n            }\n\n            if (this.props.compactDisplay) {\n                if (post.props && post.props.from_webhook) {\n                    profilePic = _react2.default.createElement(_profile_picture2.default, {\n                        src: ''\n                    });\n                } else {\n                    profilePic = _react2.default.createElement(_profile_picture2.default, {\n                        src: '',\n                        status: status,\n                        user: this.props.user,\n                        isBusy: this.props.isBusy,\n                        isRHS: true,\n                        hasMention: true\n                    });\n                }\n            }\n\n            var postClass = '';\n            if (PostUtils.isEdited(this.props.post)) {\n                postClass += ' post--edited';\n            }\n\n            var profilePicContainer = _react2.default.createElement(\n                'div',\n                { className: 'post__img' },\n                profilePic\n            );\n\n            var pinnedBadge = void 0;\n            if (post.is_pinned) {\n                pinnedBadge = _react2.default.createElement(\n                    'span',\n                    { className: 'post__pinned-badge' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.pinned',\n                        defaultMessage: 'Pinned'\n                    })\n                );\n            }\n\n            var timeOptions = {\n                hour: '2-digit',\n                minute: '2-digit',\n                hour12: !this.props.useMilitaryTime\n            };\n\n            var dotMenu = _react2.default.createElement(_dot_menu2.default, {\n                idPrefix: _constants2.default.RHS_ROOT,\n                post: this.props.post,\n                isFlagged: this.props.isFlagged,\n                handleDropdownOpened: this.handleDropdownOpened,\n                commentCount: this.props.commentCount\n            });\n\n            var dotMenuContainer = void 0;\n            if (this.props.post.type !== _constants2.default.PostTypes.FAKE_PARENT_DELETED) {\n                dotMenuContainer = _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'dotMenu',\n                        className: 'col col__reply'\n                    },\n                    dotMenu,\n                    react\n                );\n            }\n\n            var postFlagIcon = void 0;\n            if (this.props.post.type !== _constants2.default.PostTypes.FAKE_PARENT_DELETED) {\n                postFlagIcon = _react2.default.createElement(_post_flag_icon2.default, {\n                    idPrefix: 'rhsRootPostFlag',\n                    postId: post.id,\n                    isFlagged: this.props.isFlagged\n                });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    id: 'thread--root',\n                    className: this.getClassName(post, isSystemMessage)\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'post-right-channel__name' },\n                    channelName\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'post__content' },\n                    profilePicContainer,\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'post__header' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col__name' },\n                                userProfile\n                            ),\n                            botIndicator,\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col' },\n                                this.renderTimeTag(post, timeOptions),\n                                pinnedBadge,\n                                postFlagIcon\n                            ),\n                            dotMenuContainer\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'post__body' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: postClass },\n                                _react2.default.createElement(\n                                    _post_body_additional_content2.default,\n                                    {\n                                        post: post,\n                                        previewCollapsed: this.props.previewCollapsed,\n                                        previewEnabled: this.props.previewEnabled\n                                    },\n                                    _react2.default.createElement(_post_message_view2.default, {\n                                        post: post,\n                                        isRHS: true,\n                                        hasMention: true\n                                    })\n                                )\n                            ),\n                            fileAttachment,\n                            _react2.default.createElement(_reaction_list2.default, { post: post })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return RhsRootPost;\n}(_react2.default.Component);\n\nRhsRootPost.propTypes = {\n    post: _propTypes2.default.object.isRequired,\n    user: _propTypes2.default.object.isRequired,\n    currentUser: _propTypes2.default.object.isRequired,\n    compactDisplay: _propTypes2.default.bool,\n    useMilitaryTime: _propTypes2.default.bool.isRequired,\n    commentCount: _propTypes2.default.number.isRequired,\n    isFlagged: _propTypes2.default.bool,\n    status: _propTypes2.default.string,\n    previewCollapsed: _propTypes2.default.string,\n    previewEnabled: _propTypes2.default.bool,\n    isBusy: _propTypes2.default.bool\n};\nRhsRootPost.defaultProps = {\n    commentCount: 0\n};\nexports.default = RhsRootPost;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2432:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _assign = __webpack_require__(41);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _getIterator2 = __webpack_require__(48);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _map = __webpack_require__(156);\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _stringify = __webpack_require__(155);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _channel_store = __webpack_require__(32);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _preference_store = __webpack_require__(119);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _search_store = __webpack_require__(313);\n\nvar _search_store2 = _interopRequireDefault(_search_store);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(436);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _search_results_header = __webpack_require__(2433);\n\nvar _search_results_header2 = _interopRequireDefault(_search_results_header);\n\nvar _search_results_item = __webpack_require__(2434);\n\nvar _search_results_item2 = _interopRequireDefault(_search_results_item);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Preferences = _constants2.default.Preferences; // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction getStateFromStores() {\n    var results = JSON.parse((0, _stringify2.default)(_search_store2.default.getSearchResults()));\n\n    var channels = new _map2.default();\n\n    if (results && results.order) {\n        var channelIds = results.order.map(function (postId) {\n            return results.posts[postId].channel_id;\n        });\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = (0, _getIterator3.default)(channelIds), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var id = _step.value;\n\n                if (channels.has(id)) {\n                    continue;\n                }\n\n                channels.set(id, _channel_store2.default.get(id));\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n    }\n\n    return {\n        results: results,\n        channels: channels,\n        searchTerm: _search_store2.default.getSearchTerm(),\n        flaggedPosts: _preference_store2.default.getCategory(_constants2.default.Preferences.CATEGORY_FLAGGED_POST),\n        loading: _search_store2.default.isLoading()\n    };\n}\n\nvar SearchResults = function (_React$Component) {\n    (0, _inherits3.default)(SearchResults, _React$Component);\n\n    function SearchResults(props) {\n        (0, _classCallCheck3.default)(this, SearchResults);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SearchResults.__proto__ || (0, _getPrototypeOf2.default)(SearchResults)).call(this, props));\n\n        _this.mounted = false;\n\n        _this.onChange = _this.onChange.bind(_this);\n        _this.onUserChange = _this.onUserChange.bind(_this);\n        _this.onPreferenceChange = _this.onPreferenceChange.bind(_this);\n        _this.onBusy = _this.onBusy.bind(_this);\n        _this.resize = _this.resize.bind(_this);\n        _this.onPreferenceChange = _this.onPreferenceChange.bind(_this);\n        _this.onStatusChange = _this.onStatusChange.bind(_this);\n        _this.handleResize = _this.handleResize.bind(_this);\n\n        var state = getStateFromStores();\n        state.windowWidth = Utils.windowWidth();\n        state.windowHeight = Utils.windowHeight();\n        state.profiles = JSON.parse((0, _stringify2.default)(_user_store2.default.getProfiles()));\n        state.compactDisplay = _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT;\n        state.isBusy = _webrtc_store2.default.isBusy();\n        state.statuses = (0, _assign2.default)({}, _user_store2.default.getStatuses());\n        _this.state = state;\n        return _this;\n    }\n\n    (0, _createClass3.default)(SearchResults, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.mounted = true;\n\n            _search_store2.default.addSearchTermChangeListener(this.onSearchTermChange);\n            _search_store2.default.addSearchChangeListener(this.onChange);\n            _channel_store2.default.addChangeListener(this.onChange);\n            _preference_store2.default.addChangeListener(this.onPreferenceChange);\n            _user_store2.default.addChangeListener(this.onUserChange);\n            _user_store2.default.addStatusesChangeListener(this.onStatusChange);\n            _preference_store2.default.addChangeListener(this.onPreferenceChange);\n            _webrtc_store2.default.addBusyListener(this.onBusy);\n\n            this.resize();\n            window.addEventListener('resize', this.handleResize);\n            if (!Utils.isMobile()) {\n                (0, _jquery2.default)('.sidebar--right .search-items-container').perfectScrollbar();\n            }\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            if (!Utils.areObjectsEqual(nextState.statuses, this.state.statuses)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(this.props, nextProps)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(this.state, nextState)) {\n                return true;\n            }\n\n            if (nextState.compactDisplay !== this.state.compactDisplay) {\n                return true;\n            }\n\n            if (nextState.isBusy !== this.state.isBusy) {\n                return true;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.mounted = false;\n\n            _search_store2.default.removeSearchTermChangeListener(this.onSearchTermChange);\n            _search_store2.default.removeSearchChangeListener(this.onChange);\n            _channel_store2.default.removeChangeListener(this.onChange);\n            _preference_store2.default.removeChangeListener(this.onPreferenceChange);\n            _user_store2.default.removeChangeListener(this.onUserChange);\n            _user_store2.default.removeStatusesChangeListener(this.onStatusChange);\n            _preference_store2.default.removeChangeListener(this.onPreferenceChange);\n            _webrtc_store2.default.removeBusyListener(this.onBusy);\n\n            window.removeEventListener('resize', this.handleResize);\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            if (this.state.searchTerm !== prevState.searchTerm) {\n                this.resize();\n            }\n        }\n    }, {\n        key: 'handleResize',\n        value: function handleResize() {\n            this.setState({\n                windowWidth: Utils.windowWidth(),\n                windowHeight: Utils.windowHeight()\n            });\n        }\n    }, {\n        key: 'onPreferenceChange',\n        value: function onPreferenceChange() {\n            this.setState({\n                compactDisplay: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT,\n                flaggedPosts: _preference_store2.default.getCategory(_constants2.default.Preferences.CATEGORY_FLAGGED_POST)\n            });\n        }\n    }, {\n        key: 'onSearchTermChange',\n        value: function onSearchTermChange(doSearch) {\n            if (this.mounted && doSearch) {\n                this.setState({\n                    loading: true\n                });\n            }\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange() {\n            if (this.mounted) {\n                this.setState(getStateFromStores());\n            }\n        }\n    }, {\n        key: 'onUserChange',\n        value: function onUserChange() {\n            this.setState({ profiles: JSON.parse((0, _stringify2.default)(_user_store2.default.getProfiles())) });\n        }\n    }, {\n        key: 'onBusy',\n        value: function onBusy(isBusy) {\n            this.setState({ isBusy: isBusy });\n        }\n    }, {\n        key: 'onStatusChange',\n        value: function onStatusChange() {\n            this.setState({ statuses: (0, _assign2.default)({}, _user_store2.default.getStatuses()) });\n        }\n    }, {\n        key: 'resize',\n        value: function resize() {\n            (0, _jquery2.default)('#search-items-container').scrollTop(0);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var results = this.state.results;\n            var noResults = !results || !results.order || !results.order.length;\n            var searchTerm = this.state.searchTerm;\n            var profiles = this.state.profiles || {};\n            var flagIcon = _constants2.default.FLAG_ICON_SVG;\n\n            var ctls = null;\n\n            if (this.state.loading) {\n                ctls = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__subheader' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'sidebar--right__loading' },\n                        _react2.default.createElement('i', { className: 'fa fa-spinner fa-spin' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'search_header.loading',\n                            defaultMessage: 'Searching...'\n                        })\n                    )\n                );\n            } else if (this.props.isFlaggedPosts && noResults) {\n                var tips = [_react2.default.createElement(\n                    'li',\n                    { key: 'pin1' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usageFlag1',\n                        defaultMessage: 'You haven\\'t flagged any messages yet.'\n                    })\n                ), _react2.default.createElement(\n                    'li',\n                    { key: 'pin2' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usageFlag2',\n                        defaultMessage: 'You can add a flag to messages and comments by clicking the '\n                    }),\n                    _react2.default.createElement('span', {\n                        className: 'usage__icon',\n                        dangerouslySetInnerHTML: { __html: flagIcon }\n                    }),\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usageFlag3',\n                        defaultMessage: ' icon next to the timestamp.'\n                    })\n                ), _react2.default.createElement(\n                    'li',\n                    { key: 'pin3' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usageFlag4',\n                        defaultMessage: 'Flags are a way to mark messages for follow up. Your flags are personal, and cannot be seen by other users.'\n                    })\n                )];\n\n                if (global.window.mm_config.DataRetentionEnableMessageDeletion === 'true') {\n                    tips.push(_react2.default.createElement(\n                        'li',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'search_results.usage.dataRetention',\n                            defaultMessage: 'Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.',\n                            values: {\n                                days: global.window.mm_config.DataRetentionMessageRetentionDays\n                            }\n                        })\n                    ));\n                }\n\n                ctls = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__subheader' },\n                    _react2.default.createElement(\n                        'ul',\n                        null,\n                        tips\n                    )\n                );\n            } else if (this.props.isPinnedPosts && noResults) {\n                var _tips = [_react2.default.createElement(\n                    'li',\n                    { key: 'pin1' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usagePin1',\n                        defaultMessage: 'There are no pinned messages yet.'\n                    })\n                ), _react2.default.createElement(\n                    'li',\n                    { key: 'pin2' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usagePin2',\n                        defaultMessage: 'All members of this channel can pin important or useful messages.'\n                    })\n                ), _react2.default.createElement(\n                    'li',\n                    { key: 'pin3' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usagePin3',\n                        defaultMessage: 'Pinned messages are visible to all channel members.'\n                    })\n                ), _react2.default.createElement(\n                    'li',\n                    { key: 'pin4' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usagePin4',\n                        defaultMessage: 'To pin a message: Go to the message that you want to pin and click [...] > \"Pin to channel\".'\n                    })\n                )];\n\n                if (global.window.mm_config.DataRetentionEnableMessageDeletion === 'true') {\n                    _tips.push(_react2.default.createElement(\n                        'li',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'search_results.usage.dataRetention',\n                            defaultMessage: 'Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.',\n                            values: {\n                                days: global.window.mm_config.DataRetentionMessageRetentionDays\n                            }\n                        })\n                    ));\n                }\n\n                ctls = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__subheader' },\n                    _react2.default.createElement(\n                        'ul',\n                        null,\n                        _tips\n                    )\n                );\n            } else if (!searchTerm && noResults) {\n                var _tips2 = [_react2.default.createElement(\n                    'li',\n                    { key: 'quotes' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usage.phrasesSuggestion',\n                        defaultMessage: 'Use {quotationMarks} to search for phrases',\n                        values: {\n                            quotationMarks: _react2.default.createElement(\n                                'b',\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'search_results.usage.phrasesSuggestion.quotationMarks',\n                                    defaultMessage: '\"quotation marks\"'\n                                })\n                            )\n                        }\n                    })\n                ), _react2.default.createElement(\n                    'li',\n                    { key: 'fromIn' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.usage.fromInSuggestion',\n                        defaultMessage: 'Use {fromUser} to find posts from specific users and {inChannel} to find posts in specific channels',\n                        values: {\n                            fromUser: _react2.default.createElement(\n                                'b',\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'search_results.usage.fromInSuggestion.fromUser',\n                                    defaultMessage: 'from:'\n                                })\n                            ),\n                            inChannel: _react2.default.createElement(\n                                'b',\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'search_results.usage.fromInSuggestion.inChannel',\n                                    defaultMessage: 'in:'\n                                })\n                            )\n                        }\n                    })\n                )];\n\n                ctls = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__subheader' },\n                    _react2.default.createElement(\n                        'ul',\n                        null,\n                        _tips2\n                    )\n                );\n            } else if (noResults) {\n                var _tips3 = [_react2.default.createElement(\n                    'li',\n                    { key: 'partialPhrase' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.noResults.partialPhraseSuggestion',\n                        defaultMessage: 'If you\\'re searching a partial phrase (ex. searching \"rea\", looking for \"reach\" or \"reaction\"), append a * to your search term.'\n                    })\n                ), _react2.default.createElement(\n                    'li',\n                    { key: 'stopWords' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_results.noResults.stopWordsSuggestion',\n                        defaultMessage: 'Two letter searches and common words like \"this\", \"a\" and \"is\" won\\'t appear in search results due to the excessive results returned.'\n                    })\n                )];\n\n                if (global.window.mm_config.DataRetentionEnableMessageDeletion === 'true') {\n                    _tips3.push(_react2.default.createElement(\n                        'li',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'search_results.usage.dataRetention',\n                            defaultMessage: 'Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.',\n                            values: {\n                                days: global.window.mm_config.DataRetentionMessageRetentionDays\n                            }\n                        })\n                    ));\n                }\n\n                ctls = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__subheader' },\n                    _react2.default.createElement(\n                        'h4',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'search_results.noResults',\n                            defaultMessage: 'No results found. Try again?'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'ul',\n                        null,\n                        _tips3\n                    )\n                );\n            } else {\n                ctls = results.order.map(function searchResults(id, idx, arr) {\n                    var post = results.posts[id];\n                    var profile = void 0;\n                    if (_user_store2.default.getCurrentId() === post.user_id) {\n                        profile = _user_store2.default.getCurrentUser();\n                    } else {\n                        profile = profiles[post.user_id];\n                    }\n\n                    var status = 'offline';\n                    if (this.state.statuses) {\n                        status = this.state.statuses[post.user_id] || 'offline';\n                    }\n\n                    var isFlagged = false;\n                    if (this.state.flaggedPosts) {\n                        isFlagged = this.state.flaggedPosts.get(post.id) != null;\n                    }\n\n                    var reverseCount = arr.length - idx - 1;\n\n                    return _react2.default.createElement(_search_results_item2.default, {\n                        key: post.id,\n                        channel: this.state.channels.get(post.channel_id),\n                        compactDisplay: this.state.compactDisplay,\n                        post: post,\n                        lastPostCount: reverseCount >= 0 && reverseCount < _constants2.default.TEST_ID_COUNT ? reverseCount : -1,\n                        user: profile,\n                        term: searchTerm,\n                        isMentionSearch: this.props.isMentionSearch,\n                        isFlaggedSearch: this.props.isFlaggedPosts,\n                        useMilitaryTime: this.props.useMilitaryTime,\n                        shrink: this.props.shrink,\n                        isFlagged: isFlagged,\n                        isBusy: this.state.isBusy,\n                        status: status\n                    });\n                }, this);\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'sidebar-right__body' },\n                _react2.default.createElement(_search_results_header2.default, {\n                    isMentionSearch: this.props.isMentionSearch,\n                    toggleSize: this.props.toggleSize,\n                    shrink: this.props.shrink,\n                    isFlaggedPosts: this.props.isFlaggedPosts,\n                    isPinnedPosts: this.props.isPinnedPosts,\n                    channelDisplayName: this.props.channelDisplayName,\n                    isLoading: this.state.loading\n                }),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        id: 'search-items-container',\n                        className: 'search-items-container'\n                    },\n                    ctls\n                )\n            );\n        }\n    }]);\n    return SearchResults;\n}(_react2.default.Component);\n\nexports.default = SearchResults;\n\n\nSearchResults.propTypes = {\n    isMentionSearch: _propTypes2.default.bool,\n    useMilitaryTime: _propTypes2.default.bool.isRequired,\n    toggleSize: _propTypes2.default.func,\n    shrink: _propTypes2.default.func,\n    isFlaggedPosts: _propTypes2.default.bool,\n    isPinnedPosts: _propTypes2.default.bool,\n    channelDisplayName: _propTypes2.default.string.isRequired\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2433:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(40);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SearchResultsHeader = function (_React$Component) {\n    (0, _inherits3.default)(SearchResultsHeader, _React$Component);\n\n    function SearchResultsHeader(props) {\n        (0, _classCallCheck3.default)(this, SearchResultsHeader);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SearchResultsHeader.__proto__ || (0, _getPrototypeOf2.default)(SearchResultsHeader)).call(this, props));\n\n        _this.handleClose = _this.handleClose.bind(_this);\n        _this.toggleSize = _this.toggleSize.bind(_this);\n        return _this;\n    }\n\n    (0, _createClass3.default)(SearchResultsHeader, [{\n        key: 'handleClose',\n        value: function handleClose(e) {\n            e.preventDefault();\n\n            GlobalActions.toggleSideBarAction(false);\n\n            this.props.shrink();\n        }\n    }, {\n        key: 'toggleSize',\n        value: function toggleSize(e) {\n            e.preventDefault();\n            this.props.toggleSize();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'search_header.results',\n                defaultMessage: 'Search Results'\n            });\n\n            var closeSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'closeSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.closeSidebarTooltip',\n                    defaultMessage: 'Close Sidebar'\n                })\n            );\n\n            var expandSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'expandSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.expandSidebarTooltip',\n                    defaultMessage: 'Expand Sidebar'\n                })\n            );\n\n            var shrinkSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'shrinkSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.shrinkSidebarTooltip',\n                    defaultMessage: 'Shrink Sidebar'\n                })\n            );\n\n            if (this.props.isMentionSearch) {\n                title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'search_header.title2',\n                    defaultMessage: 'Recent Mentions'\n                });\n            } else if (this.props.isFlaggedPosts) {\n                title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'search_header.title3',\n                    defaultMessage: 'Flagged Posts'\n                });\n            } else if (this.props.isPinnedPosts) {\n                title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'search_header.title4',\n                    defaultMessage: 'Pinned posts in {channelDisplayName}',\n                    values: {\n                        channelDisplayName: this.props.channelDisplayName\n                    }\n                });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'sidebar--right__header' },\n                _react2.default.createElement(\n                    'span',\n                    { className: 'sidebar--right__title' },\n                    title\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'pull-right' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'sidebar--right__expand',\n                            'aria-label': 'Expand',\n                            onClick: this.toggleSize\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                trigger: ['hover', 'focus'],\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: expandSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-expand' })\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                trigger: ['hover', 'focus'],\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: shrinkSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-compress' })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'sidebar--right__close',\n                            'aria-label': 'Close',\n                            title: 'Close',\n                            onClick: this.handleClose\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                trigger: ['hover', 'focus'],\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: closeSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-sign-out' })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return SearchResultsHeader;\n}(_react2.default.Component);\n\nexports.default = SearchResultsHeader;\n\n\nSearchResultsHeader.propTypes = {\n    isMentionSearch: _propTypes2.default.bool,\n    toggleSize: _propTypes2.default.func,\n    shrink: _propTypes2.default.func,\n    isFlaggedPosts: _propTypes2.default.bool,\n    isPinnedPosts: _propTypes2.default.bool,\n    channelDisplayName: _propTypes2.default.string.isRequired,\n    isLoading: _propTypes2.default.bool.isRequired\n};\n\n/***/ }),\n\n/***/ 2434:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _es = __webpack_require__(44);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _post_message_view = __webpack_require__(746);\n\nvar _post_message_view2 = _interopRequireDefault(_post_message_view);\n\nvar _file_attachment_list = __webpack_require__(744);\n\nvar _file_attachment_list2 = _interopRequireDefault(_file_attachment_list);\n\nvar _comment_icon = __webpack_require__(789);\n\nvar _comment_icon2 = _interopRequireDefault(_comment_icon);\n\nvar _dot_menu = __webpack_require__(743);\n\nvar _dot_menu2 = _interopRequireDefault(_dot_menu);\n\nvar _post_flag_icon = __webpack_require__(745);\n\nvar _post_flag_icon2 = _interopRequireDefault(_post_flag_icon);\n\nvar _team_store = __webpack_require__(35);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _post_utils = __webpack_require__(94);\n\nvar PostUtils = _interopRequireWildcard(_post_utils);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _profile_picture = __webpack_require__(181);\n\nvar _profile_picture2 = _interopRequireDefault(_profile_picture);\n\nvar _user_profile = __webpack_require__(442);\n\nvar _user_profile2 = _interopRequireDefault(_user_profile);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SearchResultsItem = function (_React$Component) {\n    (0, _inherits3.default)(SearchResultsItem, _React$Component);\n\n    function SearchResultsItem(props) {\n        (0, _classCallCheck3.default)(this, SearchResultsItem);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SearchResultsItem.__proto__ || (0, _getPrototypeOf2.default)(SearchResultsItem)).call(this, props));\n\n        _this.handleDropdownOpened = function (isOpened) {\n            _this.setState({\n                dropdownOpened: isOpened\n            });\n        };\n\n        _this.getClassName = function () {\n            var className = 'post post--thread';\n\n            if (_this.props.compactDisplay) {\n                className += ' post--compact';\n            }\n\n            if (_this.state.dropdownOpened) {\n                className += ' post--hovered';\n            }\n\n            return className;\n        };\n\n        _this.handleFocusRHSClick = _this.handleFocusRHSClick.bind(_this);\n        _this.handleJumpClick = _this.handleJumpClick.bind(_this);\n        _this.handleDropdownOpened = _this.handleDropdownOpened.bind(_this);\n        _this.shrinkSidebar = _this.shrinkSidebar.bind(_this);\n\n        _this.state = {\n            currentTeamDisplayName: _team_store2.default.getCurrent().name,\n            width: '',\n            height: '',\n            dropdownOpened: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SearchResultsItem, [{\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            if (!Utils.areObjectsEqual(nextState.post, this.props.post)) {\n                return true;\n            }\n\n            if (nextProps.isFlagged !== this.props.isFlagged) {\n                return true;\n            }\n\n            if (nextState.dropdownOpened !== this.state.dropdownOpened) {\n                return true;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            window.addEventListener('resize', function () {\n                Utils.updateWindowDimensions(_this2);\n            });\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            var _this3 = this;\n\n            window.removeEventListener('resize', function () {\n                Utils.updateWindowDimensions(_this3);\n            });\n        }\n    }, {\n        key: 'shrinkSidebar',\n        value: function shrinkSidebar() {\n            var _this4 = this;\n\n            setTimeout(function () {\n                _this4.props.shrink();\n            });\n        }\n    }, {\n        key: 'handleFocusRHSClick',\n        value: function handleFocusRHSClick(e) {\n            e.preventDefault();\n            GlobalActions.emitPostFocusRightHandSideFromSearch(this.props.post, this.props.isMentionSearch);\n        }\n    }, {\n        key: 'handleJumpClick',\n        value: function handleJumpClick() {\n            if (Utils.isMobile()) {\n                GlobalActions.toggleSideBarAction(false);\n            }\n\n            this.shrinkSidebar();\n            _es.browserHistory.push(_team_store2.default.getCurrentTeamRelativeUrl() + '/pl/' + this.props.post.id);\n        }\n    }, {\n        key: 'timeTag',\n        value: function timeTag(post) {\n            var date = Utils.getDateForUnixTicks(post.create_at);\n\n            return _react2.default.createElement(\n                'time',\n                {\n                    className: 'search-item-time',\n                    dateTime: date.toISOString(),\n                    title: date\n                },\n                _react2.default.createElement(_reactIntl.FormattedDate, {\n                    value: post.create_at,\n                    hour12: !this.props.useMilitaryTime,\n                    hour: '2-digit',\n                    minute: '2-digit'\n                })\n            );\n        }\n    }, {\n        key: 'renderTimeTag',\n        value: function renderTimeTag(post) {\n            return Utils.isMobile() ? this.timeTag(post) : _react2.default.createElement(\n                _es.Link,\n                {\n                    to: '/' + this.state.currentTeamDisplayName + '/pl/' + post.id,\n                    target: '_blank',\n                    className: 'post__permalink'\n                },\n                this.timeTag(post)\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var channelName = null;\n            var channel = this.props.channel;\n            var user = this.props.user || {};\n            var post = this.props.post;\n\n            var idCount = -1;\n            if (this.props.lastPostCount >= 0 && this.props.lastPostCount < _constants2.default.TEST_ID_COUNT) {\n                idCount = this.props.lastPostCount;\n            }\n\n            if (channel) {\n                channelName = channel.display_name;\n                if (channel.type === 'D') {\n                    channelName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_item.direct',\n                        defaultMessage: 'Direct Message (with {username})',\n                        values: {\n                            username: Utils.displayUsernameForUser(Utils.getDirectTeammate(channel.id))\n                        }\n                    });\n                }\n            }\n\n            var overrideUsername = void 0;\n            var disableProfilePopover = false;\n            if (post.props && post.props.from_webhook && post.props.override_username && global.window.mm_config.EnablePostUsernameOverride === 'true') {\n                overrideUsername = post.props.override_username;\n                disableProfilePopover = true;\n            }\n\n            var botIndicator = void 0;\n            if (post.props && post.props.from_webhook) {\n                botIndicator = _react2.default.createElement(\n                    'div',\n                    { className: 'bot-indicator' },\n                    _constants2.default.BOT_NAME\n                );\n            }\n\n            var profilePic = _react2.default.createElement(_profile_picture2.default, {\n                src: PostUtils.getProfilePicSrcForPost(post, user),\n                user: this.props.user,\n                status: this.props.status,\n                isBusy: this.props.isBusy\n            });\n\n            var profilePicContainer = _react2.default.createElement(\n                'div',\n                { className: 'post__img' },\n                profilePic\n            );\n\n            var postClass = '';\n            if (PostUtils.isEdited(this.props.post)) {\n                postClass += ' post--edited';\n            }\n\n            var fileAttachment = null;\n            if (post.file_ids && post.file_ids.length > 0) {\n                fileAttachment = _react2.default.createElement(_file_attachment_list2.default, {\n                    post: post,\n                    compactDisplay: this.props.compactDisplay\n                });\n            }\n\n            var message = void 0;\n            var flagContent = void 0;\n            var rhsControls = void 0;\n            if (post.state === _constants2.default.POST_DELETED) {\n                message = _react2.default.createElement(\n                    'p',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_body.deleted',\n                        defaultMessage: '(message deleted)'\n                    })\n                );\n            } else {\n                flagContent = _react2.default.createElement(_post_flag_icon2.default, {\n                    idPrefix: 'searchPostFlag',\n                    idCount: idCount,\n                    postId: post.id,\n                    isFlagged: this.props.isFlagged\n                });\n\n                rhsControls = _react2.default.createElement(\n                    'div',\n                    { className: 'col__controls' },\n                    _react2.default.createElement(_dot_menu2.default, {\n                        idPrefix: _constants2.default.SEARCH_POST,\n                        idCount: idCount,\n                        post: post,\n                        isFlagged: this.props.isFlagged,\n                        handleDropdownOpened: this.handleDropdownOpened\n                    }),\n                    _react2.default.createElement(_comment_icon2.default, {\n                        idPrefix: 'searchCommentIcon',\n                        idCount: idCount,\n                        handleCommentClick: this.handleFocusRHSClick,\n                        searchStyle: 'search-item__comment'\n                    }),\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            onClick: this.handleJumpClick,\n                            className: 'search-item__jump'\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'search_item.jump',\n                            defaultMessage: 'Jump'\n                        })\n                    )\n                );\n\n                message = _react2.default.createElement(_post_message_view2.default, {\n                    post: post,\n                    options: {\n                        searchTerm: this.props.term,\n                        mentionHighlight: this.props.isMentionSearch\n                    }\n                });\n            }\n\n            var pinnedBadge = void 0;\n            if (post.is_pinned) {\n                pinnedBadge = _react2.default.createElement(\n                    'span',\n                    { className: 'post__pinned-badge' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.pinned',\n                        defaultMessage: 'Pinned'\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'search-item__container' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'date-separator' },\n                    _react2.default.createElement('hr', { className: 'separator__hr' }),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'separator__text' },\n                        _react2.default.createElement(_reactIntl.FormattedDate, {\n                            value: post.create_at,\n                            day: 'numeric',\n                            month: 'long',\n                            year: 'numeric'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: this.getClassName() },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'search-channel__name' },\n                        channelName\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'post__content' },\n                        profilePicContainer,\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'post__header' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col col__name' },\n                                    _react2.default.createElement(\n                                        'strong',\n                                        null,\n                                        _react2.default.createElement(_user_profile2.default, {\n                                            user: user,\n                                            overwriteName: overrideUsername,\n                                            disablePopover: disableProfilePopover,\n                                            status: this.props.status,\n                                            isBusy: this.props.isBusy\n                                        })\n                                    )\n                                ),\n                                botIndicator,\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col' },\n                                    this.renderTimeTag(post),\n                                    pinnedBadge,\n                                    flagContent\n                                ),\n                                rhsControls\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'search-item-snippet post__body' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: postClass },\n                                    message,\n                                    fileAttachment\n                                )\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return SearchResultsItem;\n}(_react2.default.Component);\n\nexports.default = SearchResultsItem;\n\n\nSearchResultsItem.propTypes = {\n    post: _propTypes2.default.object,\n    lastPostCount: _propTypes2.default.number,\n    user: _propTypes2.default.object,\n    channel: _propTypes2.default.object,\n    compactDisplay: _propTypes2.default.bool,\n    isMentionSearch: _propTypes2.default.bool,\n    isFlaggedSearch: _propTypes2.default.bool,\n    term: _propTypes2.default.string,\n    useMilitaryTime: _propTypes2.default.bool.isRequired,\n    shrink: _propTypes2.default.func,\n    isFlagged: _propTypes2.default.bool,\n    isBusy: _propTypes2.default.bool,\n    status: _propTypes2.default.string\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2435:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _es = __webpack_require__(44);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _post_actions = __webpack_require__(73);\n\nvar _preference_store = __webpack_require__(119);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _search_store = __webpack_require__(313);\n\nvar _search_store2 = _interopRequireDefault(_search_store);\n\nvar _team_store = __webpack_require__(35);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(436);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _url = __webpack_require__(78);\n\nvar _user_agent = __webpack_require__(87);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _about_build_modal = __webpack_require__(2090);\n\nvar _about_build_modal2 = _interopRequireDefault(_about_build_modal);\n\nvar _add_users_to_team = __webpack_require__(2097);\n\nvar _add_users_to_team2 = _interopRequireDefault(_add_users_to_team);\n\nvar _tutorial_tip = __webpack_require__(742);\n\nvar _team_members_modal = __webpack_require__(754);\n\nvar _team_members_modal2 = _interopRequireDefault(_team_members_modal);\n\nvar _toggle_modal_button = __webpack_require__(441);\n\nvar _toggle_modal_button2 = _interopRequireDefault(_toggle_modal_button);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar Preferences = _constants.Constants.Preferences;\nvar TutorialSteps = _constants.Constants.TutorialSteps;\n\nvar SidebarRightMenu = function (_React$Component) {\n    (0, _inherits3.default)(SidebarRightMenu, _React$Component);\n\n    function SidebarRightMenu(props) {\n        (0, _classCallCheck3.default)(this, SidebarRightMenu);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SidebarRightMenu.__proto__ || (0, _getPrototypeOf2.default)(SidebarRightMenu)).call(this, props));\n\n        _this.onChange = _this.onChange.bind(_this);\n        _this.handleClick = _this.handleClick.bind(_this);\n        _this.handleAboutModal = _this.handleAboutModal.bind(_this);\n        _this.showAddUsersToTeamModal = _this.showAddUsersToTeamModal.bind(_this);\n        _this.hideAddUsersToTeamModal = _this.hideAddUsersToTeamModal.bind(_this);\n        _this.searchMentions = _this.searchMentions.bind(_this);\n        _this.aboutModalDismissed = _this.aboutModalDismissed.bind(_this);\n        _this.getFlagged = _this.getFlagged.bind(_this);\n\n        var state = _this.getStateFromStores();\n        state.showAboutModal = false;\n        state.showAddUsersToTeamModal = false;\n\n        _this.state = state;\n        return _this;\n    }\n\n    (0, _createClass3.default)(SidebarRightMenu, [{\n        key: 'handleClick',\n        value: function handleClick(e) {\n            if (_webrtc_store2.default.isBusy()) {\n                _webrtc_store2.default.emitChanged({ action: _constants.WebrtcActionTypes.IN_PROGRESS });\n                e.preventDefault();\n            }\n        }\n    }, {\n        key: 'handleAboutModal',\n        value: function handleAboutModal() {\n            this.setState({ showAboutModal: true });\n        }\n    }, {\n        key: 'aboutModalDismissed',\n        value: function aboutModalDismissed() {\n            this.setState({ showAboutModal: false });\n        }\n    }, {\n        key: 'showAddUsersToTeamModal',\n        value: function showAddUsersToTeamModal(e) {\n            e.preventDefault();\n\n            this.setState({\n                showAddUsersToTeamModal: true,\n                showDropdown: false\n            });\n        }\n    }, {\n        key: 'hideAddUsersToTeamModal',\n        value: function hideAddUsersToTeamModal() {\n            this.setState({\n                showAddUsersToTeamModal: false\n            });\n        }\n    }, {\n        key: 'getFlagged',\n        value: function getFlagged(e) {\n            e.preventDefault();\n            (0, _post_actions.getFlaggedPosts)();\n            this.closeRightSidebar();\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _team_store2.default.addChangeListener(this.onChange);\n            _preference_store2.default.addChangeListener(this.onChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _team_store2.default.removeChangeListener(this.onChange);\n            _preference_store2.default.removeChangeListener(this.onChange);\n        }\n    }, {\n        key: 'getStateFromStores',\n        value: function getStateFromStores() {\n            var tutorialStep = _preference_store2.default.getInt(Preferences.TUTORIAL_STEP, _user_store2.default.getCurrentId(), 999);\n\n            return {\n                currentUser: _user_store2.default.getCurrentUser(),\n                teamMembers: _team_store2.default.getMyTeamMembers(),\n                teamListings: _team_store2.default.getTeamListings(),\n                showTutorialTip: tutorialStep === TutorialSteps.MENU_POPOVER && Utils.isMobile()\n            };\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange() {\n            this.setState(this.getStateFromStores());\n        }\n    }, {\n        key: 'searchMentions',\n        value: function searchMentions(e) {\n            e.preventDefault();\n            var user = this.state.currentUser;\n\n            if (_search_store2.default.isMentionSearch) {\n                GlobalActions.toggleSideBarAction(false);\n            } else {\n                this.closeRightSidebar();\n                GlobalActions.emitSearchMentionsEvent(user);\n            }\n        }\n    }, {\n        key: 'closeLeftSidebar',\n        value: function closeLeftSidebar() {\n            if (Utils.isMobile()) {\n                setTimeout(function () {\n                    document.querySelector('.app__body .inner-wrap').classList.remove('move--right');\n                    document.querySelector('.app__body .sidebar--left').classList.remove('move--right');\n                });\n            }\n        }\n    }, {\n        key: 'openRightSidebar',\n        value: function openRightSidebar() {\n            if (Utils.isMobile()) {\n                setTimeout(function () {\n                    document.querySelector('.app__body .inner-wrap').classList.add('move--left-small');\n                    document.querySelector('.app__body .sidebar--menu').classList.add('move--left');\n                });\n            }\n        }\n    }, {\n        key: 'closeRightSidebar',\n        value: function closeRightSidebar() {\n            if (Utils.isMobile()) {\n                setTimeout(function () {\n                    document.querySelector('.app__body .inner-wrap').classList.remove('move--left-small');\n                    document.querySelector('.app__body .sidebar--menu').classList.remove('move--left');\n                });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var currentUser = _user_store2.default.getCurrentUser();\n            var teamLink = void 0;\n            var inviteLink = void 0;\n            var addUserToTeamLink = void 0;\n            var teamSettingsLink = void 0;\n            var manageLink = void 0;\n            var consoleLink = void 0;\n            var joinAnotherTeamLink = void 0;\n            var isAdmin = false;\n            var isSystemAdmin = false;\n            var createTeam = null;\n\n            if (currentUser != null) {\n                isAdmin = _team_store2.default.isTeamAdminForCurrentTeam() || _user_store2.default.isSystemAdminForCurrentUser();\n                isSystemAdmin = _user_store2.default.isSystemAdminForCurrentUser();\n\n                inviteLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            onClick: GlobalActions.showInviteMemberModal\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-user-plus' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.inviteNew',\n                            defaultMessage: 'Send Email Invite'\n                        })\n                    )\n                );\n\n                addUserToTeamLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            id: 'addUsersToTeam',\n                            href: '#',\n                            onClick: this.showAddUsersToTeamModal\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-user-plus' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.addMemberToTeam',\n                            defaultMessage: 'Add Members to Team'\n                        })\n                    )\n                );\n\n                if (this.props.teamType === _constants.Constants.OPEN_TEAM && global.mm_config.EnableUserCreation === 'true') {\n                    teamLink = _react2.default.createElement(\n                        'li',\n                        null,\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                onClick: GlobalActions.showGetTeamInviteLinkModal\n                            },\n                            _react2.default.createElement('i', { className: 'icon fa fa-link' }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'sidebar_right_menu.teamLink',\n                                defaultMessage: 'Get Team Invite Link'\n                            })\n                        )\n                    );\n                }\n\n                if (global.window.mm_license.IsLicensed === 'true') {\n                    if (global.window.mm_config.RestrictTeamInvite === _constants.Constants.PERMISSIONS_SYSTEM_ADMIN && !isSystemAdmin) {\n                        teamLink = null;\n                        inviteLink = null;\n                        addUserToTeamLink = null;\n                    } else if (global.window.mm_config.RestrictTeamInvite === _constants.Constants.PERMISSIONS_TEAM_ADMIN && !isAdmin) {\n                        teamLink = null;\n                        inviteLink = null;\n                        addUserToTeamLink = null;\n                    }\n                }\n\n                var moreTeams = false;\n                var isAlreadyMember = this.state.teamMembers.reduce(function (result, item) {\n                    result[item.team_id] = true;\n                    return result;\n                }, {});\n\n                for (var id in this.state.teamListings) {\n                    if (this.state.teamListings.hasOwnProperty(id) && !isAlreadyMember[id]) {\n                        moreTeams = true;\n                        break;\n                    }\n                }\n\n                if (moreTeams) {\n                    joinAnotherTeamLink = _react2.default.createElement(\n                        'li',\n                        { key: 'joinTeam_li' },\n                        _react2.default.createElement(\n                            _es.Link,\n                            { to: '/select_team' },\n                            _react2.default.createElement('i', { className: 'icon fa fa-plus-square' }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar_dropdown.join',\n                                defaultMessage: 'Join Another Team'\n                            })\n                        )\n                    );\n                }\n\n                if (global.window.mm_config.EnableTeamCreation === 'true' || isSystemAdmin) {\n                    createTeam = _react2.default.createElement(\n                        'li',\n                        { key: 'newTeam_li' },\n                        _react2.default.createElement(\n                            _es.Link,\n                            {\n                                id: 'createTeam',\n                                key: 'newTeam_a',\n                                to: '/create_team',\n                                onClick: this.handleClick\n                            },\n                            _react2.default.createElement('i', { className: 'icon fa fa-plus-square' }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar_dropdown.create',\n                                defaultMessage: 'Create a New Team'\n                            })\n                        )\n                    );\n                }\n            }\n\n            manageLink = _react2.default.createElement(\n                'li',\n                null,\n                _react2.default.createElement(\n                    _toggle_modal_button2.default,\n                    { dialogType: _team_members_modal2.default },\n                    _react2.default.createElement('i', { className: 'icon fa fa-users' }),\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'sidebar_right_menu.viewMembers',\n                        defaultMessage: 'View Members'\n                    })\n                )\n            );\n\n            var leaveTeam = _react2.default.createElement(\n                'li',\n                { key: 'leaveTeam_li' },\n                _react2.default.createElement(\n                    'a',\n                    {\n                        id: 'leaveTeam',\n                        href: '#',\n                        onClick: GlobalActions.showLeaveTeamModal\n                    },\n                    _react2.default.createElement('span', {\n                        className: 'icon',\n                        dangerouslySetInnerHTML: { __html: _constants.Constants.LEAVE_TEAM_SVG }\n                    }),\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'navbar_dropdown.leave',\n                        defaultMessage: 'Leave Team'\n                    })\n                )\n            );\n\n            if (isAdmin) {\n                teamSettingsLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            'data-toggle': 'modal',\n                            'data-target': '#team_settings'\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-globe' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.teamSettings',\n                            defaultMessage: 'Team Settings'\n                        })\n                    )\n                );\n                manageLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _toggle_modal_button2.default,\n                        {\n                            dialogType: _team_members_modal2.default,\n                            dialogProps: { isAdmin: isAdmin }\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-users' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.manageMembers',\n                            defaultMessage: 'Manage Members'\n                        })\n                    )\n                );\n            }\n\n            if (isSystemAdmin && !Utils.isMobile()) {\n                consoleLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            to: '/admin_console',\n                            onClick: this.handleClick\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-wrench' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.console',\n                            defaultMessage: 'System Console'\n                        })\n                    )\n                );\n            }\n\n            var siteName = '';\n            if (global.window.mm_config.SiteName != null) {\n                siteName = global.window.mm_config.SiteName;\n            }\n            var teamDisplayName = siteName;\n            if (this.props.teamDisplayName) {\n                teamDisplayName = this.props.teamDisplayName;\n            }\n\n            var helpLink = null;\n            if (global.window.mm_config.HelpLink) {\n                helpLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            target: '_blank',\n                            rel: 'noopener noreferrer',\n                            to: global.window.mm_config.HelpLink\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-question' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.help',\n                            defaultMessage: 'Help'\n                        })\n                    )\n                );\n            }\n\n            var reportLink = null;\n            if (global.window.mm_config.ReportAProblemLink) {\n                reportLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            target: '_blank',\n                            rel: 'noopener noreferrer',\n                            to: global.window.mm_config.ReportAProblemLink\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-phone' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.report',\n                            defaultMessage: 'Report a Problem'\n                        })\n                    )\n                );\n            }\n\n            var tutorialTip = null;\n            if (this.state.showTutorialTip) {\n                tutorialTip = (0, _tutorial_tip.createMenuTip)(function (e) {\n                    return e.preventDefault();\n                }, true);\n                this.closeLeftSidebar();\n                this.openRightSidebar();\n            }\n\n            var nativeAppLink = null;\n            if (global.window.mm_config.AppDownloadLink && !UserAgent.isMobileApp()) {\n                nativeAppLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            target: '_blank',\n                            rel: 'noopener noreferrer',\n                            to: (0, _url.useSafeUrl)(global.window.mm_config.AppDownloadLink)\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-mobile' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.nativeApps',\n                            defaultMessage: 'Download Apps'\n                        })\n                    )\n                );\n            }\n\n            var addUsersToTeamModal = void 0;\n            if (this.state.showAddUsersToTeamModal) {\n                addUsersToTeamModal = _react2.default.createElement(_add_users_to_team2.default, {\n                    onModalDismissed: this.hideAddUsersToTeamModal\n                });\n            }\n\n            var teamDivider = null;\n            if (teamSettingsLink || manageLink || joinAnotherTeamLink || createTeam || leaveTeam) {\n                teamDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            var consoleDivider = null;\n            if (consoleLink) {\n                consoleDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'sidebar--menu',\n                    id: 'sidebar-menu'\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'team__header theme' },\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            className: 'team__name',\n                            to: '/channels/town-square'\n                        },\n                        teamDisplayName\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'nav-pills__container' },\n                    tutorialTip,\n                    _react2.default.createElement(\n                        'ul',\n                        { className: 'nav nav-pills nav-stacked' },\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    href: '#',\n                                    onClick: this.searchMentions\n                                },\n                                _react2.default.createElement(\n                                    'i',\n                                    { className: 'icon mentions' },\n                                    '@'\n                                ),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar_right_menu.recentMentions',\n                                    defaultMessage: 'Recent Mentions'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    href: '#',\n                                    onClick: this.getFlagged\n                                },\n                                _react2.default.createElement('i', { className: 'icon fa fa-flag' }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar_right_menu.flagged',\n                                    defaultMessage: 'Flagged Posts'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement('li', { className: 'divider' }),\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    href: '#',\n                                    onClick: function onClick() {\n                                        return GlobalActions.showAccountSettingsModal();\n                                    }\n                                },\n                                _react2.default.createElement('i', { className: 'icon fa fa-cog' }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar_right_menu.accountSettings',\n                                    defaultMessage: 'Account Settings'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement('li', { className: 'divider' }),\n                        inviteLink,\n                        teamLink,\n                        addUserToTeamLink,\n                        teamDivider,\n                        teamSettingsLink,\n                        manageLink,\n                        createTeam,\n                        joinAnotherTeamLink,\n                        leaveTeam,\n                        consoleDivider,\n                        consoleLink,\n                        _react2.default.createElement('li', { className: 'divider' }),\n                        helpLink,\n                        reportLink,\n                        nativeAppLink,\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    href: '#',\n                                    onClick: this.handleAboutModal\n                                },\n                                _react2.default.createElement('i', { className: 'icon fa fa-info' }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'navbar_dropdown.about',\n                                    defaultMessage: 'About Mattermost'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement('li', { className: 'divider' }),\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    href: '#',\n                                    onClick: function onClick() {\n                                        return GlobalActions.emitUserLoggedOutEvent();\n                                    }\n                                },\n                                _react2.default.createElement('i', { className: 'icon fa fa-sign-out' }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar_right_menu.logout',\n                                    defaultMessage: 'Logout'\n                                })\n                            )\n                        )\n                    )\n                ),\n                _react2.default.createElement(_about_build_modal2.default, {\n                    show: this.state.showAboutModal,\n                    onModalDismissed: this.aboutModalDismissed\n                }),\n                addUsersToTeamModal\n            );\n        }\n    }]);\n    return SidebarRightMenu;\n}(_react2.default.Component);\n\nexports.default = SidebarRightMenu;\n\n\nSidebarRightMenu.propTypes = {\n    teamType: _propTypes2.default.string,\n    teamDisplayName: _propTypes2.default.string\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2436:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(47);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _settings_sidebar = __webpack_require__(2197);\n\nvar _settings_sidebar2 = _interopRequireDefault(_settings_sidebar);\n\nvar _team_settings = __webpack_require__(2437);\n\nvar _team_settings2 = _interopRequireDefault(_team_settings);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar holders = (0, _reactIntl.defineMessages)({\n    generalTab: {\n        id: 'team_settings_modal.generalTab',\n        defaultMessage: 'General'\n    },\n    importTab: {\n        id: 'team_settings_modal.importTab',\n        defaultMessage: 'Import'\n    }\n}); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar TeamSettingsModal = function (_React$Component) {\n    (0, _inherits3.default)(TeamSettingsModal, _React$Component);\n\n    function TeamSettingsModal(props) {\n        (0, _classCallCheck3.default)(this, TeamSettingsModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (TeamSettingsModal.__proto__ || (0, _getPrototypeOf2.default)(TeamSettingsModal)).call(this, props));\n\n        _this.updateTab = _this.updateTab.bind(_this);\n        _this.updateSection = _this.updateSection.bind(_this);\n\n        _this.state = {\n            activeTab: 'general',\n            activeSection: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(TeamSettingsModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var modal = (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs.modal));\n\n            modal.on('click', '.modal-back', function handleBackClick() {\n                (0, _jquery2.default)(this).closest('.modal-dialog').removeClass('display--content');\n                (0, _jquery2.default)(this).closest('.modal-dialog').find('.settings-table .nav li.active').removeClass('active');\n            });\n            modal.on('click', '.modal-header .close', function () {\n                setTimeout(function () {\n                    (0, _jquery2.default)('.modal-dialog.display--content').removeClass('display--content');\n                }, 500);\n            });\n\n            if (!Utils.isMobile()) {\n                (0, _jquery2.default)('.settings-modal .settings-content').perfectScrollbar();\n            }\n        }\n    }, {\n        key: 'updateTab',\n        value: function updateTab(tab) {\n            this.setState({ activeTab: tab, activeSection: '' });\n            if (!Utils.isMobile()) {\n                (0, _jquery2.default)('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n            }\n        }\n    }, {\n        key: 'updateSection',\n        value: function updateSection(section) {\n            if ((0, _jquery2.default)('.section-max').length) {\n                (0, _jquery2.default)('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n            }\n            this.setState({ activeSection: section });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var formatMessage = this.props.intl.formatMessage;\n\n            var tabs = [];\n            tabs.push({ name: 'general', uiName: formatMessage(holders.generalTab), icon: 'icon fa fa-cog' });\n            tabs.push({ name: 'import', uiName: formatMessage(holders.importTab), icon: 'icon fa fa-upload' });\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'modal fade',\n                    ref: 'modal',\n                    id: 'team_settings',\n                    role: 'dialog',\n                    tabIndex: '-1',\n                    'aria-hidden': 'true'\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-dialog settings-modal' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'modal-content' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-header' },\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'close',\n                                    'data-dismiss': 'modal',\n                                    'aria-label': 'Close'\n                                },\n                                _react2.default.createElement(\n                                    'span',\n                                    { 'aria-hidden': 'true' },\n                                    '×'\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'h4',\n                                {\n                                    className: 'modal-title',\n                                    ref: 'title'\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'team_settings_modal.title',\n                                    defaultMessage: 'Team Settings'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-body settings-modal__body' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'settings-table' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'settings-links' },\n                                    _react2.default.createElement(_settings_sidebar2.default, {\n                                        tabs: tabs,\n                                        activeTab: this.state.activeTab,\n                                        updateTab: this.updateTab\n                                    })\n                                ),\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'settings-content minimize-settings' },\n                                    _react2.default.createElement(_team_settings2.default, {\n                                        activeTab: this.state.activeTab,\n                                        activeSection: this.state.activeSection,\n                                        updateSection: this.updateSection\n                                    })\n                                )\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return TeamSettingsModal;\n}(_react2.default.Component);\n\nTeamSettingsModal.propTypes = {\n    intl: _reactIntl.intlShape.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(TeamSettingsModal);\n\n/***/ }),\n\n/***/ 2437:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _team_store = __webpack_require__(35);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _team_general_tab = __webpack_require__(2438);\n\nvar _team_general_tab2 = _interopRequireDefault(_team_general_tab);\n\nvar _team_import_tab = __webpack_require__(2439);\n\nvar _team_import_tab2 = _interopRequireDefault(_team_import_tab);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar TeamSettings = function (_React$Component) {\n    (0, _inherits3.default)(TeamSettings, _React$Component);\n\n    function TeamSettings(props) {\n        (0, _classCallCheck3.default)(this, TeamSettings);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (TeamSettings.__proto__ || (0, _getPrototypeOf2.default)(TeamSettings)).call(this, props));\n\n        _this.onChange = _this.onChange.bind(_this);\n\n        _this.state = { team: _team_store2.default.getCurrent() };\n        return _this;\n    }\n\n    (0, _createClass3.default)(TeamSettings, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _team_store2.default.addChangeListener(this.onChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _team_store2.default.removeChangeListener(this.onChange);\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange() {\n            var team = _team_store2.default.getCurrent();\n\n            if (!Utils.areObjectsEqual(this.state.team, team)) {\n                this.setState({ team: team });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.state.team) {\n                return null;\n            }\n            var result;\n            switch (this.props.activeTab) {\n                case 'general':\n                    result = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(_team_general_tab2.default, {\n                            team: this.state.team,\n                            activeSection: this.props.activeSection,\n                            updateSection: this.props.updateSection\n                        })\n                    );\n                    break;\n                case 'import':\n                    result = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(_team_import_tab2.default, {\n                            team: this.state.team,\n                            activeSection: this.props.activeSection,\n                            updateSection: this.props.updateSection\n                        })\n                    );\n                    break;\n                default:\n                    result = _react2.default.createElement('div', null);\n                    break;\n            }\n            return result;\n        }\n    }]);\n    return TeamSettings;\n}(_react2.default.Component);\n\nexports.default = TeamSettings;\n\n\nTeamSettings.defaultProps = {\n    activeTab: '',\n    activeSection: ''\n};\n\nTeamSettings.propTypes = {\n    activeTab: _propTypes2.default.string.isRequired,\n    activeSection: _propTypes2.default.string.isRequired,\n    updateSection: _propTypes2.default.func.isRequired\n};\n\n/***/ }),\n\n/***/ 2438:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _team_actions = __webpack_require__(435);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _setting_item_max = __webpack_require__(736);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(737);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GeneralTab = function (_React$Component) {\n    (0, _inherits3.default)(GeneralTab, _React$Component);\n\n    function GeneralTab(props) {\n        (0, _classCallCheck3.default)(this, GeneralTab);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GeneralTab.__proto__ || (0, _getPrototypeOf2.default)(GeneralTab)).call(this, props));\n\n        _this.updateSection = _this.updateSection.bind(_this);\n        _this.handleNameSubmit = _this.handleNameSubmit.bind(_this);\n        _this.handleInviteIdSubmit = _this.handleInviteIdSubmit.bind(_this);\n        _this.handleOpenInviteSubmit = _this.handleOpenInviteSubmit.bind(_this);\n        _this.handleDescriptionSubmit = _this.handleDescriptionSubmit.bind(_this);\n        _this.handleClose = _this.handleClose.bind(_this);\n        _this.onUpdateNameSection = _this.onUpdateNameSection.bind(_this);\n        _this.updateName = _this.updateName.bind(_this);\n        _this.updateDescription = _this.updateDescription.bind(_this);\n        _this.onUpdateDescriptionSection = _this.onUpdateDescriptionSection.bind(_this);\n        _this.onUpdateInviteIdSection = _this.onUpdateInviteIdSection.bind(_this);\n        _this.updateInviteId = _this.updateInviteId.bind(_this);\n        _this.onUpdateOpenInviteSection = _this.onUpdateOpenInviteSection.bind(_this);\n        _this.handleOpenInviteRadio = _this.handleOpenInviteRadio.bind(_this);\n        _this.handleGenerateInviteId = _this.handleGenerateInviteId.bind(_this);\n\n        _this.state = _this.setupInitialState(props);\n        return _this;\n    }\n\n    (0, _createClass3.default)(GeneralTab, [{\n        key: 'updateSection',\n        value: function updateSection(section) {\n            if ((0, _jquery2.default)('.section-max').length) {\n                (0, _jquery2.default)('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n            }\n            this.setState(this.setupInitialState(this.props));\n            this.props.updateSection(section);\n        }\n    }, {\n        key: 'setupInitialState',\n        value: function setupInitialState(props) {\n            var team = props.team;\n\n            return {\n                name: team.display_name,\n                invite_id: team.invite_id,\n                allow_open_invite: team.allow_open_invite,\n                description: team.description,\n                serverError: '',\n                clientError: ''\n            };\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            this.setState({\n                name: nextProps.team.display_name,\n                description: nextProps.team.description,\n                invite_id: nextProps.team.invite_id,\n                allow_open_invite: nextProps.team.allow_open_invite\n            });\n        }\n    }, {\n        key: 'handleGenerateInviteId',\n        value: function handleGenerateInviteId(e) {\n            e.preventDefault();\n\n            var newId = '';\n            for (var i = 0; i < 32; i++) {\n                newId += Math.floor(Math.random() * 16).toString(16);\n            }\n\n            this.setState({ invite_id: newId });\n        }\n    }, {\n        key: 'handleOpenInviteRadio',\n        value: function handleOpenInviteRadio(openInvite) {\n            this.setState({ allow_open_invite: openInvite });\n        }\n    }, {\n        key: 'handleOpenInviteSubmit',\n        value: function handleOpenInviteSubmit(e) {\n            var _this2 = this;\n\n            e.preventDefault();\n\n            var state = { serverError: '', clientError: '' };\n\n            var data = (0, _extends3.default)({}, this.props.team);\n            data.allow_open_invite = this.state.allow_open_invite;\n            (0, _team_actions.updateTeam)(data, function () {\n                _this2.updateSection('');\n            }, function (err) {\n                state.serverError = err.message;\n                _this2.setState(state);\n            });\n        }\n    }, {\n        key: 'handleNameSubmit',\n        value: function handleNameSubmit(e) {\n            var _this3 = this;\n\n            e.preventDefault();\n\n            var state = { serverError: '', clientError: '' };\n            var valid = true;\n\n            var name = this.state.name.trim();\n            if (name) {\n                state.clientError = '';\n            } else {\n                state.clientError = Utils.localizeMessage('general_tab.required', 'This field is required');\n                valid = false;\n            }\n\n            this.setState(state);\n\n            if (!valid) {\n                return;\n            }\n\n            var data = (0, _extends3.default)({}, this.props.team);\n            data.display_name = this.state.name;\n            (0, _team_actions.updateTeam)(data, function () {\n                _this3.updateSection('');\n            }, function (err) {\n                state.serverError = err.message;\n                _this3.setState(state);\n            });\n        }\n    }, {\n        key: 'handleInviteIdSubmit',\n        value: function handleInviteIdSubmit(e) {\n            var _this4 = this;\n\n            e.preventDefault();\n\n            var state = { serverError: '', clientError: '' };\n            var valid = true;\n\n            var inviteId = this.state.invite_id.trim();\n            if (inviteId) {\n                state.clientError = '';\n            } else {\n                state.clientError = Utils.localizeMessage('general_tab.required', 'This field is required');\n                valid = false;\n            }\n\n            this.setState(state);\n\n            if (!valid) {\n                return;\n            }\n\n            var data = (0, _extends3.default)({}, this.props.team);\n            data.invite_id = this.state.invite_id;\n            (0, _team_actions.updateTeam)(data, function () {\n                _this4.updateSection('');\n            }, function (err) {\n                state.serverError = err.message;\n                _this4.setState(state);\n            });\n        }\n    }, {\n        key: 'handleClose',\n        value: function handleClose() {\n            this.updateSection('');\n        }\n    }, {\n        key: 'handleDescriptionSubmit',\n        value: function handleDescriptionSubmit(e) {\n            var _this5 = this;\n\n            e.preventDefault();\n\n            var state = { serverError: '', clientError: '' };\n            var valid = true;\n\n            var description = this.state.description.trim();\n            if (description === this.props.team.description) {\n                state.clientError = Utils.localizeMessage('general_tab.chooseDescription', 'Please choose a new description for your team');\n                valid = false;\n            } else {\n                state.clientError = '';\n            }\n\n            this.setState(state);\n\n            if (!valid) {\n                return;\n            }\n\n            var data = (0, _extends3.default)({}, this.props.team);\n            data.description = this.state.description;\n            (0, _team_actions.updateTeam)(data, function () {\n                _this5.updateSection('');\n            }, function (err) {\n                state.serverError = err.message;\n                _this5.setState(state);\n            });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            (0, _jquery2.default)('#team_settings').on('hidden.bs.modal', this.handleClose);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            (0, _jquery2.default)('#team_settings').off('hidden.bs.modal', this.handleClose);\n        }\n    }, {\n        key: 'onUpdateNameSection',\n        value: function onUpdateNameSection(e) {\n            e.preventDefault();\n            if (this.props.activeSection === 'name') {\n                this.updateSection('');\n            } else {\n                this.updateSection('name');\n            }\n        }\n    }, {\n        key: 'onUpdateDescriptionSection',\n        value: function onUpdateDescriptionSection(e) {\n            e.preventDefault();\n            if (this.props.activeSection === 'description') {\n                this.updateSection('');\n            } else {\n                this.updateSection('description');\n            }\n        }\n    }, {\n        key: 'onUpdateInviteIdSection',\n        value: function onUpdateInviteIdSection(e) {\n            e.preventDefault();\n            if (this.props.activeSection === 'invite_id') {\n                this.updateSection('');\n            } else {\n                this.updateSection('invite_id');\n            }\n        }\n    }, {\n        key: 'onUpdateOpenInviteSection',\n        value: function onUpdateOpenInviteSection(e) {\n            e.preventDefault();\n            if (this.props.activeSection === 'open_invite') {\n                this.updateSection('');\n            } else {\n                this.updateSection('open_invite');\n            }\n        }\n    }, {\n        key: 'updateName',\n        value: function updateName(e) {\n            this.setState({ name: e.target.value });\n        }\n    }, {\n        key: 'updateDescription',\n        value: function updateDescription(e) {\n            this.setState({ description: e.target.value });\n        }\n    }, {\n        key: 'updateInviteId',\n        value: function updateInviteId(e) {\n            this.setState({ invite_id: e.target.value });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var clientError = null;\n            var serverError = null;\n            if (this.state.clientError) {\n                clientError = this.state.clientError;\n            }\n            if (this.state.serverError) {\n                serverError = this.state.serverError;\n            }\n\n            var openInviteSection = void 0;\n            if (this.props.activeSection === 'open_invite') {\n                var inputs = [_react2.default.createElement(\n                    'div',\n                    { key: 'userOpenInviteOptions' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'teamOpenInvite',\n                                name: 'userOpenInviteOptions',\n                                type: 'radio',\n                                defaultChecked: this.state.allow_open_invite,\n                                onChange: this.handleOpenInviteRadio.bind(this, true)\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'general_tab.yes',\n                                defaultMessage: 'Yes'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'teamOpenInviteNo',\n                                name: 'userOpenInviteOptions',\n                                type: 'radio',\n                                defaultChecked: !this.state.allow_open_invite,\n                                onChange: this.handleOpenInviteRadio.bind(this, false)\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'general_tab.no',\n                                defaultMessage: 'No'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'general_tab.openInviteDesc',\n                            defaultMessage: 'When allowed, a link to this team will be included on the landing page allowing anyone with an account to join this team.'\n                        })\n                    )\n                )];\n\n                openInviteSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('general_tab.openInviteTitle', 'Allow any user with an account on this server to join this team'),\n                    inputs: inputs,\n                    submit: this.handleOpenInviteSubmit,\n                    server_error: serverError,\n                    updateSection: this.onUpdateOpenInviteSection\n                });\n            } else {\n                var _describe = '';\n                if (this.state.allow_open_invite === true) {\n                    _describe = Utils.localizeMessage('general_tab.yes', 'Yes');\n                } else {\n                    _describe = Utils.localizeMessage('general_tab.no', 'No');\n                }\n\n                openInviteSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: Utils.localizeMessage('general_tab.openInviteTitle', 'Allow any user with an account on this server to join this team'),\n                    describe: _describe,\n                    updateSection: this.onUpdateOpenInviteSection\n                });\n            }\n\n            var inviteSection = void 0;\n\n            if (this.props.activeSection === 'invite_id') {\n                var _inputs = [];\n\n                _inputs.push(_react2.default.createElement(\n                    'div',\n                    { key: 'teamInviteSetting' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'row' },\n                        _react2.default.createElement('label', { className: 'col-sm-5 control-label visible-xs-block' }),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-12' },\n                            _react2.default.createElement('input', {\n                                id: 'teamInviteId',\n                                className: 'form-control',\n                                type: 'text',\n                                onChange: this.updateInviteId,\n                                value: this.state.invite_id,\n                                maxLength: '32'\n                            }),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'padding-top x2' },\n                                _react2.default.createElement(\n                                    'button',\n                                    {\n                                        id: 'teamInviteIdRegenerate',\n                                        className: 'color--link style--none',\n                                        onClick: this.handleGenerateInviteId\n                                    },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'general_tab.regenerate',\n                                        defaultMessage: 'Regenerate'\n                                    })\n                                )\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'setting-list__hint' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'general_tab.codeLongDesc',\n                            defaultMessage: 'The Invite Code is used as part of the URL in the team invitation link created by {getTeamInviteLink} in the main menu. Regenerating creates a new team invitation link and invalidates the previous link.',\n                            values: {\n                                getTeamInviteLink: _react2.default.createElement(\n                                    'strong',\n                                    null,\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'general_tab.getTeamInviteLink',\n                                        defaultMessage: 'Get Team Invite Link'\n                                    })\n                                )\n                            }\n                        })\n                    )\n                ));\n\n                inviteSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('general_tab.codeTitle', 'Invite Code'),\n                    inputs: _inputs,\n                    submit: this.handleInviteIdSubmit,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: this.onUpdateInviteIdSection\n                });\n            } else {\n                inviteSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: Utils.localizeMessage('general_tab.codeTitle', 'Invite Code'),\n                    describe: Utils.localizeMessage('general_tab.codeDesc', \"Click 'Edit' to regenerate Invite Code.\"),\n                    updateSection: this.onUpdateInviteIdSection\n                });\n            }\n\n            var nameSection = void 0;\n\n            if (this.props.activeSection === 'name') {\n                var _inputs2 = [];\n\n                var teamNameLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'general_tab.teamName',\n                    defaultMessage: 'Team Name'\n                });\n                if (Utils.isMobile()) {\n                    teamNameLabel = '';\n                }\n\n                _inputs2.push(_react2.default.createElement(\n                    'div',\n                    {\n                        key: 'teamNameSetting',\n                        className: 'form-group'\n                    },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'col-sm-5 control-label' },\n                        teamNameLabel\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'col-sm-7' },\n                        _react2.default.createElement('input', {\n                            id: 'teamName',\n                            className: 'form-control',\n                            type: 'text',\n                            maxLength: _constants2.default.MAX_TEAMNAME_LENGTH.toString(),\n                            onChange: this.updateName,\n                            value: this.state.name\n                        })\n                    )\n                ));\n\n                var nameExtraInfo = _react2.default.createElement(\n                    'span',\n                    null,\n                    Utils.localizeMessage('general_tab.teamNameInfo', 'Set the name of the team as it appears on your sign-in screen and at the top of the left-hand sidebar.')\n                );\n\n                nameSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('general_tab.teamName', 'Team Name'),\n                    inputs: _inputs2,\n                    submit: this.handleNameSubmit,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: this.onUpdateNameSection,\n                    extraInfo: nameExtraInfo\n                });\n            } else {\n                var describe = this.state.name;\n\n                nameSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: Utils.localizeMessage('general_tab.teamName', 'Team Name'),\n                    describe: describe,\n                    updateSection: this.onUpdateNameSection\n                });\n            }\n\n            var descriptionSection = void 0;\n\n            if (this.props.activeSection === 'description') {\n                var _inputs3 = [];\n\n                var teamDescriptionLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'general_tab.teamDescription',\n                    defaultMessage: 'Team Description'\n                });\n                if (Utils.isMobile()) {\n                    teamDescriptionLabel = '';\n                }\n\n                _inputs3.push(_react2.default.createElement(\n                    'div',\n                    {\n                        key: 'teamDescriptionSetting',\n                        className: 'form-group'\n                    },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'col-sm-5 control-label' },\n                        teamDescriptionLabel\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'col-sm-7' },\n                        _react2.default.createElement('input', {\n                            id: 'teamDescription',\n                            className: 'form-control',\n                            type: 'text',\n                            maxLength: _constants2.default.MAX_TEAMDESCRIPTION_LENGTH.toString(),\n                            onChange: this.updateDescription,\n                            value: this.state.description\n                        })\n                    )\n                ));\n\n                var descriptionExtraInfo = _react2.default.createElement(\n                    'span',\n                    null,\n                    Utils.localizeMessage('general_tab.teamDescriptionInfo', 'Team description provides additional information to help users select the right team. Maximum of 50 characters.')\n                );\n\n                descriptionSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('general_tab.teamDescription', 'Team Description'),\n                    inputs: _inputs3,\n                    submit: this.handleDescriptionSubmit,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: this.onUpdateDescriptionSection,\n                    extraInfo: descriptionExtraInfo\n                });\n            } else {\n                var describemsg = '';\n                if (this.state.description) {\n                    describemsg = this.state.description;\n                } else {\n                    describemsg = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'general_tab.emptyDescription',\n                        defaultMessage: 'Click \\'Edit\\' to add a team description.'\n                    });\n                }\n\n                descriptionSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: Utils.localizeMessage('general_tab.teamDescription', 'Team Description'),\n                    describe: describemsg,\n                    updateSection: this.onUpdateDescriptionSection\n                });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: 'closeButton',\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            'aria-label': 'Close'\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            '×'\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', { className: 'fa fa-angle-left' })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'general_tab.title',\n                            defaultMessage: 'General Settings'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'wrapper',\n                        className: 'user-settings'\n                    },\n                    _react2.default.createElement(\n                        'h3',\n                        { className: 'tab-header' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'general_tab.title',\n                            defaultMessage: 'General Settings'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    nameSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    descriptionSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    openInviteSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    inviteSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' })\n                )\n            );\n        }\n    }]);\n    return GeneralTab;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nGeneralTab.propTypes = {\n    updateSection: _propTypes2.default.func.isRequired,\n    team: _propTypes2.default.object.isRequired,\n    activeSection: _propTypes2.default.string.isRequired\n};\n\nexports.default = GeneralTab;\n\n/***/ }),\n\n/***/ 2439:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _utils = __webpack_require__(16);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _setting_upload = __webpack_require__(2440);\n\nvar _setting_upload2 = _interopRequireDefault(_setting_upload);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar holders = (0, _reactIntl.defineMessages)({\n    importSlack: {\n        id: 'team_import_tab.importSlack',\n        defaultMessage: 'Import from Slack (Beta)'\n    }\n});\n\nvar TeamImportTab = function (_React$Component) {\n    (0, _inherits3.default)(TeamImportTab, _React$Component);\n\n    function TeamImportTab(props) {\n        (0, _classCallCheck3.default)(this, TeamImportTab);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (TeamImportTab.__proto__ || (0, _getPrototypeOf2.default)(TeamImportTab)).call(this, props));\n\n        _this.onImportFailure = _this.onImportFailure.bind(_this);\n        _this.onImportSuccess = _this.onImportSuccess.bind(_this);\n        _this.doImportSlack = _this.doImportSlack.bind(_this);\n\n        _this.state = {\n            status: 'ready',\n            link: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(TeamImportTab, [{\n        key: 'onImportFailure',\n        value: function onImportFailure() {\n            this.setState({ status: 'fail' });\n        }\n    }, {\n        key: 'onImportSuccess',\n        value: function onImportSuccess(data) {\n            this.setState({ status: 'done', link: 'data:application/octet-stream;charset=utf-8,' + encodeURIComponent(atob(data.results)) });\n        }\n    }, {\n        key: 'doImportSlack',\n        value: function doImportSlack(file) {\n            this.setState({ status: 'in-progress', link: '' });\n            utils.importSlack(file, this.onImportSuccess, this.onImportFailure);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var formatMessage = this.props.intl.formatMessage;\n\n            var uploadDocsLink = _react2.default.createElement(\n                'a',\n                {\n                    href: 'https://docs.mattermost.com/administration/migrating.html#migrating-from-slack',\n                    target: '_blank',\n                    rel: 'noopener noreferrer'\n                },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'team_import_tab.importHelpDocsLink',\n                    defaultMessage: 'documentation'\n                })\n            );\n\n            var uploadExportInstructions = _react2.default.createElement(\n                'strong',\n                null,\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'team_import_tab.importHelpExportInstructions',\n                    defaultMessage: 'Slack > Team Settings > Import/Export Data > Export > Start Export'\n                })\n            );\n\n            var uploadExporterLink = _react2.default.createElement(\n                'a',\n                {\n                    href: 'https://github.com/grundleborg/slack-advanced-exporter',\n                    target: '_blank',\n                    rel: 'noopener noreferrer'\n                },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'team_import_tab.importHelpExporterLink',\n                    defaultMessage: 'Slack Advanced Exporter'\n                })\n            );\n\n            var uploadHelpText = _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'p',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'team_import_tab.importHelpLine1',\n                        defaultMessage: 'Slack import to Mattermost supports importing of messages in your Slack team\\'s public channels.'\n                    })\n                ),\n                _react2.default.createElement(\n                    'p',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'team_import_tab.importHelpLine2',\n                        defaultMessage: 'To import a team from Slack, go to {exportInstructions}. See {uploadDocsLink} to learn more.',\n                        values: {\n                            exportInstructions: uploadExportInstructions,\n                            uploadDocsLink: uploadDocsLink\n                        }\n                    })\n                ),\n                _react2.default.createElement(\n                    'p',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'team_import_tab.importHelpLine3',\n                        defaultMessage: 'To import posts with attached files, see {slackAdvancedExporterLink} for details.',\n                        values: {\n                            slackAdvancedExporterLink: uploadExporterLink\n                        }\n                    })\n                )\n            );\n\n            var uploadSection = _react2.default.createElement(_setting_upload2.default, {\n                title: formatMessage(holders.importSlack),\n                submit: this.doImportSlack,\n                helpText: uploadHelpText,\n                fileTypesAccepted: '.zip'\n            });\n\n            var messageSection;\n            switch (this.state.status) {\n\n                case 'ready':\n                    messageSection = '';\n                    break;\n                case 'in-progress':\n                    messageSection = _react2.default.createElement(\n                        'p',\n                        { className: 'confirm-import alert alert-warning' },\n                        _react2.default.createElement('i', { className: 'fa fa-spinner fa-pulse' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'team_import_tab.importing',\n                            defaultMessage: ' Importing...'\n                        })\n                    );\n                    break;\n                case 'done':\n                    messageSection = _react2.default.createElement(\n                        'p',\n                        { className: 'confirm-import alert alert-success' },\n                        _react2.default.createElement('i', { className: 'fa fa-check' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'team_import_tab.successful',\n                            defaultMessage: ' Import successful: '\n                        }),\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: this.state.link,\n                                download: 'MattermostImportSummary.txt'\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'team_import_tab.summary',\n                                defaultMessage: 'View Summary'\n                            })\n                        )\n                    );\n                    break;\n                case 'fail':\n                    messageSection = _react2.default.createElement(\n                        'p',\n                        { className: 'confirm-import alert alert-warning' },\n                        _react2.default.createElement('i', { className: 'fa fa-warning' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'team_import_tab.failure',\n                            defaultMessage: ' Import failure: '\n                        }),\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: this.state.link,\n                                download: 'MattermostImportSummary.txt'\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'team_import_tab.summary',\n                                defaultMessage: 'View Summary'\n                            })\n                        )\n                    );\n                    break;\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            'aria-label': 'Close'\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            '×'\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', { className: 'fa fa-angle-left' })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'team_import_tab.import',\n                            defaultMessage: 'Import'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'wrapper',\n                        className: 'user-settings'\n                    },\n                    _react2.default.createElement(\n                        'h3',\n                        { className: 'tab-header' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'team_import_tab.import',\n                            defaultMessage: 'Import'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    uploadSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' }),\n                    messageSection\n                )\n            );\n        }\n    }]);\n    return TeamImportTab;\n}(_react2.default.Component);\n\nTeamImportTab.propTypes = {\n    intl: _reactIntl.intlShape.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(TeamImportTab);\n\n/***/ }),\n\n/***/ 2440:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(47);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SettingsUpload = function (_React$Component) {\n    (0, _inherits3.default)(SettingsUpload, _React$Component);\n\n    function SettingsUpload(props) {\n        (0, _classCallCheck3.default)(this, SettingsUpload);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SettingsUpload.__proto__ || (0, _getPrototypeOf2.default)(SettingsUpload)).call(this, props));\n\n        _this.doFileSelect = _this.doFileSelect.bind(_this);\n        _this.doSubmit = _this.doSubmit.bind(_this);\n\n        _this.state = {\n            clientError: _this.props.clientError,\n            serverError: _this.props.serverError,\n            filename: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SettingsUpload, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps() {\n            this.setState({\n                clientError: this.props.clientError,\n                serverError: this.props.serverError\n            });\n        }\n    }, {\n        key: 'doFileSelect',\n        value: function doFileSelect(e) {\n            e.preventDefault();\n            var filename = (0, _jquery2.default)(e.target).val();\n            if (filename.substring(3, 11) === 'fakepath') {\n                filename = filename.substring(12);\n            }\n            this.setState({\n                clientError: '',\n                serverError: '',\n                filename: filename\n            });\n        }\n    }, {\n        key: 'doSubmit',\n        value: function doSubmit(e) {\n            e.preventDefault();\n            var inputnode = _reactDom2.default.findDOMNode(this.refs.uploadinput);\n            if (inputnode.files && inputnode.files[0]) {\n                this.props.submit(inputnode.files[0]);\n            } else {\n                this.setState({ clientError: true });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var clientError = null;\n            if (this.state.clientError) {\n                clientError = _react2.default.createElement(\n                    'div',\n                    { className: 'file-status' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'setting_upload.noFile',\n                        defaultMessage: 'No file selected.'\n                    })\n                );\n            }\n            var serverError = null;\n            if (this.state.serverError) {\n                serverError = _react2.default.createElement(\n                    'div',\n                    { className: 'file-status' },\n                    this.state.serverError\n                );\n            }\n            var fileNameText = null;\n            var submitButtonClass = 'btn btn-sm btn-primary disabled';\n            if (this.state.filename) {\n                fileNameText = _react2.default.createElement(\n                    'div',\n                    { className: 'file-status file-name' },\n                    this.state.filename\n                );\n                submitButtonClass = 'btn btn-sm btn-primary';\n            }\n\n            return _react2.default.createElement(\n                'ul',\n                { className: 'section-max' },\n                _react2.default.createElement(\n                    'li',\n                    { className: 'col-sm-12 section-title' },\n                    this.props.title\n                ),\n                _react2.default.createElement(\n                    'li',\n                    { className: 'col-sm-offset-3 col-sm-9' },\n                    this.props.helpText\n                ),\n                _react2.default.createElement(\n                    'li',\n                    { className: 'col-sm-offset-3 col-sm-9' },\n                    _react2.default.createElement(\n                        'ul',\n                        { className: 'setting-list' },\n                        _react2.default.createElement(\n                            'li',\n                            { className: 'setting-list-item' },\n                            _react2.default.createElement(\n                                'span',\n                                { className: 'btn btn-sm btn-primary btn-file sel-btn' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'setting_upload.select',\n                                    defaultMessage: 'Select file'\n                                }),\n                                _react2.default.createElement('input', {\n                                    ref: 'uploadinput',\n                                    accept: this.props.fileTypesAccepted,\n                                    type: 'file',\n                                    onChange: this.doFileSelect\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    className: submitButtonClass,\n                                    onClick: this.doSubmit\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'setting_upload.import',\n                                    defaultMessage: 'Import'\n                                })\n                            ),\n                            fileNameText,\n                            serverError,\n                            clientError\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return SettingsUpload;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = SettingsUpload;\n\n\nSettingsUpload.propTypes = {\n    title: _propTypes2.default.string.isRequired,\n    submit: _propTypes2.default.func.isRequired,\n    fileTypesAccepted: _propTypes2.default.string.isRequired,\n    clientError: _propTypes2.default.string,\n    serverError: _propTypes2.default.string,\n    helpText: _propTypes2.default.object\n};\n\n/***/ }),\n\n/***/ 2441:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(40);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _modal_store = __webpack_require__(2080);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ActionTypes = _constants2.default.ActionTypes; // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ImportThemeModal = function (_React$Component) {\n    (0, _inherits3.default)(ImportThemeModal, _React$Component);\n\n    function ImportThemeModal(props) {\n        (0, _classCallCheck3.default)(this, ImportThemeModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ImportThemeModal.__proto__ || (0, _getPrototypeOf2.default)(ImportThemeModal)).call(this, props));\n\n        _this.updateShow = _this.updateShow.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleChange = _this.handleChange.bind(_this);\n\n        _this.state = {\n            value: '',\n            inputError: '',\n            show: false,\n            callback: null\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(ImportThemeModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(ActionTypes.TOGGLE_IMPORT_THEME_MODAL, this.updateShow);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(ActionTypes.TOGGLE_IMPORT_THEME_MODAL, this.updateShow);\n        }\n    }, {\n        key: 'updateShow',\n        value: function updateShow(show, args) {\n            this.setState({\n                show: show,\n                callback: args.callback\n            });\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(e) {\n            e.preventDefault();\n\n            var text = this.state.value;\n\n            if (!this.isInputValid(text)) {\n                this.setState({\n                    inputError: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.import_theme.submitError',\n                        defaultMessage: 'Invalid format, please try copying and pasting in again.'\n                    })\n                });\n                return;\n            }\n\n            var colors = text.split(',');\n            var theme = { type: 'custom' };\n\n            theme.sidebarBg = colors[0];\n            theme.sidebarText = colors[5];\n            theme.sidebarUnreadText = colors[5];\n            theme.sidebarTextHoverBg = colors[4];\n            theme.sidebarTextActiveBorder = colors[2];\n            theme.sidebarTextActiveColor = colors[3];\n            theme.sidebarHeaderBg = colors[1];\n            theme.sidebarHeaderTextColor = colors[5];\n            theme.onlineIndicator = colors[6];\n            theme.awayIndicator = '#E0B333';\n            theme.mentionBj = colors[7];\n            theme.mentionColor = '#ffffff';\n            theme.centerChannelBg = '#ffffff';\n            theme.centerChannelColor = '#333333';\n            theme.newMessageSeparator = '#F80';\n            theme.linkColor = '#2389d7';\n            theme.buttonBg = '#26a970';\n            theme.buttonColor = '#ffffff';\n            theme.mentionHighlightBg = '#fff2bb';\n            theme.mentionHighlightLink = '#2f81b7';\n            theme.codeTheme = 'github';\n\n            this.state.callback(theme);\n            this.setState({\n                show: false,\n                callback: null\n            });\n        }\n    }, {\n        key: 'isInputValid',\n        value: function isInputValid(text) {\n            if (text.length === 0) {\n                return false;\n            }\n\n            if (text.indexOf(' ') !== -1) {\n                return false;\n            }\n\n            if (text.length > 0 && text.indexOf(',') === -1) {\n                return false;\n            }\n\n            if (text.length > 0) {\n                var colors = text.split(',');\n\n                if (colors.length !== 8) {\n                    return false;\n                }\n\n                for (var i = 0; i < colors.length; i++) {\n                    if (colors[i].length !== 7 && colors[i].length !== 4) {\n                        return false;\n                    }\n\n                    if (colors[i].charAt(0) !== '#') {\n                        return false;\n                    }\n                }\n            }\n\n            return true;\n        }\n    }, {\n        key: 'handleChange',\n        value: function handleChange(e) {\n            var value = e.target.value;\n            this.setState({ value: value });\n\n            if (this.isInputValid(value)) {\n                this.setState({ inputError: null });\n            } else {\n                this.setState({\n                    inputError: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.import_theme.submitError',\n                        defaultMessage: 'Invalid format, please try copying and pasting in again.'\n                    })\n                });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            return _react2.default.createElement(\n                'span',\n                null,\n                _react2.default.createElement(\n                    _reactBootstrap.Modal,\n                    {\n                        show: this.state.show,\n                        onHide: function onHide() {\n                            return _this2.setState({ show: false });\n                        }\n                    },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Header,\n                        { closeButton: true },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Title,\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.import_theme.importHeader',\n                                defaultMessage: 'Import Slack Theme'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'form',\n                        {\n                            role: 'form',\n                            className: 'form-horizontal'\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Body,\n                            null,\n                            _react2.default.createElement(\n                                'p',\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.import_theme.importBody',\n                                    defaultMessage: 'To import a theme, go to a Slack team and look for \"Preferences -> Sidebar Theme\". Open the custom theme option, copy the theme color values and paste them here:'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'form-group less' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col-sm-12' },\n                                    _react2.default.createElement('input', {\n                                        id: 'themeVector',\n                                        type: 'text',\n                                        className: 'form-control',\n                                        value: this.state.value,\n                                        onChange: this.handleChange\n                                    }),\n                                    _react2.default.createElement(\n                                        'div',\n                                        { className: 'input__help' },\n                                        this.state.inputError\n                                    )\n                                )\n                            )\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Footer,\n                            null,\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    id: 'cancelButton',\n                                    type: 'button',\n                                    className: 'btn btn-default',\n                                    onClick: function onClick() {\n                                        return _this2.setState({ show: false });\n                                    }\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.import_theme.cancel',\n                                    defaultMessage: 'Cancel'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    id: 'submitButton',\n                                    onClick: this.handleSubmit,\n                                    type: 'submit',\n                                    className: 'btn btn-primary',\n                                    tabIndex: '3'\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.import_theme.submit',\n                                    defaultMessage: 'Submit'\n                                })\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return ImportThemeModal;\n}(_react2.default.Component);\n\nexports.default = ImportThemeModal;\n\n/***/ }),\n\n/***/ 2442:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(40);\n\nvar _reactDom = __webpack_require__(47);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _modal_store = __webpack_require__(2080);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _confirm_modal = __webpack_require__(311);\n\nvar _confirm_modal2 = _interopRequireDefault(_confirm_modal);\n\nvar _settings_sidebar = __webpack_require__(2197);\n\nvar _settings_sidebar2 = _interopRequireDefault(_settings_sidebar);\n\nvar _user_settings = __webpack_require__(2443);\n\nvar _user_settings2 = _interopRequireDefault(_user_settings);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar holders = (0, _reactIntl.defineMessages)({\n    general: {\n        id: 'user.settings.modal.general',\n        defaultMessage: 'General'\n    },\n    security: {\n        id: 'user.settings.modal.security',\n        defaultMessage: 'Security'\n    },\n    notifications: {\n        id: 'user.settings.modal.notifications',\n        defaultMessage: 'Notifications'\n    },\n    display: {\n        id: 'user.settings.modal.display',\n        defaultMessage: 'Display'\n    },\n    advanced: {\n        id: 'user.settings.modal.advanced',\n        defaultMessage: 'Advanced'\n    },\n    confirmTitle: {\n        id: 'user.settings.modal.confirmTitle',\n        defaultMessage: 'Discard Changes?'\n    },\n    confirmMsg: {\n        id: 'user.settings.modal.confirmMsg',\n        defaultMessage: 'You have unsaved changes, are you sure you want to discard them?'\n    },\n    confirmBtns: {\n        id: 'user.settings.modal.confirmBtns',\n        defaultMessage: 'Yes, Discard'\n    }\n});\n\nvar UserSettingsModal = function (_React$Component) {\n    (0, _inherits3.default)(UserSettingsModal, _React$Component);\n\n    function UserSettingsModal(props) {\n        (0, _classCallCheck3.default)(this, UserSettingsModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (UserSettingsModal.__proto__ || (0, _getPrototypeOf2.default)(UserSettingsModal)).call(this, props));\n\n        _this.handleHide = _this.handleHide.bind(_this);\n        _this.handleHidden = _this.handleHidden.bind(_this);\n        _this.handleCollapse = _this.handleCollapse.bind(_this);\n        _this.handleConfirm = _this.handleConfirm.bind(_this);\n        _this.handleCancelConfirmation = _this.handleCancelConfirmation.bind(_this);\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n\n        _this.closeModal = _this.closeModal.bind(_this);\n        _this.collapseModal = _this.collapseModal.bind(_this);\n\n        _this.updateTab = _this.updateTab.bind(_this);\n        _this.updateSection = _this.updateSection.bind(_this);\n        _this.onUserChanged = _this.onUserChanged.bind(_this);\n\n        _this.state = {\n            active_tab: 'general',\n            active_section: '',\n            showConfirmModal: false,\n            enforceFocus: true,\n            currentUser: _user_store2.default.getCurrentUser(),\n            show: false\n        };\n\n        _this.requireConfirm = false;\n        _this.mounted = false;\n        return _this;\n    }\n\n    (0, _createClass3.default)(UserSettingsModal, [{\n        key: 'onUserChanged',\n        value: function onUserChanged() {\n            if (this.mounted) {\n                this.setState({ currentUser: _user_store2.default.getCurrentUser() });\n            }\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.mounted = true;\n            _user_store2.default.addChangeListener(this.onUserChanged);\n            _modal_store2.default.addModalListener(_constants2.default.ActionTypes.TOGGLE_ACCOUNT_SETTINGS_MODAL, this.handleToggle);\n            document.addEventListener('keydown', this.handleKeyDown);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.mounted = false;\n            _modal_store2.default.removeModalListener(_constants2.default.ActionTypes.TOGGLE_ACCOUNT_SETTINGS_MODAL, this.handleToggle);\n            document.removeEventListener('keydown', this.handleKeyDown);\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            _user_store2.default.removeChangeListener(this.onUserChanged);\n            if (!Utils.isMobile()) {\n                (0, _jquery2.default)('.settings-content .minimize-settings').perfectScrollbar('update');\n            }\n        }\n    }, {\n        key: 'handleKeyDown',\n        value: function handleKeyDown(e) {\n            if (Utils.cmdOrCtrlPressed(e) && e.shiftKey && e.keyCode === _constants2.default.KeyCodes.A) {\n                this.setState({\n                    show: !this.state.show\n                });\n            }\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value) {\n            this.setState({\n                show: value\n            });\n        }\n\n        // Called when the close button is pressed on the main modal\n\n    }, {\n        key: 'handleHide',\n        value: function handleHide() {\n            var _this2 = this;\n\n            if (this.requireConfirm) {\n                this.afterConfirm = function () {\n                    return _this2.handleHide();\n                };\n                this.showConfirmModal();\n\n                return;\n            }\n\n            this.setState({\n                show: false\n            });\n        }\n\n        // called after the dialog is fully hidden and faded out\n\n    }, {\n        key: 'handleHidden',\n        value: function handleHidden() {\n            this.setState({\n                active_tab: 'general',\n                active_section: ''\n            });\n        }\n\n        // Called to hide the settings pane when on mobile\n\n    }, {\n        key: 'handleCollapse',\n        value: function handleCollapse() {\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs.modalBody)).closest('.modal-dialog').removeClass('display--content');\n\n            this.setState({\n                active_tab: '',\n                active_section: ''\n            });\n        }\n    }, {\n        key: 'handleConfirm',\n        value: function handleConfirm() {\n            this.setState({\n                showConfirmModal: false,\n                enforceFocus: true\n            });\n\n            this.requireConfirm = false;\n\n            if (this.afterConfirm) {\n                this.afterConfirm();\n                this.afterConfirm = null;\n            }\n        }\n    }, {\n        key: 'handleCancelConfirmation',\n        value: function handleCancelConfirmation() {\n            this.setState({\n                showConfirmModal: false,\n                enforceFocus: true\n            });\n\n            this.afterConfirm = null;\n        }\n    }, {\n        key: 'showConfirmModal',\n        value: function showConfirmModal(afterConfirm) {\n            this.setState({\n                showConfirmModal: true,\n                enforceFocus: false\n            });\n\n            if (afterConfirm) {\n                this.afterConfirm = afterConfirm;\n            }\n        }\n\n        // Called by settings tabs when their close button is pressed\n\n    }, {\n        key: 'closeModal',\n        value: function closeModal() {\n            if (this.requireConfirm) {\n                this.showConfirmModal(this.closeModal);\n            } else {\n                this.handleHide();\n            }\n        }\n\n        // Called by settings tabs when their back button is pressed\n\n    }, {\n        key: 'collapseModal',\n        value: function collapseModal() {\n            if (this.requireConfirm) {\n                this.showConfirmModal(this.collapseModal);\n            } else {\n                this.handleCollapse();\n            }\n        }\n    }, {\n        key: 'updateTab',\n        value: function updateTab(tab, skipConfirm) {\n            var _this3 = this;\n\n            if (!skipConfirm && this.requireConfirm) {\n                this.showConfirmModal(function () {\n                    return _this3.updateTab(tab, true);\n                });\n            } else {\n                this.setState({\n                    active_tab: tab,\n                    active_section: ''\n                });\n            }\n        }\n    }, {\n        key: 'updateSection',\n        value: function updateSection(section, skipConfirm) {\n            var _this4 = this;\n\n            if (!skipConfirm && this.requireConfirm) {\n                this.showConfirmModal(function () {\n                    return _this4.updateSection(section, true);\n                });\n            } else {\n                this.setState({ active_section: section });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this5 = this;\n\n            var formatMessage = this.props.intl.formatMessage;\n\n            if (this.state.currentUser == null) {\n                return _react2.default.createElement('div', null);\n            }\n            var tabs = [];\n\n            tabs.push({ name: 'general', uiName: formatMessage(holders.general), icon: 'icon fa fa-gear' });\n            tabs.push({ name: 'security', uiName: formatMessage(holders.security), icon: 'icon fa fa-lock' });\n            tabs.push({ name: 'notifications', uiName: formatMessage(holders.notifications), icon: 'icon fa fa-exclamation-circle' });\n            tabs.push({ name: 'display', uiName: formatMessage(holders.display), icon: 'icon fa fa-eye' });\n            tabs.push({ name: 'advanced', uiName: formatMessage(holders.advanced), icon: 'icon fa fa-list-alt' });\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    id: 'accountSettingsModal',\n                    dialogClassName: 'settings-modal',\n                    show: this.state.show,\n                    onHide: this.handleHide,\n                    onExited: this.handleHidden,\n                    enforceFocus: this.state.enforceFocus\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    {\n                        id: 'accountSettingsHeader',\n                        closeButton: true\n                    },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        { id: 'accountSettingsTitle' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.modal.title',\n                            defaultMessage: 'Account Settings'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    { ref: 'modalBody' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'settings-table' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'settings-links' },\n                            _react2.default.createElement(_settings_sidebar2.default, {\n                                tabs: tabs,\n                                activeTab: this.state.active_tab,\n                                updateTab: this.updateTab\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'settings-content minimize-settings' },\n                            _react2.default.createElement(_user_settings2.default, {\n                                ref: 'userSettings',\n                                activeTab: this.state.active_tab,\n                                activeSection: this.state.active_section,\n                                updateSection: this.updateSection,\n                                updateTab: this.updateTab,\n                                closeModal: this.closeModal,\n                                collapseModal: this.collapseModal,\n                                setEnforceFocus: function setEnforceFocus(enforceFocus) {\n                                    return _this5.setState({ enforceFocus: enforceFocus });\n                                },\n                                setRequireConfirm: function setRequireConfirm(requireConfirm) {\n                                    _this5.requireConfirm = requireConfirm;\n                                }\n                            })\n                        )\n                    )\n                ),\n                _react2.default.createElement(_confirm_modal2.default, {\n                    title: formatMessage(holders.confirmTitle),\n                    message: formatMessage(holders.confirmMsg),\n                    confirmButtonText: formatMessage(holders.confirmBtns),\n                    show: this.state.showConfirmModal,\n                    onConfirm: this.handleConfirm,\n                    onCancel: this.handleCancelConfirmation\n                })\n            );\n        }\n    }]);\n    return UserSettingsModal;\n}(_react2.default.Component);\n\nUserSettingsModal.propTypes = {\n    intl: _reactIntl.intlShape.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(UserSettingsModal);\n\n/***/ }),\n\n/***/ 2443:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _utils = __webpack_require__(16);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _user_settings_advanced = __webpack_require__(2444);\n\nvar _user_settings_advanced2 = _interopRequireDefault(_user_settings_advanced);\n\nvar _user_settings_display = __webpack_require__(2445);\n\nvar _user_settings_display2 = _interopRequireDefault(_user_settings_display);\n\nvar _user_settings_general = __webpack_require__(2453);\n\nvar _user_settings_general2 = _interopRequireDefault(_user_settings_general);\n\nvar _user_settings_notifications = __webpack_require__(2457);\n\nvar _user_settings_notifications2 = _interopRequireDefault(_user_settings_notifications);\n\nvar _user_settings_security = __webpack_require__(2460);\n\nvar _user_settings_security2 = _interopRequireDefault(_user_settings_security);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar UserSettings = function (_React$Component) {\n    (0, _inherits3.default)(UserSettings, _React$Component);\n\n    function UserSettings(props) {\n        (0, _classCallCheck3.default)(this, UserSettings);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (UserSettings.__proto__ || (0, _getPrototypeOf2.default)(UserSettings)).call(this, props));\n\n        _this.onListenerChange = _this.onListenerChange.bind(_this);\n\n        _this.state = { user: _user_store2.default.getCurrentUser() };\n        return _this;\n    }\n\n    (0, _createClass3.default)(UserSettings, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _user_store2.default.addChangeListener(this.onListenerChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _user_store2.default.removeChangeListener(this.onListenerChange);\n        }\n    }, {\n        key: 'onListenerChange',\n        value: function onListenerChange() {\n            var user = _user_store2.default.getCurrentUser();\n            if (!utils.areObjectsEqual(this.state.user, user)) {\n                this.setState({ user: user });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (this.props.activeTab === 'general') {\n                return _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_user_settings_general2.default, {\n                        user: this.state.user,\n                        activeSection: this.props.activeSection,\n                        updateSection: this.props.updateSection,\n                        updateTab: this.props.updateTab,\n                        closeModal: this.props.closeModal,\n                        collapseModal: this.props.collapseModal\n                    })\n                );\n            } else if (this.props.activeTab === 'security') {\n                return _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_user_settings_security2.default, {\n                        user: this.state.user,\n                        activeSection: this.props.activeSection,\n                        updateSection: this.props.updateSection,\n                        updateTab: this.props.updateTab,\n                        closeModal: this.props.closeModal,\n                        collapseModal: this.props.collapseModal,\n                        setEnforceFocus: this.props.setEnforceFocus\n                    })\n                );\n            } else if (this.props.activeTab === 'notifications') {\n                return _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_user_settings_notifications2.default, {\n                        user: this.state.user,\n                        activeSection: this.props.activeSection,\n                        updateSection: this.props.updateSection,\n                        updateTab: this.props.updateTab,\n                        closeModal: this.props.closeModal,\n                        collapseModal: this.props.collapseModal\n                    })\n                );\n            } else if (this.props.activeTab === 'display') {\n                return _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_user_settings_display2.default, {\n                        user: this.state.user,\n                        activeSection: this.props.activeSection,\n                        updateSection: this.props.updateSection,\n                        updateTab: this.props.updateTab,\n                        closeModal: this.props.closeModal,\n                        collapseModal: this.props.collapseModal,\n                        setEnforceFocus: this.props.setEnforceFocus,\n                        setRequireConfirm: this.props.setRequireConfirm\n                    })\n                );\n            } else if (this.props.activeTab === 'advanced') {\n                return _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_user_settings_advanced2.default, {\n                        user: this.state.user,\n                        activeSection: this.props.activeSection,\n                        updateSection: this.props.updateSection,\n                        updateTab: this.props.updateTab,\n                        closeModal: this.props.closeModal,\n                        collapseModal: this.props.collapseModal\n                    })\n                );\n            }\n\n            return _react2.default.createElement('div', null);\n        }\n    }]);\n    return UserSettings;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = UserSettings;\n\n\nUserSettings.propTypes = {\n    activeTab: _propTypes2.default.string,\n    activeSection: _propTypes2.default.string,\n    updateSection: _propTypes2.default.func,\n    updateTab: _propTypes2.default.func,\n    closeModal: _propTypes2.default.func.isRequired,\n    collapseModal: _propTypes2.default.func.isRequired,\n    setEnforceFocus: _propTypes2.default.func.isRequired,\n    setRequireConfirm: _propTypes2.default.func.isRequired\n};\n\n/***/ }),\n\n/***/ 2444:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray2 = __webpack_require__(183);\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _getIterator2 = __webpack_require__(48);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _keys = __webpack_require__(59);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _user_actions = __webpack_require__(69);\n\nvar _preference_store = __webpack_require__(119);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _setting_item_max = __webpack_require__(736);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(737);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar PreReleaseFeatures = _constants2.default.PRE_RELEASE_FEATURES;\n\nvar AdvancedSettingsDisplay = function (_React$Component) {\n    (0, _inherits3.default)(AdvancedSettingsDisplay, _React$Component);\n\n    function AdvancedSettingsDisplay(props) {\n        (0, _classCallCheck3.default)(this, AdvancedSettingsDisplay);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (AdvancedSettingsDisplay.__proto__ || (0, _getPrototypeOf2.default)(AdvancedSettingsDisplay)).call(this, props));\n\n        _this.getStateFromStores = _this.getStateFromStores.bind(_this);\n        _this.updateSection = _this.updateSection.bind(_this);\n        _this.updateSetting = _this.updateSetting.bind(_this);\n        _this.toggleFeature = _this.toggleFeature.bind(_this);\n        _this.saveEnabledFeatures = _this.saveEnabledFeatures.bind(_this);\n\n        _this.renderFormattingSection = _this.renderFormattingSection.bind(_this);\n        _this.renderJoinLeaveSection = _this.renderJoinLeaveSection.bind(_this);\n\n        _this.state = _this.getStateFromStores();\n        return _this;\n    }\n\n    (0, _createClass3.default)(AdvancedSettingsDisplay, [{\n        key: 'getStateFromStores',\n        value: function getStateFromStores() {\n            var preReleaseFeaturesKeys = (0, _keys2.default)(PreReleaseFeatures);\n            var advancedSettings = _preference_store2.default.getCategory(_constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS);\n            var settings = {\n                send_on_ctrl_enter: _preference_store2.default.get(_constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter', 'false'),\n                formatting: _preference_store2.default.get(_constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS, 'formatting', 'true'),\n                join_leave: _preference_store2.default.get(_constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS, 'join_leave', 'true')\n            };\n\n            var webrtcEnabled = global.mm_config.EnableWebrtc === 'true';\n\n            if (!webrtcEnabled) {\n                preReleaseFeaturesKeys = preReleaseFeaturesKeys.filter(function (f) {\n                    return f !== 'WEBRTC_PREVIEW';\n                });\n            }\n\n            var enabledFeatures = 0;\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = (0, _getIterator3.default)(advancedSettings), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var _step$value = (0, _slicedToArray3.default)(_step.value, 2),\n                        name = _step$value[0],\n                        value = _step$value[1];\n\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = (0, _getIterator3.default)(preReleaseFeaturesKeys), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var key = _step2.value;\n\n                            var feature = PreReleaseFeatures[key];\n\n                            if (name === _constants2.default.FeatureTogglePrefix + feature.label) {\n                                settings[name] = value;\n\n                                if (value === 'true') {\n                                    enabledFeatures += 1;\n                                }\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            var isSaving = false;\n\n            return { preReleaseFeatures: PreReleaseFeatures,\n                settings: settings,\n                preReleaseFeaturesKeys: preReleaseFeaturesKeys,\n                enabledFeatures: enabledFeatures,\n                isSaving: isSaving\n            };\n        }\n    }, {\n        key: 'updateSetting',\n        value: function updateSetting(setting, value) {\n            var settings = this.state.settings;\n            settings[setting] = value;\n            this.setState(settings);\n        }\n    }, {\n        key: 'toggleFeature',\n        value: function toggleFeature(feature, checked) {\n            var _this2 = this;\n\n            var settings = this.state.settings;\n            settings[_constants2.default.FeatureTogglePrefix + feature] = String(checked);\n\n            var enabledFeatures = 0;\n            (0, _keys2.default)(this.state.settings).forEach(function (setting) {\n                if (setting.lastIndexOf(_constants2.default.FeatureTogglePrefix) === 0 && _this2.state.settings[setting] === 'true') {\n                    enabledFeatures++;\n                }\n            });\n\n            this.setState({ settings: settings, enabledFeatures: enabledFeatures });\n        }\n    }, {\n        key: 'saveEnabledFeatures',\n        value: function saveEnabledFeatures() {\n            var features = [];\n            (0, _keys2.default)(this.state.settings).forEach(function (setting) {\n                if (setting.lastIndexOf(_constants2.default.FeatureTogglePrefix) === 0) {\n                    features.push(setting);\n                }\n            });\n\n            this.handleSubmit(features);\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(settings) {\n            var _this3 = this;\n\n            var preferences = [];\n            var userId = _user_store2.default.getCurrentId();\n\n            // this should be refactored so we can actually be certain about what type everything is\n            (Array.isArray(settings) ? settings : [settings]).forEach(function (setting) {\n                preferences.push({\n                    user_id: userId,\n                    category: _constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS,\n                    name: setting,\n                    value: _this3.state.settings[setting]\n                });\n            });\n\n            this.setState({ isSaving: true });\n\n            (0, _user_actions.savePreferences)(preferences, function () {\n                _this3.updateSection('');\n            });\n        }\n    }, {\n        key: 'updateSection',\n        value: function updateSection(section) {\n            if (!section) {\n                this.setState(this.getStateFromStores());\n            }\n            this.setState({ isSaving: false });\n            this.props.updateSection(section);\n        }\n    }, {\n        key: 'renderOnOffLabel',\n        value: function renderOnOffLabel(enabled) {\n            if (enabled === 'false') {\n                return _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.advance.off',\n                    defaultMessage: 'Off'\n                });\n            }\n\n            return _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'user.settings.advance.on',\n                defaultMessage: 'On'\n            });\n        }\n    }, {\n        key: 'renderFormattingSection',\n        value: function renderFormattingSection() {\n            var _this4 = this;\n\n            if (this.props.activeSection === 'formatting') {\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.advance.formattingTitle',\n                        defaultMessage: 'Enable Post Formatting'\n                    }),\n                    inputs: [_react2.default.createElement(\n                        'div',\n                        { key: 'formattingSetting' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'radio' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'postFormattingOn',\n                                    type: 'radio',\n                                    name: 'formatting',\n                                    checked: this.state.settings.formatting !== 'false',\n                                    onChange: this.updateSetting.bind(this, 'formatting', 'true')\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.advance.on',\n                                    defaultMessage: 'On'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'radio' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'postFormattingOff',\n                                    type: 'radio',\n                                    name: 'formatting',\n                                    checked: this.state.settings.formatting === 'false',\n                                    onChange: this.updateSetting.bind(this, 'formatting', 'false')\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.advance.off',\n                                    defaultMessage: 'Off'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement('br', null),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.advance.formattingDesc',\n                                defaultMessage: 'If enabled, posts will be formatted to create links, show emoji, style the text, and add line breaks. By default, this setting is enabled. Changing this setting requires the page to be refreshed.'\n                            })\n                        )\n                    )],\n                    submit: function submit() {\n                        return _this4.handleSubmit('formatting');\n                    },\n                    saving: this.state.isSaving,\n                    server_error: this.state.serverError,\n                    updateSection: function updateSection(e) {\n                        _this4.updateSection('');\n                        e.preventDefault();\n                    }\n                });\n            }\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.advance.formattingTitle',\n                    defaultMessage: 'Enable Post Formatting'\n                }),\n                describe: this.renderOnOffLabel(this.state.settings.formatting),\n                updateSection: function updateSection() {\n                    return _this4.props.updateSection('formatting');\n                }\n            });\n        }\n    }, {\n        key: 'renderJoinLeaveSection',\n        value: function renderJoinLeaveSection() {\n            var _this5 = this;\n\n            if (window.mm_config.BuildEnterpriseReady === 'true' && window.mm_license && window.mm_license.IsLicensed === 'true') {\n                if (this.props.activeSection === 'join_leave') {\n                    return _react2.default.createElement(_setting_item_max2.default, {\n                        title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.advance.joinLeaveTitle',\n                            defaultMessage: 'Enable Join/Leave Messages'\n                        }),\n                        inputs: [_react2.default.createElement(\n                            'div',\n                            { key: 'joinLeaveSetting' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'radio' },\n                                _react2.default.createElement(\n                                    'label',\n                                    null,\n                                    _react2.default.createElement('input', {\n                                        id: 'joinLeaveOn',\n                                        type: 'radio',\n                                        name: 'join_leave',\n                                        checked: this.state.settings.join_leave !== 'false',\n                                        onChange: this.updateSetting.bind(this, 'join_leave', 'true')\n                                    }),\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'user.settings.advance.on',\n                                        defaultMessage: 'On'\n                                    })\n                                ),\n                                _react2.default.createElement('br', null)\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'radio' },\n                                _react2.default.createElement(\n                                    'label',\n                                    null,\n                                    _react2.default.createElement('input', {\n                                        id: 'joinLeaveOff',\n                                        type: 'radio',\n                                        name: 'join_leave',\n                                        checked: this.state.settings.join_leave === 'false',\n                                        onChange: this.updateSetting.bind(this, 'join_leave', 'false')\n                                    }),\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'user.settings.advance.off',\n                                        defaultMessage: 'Off'\n                                    })\n                                ),\n                                _react2.default.createElement('br', null)\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                null,\n                                _react2.default.createElement('br', null),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.advance.joinLeaveDesc',\n                                    defaultMessage: 'When \"On\", System Messages saying a user has joined or left a channel will be visible. When \"Off\", the System Messages about joining or leaving a channel will be hidden. A message will still show up when you are added to a channel, so you can receive a notification.'\n                                })\n                            )\n                        )],\n                        submit: function submit() {\n                            return _this5.handleSubmit('join_leave');\n                        },\n                        saving: this.state.isSaving,\n                        server_error: this.state.serverError,\n                        updateSection: function updateSection(e) {\n                            _this5.updateSection('');\n                            e.preventDefault();\n                        }\n                    });\n                }\n\n                return _react2.default.createElement(_setting_item_min2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.advance.joinLeaveTitle',\n                        defaultMessage: 'Enable Join/Leave Messages'\n                    }),\n                    describe: this.renderOnOffLabel(this.state.settings.join_leave),\n                    updateSection: function updateSection() {\n                        return _this5.props.updateSection('join_leave');\n                    }\n                });\n            }\n\n            return null;\n        }\n    }, {\n        key: 'renderFeatureLabel',\n        value: function renderFeatureLabel(feature) {\n            switch (feature) {\n                case 'MARKDOWN_PREVIEW':\n                    return _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.advance.markdown_preview',\n                        defaultMessage: 'Show markdown preview option in message input box'\n                    });\n                case 'WEBRTC_PREVIEW':\n                    return _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.advance.webrtc_preview',\n                        defaultMessage: 'Enable the ability to make and receive one-on-one WebRTC calls'\n                    });\n                default:\n                    return null;\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this6 = this;\n\n            var serverError = this.state.serverError || null;\n            var ctrlSendSection = void 0;\n\n            if (this.props.activeSection === 'advancedCtrlSend') {\n                var ctrlSendActive = [this.state.settings.send_on_ctrl_enter === 'true', this.state.settings.send_on_ctrl_enter === 'false'];\n\n                var inputs = [_react2.default.createElement(\n                    'div',\n                    { key: 'ctrlSendSetting' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'ctrlSendOn',\n                                type: 'radio',\n                                name: 'sendOnCtrlEnter',\n                                checked: ctrlSendActive[0],\n                                onChange: this.updateSetting.bind(this, 'send_on_ctrl_enter', 'true')\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.advance.on',\n                                defaultMessage: 'On'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'ctrlSendOff',\n                                type: 'radio',\n                                name: 'sendOnCtrlEnter',\n                                checked: ctrlSendActive[1],\n                                onChange: this.updateSetting.bind(this, 'send_on_ctrl_enter', 'false')\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.advance.off',\n                                defaultMessage: 'Off'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.advance.sendDesc',\n                            defaultMessage: 'If enabled ENTER inserts a new line and CTRL+ENTER submits the message.'\n                        })\n                    )\n                )];\n                ctrlSendSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.advance.sendTitle',\n                        defaultMessage: 'Send messages on CTRL+ENTER'\n                    }),\n                    inputs: inputs,\n                    submit: function submit() {\n                        return _this6.handleSubmit('send_on_ctrl_enter');\n                    },\n                    saving: this.state.isSaving,\n                    server_error: serverError,\n                    updateSection: function updateSection(e) {\n                        _this6.updateSection('');\n                        e.preventDefault();\n                    }\n                });\n            } else {\n                ctrlSendSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.advance.sendTitle',\n                        defaultMessage: 'Send messages on CTRL+ENTER'\n                    }),\n                    describe: this.renderOnOffLabel(this.state.settings.send_on_ctrl_enter),\n                    updateSection: function updateSection() {\n                        return _this6.props.updateSection('advancedCtrlSend');\n                    }\n                });\n            }\n\n            var formattingSection = this.renderFormattingSection();\n            var formattingSectionDivider = null;\n            if (formattingSection) {\n                formattingSectionDivider = _react2.default.createElement('div', { className: 'divider-light' });\n            }\n\n            var displayJoinLeaveSection = this.renderJoinLeaveSection();\n            var displayJoinLeaveSectionDivider = null;\n            if (displayJoinLeaveSection) {\n                displayJoinLeaveSectionDivider = _react2.default.createElement('div', { className: 'divider-light' });\n            }\n\n            var previewFeaturesSection = void 0;\n            var previewFeaturesSectionDivider = void 0;\n            if (this.state.preReleaseFeaturesKeys.length > 0) {\n                previewFeaturesSectionDivider = _react2.default.createElement('div', { className: 'divider-light' });\n\n                if (this.props.activeSection === 'advancedPreviewFeatures') {\n                    var _inputs = [];\n\n                    this.state.preReleaseFeaturesKeys.forEach(function (key) {\n                        var feature = _this6.state.preReleaseFeatures[key];\n                        _inputs.push(_react2.default.createElement(\n                            'div',\n                            { key: 'advancedPreviewFeatures_' + feature.label },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'checkbox' },\n                                _react2.default.createElement(\n                                    'label',\n                                    null,\n                                    _react2.default.createElement('input', {\n                                        id: 'advancedPreviewFeatures' + feature.label,\n                                        type: 'checkbox',\n                                        checked: _this6.state.settings[_constants2.default.FeatureTogglePrefix + feature.label] === 'true',\n                                        onChange: function onChange(e) {\n                                            _this6.toggleFeature(feature.label, e.target.checked);\n                                        }\n                                    }),\n                                    _this6.renderFeatureLabel(key)\n                                )\n                            )\n                        ));\n                    });\n\n                    _inputs.push(_react2.default.createElement(\n                        'div',\n                        { key: 'advancedPreviewFeatures_helptext' },\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.advance.preReleaseDesc',\n                            defaultMessage: 'Check any pre-released features you\\'d like to preview.  You may also need to refresh the page before the setting will take effect.'\n                        })\n                    ));\n                    previewFeaturesSection = _react2.default.createElement(_setting_item_max2.default, {\n                        title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.advance.preReleaseTitle',\n                            defaultMessage: 'Preview pre-release features'\n                        }),\n                        inputs: _inputs,\n                        submit: this.saveEnabledFeatures,\n                        saving: this.state.isSaving,\n                        server_error: serverError,\n                        updateSection: function updateSection(e) {\n                            _this6.updateSection('');\n                            e.preventDefault();\n                        }\n                    });\n                } else {\n                    previewFeaturesSection = _react2.default.createElement(_setting_item_min2.default, {\n                        title: Utils.localizeMessage('user.settings.advance.preReleaseTitle', 'Preview pre-release features'),\n                        describe: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.advance.enabledFeatures',\n                            defaultMessage: '{count, number} {count, plural, one {Feature} other {Features}} Enabled',\n                            values: { count: this.state.enabledFeatures }\n                        }),\n                        updateSection: function updateSection() {\n                            return _this6.props.updateSection('advancedPreviewFeatures');\n                        }\n                    });\n                }\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: 'closeButton',\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            'aria-label': 'Close',\n                            onClick: this.props.closeModal\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            '×'\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', {\n                                className: 'fa fa-angle-left',\n                                onClick: this.props.collapseModal\n                            })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.advance.title',\n                            defaultMessage: 'Advanced Settings'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'user-settings' },\n                    _react2.default.createElement(\n                        'h3',\n                        { className: 'tab-header' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.advance.title',\n                            defaultMessage: 'Advanced Settings'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    ctrlSendSection,\n                    formattingSectionDivider,\n                    formattingSection,\n                    displayJoinLeaveSectionDivider,\n                    displayJoinLeaveSection,\n                    previewFeaturesSectionDivider,\n                    previewFeaturesSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' })\n                )\n            );\n        }\n    }]);\n    return AdvancedSettingsDisplay;\n}(_react2.default.Component);\n\nexports.default = AdvancedSettingsDisplay;\n\n\nAdvancedSettingsDisplay.propTypes = {\n    user: _propTypes2.default.object,\n    updateSection: _propTypes2.default.func,\n    updateTab: _propTypes2.default.func,\n    activeSection: _propTypes2.default.string,\n    closeModal: _propTypes2.default.func.isRequired,\n    collapseModal: _propTypes2.default.func.isRequired\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2445:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _user_actions = __webpack_require__(69);\n\nvar _preference_store = __webpack_require__(119);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _i18n = __webpack_require__(439);\n\nvar I18n = _interopRequireWildcard(_i18n);\n\nvar _setting_item_max = __webpack_require__(736);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(737);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nvar _manage_languages = __webpack_require__(2446);\n\nvar _manage_languages2 = _interopRequireDefault(_manage_languages);\n\nvar _user_settings_theme = __webpack_require__(2447);\n\nvar _user_settings_theme2 = _interopRequireDefault(_user_settings_theme);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Preferences = _constants2.default.Preferences; // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction getDisplayStateFromStores() {\n    return {\n        militaryTime: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, 'use_military_time', 'false'),\n        channelDisplayMode: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.CHANNEL_DISPLAY_MODE, Preferences.CHANNEL_DISPLAY_MODE_DEFAULT),\n        messageDisplay: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT),\n        collapseDisplay: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.COLLAPSE_DISPLAY, Preferences.COLLAPSE_DISPLAY_DEFAULT),\n        linkPreviewDisplay: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.LINK_PREVIEW_DISPLAY, Preferences.LINK_PREVIEW_DISPLAY_DEFAULT)\n    };\n}\n\nvar UserSettingsDisplay = function (_React$Component) {\n    (0, _inherits3.default)(UserSettingsDisplay, _React$Component);\n\n    function UserSettingsDisplay(props) {\n        (0, _classCallCheck3.default)(this, UserSettingsDisplay);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (UserSettingsDisplay.__proto__ || (0, _getPrototypeOf2.default)(UserSettingsDisplay)).call(this, props));\n\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleClockRadio = _this.handleClockRadio.bind(_this);\n        _this.updateSection = _this.updateSection.bind(_this);\n        _this.updateState = _this.updateState.bind(_this);\n\n        _this.state = getDisplayStateFromStores();\n        _this.setState({ isSaving: false });\n        return _this;\n    }\n\n    (0, _createClass3.default)(UserSettingsDisplay, [{\n        key: 'handleSubmit',\n        value: function handleSubmit() {\n            var _this2 = this;\n\n            var userId = _user_store2.default.getCurrentId();\n\n            var timePreference = {\n                user_id: userId,\n                category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n                name: 'use_military_time',\n                value: this.state.militaryTime\n            };\n\n            var channelDisplayModePreference = {\n                user_id: userId,\n                category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n                name: Preferences.CHANNEL_DISPLAY_MODE,\n                value: this.state.channelDisplayMode\n            };\n            var messageDisplayPreference = {\n                user_id: userId,\n                category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n                name: Preferences.MESSAGE_DISPLAY,\n                value: this.state.messageDisplay\n            };\n            var collapseDisplayPreference = {\n                user_id: userId,\n                category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n                name: Preferences.COLLAPSE_DISPLAY,\n                value: this.state.collapseDisplay\n            };\n            var linkPreviewDisplayPreference = {\n                user_id: userId,\n                category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n                name: Preferences.LINK_PREVIEW_DISPLAY,\n                value: this.state.linkPreviewDisplay\n            };\n\n            this.setState({ isSaving: true });\n\n            (0, _user_actions.savePreferences)([timePreference, channelDisplayModePreference, messageDisplayPreference, collapseDisplayPreference, linkPreviewDisplayPreference], function () {\n                _this2.updateSection('');\n            });\n        }\n    }, {\n        key: 'handleClockRadio',\n        value: function handleClockRadio(militaryTime) {\n            this.setState({ militaryTime: militaryTime });\n        }\n    }, {\n        key: 'handleChannelDisplayModeRadio',\n        value: function handleChannelDisplayModeRadio(channelDisplayMode) {\n            this.setState({ channelDisplayMode: channelDisplayMode });\n        }\n    }, {\n        key: 'handlemessageDisplayRadio',\n        value: function handlemessageDisplayRadio(messageDisplay) {\n            this.setState({ messageDisplay: messageDisplay });\n        }\n    }, {\n        key: 'handleCollapseRadio',\n        value: function handleCollapseRadio(collapseDisplay) {\n            this.setState({ collapseDisplay: collapseDisplay });\n        }\n    }, {\n        key: 'handleLinkPreviewRadio',\n        value: function handleLinkPreviewRadio(linkPreviewDisplay) {\n            this.setState({ linkPreviewDisplay: linkPreviewDisplay });\n        }\n    }, {\n        key: 'handleOnChange',\n        value: function handleOnChange(display) {\n            this.setState((0, _extends3.default)({}, display));\n        }\n    }, {\n        key: 'updateSection',\n        value: function updateSection(section) {\n            this.updateState();\n            this.props.updateSection(section);\n        }\n    }, {\n        key: 'updateState',\n        value: function updateState() {\n            var newState = getDisplayStateFromStores();\n            if (!Utils.areObjectsEqual(newState, this.state)) {\n                this.setState(newState);\n            }\n\n            this.setState({ isSaving: false });\n        }\n    }, {\n        key: 'createSection',\n        value: function createSection(props) {\n            var _this3 = this;\n\n            var section = props.section,\n                display = props.display,\n                value = props.value,\n                title = props.title,\n                firstOption = props.firstOption,\n                secondOption = props.secondOption,\n                description = props.description;\n\n\n            var firstMessage = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: firstOption.radionButtonText.id,\n                defaultMessage: firstOption.radionButtonText.message\n            });\n\n            var moreColon = void 0;\n            var firstMessageMore = void 0;\n            if (firstOption.radionButtonText.moreId) {\n                moreColon = ': ';\n                firstMessageMore = _react2.default.createElement(\n                    'span',\n                    { className: 'font-weight--normal' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: firstOption.radionButtonText.moreId,\n                        defaultMessage: firstOption.radionButtonText.moreMessage\n                    })\n                );\n            }\n\n            var secondMessageMore = void 0;\n            if (secondOption.radionButtonText.moreId) {\n                secondMessageMore = _react2.default.createElement(\n                    'span',\n                    { className: 'font-weight--normal' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: secondOption.radionButtonText.moreId,\n                        defaultMessage: secondOption.radionButtonText.moreMessage\n                    })\n                );\n            }\n\n            var secondMessage = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: secondOption.radionButtonText.id,\n                defaultMessage: secondOption.radionButtonText.message\n            });\n\n            var messageTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: title.id,\n                defaultMessage: title.message\n            });\n\n            var messageDesc = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: description.id,\n                defaultMessage: description.message\n            });\n\n            if (this.props.activeSection === section) {\n                var format = [false, false];\n                if (value === firstOption.value) {\n                    format[0] = true;\n                } else {\n                    format[1] = true;\n                }\n\n                var _handleUpdateSection = function _handleUpdateSection(e) {\n                    _this3.updateSection('');\n                    e.preventDefault();\n                };\n\n                var name = section + 'Format';\n                var key = section + 'UserDisplay';\n\n                var firstDisplay = {};\n                firstDisplay[display] = firstOption.value;\n\n                var secondDisplay = {};\n                secondDisplay[display] = secondOption.value;\n\n                var inputs = [_react2.default.createElement(\n                    'div',\n                    { key: key },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: name + 'A',\n                                type: 'radio',\n                                name: name,\n                                checked: format[0],\n                                onChange: function onChange() {\n                                    return _this3.handleOnChange(firstDisplay);\n                                }\n                            }),\n                            firstMessage,\n                            moreColon,\n                            firstMessageMore\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: name + 'B',\n                                type: 'radio',\n                                name: name,\n                                checked: format[1],\n                                onChange: function onChange() {\n                                    return _this3.handleOnChange(secondDisplay);\n                                }\n                            }),\n                            secondMessage,\n                            moreColon,\n                            secondMessageMore\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement('br', null),\n                        messageDesc\n                    )\n                )];\n\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: messageTitle,\n                    inputs: inputs,\n                    submit: this.handleSubmit,\n                    saving: this.state.isSaving,\n                    server_error: this.state.serverError,\n                    updateSection: _handleUpdateSection\n                });\n            }\n\n            var describe = void 0;\n            if (value === firstOption.value) {\n                describe = firstMessage;\n            } else {\n                describe = secondMessage;\n            }\n\n            var handleUpdateSection = function handleUpdateSection() {\n                _this3.props.updateSection(section);\n            };\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: messageTitle,\n                describe: describe,\n                updateSection: handleUpdateSection\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var collapseSection = this.createSection({\n                section: 'collapse',\n                display: 'collapseDisplay',\n                value: this.state.collapseDisplay,\n                defaultDisplay: 'false',\n                title: {\n                    id: 'user.settings.display.collapseDisplay',\n                    message: 'Default appearance of image link previews'\n                },\n                firstOption: {\n                    value: 'false',\n                    radionButtonText: {\n                        id: 'user.settings.display.collapseOn',\n                        message: 'On'\n                    }\n                },\n                secondOption: {\n                    value: 'true',\n                    radionButtonText: {\n                        id: 'user.settings.display.collapseOff',\n                        message: 'Off'\n                    }\n                },\n                description: {\n                    id: 'user.settings.display.collapseDesc',\n                    message: 'Set whether previews of image links show as expanded or collapsed by default. This setting can also be controlled using the slash commands /expand and /collapse.'\n                }\n            });\n\n            var isEnableLinkPreviews = global.window.mm_config.EnableLinkPreviews === 'true';\n            var linkPreviewSection = null;\n            var divider = null;\n            if (isEnableLinkPreviews) {\n                linkPreviewSection = this.createSection({\n                    section: 'linkpreview',\n                    display: 'linkPreviewDisplay',\n                    value: this.state.linkPreviewDisplay,\n                    defaultDisplay: 'true',\n                    title: {\n                        id: 'user.settings.display.linkPreviewDisplay',\n                        message: 'Website Link Previews'\n                    },\n                    firstOption: {\n                        value: 'true',\n                        radionButtonText: {\n                            id: 'user.settings.display.linkPreviewOn',\n                            message: 'On'\n                        }\n                    },\n                    secondOption: {\n                        value: 'false',\n                        radionButtonText: {\n                            id: 'user.settings.display.linkPreviewOff',\n                            message: 'Off'\n                        }\n                    },\n                    description: {\n                        id: 'user.settings.display.linkPreviewDesc',\n                        message: 'When available, the first web link in a message will show a preview of the website content below the message.'\n                    }\n                });\n                divider = _react2.default.createElement('div', { className: 'divider-dark' });\n            }\n\n            var clockSection = this.createSection({\n                section: 'clock',\n                display: 'militaryTime',\n                value: this.state.militaryTime,\n                defaultDisplay: 'false',\n                title: {\n                    id: 'user.settings.display.clockDisplay',\n                    message: 'Clock Display'\n                },\n                firstOption: {\n                    value: 'false',\n                    radionButtonText: {\n                        id: 'user.settings.display.normalClock',\n                        message: '12-hour clock (example: 4:00 PM)'\n                    }\n                },\n                secondOption: {\n                    value: 'true',\n                    radionButtonText: {\n                        id: 'user.settings.display.militaryClock',\n                        message: '24-hour clock (example: 16:00)'\n                    }\n                },\n                description: {\n                    id: 'user.settings.display.preferTime',\n                    message: 'Select how you prefer time displayed.'\n                }\n            });\n\n            var messageDisplaySection = this.createSection({\n                section: Preferences.MESSAGE_DISPLAY,\n                display: 'messageDisplay',\n                value: this.state.messageDisplay,\n                defaultDisplay: Preferences.MESSAGE_DISPLAY_CLEAN,\n                title: {\n                    id: 'user.settings.display.messageDisplayTitle',\n                    message: 'Message Display'\n                },\n                firstOption: {\n                    value: Preferences.MESSAGE_DISPLAY_CLEAN,\n                    radionButtonText: {\n                        id: 'user.settings.display.messageDisplayClean',\n                        message: 'Standard',\n                        moreId: 'user.settings.display.messageDisplayCleanDes',\n                        moreMessage: 'Easy to scan and read.'\n                    }\n                },\n                secondOption: {\n                    value: Preferences.MESSAGE_DISPLAY_COMPACT,\n                    radionButtonText: {\n                        id: 'user.settings.display.messageDisplayCompact',\n                        message: 'Compact',\n                        moreId: 'user.settings.display.messageDisplayCompactDes',\n                        moreMessage: 'Fit as many messages on the screen as we can.'\n                    }\n                },\n                description: {\n                    id: 'user.settings.display.messageDisplayDescription',\n                    message: 'Select how messages in a channel should be displayed.'\n                }\n            });\n\n            var channelDisplayModeSection = this.createSection({\n                section: Preferences.CHANNEL_DISPLAY_MODE,\n                display: 'channelDisplayMode',\n                value: this.state.channelDisplayMode,\n                defaultDisplay: Preferences.CHANNEL_DISPLAY_MODE_FULL_SCREEN,\n                title: {\n                    id: 'user.settings.display.channelDisplayTitle',\n                    message: 'Channel Display Mode'\n                },\n                firstOption: {\n                    value: Preferences.CHANNEL_DISPLAY_MODE_FULL_SCREEN,\n                    radionButtonText: {\n                        id: 'user.settings.display.fullScreen',\n                        message: 'Full width'\n                    }\n                },\n                secondOption: {\n                    value: Preferences.CHANNEL_DISPLAY_MODE_CENTERED,\n                    radionButtonText: {\n                        id: 'user.settings.display.fixedWidthCentered',\n                        message: 'Fixed width, centered'\n                    }\n                },\n                description: {\n                    id: 'user.settings.display.channeldisplaymode',\n                    message: 'Select the width of the center channel.'\n                }\n            });\n\n            var languagesSection = void 0;\n            var userLocale = this.props.user.locale;\n            if (this.props.activeSection === 'languages') {\n                if (!I18n.isLanguageAvailable(userLocale)) {\n                    userLocale = global.window.mm_config.DefaultClientLocale;\n                }\n                languagesSection = _react2.default.createElement(_manage_languages2.default, {\n                    user: this.props.user,\n                    locale: userLocale,\n                    updateSection: function updateSection(e) {\n                        _this4.updateSection('');\n                        e.preventDefault();\n                    }\n                });\n            } else {\n                var locale = void 0;\n                if (I18n.isLanguageAvailable(userLocale)) {\n                    locale = I18n.getLanguageInfo(userLocale).name;\n                } else {\n                    locale = I18n.getLanguageInfo(global.window.mm_config.DefaultClientLocale).name;\n                }\n\n                languagesSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.display.language',\n                        defaultMessage: 'Language'\n                    }),\n                    width: 'medium',\n                    describe: locale,\n                    updateSection: function updateSection() {\n                        _this4.updateSection('languages');\n                    }\n                });\n            }\n\n            var themeSection = void 0;\n            if (global.mm_config.EnableThemeSelection !== 'false') {\n                themeSection = _react2.default.createElement(_user_settings_theme2.default, {\n                    selected: this.props.activeSection === 'theme',\n                    updateSection: this.updateSection,\n                    setRequireConfirm: this.props.setRequireConfirm,\n                    setEnforceFocus: this.props.setEnforceFocus\n                });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { id: 'displaySettings' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: 'closeButton',\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            'aria-label': 'Close',\n                            onClick: this.props.closeModal\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            '×'\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', {\n                                className: 'fa fa-angle-left',\n                                onClick: this.props.collapseModal\n                            })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.display.title',\n                            defaultMessage: 'Display Settings'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'user-settings' },\n                    _react2.default.createElement(\n                        'h3',\n                        {\n                            id: 'displaySettingsTitle',\n                            className: 'tab-header'\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.display.title',\n                            defaultMessage: 'Display Settings'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    themeSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' }),\n                    clockSection,\n                    divider,\n                    linkPreviewSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' }),\n                    collapseSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' }),\n                    messageDisplaySection,\n                    _react2.default.createElement('div', { className: 'divider-dark' }),\n                    channelDisplayModeSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' }),\n                    languagesSection\n                )\n            );\n        }\n    }]);\n    return UserSettingsDisplay;\n}(_react2.default.Component);\n\nexports.default = UserSettingsDisplay;\n\n\nUserSettingsDisplay.propTypes = {\n    user: _propTypes2.default.object,\n    updateSection: _propTypes2.default.func,\n    updateTab: _propTypes2.default.func,\n    activeSection: _propTypes2.default.string,\n    closeModal: _propTypes2.default.func.isRequired,\n    collapseModal: _propTypes2.default.func.isRequired,\n    setRequireConfirm: _propTypes2.default.func.isRequired,\n    setEnforceFocus: _propTypes2.default.func.isRequired\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2446:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _keys = __webpack_require__(59);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _user_actions = __webpack_require__(69);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _i18n = __webpack_require__(439);\n\nvar I18n = _interopRequireWildcard(_i18n);\n\nvar _setting_item_max = __webpack_require__(736);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ManageLanguage = function (_React$Component) {\n    (0, _inherits3.default)(ManageLanguage, _React$Component);\n\n    function ManageLanguage(props) {\n        (0, _classCallCheck3.default)(this, ManageLanguage);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ManageLanguage.__proto__ || (0, _getPrototypeOf2.default)(ManageLanguage)).call(this, props));\n\n        _this.setLanguage = _this.setLanguage.bind(_this);\n        _this.changeLanguage = _this.changeLanguage.bind(_this);\n        _this.submitUser = _this.submitUser.bind(_this);\n        _this.state = {\n            locale: props.locale,\n            isSaving: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(ManageLanguage, [{\n        key: 'setLanguage',\n        value: function setLanguage(e) {\n            this.setState({ locale: e.target.value });\n        }\n    }, {\n        key: 'changeLanguage',\n        value: function changeLanguage(e) {\n            e.preventDefault();\n\n            this.submitUser((0, _extends3.default)({}, this.props.user, {\n                locale: this.state.locale\n            }));\n        }\n    }, {\n        key: 'submitUser',\n        value: function submitUser(user) {\n            var _this2 = this;\n\n            this.setState({ isSaving: true });\n\n            (0, _user_actions.updateUser)(user, _constants2.default.UserUpdateEvents.LANGUAGE, function () {\n                GlobalActions.newLocalizationSelected(user.locale);\n                _this2.setState({ isSaving: false });\n            }, function (err) {\n                var serverError = void 0;\n                if (err.message) {\n                    serverError = err.message;\n                } else {\n                    serverError = err;\n                }\n                _this2.setState({ serverError: serverError, isSaving: false });\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var serverError = void 0;\n            if (this.state.serverError) {\n                serverError = _react2.default.createElement(\n                    'label',\n                    { className: 'has-error' },\n                    this.state.serverError\n                );\n            }\n\n            var options = [];\n            var locales = I18n.getLanguages();\n\n            var languages = (0, _keys2.default)(locales).map(function (l) {\n                return {\n                    value: locales[l].value,\n                    name: locales[l].name,\n                    order: locales[l].order\n                };\n            }).sort(function (a, b) {\n                return a.order - b.order;\n            });\n\n            languages.forEach(function (lang) {\n                options.push(_react2.default.createElement(\n                    'option',\n                    {\n                        key: lang.value,\n                        value: lang.value\n                    },\n                    lang.name\n                ));\n            });\n\n            var input = _react2.default.createElement(\n                'div',\n                { key: 'changeLanguage' },\n                _react2.default.createElement('br', null),\n                _react2.default.createElement(\n                    'label',\n                    { className: 'control-label' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.languages.change',\n                        defaultMessage: 'Change interface language'\n                    })\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'padding-top' },\n                    _react2.default.createElement(\n                        'select',\n                        {\n                            id: 'displayLanguage',\n                            ref: 'language',\n                            className: 'form-control',\n                            value: this.state.locale,\n                            onChange: this.setLanguage\n                        },\n                        options\n                    ),\n                    serverError\n                ),\n                _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement('br', null),\n                    _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                        id: 'user.settings.languages.promote',\n                        defaultMessage: 'Select which language Mattermost displays in the user interface.<br /><br />Would like to help with translations? Join the <a href=\"http://translate.mattermost.com/\" target=\"_blank\">Mattermost Translation Server</a> to contribute.'\n                    })\n                )\n            );\n\n            return _react2.default.createElement(_setting_item_max2.default, {\n                title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.display.language',\n                    defaultMessage: 'Language'\n                }),\n                width: 'medium',\n                submit: this.changeLanguage,\n                saving: this.state.isSaving,\n                inputs: [input],\n                updateSection: this.props.updateSection\n            });\n        }\n    }]);\n    return ManageLanguage;\n}(_react2.default.Component);\n\nexports.default = ManageLanguage;\n\n\nManageLanguage.propTypes = {\n    user: _propTypes2.default.object.isRequired,\n    locale: _propTypes2.default.string.isRequired,\n    updateSection: _propTypes2.default.func.isRequired\n};\n\n/***/ }),\n\n/***/ 2447:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _keys = __webpack_require__(59);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _assign = __webpack_require__(41);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(47);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _user_actions = __webpack_require__(69);\n\nvar UserActions = _interopRequireWildcard(_user_actions);\n\nvar _preference_store = __webpack_require__(119);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _team_store = __webpack_require__(35);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _app_dispatcher = __webpack_require__(34);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _setting_item_max = __webpack_require__(736);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(737);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nvar _custom_theme_chooser = __webpack_require__(2448);\n\nvar _custom_theme_chooser2 = _interopRequireDefault(_custom_theme_chooser);\n\nvar _premade_theme_chooser = __webpack_require__(2452);\n\nvar _premade_theme_chooser2 = _interopRequireDefault(_premade_theme_chooser);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ThemeSetting = function (_React$Component) {\n    (0, _inherits3.default)(ThemeSetting, _React$Component);\n\n    function ThemeSetting(props) {\n        (0, _classCallCheck3.default)(this, ThemeSetting);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ThemeSetting.__proto__ || (0, _getPrototypeOf2.default)(ThemeSetting)).call(this, props));\n\n        _this.onChange = _this.onChange.bind(_this);\n        _this.submitTheme = _this.submitTheme.bind(_this);\n        _this.updateTheme = _this.updateTheme.bind(_this);\n        _this.resetFields = _this.resetFields.bind(_this);\n        _this.handleImportModal = _this.handleImportModal.bind(_this);\n\n        _this.state = _this.getStateFromStores();\n        _this.setState({ isSaving: false });\n\n        _this.originalTheme = (0, _assign2.default)({}, _this.state.theme);\n        return _this;\n    }\n\n    (0, _createClass3.default)(ThemeSetting, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _user_store2.default.addChangeListener(this.onChange);\n\n            if (this.props.selected) {\n                (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs[this.state.theme])).addClass('active-border');\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            if (this.props.selected) {\n                (0, _jquery2.default)('.color-btn').removeClass('active-border');\n                (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs[this.state.theme])).addClass('active-border');\n            }\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (this.props.selected && !nextProps.selected) {\n                this.resetFields();\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _user_store2.default.removeChangeListener(this.onChange);\n\n            if (this.props.selected) {\n                var state = this.getStateFromStores();\n                Utils.applyTheme(state.theme);\n            }\n        }\n    }, {\n        key: 'getStateFromStores',\n        value: function getStateFromStores() {\n            var teamId = _team_store2.default.getCurrentId();\n\n            var theme = _preference_store2.default.getTheme(teamId);\n            if (!theme.codeTheme) {\n                theme.codeTheme = _constants.Constants.DEFAULT_CODE_THEME;\n            }\n\n            var showAllTeamsCheckbox = false;\n            var applyToAllTeams = true;\n\n            if (global.window.mm_license.IsLicensed === 'true' && global.window.mm_license.LDAP === 'true') {\n                // show the \"apply to all teams\" checkbox if the user is on more than one team\n                showAllTeamsCheckbox = (0, _keys2.default)(_team_store2.default.getAll()).length > 1;\n\n                // check the \"apply to all teams\" checkbox by default if the user has any team-specific themes\n                applyToAllTeams = _preference_store2.default.getCategory(_constants.Preferences.CATEGORY_THEME).size <= 1;\n            }\n\n            return {\n                teamId: _team_store2.default.getCurrentId(),\n                theme: theme,\n                type: theme.type || 'premade',\n                showAllTeamsCheckbox: showAllTeamsCheckbox,\n                applyToAllTeams: applyToAllTeams\n            };\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange() {\n            var newState = this.getStateFromStores();\n\n            if (!Utils.areObjectsEqual(this.state, newState)) {\n                this.setState(newState);\n            }\n\n            this.props.setEnforceFocus(true);\n        }\n    }, {\n        key: 'scrollToTop',\n        value: function scrollToTop() {\n            (0, _jquery2.default)('.ps-container.modal-body').scrollTop(0);\n        }\n    }, {\n        key: 'submitTheme',\n        value: function submitTheme(e) {\n            var _this2 = this;\n\n            e.preventDefault();\n\n            var teamId = this.state.applyToAllTeams ? '' : this.state.teamId;\n\n            this.setState({ isSaving: true });\n\n            UserActions.saveTheme(teamId, this.state.theme, function () {\n                _this2.props.setRequireConfirm(false);\n                _this2.originalTheme = (0, _assign2.default)({}, _this2.state.theme);\n                _this2.scrollToTop();\n                _this2.props.updateSection('');\n                _this2.setState({ isSaving: false });\n            });\n        }\n    }, {\n        key: 'updateTheme',\n        value: function updateTheme(theme) {\n            var themeChanged = this.state.theme.length === theme.length;\n            if (!themeChanged) {\n                for (var field in theme) {\n                    if (theme.hasOwnProperty(field)) {\n                        if (this.state.theme[field] !== theme[field]) {\n                            themeChanged = true;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            this.props.setRequireConfirm(themeChanged);\n\n            this.setState({ theme: theme });\n            Utils.applyTheme(theme);\n        }\n    }, {\n        key: 'updateType',\n        value: function updateType(type) {\n            this.setState({ type: type });\n        }\n    }, {\n        key: 'resetFields',\n        value: function resetFields() {\n            var state = this.getStateFromStores();\n            state.serverError = null;\n            this.setState(state);\n            this.scrollToTop();\n\n            Utils.applyTheme(state.theme);\n\n            this.props.setRequireConfirm(false);\n        }\n    }, {\n        key: 'handleImportModal',\n        value: function handleImportModal() {\n            _app_dispatcher2.default.handleViewAction({\n                type: _constants.ActionTypes.TOGGLE_IMPORT_THEME_MODAL,\n                value: true,\n                callback: this.updateTheme\n            });\n\n            this.props.setEnforceFocus(false);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            var serverError;\n            if (this.state.serverError) {\n                serverError = this.state.serverError;\n            }\n\n            var displayCustom = this.state.type === 'custom';\n            var allowCustomThemes = global.mm_config.AllowCustomThemes !== 'false';\n\n            var custom = void 0;\n            var premade = void 0;\n            if (displayCustom && allowCustomThemes) {\n                custom = _react2.default.createElement(\n                    'div',\n                    { key: 'customThemeChooser' },\n                    _react2.default.createElement(_custom_theme_chooser2.default, {\n                        theme: this.state.theme,\n                        updateTheme: this.updateTheme\n                    })\n                );\n            } else {\n                premade = _react2.default.createElement(\n                    'div',\n                    { key: 'premadeThemeChooser' },\n                    _react2.default.createElement('br', null),\n                    _react2.default.createElement(_premade_theme_chooser2.default, {\n                        theme: this.state.theme,\n                        updateTheme: this.updateTheme\n                    })\n                );\n            }\n\n            var themeUI = void 0;\n            if (this.props.selected) {\n                var inputs = [];\n\n                if (allowCustomThemes) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            className: 'radio',\n                            key: 'premadeThemeColorLabel'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'standardThemes',\n                                type: 'radio',\n                                name: 'theme',\n                                checked: !displayCustom,\n                                onChange: this.updateType.bind(this, 'premade')\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.display.theme.themeColors',\n                                defaultMessage: 'Theme Colors'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ));\n                }\n\n                inputs.push(premade);\n\n                if (allowCustomThemes) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            className: 'radio',\n                            key: 'customThemeColorLabel'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'customThemes',\n                                type: 'radio',\n                                name: 'theme',\n                                checked: displayCustom,\n                                onChange: this.updateType.bind(this, 'custom')\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.display.theme.customTheme',\n                                defaultMessage: 'Custom Theme'\n                            })\n                        )\n                    ));\n\n                    inputs.push(custom);\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        { key: 'otherThemes' },\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                id: 'otherThemes',\n                                href: 'http://docs.mattermost.com/help/settings/theme-colors.html#custom-theme-examples',\n                                target: '_blank',\n                                rel: 'noopener noreferrer'\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.display.theme.otherThemes',\n                                defaultMessage: 'See other themes'\n                            })\n                        )\n                    ));\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'importSlackThemeButton',\n                            className: 'padding-top'\n                        },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                id: 'slackImportTheme',\n                                className: 'theme',\n                                onClick: this.handleImportModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.display.theme.import',\n                                defaultMessage: 'Import theme colors from Slack'\n                            })\n                        )\n                    ));\n                }\n\n                var allTeamsCheckbox = null;\n                if (this.state.showAllTeamsCheckbox) {\n                    allTeamsCheckbox = _react2.default.createElement(\n                        'div',\n                        { className: 'checkbox user-settings__submit-checkbox' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'applyThemeToAllTeams',\n                                type: 'checkbox',\n                                checked: this.state.applyToAllTeams,\n                                onChange: function onChange(e) {\n                                    return _this3.setState({ applyToAllTeams: e.target.checked });\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.display.theme.applyToAllTeams',\n                                defaultMessage: 'Apply new theme to all my teams'\n                            })\n                        )\n                    );\n                }\n\n                themeUI = _react2.default.createElement(_setting_item_max2.default, {\n                    inputs: inputs,\n                    submitExtra: allTeamsCheckbox,\n                    submit: this.submitTheme,\n                    saving: this.state.isSaving,\n                    server_error: serverError,\n                    width: 'full',\n                    updateSection: function updateSection(e) {\n                        _this3.props.updateSection('');\n                        e.preventDefault();\n                    }\n                });\n            } else {\n                themeUI = _react2.default.createElement(_setting_item_min2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.display.theme.title',\n                        defaultMessage: 'Theme'\n                    }),\n                    describe: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.display.theme.describe',\n                        defaultMessage: 'Open to manage your theme'\n                    }),\n                    updateSection: function updateSection() {\n                        _this3.props.updateSection('theme');\n                    }\n                });\n            }\n\n            return themeUI;\n        }\n    }]);\n    return ThemeSetting;\n}(_react2.default.Component);\n\nexports.default = ThemeSetting;\n\n\nThemeSetting.propTypes = {\n    selected: _propTypes2.default.bool.isRequired,\n    updateSection: _propTypes2.default.func.isRequired,\n    setRequireConfirm: _propTypes2.default.func.isRequired,\n    setEnforceFocus: _propTypes2.default.func.isRequired\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2448:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _assign = __webpack_require__(41);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _stringify = __webpack_require__(155);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _defineProperty2 = __webpack_require__(207);\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends3 = __webpack_require__(19);\n\nvar _extends4 = _interopRequireDefault(_extends3);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(40);\n\nvar _reactIntl = __webpack_require__(17);\n\n__webpack_require__(2449);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _user_agent = __webpack_require__(87);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _color_chooser = __webpack_require__(2450);\n\nvar _color_chooser2 = _interopRequireDefault(_color_chooser);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar messages = (0, _reactIntl.defineMessages)({\n    sidebarBg: {\n        id: 'user.settings.custom_theme.sidebarBg',\n        defaultMessage: 'Sidebar BG'\n    },\n    sidebarText: {\n        id: 'user.settings.custom_theme.sidebarText',\n        defaultMessage: 'Sidebar Text'\n    },\n    sidebarHeaderBg: {\n        id: 'user.settings.custom_theme.sidebarHeaderBg',\n        defaultMessage: 'Sidebar Header BG'\n    },\n    sidebarHeaderTextColor: {\n        id: 'user.settings.custom_theme.sidebarHeaderTextColor',\n        defaultMessage: 'Sidebar Header Text'\n    },\n    sidebarUnreadText: {\n        id: 'user.settings.custom_theme.sidebarUnreadText',\n        defaultMessage: 'Sidebar Unread Text'\n    },\n    sidebarTextHoverBg: {\n        id: 'user.settings.custom_theme.sidebarTextHoverBg',\n        defaultMessage: 'Sidebar Text Hover BG'\n    },\n    sidebarTextActiveBorder: {\n        id: 'user.settings.custom_theme.sidebarTextActiveBorder',\n        defaultMessage: 'Sidebar Text Active Border'\n    },\n    sidebarTextActiveColor: {\n        id: 'user.settings.custom_theme.sidebarTextActiveColor',\n        defaultMessage: 'Sidebar Text Active Color'\n    },\n    onlineIndicator: {\n        id: 'user.settings.custom_theme.onlineIndicator',\n        defaultMessage: 'Online Indicator'\n    },\n    awayIndicator: {\n        id: 'user.settings.custom_theme.awayIndicator',\n        defaultMessage: 'Away Indicator'\n    },\n    mentionBj: {\n        id: 'user.settings.custom_theme.mentionBj',\n        defaultMessage: 'Mention Jewel BG'\n    },\n    mentionColor: {\n        id: 'user.settings.custom_theme.mentionColor',\n        defaultMessage: 'Mention Jewel Text'\n    },\n    centerChannelBg: {\n        id: 'user.settings.custom_theme.centerChannelBg',\n        defaultMessage: 'Center Channel BG'\n    },\n    centerChannelColor: {\n        id: 'user.settings.custom_theme.centerChannelColor',\n        defaultMessage: 'Center Channel Text'\n    },\n    newMessageSeparator: {\n        id: 'user.settings.custom_theme.newMessageSeparator',\n        defaultMessage: 'New Message Separator'\n    },\n    linkColor: {\n        id: 'user.settings.custom_theme.linkColor',\n        defaultMessage: 'Link Color'\n    },\n    buttonBg: {\n        id: 'user.settings.custom_theme.buttonBg',\n        defaultMessage: 'Button BG'\n    },\n    buttonColor: {\n        id: 'user.settings.custom_theme.buttonColor',\n        defaultMessage: 'Button Text'\n    },\n    errorTextColor: {\n        id: 'user.settings.custom_theme.errorTextColor',\n        defaultMessage: 'Error Text Color'\n    },\n    mentionHighlightBg: {\n        id: 'user.settings.custom_theme.mentionHighlightBg',\n        defaultMessage: 'Mention Highlight BG'\n    },\n    mentionHighlightLink: {\n        id: 'user.settings.custom_theme.mentionHighlightLink',\n        defaultMessage: 'Mention Highlight Link'\n    },\n    codeTheme: {\n        id: 'user.settings.custom_theme.codeTheme',\n        defaultMessage: 'Code Theme'\n    }\n}); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar CustomThemeChooser = function (_React$Component) {\n    (0, _inherits3.default)(CustomThemeChooser, _React$Component);\n\n    function CustomThemeChooser(props) {\n        (0, _classCallCheck3.default)(this, CustomThemeChooser);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (CustomThemeChooser.__proto__ || (0, _getPrototypeOf2.default)(CustomThemeChooser)).call(this, props));\n\n        _this.handleColorChange = function (settingId, color) {\n            var _this$props = _this.props,\n                updateTheme = _this$props.updateTheme,\n                theme = _this$props.theme;\n\n            if (theme[settingId] !== color) {\n                updateTheme((0, _extends4.default)({}, theme, (0, _defineProperty3.default)({\n                    type: 'custom'\n                }, settingId, color)));\n            }\n        };\n\n        _this.pasteBoxChange = function (e) {\n            var text = '';\n\n            if (window.clipboardData && window.clipboardData.getData) {\n                // IE\n                text = window.clipboardData.getData('Text');\n            } else {\n                text = e.clipboardData.getData('Text'); //e.clipboardData.getData('text/plain');\n            }\n\n            if (text.length === 0) {\n                return;\n            }\n\n            var theme = void 0;\n            try {\n                theme = JSON.parse(text);\n            } catch (err) {\n                return;\n            }\n\n            _this.setState({\n                copyTheme: (0, _stringify2.default)(theme)\n            });\n\n            theme.type = 'custom';\n            _this.props.updateTheme(theme);\n        };\n\n        _this.onChangeHandle = function (e) {\n            e.stopPropagation();\n        };\n\n        _this.toggleSidebarStyles = function (e) {\n            e.preventDefault();\n\n            (0, _jquery2.default)(_this.refs.sidebarStylesHeader).toggleClass('open');\n            _this.toggleSection(_this.refs.sidebarStyles);\n        };\n\n        _this.toggleCenterChannelStyles = function (e) {\n            e.preventDefault();\n\n            (0, _jquery2.default)(_this.refs.centerChannelStylesHeader).toggleClass('open');\n            _this.toggleSection(_this.refs.centerChannelStyles);\n        };\n\n        _this.toggleLinkAndButtonStyles = function (e) {\n            e.preventDefault();\n\n            (0, _jquery2.default)(_this.refs.linkAndButtonStylesHeader).toggleClass('open');\n            _this.toggleSection(_this.refs.linkAndButtonStyles);\n        };\n\n        _this.onCodeThemeChange = function (e) {\n            var theme = _this.props.theme;\n            theme.codeTheme = e.target.value;\n            _this.props.updateTheme(theme);\n        };\n\n        _this.selectTheme = _this.selectTheme.bind(_this);\n\n        var copyTheme = (0, _assign2.default)({}, _this.props.theme);\n        delete copyTheme.type;\n        delete copyTheme.image;\n\n        _this.state = {\n            copyTheme: (0, _stringify2.default)(copyTheme)\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(CustomThemeChooser, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            (0, _jquery2.default)('.group--code').on('change', this.onCodeThemeChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            (0, _jquery2.default)('.group--code').off('change', this.onCodeThemeChange);\n        }\n    }, {\n        key: 'selectTheme',\n        value: function selectTheme() {\n            var textarea = this.refs.textarea;\n            textarea.focus();\n            textarea.setSelectionRange(0, this.state.copyTheme.length);\n        }\n    }, {\n        key: 'toggleSection',\n        value: function toggleSection(node) {\n            if (UserAgent.isIos()) {\n                // iOS doesn't support jQuery animations\n                (0, _jquery2.default)(node).toggleClass('open');\n            } else {\n                (0, _jquery2.default)(node).slideToggle();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var formatMessage = this.props.intl.formatMessage;\n\n            var theme = this.props.theme;\n\n            var sidebarElements = [];\n            var centerChannelElements = [];\n            var linkAndButtonElements = [];\n            _constants2.default.THEME_ELEMENTS.forEach(function (element, index) {\n                if (element.id === 'codeTheme') {\n                    var codeThemeOptions = [];\n                    var codeThemeURL = '';\n\n                    element.themes.forEach(function (codeTheme, codeThemeIndex) {\n                        if (codeTheme.id === theme[element.id]) {\n                            codeThemeURL = codeTheme.iconURL;\n                        }\n                        codeThemeOptions.push(_react2.default.createElement(\n                            'option',\n                            {\n                                key: 'code-theme-key' + codeThemeIndex,\n                                value: codeTheme.id\n                            },\n                            codeTheme.uiName\n                        ));\n                    });\n\n                    var popoverContent = _react2.default.createElement(\n                        _reactBootstrap.Popover,\n                        {\n                            bsStyle: 'info',\n                            id: 'code-popover',\n                            className: 'code-popover'\n                        },\n                        _react2.default.createElement('img', {\n                            width: '200',\n                            src: codeThemeURL\n                        })\n                    );\n\n                    centerChannelElements.push(_react2.default.createElement(\n                        'div',\n                        {\n                            className: 'col-sm-6 form-group',\n                            key: 'custom-theme-key' + index\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'custom-label' },\n                            formatMessage(messages[element.id])\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            {\n                                className: 'input-group theme-group group--code dropdown',\n                                id: element.id\n                            },\n                            _react2.default.createElement(\n                                'select',\n                                {\n                                    className: 'form-control',\n                                    type: 'text',\n                                    defaultValue: theme[element.id]\n                                },\n                                codeThemeOptions\n                            ),\n                            _react2.default.createElement(\n                                _reactBootstrap.OverlayTrigger,\n                                {\n                                    trigger: ['hover', 'focus'],\n                                    placement: 'top',\n                                    overlay: popoverContent,\n                                    ref: 'headerOverlay'\n                                },\n                                _react2.default.createElement(\n                                    'span',\n                                    { className: 'input-group-addon' },\n                                    _react2.default.createElement('img', {\n                                        src: codeThemeURL\n                                    })\n                                )\n                            )\n                        )\n                    ));\n                } else if (element.group === 'centerChannelElements') {\n                    centerChannelElements.push(_react2.default.createElement(\n                        'div',\n                        {\n                            className: 'col-sm-6 form-group element',\n                            key: 'custom-theme-key' + index\n                        },\n                        _react2.default.createElement(_color_chooser2.default, {\n                            id: element.id,\n                            label: formatMessage(messages[element.id]),\n                            color: theme[element.id],\n                            onChange: _this2.handleColorChange\n                        })\n                    ));\n                } else if (element.group === 'sidebarElements') {\n                    sidebarElements.push(_react2.default.createElement(\n                        'div',\n                        {\n                            className: 'col-sm-6 form-group element',\n                            key: 'custom-theme-key' + index\n                        },\n                        _react2.default.createElement(_color_chooser2.default, {\n                            id: element.id,\n                            label: formatMessage(messages[element.id]),\n                            color: theme[element.id],\n                            onChange: _this2.handleColorChange\n                        })\n                    ));\n                } else {\n                    linkAndButtonElements.push(_react2.default.createElement(\n                        'div',\n                        {\n                            className: 'col-sm-6 form-group element',\n                            key: 'custom-theme-key' + index\n                        },\n                        _react2.default.createElement(_color_chooser2.default, {\n                            id: element.id,\n                            label: formatMessage(messages[element.id]),\n                            color: theme[element.id],\n                            onChange: _this2.handleColorChange\n                        })\n                    ));\n                }\n            });\n\n            var pasteBox = _react2.default.createElement(\n                'div',\n                { className: 'col-sm-12' },\n                _react2.default.createElement(\n                    'label',\n                    { className: 'custom-label' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.custom_theme.copyPaste',\n                        defaultMessage: 'Copy and paste to share theme colors:'\n                    })\n                ),\n                _react2.default.createElement('textarea', {\n                    ref: 'textarea',\n                    className: 'form-control',\n                    value: this.state.copyTheme,\n                    onPaste: this.pasteBoxChange,\n                    onChange: this.onChangeHandle,\n                    onClick: this.selectTheme\n                })\n            );\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'appearance-section padding-top' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'theme-elements row' },\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            ref: 'sidebarStylesHeader',\n                            className: 'theme-elements__header',\n                            onClick: this.toggleSidebarStyles\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.custom_theme.sidebarTitle',\n                            defaultMessage: 'Sidebar Styles'\n                        }),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'header__icon' },\n                            _react2.default.createElement('i', { className: 'fa fa-plus' }),\n                            _react2.default.createElement('i', { className: 'fa fa-minus' })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            ref: 'sidebarStyles',\n                            className: 'theme-elements__body'\n                        },\n                        sidebarElements\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'theme-elements row' },\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            ref: 'centerChannelStylesHeader',\n                            className: 'theme-elements__header',\n                            onClick: this.toggleCenterChannelStyles\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.custom_theme.centerChannelTitle',\n                            defaultMessage: 'Center Channel Styles'\n                        }),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'header__icon' },\n                            _react2.default.createElement('i', { className: 'fa fa-plus' }),\n                            _react2.default.createElement('i', { className: 'fa fa-minus' })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            ref: 'centerChannelStyles',\n                            className: 'theme-elements__body'\n                        },\n                        centerChannelElements\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'theme-elements row form-group' },\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            ref: 'linkAndButtonStylesHeader',\n                            className: 'theme-elements__header',\n                            onClick: this.toggleLinkAndButtonStyles\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.custom_theme.linkButtonTitle',\n                            defaultMessage: 'Link and Button Styles'\n                        }),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'header__icon' },\n                            _react2.default.createElement('i', { className: 'fa fa-plus' }),\n                            _react2.default.createElement('i', { className: 'fa fa-minus' })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            ref: 'linkAndButtonStyles',\n                            className: 'theme-elements__body'\n                        },\n                        linkAndButtonElements\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'row' },\n                    pasteBox\n                )\n            );\n        }\n    }]);\n    return CustomThemeChooser;\n}(_react2.default.Component);\n\nCustomThemeChooser.propTypes = {\n    intl: _reactIntl.intlShape.isRequired,\n    theme: _propTypes2.default.object.isRequired,\n    updateTheme: _propTypes2.default.func.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(CustomThemeChooser);\n\n/***/ }),\n\n/***/ 2449:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*!\n * Bootstrap Colorpicker v2.5.2\n * https://itsjavi.com/bootstrap-colorpicker/\n *\n * Originally written by (c) 2012 Stefan Petre\n * Licensed under the Apache License v2.0\n * http://www.apache.org/licenses/LICENSE-2.0.txt\n *\n */\n\n(function(root, factory) {\n  if (true) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0)], __WEBPACK_AMD_DEFINE_RESULT__ = function(jq) {\n      return (factory(jq));\n    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require(\"jquery\"));\n  } else if (jQuery && !jQuery.fn.colorpicker) {\n    factory(jQuery);\n  }\n}(this, function($) {\n  'use strict';\n  /**\n   * Color manipulation helper class\n   *\n   * @param {Object|String} [val]\n   * @param {Object} [predefinedColors]\n   * @param {String|null} [fallbackColor]\n   * @param {String|null} [fallbackFormat]\n   * @param {Boolean} [hexNumberSignPrefix]\n   * @constructor\n   */\n  var Color = function(\n    val, predefinedColors, fallbackColor, fallbackFormat, hexNumberSignPrefix) {\n    this.fallbackValue = fallbackColor ?\n      (\n        fallbackColor && (typeof fallbackColor.h !== 'undefined') ?\n        fallbackColor :\n        this.value = {\n          h: 0,\n          s: 0,\n          b: 0,\n          a: 1\n        }\n      ) :\n      null;\n\n    this.fallbackFormat = fallbackFormat ? fallbackFormat : 'rgba';\n\n    this.hexNumberSignPrefix = hexNumberSignPrefix === true;\n\n    this.value = this.fallbackValue;\n\n    this.origFormat = null; // original string format\n\n    this.predefinedColors = predefinedColors ? predefinedColors : {};\n\n    // We don't want to share aliases across instances so we extend new object\n    this.colors = $.extend({}, Color.webColors, this.predefinedColors);\n\n    if (val) {\n      if (typeof val.h !== 'undefined') {\n        this.value = val;\n      } else {\n        this.setColor(String(val));\n      }\n    }\n\n    if (!this.value) {\n      // Initial value is always black if no arguments are passed or val is empty\n      this.value = {\n        h: 0,\n        s: 0,\n        b: 0,\n        a: 1\n      };\n    }\n  };\n\n  Color.webColors = { // 140 predefined colors from the HTML Colors spec\n    \"aliceblue\": \"f0f8ff\",\n    \"antiquewhite\": \"faebd7\",\n    \"aqua\": \"00ffff\",\n    \"aquamarine\": \"7fffd4\",\n    \"azure\": \"f0ffff\",\n    \"beige\": \"f5f5dc\",\n    \"bisque\": \"ffe4c4\",\n    \"black\": \"000000\",\n    \"blanchedalmond\": \"ffebcd\",\n    \"blue\": \"0000ff\",\n    \"blueviolet\": \"8a2be2\",\n    \"brown\": \"a52a2a\",\n    \"burlywood\": \"deb887\",\n    \"cadetblue\": \"5f9ea0\",\n    \"chartreuse\": \"7fff00\",\n    \"chocolate\": \"d2691e\",\n    \"coral\": \"ff7f50\",\n    \"cornflowerblue\": \"6495ed\",\n    \"cornsilk\": \"fff8dc\",\n    \"crimson\": \"dc143c\",\n    \"cyan\": \"00ffff\",\n    \"darkblue\": \"00008b\",\n    \"darkcyan\": \"008b8b\",\n    \"darkgoldenrod\": \"b8860b\",\n    \"darkgray\": \"a9a9a9\",\n    \"darkgreen\": \"006400\",\n    \"darkkhaki\": \"bdb76b\",\n    \"darkmagenta\": \"8b008b\",\n    \"darkolivegreen\": \"556b2f\",\n    \"darkorange\": \"ff8c00\",\n    \"darkorchid\": \"9932cc\",\n    \"darkred\": \"8b0000\",\n    \"darksalmon\": \"e9967a\",\n    \"darkseagreen\": \"8fbc8f\",\n    \"darkslateblue\": \"483d8b\",\n    \"darkslategray\": \"2f4f4f\",\n    \"darkturquoise\": \"00ced1\",\n    \"darkviolet\": \"9400d3\",\n    \"deeppink\": \"ff1493\",\n    \"deepskyblue\": \"00bfff\",\n    \"dimgray\": \"696969\",\n    \"dodgerblue\": \"1e90ff\",\n    \"firebrick\": \"b22222\",\n    \"floralwhite\": \"fffaf0\",\n    \"forestgreen\": \"228b22\",\n    \"fuchsia\": \"ff00ff\",\n    \"gainsboro\": \"dcdcdc\",\n    \"ghostwhite\": \"f8f8ff\",\n    \"gold\": \"ffd700\",\n    \"goldenrod\": \"daa520\",\n    \"gray\": \"808080\",\n    \"green\": \"008000\",\n    \"greenyellow\": \"adff2f\",\n    \"honeydew\": \"f0fff0\",\n    \"hotpink\": \"ff69b4\",\n    \"indianred\": \"cd5c5c\",\n    \"indigo\": \"4b0082\",\n    \"ivory\": \"fffff0\",\n    \"khaki\": \"f0e68c\",\n    \"lavender\": \"e6e6fa\",\n    \"lavenderblush\": \"fff0f5\",\n    \"lawngreen\": \"7cfc00\",\n    \"lemonchiffon\": \"fffacd\",\n    \"lightblue\": \"add8e6\",\n    \"lightcoral\": \"f08080\",\n    \"lightcyan\": \"e0ffff\",\n    \"lightgoldenrodyellow\": \"fafad2\",\n    \"lightgrey\": \"d3d3d3\",\n    \"lightgreen\": \"90ee90\",\n    \"lightpink\": \"ffb6c1\",\n    \"lightsalmon\": \"ffa07a\",\n    \"lightseagreen\": \"20b2aa\",\n    \"lightskyblue\": \"87cefa\",\n    \"lightslategray\": \"778899\",\n    \"lightsteelblue\": \"b0c4de\",\n    \"lightyellow\": \"ffffe0\",\n    \"lime\": \"00ff00\",\n    \"limegreen\": \"32cd32\",\n    \"linen\": \"faf0e6\",\n    \"magenta\": \"ff00ff\",\n    \"maroon\": \"800000\",\n    \"mediumaquamarine\": \"66cdaa\",\n    \"mediumblue\": \"0000cd\",\n    \"mediumorchid\": \"ba55d3\",\n    \"mediumpurple\": \"9370d8\",\n    \"mediumseagreen\": \"3cb371\",\n    \"mediumslateblue\": \"7b68ee\",\n    \"mediumspringgreen\": \"00fa9a\",\n    \"mediumturquoise\": \"48d1cc\",\n    \"mediumvioletred\": \"c71585\",\n    \"midnightblue\": \"191970\",\n    \"mintcream\": \"f5fffa\",\n    \"mistyrose\": \"ffe4e1\",\n    \"moccasin\": \"ffe4b5\",\n    \"navajowhite\": \"ffdead\",\n    \"navy\": \"000080\",\n    \"oldlace\": \"fdf5e6\",\n    \"olive\": \"808000\",\n    \"olivedrab\": \"6b8e23\",\n    \"orange\": \"ffa500\",\n    \"orangered\": \"ff4500\",\n    \"orchid\": \"da70d6\",\n    \"palegoldenrod\": \"eee8aa\",\n    \"palegreen\": \"98fb98\",\n    \"paleturquoise\": \"afeeee\",\n    \"palevioletred\": \"d87093\",\n    \"papayawhip\": \"ffefd5\",\n    \"peachpuff\": \"ffdab9\",\n    \"peru\": \"cd853f\",\n    \"pink\": \"ffc0cb\",\n    \"plum\": \"dda0dd\",\n    \"powderblue\": \"b0e0e6\",\n    \"purple\": \"800080\",\n    \"red\": \"ff0000\",\n    \"rosybrown\": \"bc8f8f\",\n    \"royalblue\": \"4169e1\",\n    \"saddlebrown\": \"8b4513\",\n    \"salmon\": \"fa8072\",\n    \"sandybrown\": \"f4a460\",\n    \"seagreen\": \"2e8b57\",\n    \"seashell\": \"fff5ee\",\n    \"sienna\": \"a0522d\",\n    \"silver\": \"c0c0c0\",\n    \"skyblue\": \"87ceeb\",\n    \"slateblue\": \"6a5acd\",\n    \"slategray\": \"708090\",\n    \"snow\": \"fffafa\",\n    \"springgreen\": \"00ff7f\",\n    \"steelblue\": \"4682b4\",\n    \"tan\": \"d2b48c\",\n    \"teal\": \"008080\",\n    \"thistle\": \"d8bfd8\",\n    \"tomato\": \"ff6347\",\n    \"turquoise\": \"40e0d0\",\n    \"violet\": \"ee82ee\",\n    \"wheat\": \"f5deb3\",\n    \"white\": \"ffffff\",\n    \"whitesmoke\": \"f5f5f5\",\n    \"yellow\": \"ffff00\",\n    \"yellowgreen\": \"9acd32\",\n    \"transparent\": \"transparent\"\n  };\n\n  Color.prototype = {\n    constructor: Color,\n    colors: {}, // merged web and predefined colors\n    predefinedColors: {},\n    /**\n     * @return {Object}\n     */\n    getValue: function() {\n      return this.value;\n    },\n    /**\n     * @param {Object} val\n     */\n    setValue: function(val) {\n      this.value = val;\n    },\n    _sanitizeNumber: function(val) {\n      if (typeof val === 'number') {\n        return val;\n      }\n      if (isNaN(val) || (val === null) || (val === '') || (val === undefined)) {\n        return 1;\n      }\n      if (val === '') {\n        return 0;\n      }\n      if (typeof val.toLowerCase !== 'undefined') {\n        if (val.match(/^\\./)) {\n          val = \"0\" + val;\n        }\n        return Math.ceil(parseFloat(val) * 100) / 100;\n      }\n      return 1;\n    },\n    isTransparent: function(strVal) {\n      if (!strVal || !(typeof strVal === 'string' || strVal instanceof String)) {\n        return false;\n      }\n      strVal = strVal.toLowerCase().trim();\n      return (strVal === 'transparent') || (strVal.match(/#?00000000/)) || (strVal.match(/(rgba|hsla)\\(0,0,0,0?\\.?0\\)/));\n    },\n    rgbaIsTransparent: function(rgba) {\n      return ((rgba.r === 0) && (rgba.g === 0) && (rgba.b === 0) && (rgba.a === 0));\n    },\n    // parse a string to HSB\n    /**\n     * @protected\n     * @param {String} strVal\n     * @returns {boolean} Returns true if it could be parsed, false otherwise\n     */\n    setColor: function(strVal) {\n      strVal = strVal.toLowerCase().trim();\n      if (strVal) {\n        if (this.isTransparent(strVal)) {\n          this.value = {\n            h: 0,\n            s: 0,\n            b: 0,\n            a: 0\n          };\n          return true;\n        } else {\n          var parsedColor = this.parse(strVal);\n          if (parsedColor) {\n            this.value = this.value = {\n              h: parsedColor.h,\n              s: parsedColor.s,\n              b: parsedColor.b,\n              a: parsedColor.a\n            };\n            if (!this.origFormat) {\n              this.origFormat = parsedColor.format;\n            }\n          } else if (this.fallbackValue) {\n            // if parser fails, defaults to fallbackValue if defined, otherwise the value won't be changed\n            this.value = this.fallbackValue;\n          }\n        }\n      }\n      return false;\n    },\n    setHue: function(h) {\n      this.value.h = 1 - h;\n    },\n    setSaturation: function(s) {\n      this.value.s = s;\n    },\n    setBrightness: function(b) {\n      this.value.b = 1 - b;\n    },\n    setAlpha: function(a) {\n      this.value.a = Math.round((parseInt((1 - a) * 100, 10) / 100) * 100) / 100;\n    },\n    toRGB: function(h, s, b, a) {\n      if (arguments.length === 0) {\n        h = this.value.h;\n        s = this.value.s;\n        b = this.value.b;\n        a = this.value.a;\n      }\n\n      h *= 360;\n      var R, G, B, X, C;\n      h = (h % 360) / 60;\n      C = b * s;\n      X = C * (1 - Math.abs(h % 2 - 1));\n      R = G = B = b - C;\n\n      h = ~~h;\n      R += [C, X, 0, 0, X, C][h];\n      G += [X, C, C, X, 0, 0][h];\n      B += [0, 0, X, C, C, X][h];\n\n      return {\n        r: Math.round(R * 255),\n        g: Math.round(G * 255),\n        b: Math.round(B * 255),\n        a: a\n      };\n    },\n    toHex: function(ignoreFormat, h, s, b, a) {\n      if (arguments.length <= 1) {\n        h = this.value.h;\n        s = this.value.s;\n        b = this.value.b;\n        a = this.value.a;\n      }\n\n      var prefix = '#';\n      var rgb = this.toRGB(h, s, b, a);\n\n      if (this.rgbaIsTransparent(rgb)) {\n        return 'transparent';\n      }\n\n      if (!ignoreFormat) {\n        prefix = (this.hexNumberSignPrefix ? '#' : '');\n      }\n\n      var hexStr = prefix + (\n          (1 << 24) +\n          (parseInt(rgb.r) << 16) +\n          (parseInt(rgb.g) << 8) +\n          parseInt(rgb.b))\n        .toString(16)\n        .slice(1);\n\n      return hexStr;\n    },\n    toHSL: function(h, s, b, a) {\n      if (arguments.length === 0) {\n        h = this.value.h;\n        s = this.value.s;\n        b = this.value.b;\n        a = this.value.a;\n      }\n\n      var H = h,\n        L = (2 - s) * b,\n        S = s * b;\n      if (L > 0 && L <= 1) {\n        S /= L;\n      } else {\n        S /= 2 - L;\n      }\n      L /= 2;\n      if (S > 1) {\n        S = 1;\n      }\n      return {\n        h: isNaN(H) ? 0 : H,\n        s: isNaN(S) ? 0 : S,\n        l: isNaN(L) ? 0 : L,\n        a: isNaN(a) ? 0 : a\n      };\n    },\n    toAlias: function(r, g, b, a) {\n      var c, rgb = (arguments.length === 0) ? this.toHex(true) : this.toHex(true, r, g, b, a);\n\n      // support predef. colors in non-hex format too, as defined in the alias itself\n      var original = this.origFormat === 'alias' ? rgb : this.toString(false, this.origFormat);\n\n      for (var alias in this.colors) {\n        c = this.colors[alias].toLowerCase().trim();\n        if ((c === rgb) || (c === original)) {\n          return alias;\n        }\n      }\n      return false;\n    },\n    RGBtoHSB: function(r, g, b, a) {\n      r /= 255;\n      g /= 255;\n      b /= 255;\n\n      var H, S, V, C;\n      V = Math.max(r, g, b);\n      C = V - Math.min(r, g, b);\n      H = (C === 0 ? null :\n        V === r ? (g - b) / C :\n        V === g ? (b - r) / C + 2 :\n        (r - g) / C + 4\n      );\n      H = ((H + 360) % 6) * 60 / 360;\n      S = C === 0 ? 0 : C / V;\n      return {\n        h: this._sanitizeNumber(H),\n        s: S,\n        b: V,\n        a: this._sanitizeNumber(a)\n      };\n    },\n    HueToRGB: function(p, q, h) {\n      if (h < 0) {\n        h += 1;\n      } else if (h > 1) {\n        h -= 1;\n      }\n      if ((h * 6) < 1) {\n        return p + (q - p) * h * 6;\n      } else if ((h * 2) < 1) {\n        return q;\n      } else if ((h * 3) < 2) {\n        return p + (q - p) * ((2 / 3) - h) * 6;\n      } else {\n        return p;\n      }\n    },\n    HSLtoRGB: function(h, s, l, a) {\n      if (s < 0) {\n        s = 0;\n      }\n      var q;\n      if (l <= 0.5) {\n        q = l * (1 + s);\n      } else {\n        q = l + s - (l * s);\n      }\n\n      var p = 2 * l - q;\n\n      var tr = h + (1 / 3);\n      var tg = h;\n      var tb = h - (1 / 3);\n\n      var r = Math.round(this.HueToRGB(p, q, tr) * 255);\n      var g = Math.round(this.HueToRGB(p, q, tg) * 255);\n      var b = Math.round(this.HueToRGB(p, q, tb) * 255);\n      return [r, g, b, this._sanitizeNumber(a)];\n    },\n    /**\n     * @param {String} strVal\n     * @returns {Object} Object containing h,s,b,a,format properties or FALSE if failed to parse\n     */\n    parse: function(strVal) {\n      if (arguments.length === 0) {\n        return false;\n      }\n\n      var that = this,\n        result = false,\n        isAlias = (typeof this.colors[strVal] !== 'undefined'),\n        values, format;\n\n      if (isAlias) {\n        strVal = this.colors[strVal].toLowerCase().trim();\n      }\n\n      $.each(this.stringParsers, function(i, parser) {\n        var match = parser.re.exec(strVal);\n        values = match && parser.parse.apply(that, [match]);\n        if (values) {\n          result = {};\n          format = (isAlias ? 'alias' : (parser.format ? parser.format : that.getValidFallbackFormat()));\n          if (format.match(/hsla?/)) {\n            result = that.RGBtoHSB.apply(that, that.HSLtoRGB.apply(that, values));\n          } else {\n            result = that.RGBtoHSB.apply(that, values);\n          }\n          if (result instanceof Object) {\n            result.format = format;\n          }\n          return false; // stop iterating\n        }\n        return true;\n      });\n      return result;\n    },\n    getValidFallbackFormat: function() {\n      var formats = [\n        'rgba', 'rgb', 'hex', 'hsla', 'hsl'\n      ];\n      if (this.origFormat && (formats.indexOf(this.origFormat) !== -1)) {\n        return this.origFormat;\n      }\n      if (this.fallbackFormat && (formats.indexOf(this.fallbackFormat) !== -1)) {\n        return this.fallbackFormat;\n      }\n\n      return 'rgba'; // By default, return a format that will not lose the alpha info\n    },\n    /**\n     *\n     * @param {string} [format] (default: rgba)\n     * @param {boolean} [translateAlias] Return real color for pre-defined (non-standard) aliases (default: false)\n     * @param {boolean} [forceRawValue] Forces hashtag prefix when getting hex color (default: false)\n     * @returns {String}\n     */\n    toString: function(forceRawValue, format, translateAlias) {\n      format = format || this.origFormat || this.fallbackFormat;\n      translateAlias = translateAlias || false;\n\n      var c = false;\n\n      switch (format) {\n        case 'rgb':\n          {\n            c = this.toRGB();\n            if (this.rgbaIsTransparent(c)) {\n              return 'transparent';\n            }\n            return 'rgb(' + c.r + ',' + c.g + ',' + c.b + ')';\n          }\n          break;\n        case 'rgba':\n          {\n            c = this.toRGB();\n            return 'rgba(' + c.r + ',' + c.g + ',' + c.b + ',' + c.a + ')';\n          }\n          break;\n        case 'hsl':\n          {\n            c = this.toHSL();\n            return 'hsl(' + Math.round(c.h * 360) + ',' + Math.round(c.s * 100) + '%,' + Math.round(c.l * 100) + '%)';\n          }\n          break;\n        case 'hsla':\n          {\n            c = this.toHSL();\n            return 'hsla(' + Math.round(c.h * 360) + ',' + Math.round(c.s * 100) + '%,' + Math.round(c.l * 100) + '%,' + c.a + ')';\n          }\n          break;\n        case 'hex':\n          {\n            return this.toHex(forceRawValue);\n          }\n          break;\n        case 'alias':\n          {\n            c = this.toAlias();\n\n            if (c === false) {\n              return this.toString(forceRawValue, this.getValidFallbackFormat());\n            }\n\n            if (translateAlias && !(c in Color.webColors) && (c in this.predefinedColors)) {\n              return this.predefinedColors[c];\n            }\n\n            return c;\n          }\n        default:\n          {\n            return c;\n          }\n          break;\n      }\n    },\n    // a set of RE's that can match strings and generate color tuples.\n    // from John Resig color plugin\n    // https://github.com/jquery/jquery-color/\n    stringParsers: [{\n      re: /rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*?\\)/,\n      format: 'rgb',\n      parse: function(execResult) {\n        return [\n          execResult[1],\n          execResult[2],\n          execResult[3],\n          1\n        ];\n      }\n    }, {\n      re: /rgb\\(\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*?\\)/,\n      format: 'rgb',\n      parse: function(execResult) {\n        return [\n          2.55 * execResult[1],\n          2.55 * execResult[2],\n          2.55 * execResult[3],\n          1\n        ];\n      }\n    }, {\n      re: /rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(\\d*(?:\\.\\d+)?)\\s*)?\\)/,\n      format: 'rgba',\n      parse: function(execResult) {\n        return [\n          execResult[1],\n          execResult[2],\n          execResult[3],\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /rgba\\(\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d*(?:\\.\\d+)?)\\s*)?\\)/,\n      format: 'rgba',\n      parse: function(execResult) {\n        return [\n          2.55 * execResult[1],\n          2.55 * execResult[2],\n          2.55 * execResult[3],\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /hsl\\(\\s*(\\d*(?:\\.\\d+)?)\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*?\\)/,\n      format: 'hsl',\n      parse: function(execResult) {\n        return [\n          execResult[1] / 360,\n          execResult[2] / 100,\n          execResult[3] / 100,\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /hsla\\(\\s*(\\d*(?:\\.\\d+)?)\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d*(?:\\.\\d+)?)\\s*)?\\)/,\n      format: 'hsla',\n      parse: function(execResult) {\n        return [\n          execResult[1] / 360,\n          execResult[2] / 100,\n          execResult[3] / 100,\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,\n      format: 'hex',\n      parse: function(execResult) {\n        return [\n          parseInt(execResult[1], 16),\n          parseInt(execResult[2], 16),\n          parseInt(execResult[3], 16),\n          1\n        ];\n      }\n    }, {\n      re: /#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,\n      format: 'hex',\n      parse: function(execResult) {\n        return [\n          parseInt(execResult[1] + execResult[1], 16),\n          parseInt(execResult[2] + execResult[2], 16),\n          parseInt(execResult[3] + execResult[3], 16),\n          1\n        ];\n      }\n    }],\n    colorNameToHex: function(name) {\n      if (typeof this.colors[name.toLowerCase()] !== 'undefined') {\n        return this.colors[name.toLowerCase()];\n      }\n      return false;\n    }\n  };\n\n  /*\n   * Default plugin options\n   */\n  var defaults = {\n    horizontal: false, // horizontal mode layout ?\n    inline: false, //forces to show the colorpicker as an inline element\n    color: false, //forces a color\n    format: false, //forces a format\n    input: 'input', // children input selector\n    container: false, // container selector\n    component: '.add-on, .input-group-addon', // children component selector\n    fallbackColor: false, // fallback color value. null = keeps current color.\n    fallbackFormat: 'hex', // fallback color format\n    hexNumberSignPrefix: true, // put a '#' (number sign) before hex strings\n    sliders: {\n      saturation: {\n        maxLeft: 100,\n        maxTop: 100,\n        callLeft: 'setSaturation',\n        callTop: 'setBrightness'\n      },\n      hue: {\n        maxLeft: 0,\n        maxTop: 100,\n        callLeft: false,\n        callTop: 'setHue'\n      },\n      alpha: {\n        maxLeft: 0,\n        maxTop: 100,\n        callLeft: false,\n        callTop: 'setAlpha'\n      }\n    },\n    slidersHorz: {\n      saturation: {\n        maxLeft: 100,\n        maxTop: 100,\n        callLeft: 'setSaturation',\n        callTop: 'setBrightness'\n      },\n      hue: {\n        maxLeft: 100,\n        maxTop: 0,\n        callLeft: 'setHue',\n        callTop: false\n      },\n      alpha: {\n        maxLeft: 100,\n        maxTop: 0,\n        callLeft: 'setAlpha',\n        callTop: false\n      }\n    },\n    template: '<div class=\"colorpicker dropdown-menu\">' +\n      '<div class=\"colorpicker-saturation\"><i><b></b></i></div>' +\n      '<div class=\"colorpicker-hue\"><i></i></div>' +\n      '<div class=\"colorpicker-alpha\"><i></i></div>' +\n      '<div class=\"colorpicker-color\"><div /></div>' +\n      '<div class=\"colorpicker-selectors\"></div>' +\n      '</div>',\n    align: 'right',\n    customClass: null, // custom class added to the colorpicker element\n    colorSelectors: null // custom color aliases\n  };\n\n  /**\n   * Colorpicker component class\n   *\n   * @param {Object|String} element\n   * @param {Object} options\n   * @constructor\n   */\n  var Colorpicker = function(element, options) {\n    this.element = $(element).addClass('colorpicker-element');\n    this.options = $.extend(true, {}, defaults, this.element.data(), options);\n    this.component = this.options.component;\n    this.component = (this.component !== false) ? this.element.find(this.component) : false;\n    if (this.component && (this.component.length === 0)) {\n      this.component = false;\n    }\n    this.container = (this.options.container === true) ? this.element : this.options.container;\n    this.container = (this.container !== false) ? $(this.container) : false;\n\n    // Is the element an input? Should we search inside for any input?\n    this.input = this.element.is('input') ? this.element : (this.options.input ?\n      this.element.find(this.options.input) : false);\n    if (this.input && (this.input.length === 0)) {\n      this.input = false;\n    }\n    // Set HSB color\n    this.color = this.createColor(this.options.color !== false ? this.options.color : this.getValue());\n\n    this.format = this.options.format !== false ? this.options.format : this.color.origFormat;\n\n    if (this.options.color !== false) {\n      this.updateInput(this.color);\n      this.updateData(this.color);\n    }\n\n    this.disabled = false;\n\n    // Setup picker\n    var $picker = this.picker = $(this.options.template);\n    if (this.options.customClass) {\n      $picker.addClass(this.options.customClass);\n    }\n    if (this.options.inline) {\n      $picker.addClass('colorpicker-inline colorpicker-visible');\n    } else {\n      $picker.addClass('colorpicker-hidden');\n    }\n    if (this.options.horizontal) {\n      $picker.addClass('colorpicker-horizontal');\n    }\n    if (\n      (['rgba', 'hsla', 'alias'].indexOf(this.format) !== -1) ||\n      this.options.format === false ||\n      this.getValue() === 'transparent'\n    ) {\n      $picker.addClass('colorpicker-with-alpha');\n    }\n    if (this.options.align === 'right') {\n      $picker.addClass('colorpicker-right');\n    }\n    if (this.options.inline === true) {\n      $picker.addClass('colorpicker-no-arrow');\n    }\n    if (this.options.colorSelectors) {\n      var colorpicker = this,\n        selectorsContainer = colorpicker.picker.find('.colorpicker-selectors');\n\n      if (selectorsContainer.length > 0) {\n        $.each(this.options.colorSelectors, function(name, color) {\n          var $btn = $('<i />')\n            .addClass('colorpicker-selectors-color')\n            .css('background-color', color)\n            .data('class', name).data('alias', name);\n\n          $btn.on('mousedown.colorpicker touchstart.colorpicker', function(event) {\n            event.preventDefault();\n            colorpicker.setValue(\n              colorpicker.format === 'alias' ? $(this).data('alias') : $(this).css('background-color')\n            );\n          });\n          selectorsContainer.append($btn);\n        });\n        selectorsContainer.show().addClass('colorpicker-visible');\n      }\n    }\n\n    // Prevent closing the colorpicker when clicking on itself\n    $picker.on('mousedown.colorpicker touchstart.colorpicker', $.proxy(function(e) {\n      if (e.target === e.currentTarget) {\n        e.preventDefault();\n      }\n    }, this));\n\n    // Bind click/tap events on the sliders\n    $picker.find('.colorpicker-saturation, .colorpicker-hue, .colorpicker-alpha')\n      .on('mousedown.colorpicker touchstart.colorpicker', $.proxy(this.mousedown, this));\n\n    $picker.appendTo(this.container ? this.container : $('body'));\n\n    // Bind other events\n    if (this.input !== false) {\n      this.input.on({\n        'keyup.colorpicker': $.proxy(this.keyup, this)\n      });\n      this.input.on({\n        'change.colorpicker': $.proxy(this.change, this)\n      });\n      if (this.component === false) {\n        this.element.on({\n          'focus.colorpicker': $.proxy(this.show, this)\n        });\n      }\n      if (this.options.inline === false) {\n        this.element.on({\n          'focusout.colorpicker': $.proxy(this.hide, this)\n        });\n      }\n    }\n\n    if (this.component !== false) {\n      this.component.on({\n        'click.colorpicker': $.proxy(this.show, this)\n      });\n    }\n\n    if ((this.input === false) && (this.component === false)) {\n      this.element.on({\n        'click.colorpicker': $.proxy(this.show, this)\n      });\n    }\n\n    // for HTML5 input[type='color']\n    if ((this.input !== false) && (this.component !== false) && (this.input.attr('type') === 'color')) {\n\n      this.input.on({\n        'click.colorpicker': $.proxy(this.show, this),\n        'focus.colorpicker': $.proxy(this.show, this)\n      });\n    }\n    this.update();\n\n    $($.proxy(function() {\n      this.element.trigger('create');\n    }, this));\n  };\n\n  Colorpicker.Color = Color;\n\n  Colorpicker.prototype = {\n    constructor: Colorpicker,\n    destroy: function() {\n      this.picker.remove();\n      this.element.removeData('colorpicker', 'color').off('.colorpicker');\n      if (this.input !== false) {\n        this.input.off('.colorpicker');\n      }\n      if (this.component !== false) {\n        this.component.off('.colorpicker');\n      }\n      this.element.removeClass('colorpicker-element');\n      this.element.trigger({\n        type: 'destroy'\n      });\n    },\n    reposition: function() {\n      if (this.options.inline !== false || this.options.container) {\n        return false;\n      }\n      var type = this.container && this.container[0] !== window.document.body ? 'position' : 'offset';\n      var element = this.component || this.element;\n      var offset = element[type]();\n      if (this.options.align === 'right') {\n        offset.left -= this.picker.outerWidth() - element.outerWidth();\n      }\n      this.picker.css({\n        top: offset.top + element.outerHeight(),\n        left: offset.left\n      });\n    },\n    show: function(e) {\n      if (this.isDisabled()) {\n        // Don't show the widget if it's disabled (the input)\n        return;\n      }\n      this.picker.addClass('colorpicker-visible').removeClass('colorpicker-hidden');\n      this.reposition();\n      $(window).on('resize.colorpicker', $.proxy(this.reposition, this));\n      if (e && (!this.hasInput() || this.input.attr('type') === 'color')) {\n        if (e.stopPropagation && e.preventDefault) {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      }\n      if ((this.component || !this.input) && (this.options.inline === false)) {\n        $(window.document).on({\n          'mousedown.colorpicker': $.proxy(this.hide, this)\n        });\n      }\n      this.element.trigger({\n        type: 'showPicker',\n        color: this.color\n      });\n    },\n    hide: function(e) {\n      if ((typeof e !== 'undefined') && e.target) {\n        // Prevent hide if triggered by an event and an element inside the colorpicker has been clicked/touched\n        if (\n          $(e.currentTarget).parents('.colorpicker').length > 0 ||\n          $(e.target).parents('.colorpicker').length > 0\n        ) {\n          return false;\n        }\n      }\n      this.picker.addClass('colorpicker-hidden').removeClass('colorpicker-visible');\n      $(window).off('resize.colorpicker', this.reposition);\n      $(window.document).off({\n        'mousedown.colorpicker': this.hide\n      });\n      this.update();\n      this.element.trigger({\n        type: 'hidePicker',\n        color: this.color\n      });\n    },\n    updateData: function(val) {\n      val = val || this.color.toString(false, this.format);\n      this.element.data('color', val);\n      return val;\n    },\n    updateInput: function(val) {\n      val = val || this.color.toString(false, this.format);\n      if (this.input !== false) {\n        this.input.prop('value', val);\n        this.input.trigger('change');\n      }\n      return val;\n    },\n    updatePicker: function(val) {\n      if (typeof val !== 'undefined') {\n        this.color = this.createColor(val);\n      }\n      var sl = (this.options.horizontal === false) ? this.options.sliders : this.options.slidersHorz;\n      var icns = this.picker.find('i');\n      if (icns.length === 0) {\n        return;\n      }\n      if (this.options.horizontal === false) {\n        sl = this.options.sliders;\n        icns.eq(1).css('top', sl.hue.maxTop * (1 - this.color.value.h)).end()\n          .eq(2).css('top', sl.alpha.maxTop * (1 - this.color.value.a));\n      } else {\n        sl = this.options.slidersHorz;\n        icns.eq(1).css('left', sl.hue.maxLeft * (1 - this.color.value.h)).end()\n          .eq(2).css('left', sl.alpha.maxLeft * (1 - this.color.value.a));\n      }\n      icns.eq(0).css({\n        'top': sl.saturation.maxTop - this.color.value.b * sl.saturation.maxTop,\n        'left': this.color.value.s * sl.saturation.maxLeft\n      });\n\n      this.picker.find('.colorpicker-saturation')\n        .css('backgroundColor', this.color.toHex(true, this.color.value.h, 1, 1, 1));\n\n      this.picker.find('.colorpicker-alpha')\n        .css('backgroundColor', this.color.toHex(true));\n\n      this.picker.find('.colorpicker-color, .colorpicker-color div')\n        .css('backgroundColor', this.color.toString(true, this.format));\n\n      return val;\n    },\n    updateComponent: function(val) {\n      var color;\n\n      if (typeof val !== 'undefined') {\n        color = this.createColor(val);\n      } else {\n        color = this.color;\n      }\n\n      if (this.component !== false) {\n        var icn = this.component.find('i').eq(0);\n        if (icn.length > 0) {\n          icn.css({\n            'backgroundColor': color.toString(true, this.format)\n          });\n        } else {\n          this.component.css({\n            'backgroundColor': color.toString(true, this.format)\n          });\n        }\n      }\n\n      return color.toString(false, this.format);\n    },\n    update: function(force) {\n      var val;\n      if ((this.getValue(false) !== false) || (force === true)) {\n        // Update input/data only if the current value is not empty\n        val = this.updateComponent();\n        this.updateInput(val);\n        this.updateData(val);\n        this.updatePicker(); // only update picker if value is not empty\n      }\n      return val;\n\n    },\n    setValue: function(val) { // set color manually\n      this.color = this.createColor(val);\n      this.update(true);\n      this.element.trigger({\n        type: 'changeColor',\n        color: this.color,\n        value: val\n      });\n    },\n    /**\n     * Creates a new color using the instance options\n     * @protected\n     * @param {String} val\n     * @returns {Color}\n     */\n    createColor: function(val) {\n      return new Color(\n        val ? val : null,\n        this.options.colorSelectors,\n        this.options.fallbackColor ? this.options.fallbackColor : this.color,\n        this.options.fallbackFormat,\n        this.options.hexNumberSignPrefix\n      );\n    },\n    getValue: function(defaultValue) {\n      defaultValue = (typeof defaultValue === 'undefined') ? this.options.fallbackColor : defaultValue;\n      var val;\n      if (this.hasInput()) {\n        val = this.input.val();\n      } else {\n        val = this.element.data('color');\n      }\n      if ((val === undefined) || (val === '') || (val === null)) {\n        // if not defined or empty, return default\n        val = defaultValue;\n      }\n      return val;\n    },\n    hasInput: function() {\n      return (this.input !== false);\n    },\n    isDisabled: function() {\n      return this.disabled;\n    },\n    disable: function() {\n      if (this.hasInput()) {\n        this.input.prop('disabled', true);\n      }\n      this.disabled = true;\n      this.element.trigger({\n        type: 'disable',\n        color: this.color,\n        value: this.getValue()\n      });\n      return true;\n    },\n    enable: function() {\n      if (this.hasInput()) {\n        this.input.prop('disabled', false);\n      }\n      this.disabled = false;\n      this.element.trigger({\n        type: 'enable',\n        color: this.color,\n        value: this.getValue()\n      });\n      return true;\n    },\n    currentSlider: null,\n    mousePointer: {\n      left: 0,\n      top: 0\n    },\n    mousedown: function(e) {\n      if (!e.pageX && !e.pageY && e.originalEvent && e.originalEvent.touches) {\n        e.pageX = e.originalEvent.touches[0].pageX;\n        e.pageY = e.originalEvent.touches[0].pageY;\n      }\n      e.stopPropagation();\n      e.preventDefault();\n\n      var target = $(e.target);\n\n      //detect the slider and set the limits and callbacks\n      var zone = target.closest('div');\n      var sl = this.options.horizontal ? this.options.slidersHorz : this.options.sliders;\n      if (!zone.is('.colorpicker')) {\n        if (zone.is('.colorpicker-saturation')) {\n          this.currentSlider = $.extend({}, sl.saturation);\n        } else if (zone.is('.colorpicker-hue')) {\n          this.currentSlider = $.extend({}, sl.hue);\n        } else if (zone.is('.colorpicker-alpha')) {\n          this.currentSlider = $.extend({}, sl.alpha);\n        } else {\n          return false;\n        }\n        var offset = zone.offset();\n        //reference to guide's style\n        this.currentSlider.guide = zone.find('i')[0].style;\n        this.currentSlider.left = e.pageX - offset.left;\n        this.currentSlider.top = e.pageY - offset.top;\n        this.mousePointer = {\n          left: e.pageX,\n          top: e.pageY\n        };\n        //trigger mousemove to move the guide to the current position\n        $(window.document).on({\n          'mousemove.colorpicker': $.proxy(this.mousemove, this),\n          'touchmove.colorpicker': $.proxy(this.mousemove, this),\n          'mouseup.colorpicker': $.proxy(this.mouseup, this),\n          'touchend.colorpicker': $.proxy(this.mouseup, this)\n        }).trigger('mousemove');\n      }\n      return false;\n    },\n    mousemove: function(e) {\n      if (!e.pageX && !e.pageY && e.originalEvent && e.originalEvent.touches) {\n        e.pageX = e.originalEvent.touches[0].pageX;\n        e.pageY = e.originalEvent.touches[0].pageY;\n      }\n      e.stopPropagation();\n      e.preventDefault();\n      var left = Math.max(\n        0,\n        Math.min(\n          this.currentSlider.maxLeft,\n          this.currentSlider.left + ((e.pageX || this.mousePointer.left) - this.mousePointer.left)\n        )\n      );\n      var top = Math.max(\n        0,\n        Math.min(\n          this.currentSlider.maxTop,\n          this.currentSlider.top + ((e.pageY || this.mousePointer.top) - this.mousePointer.top)\n        )\n      );\n      this.currentSlider.guide.left = left + 'px';\n      this.currentSlider.guide.top = top + 'px';\n      if (this.currentSlider.callLeft) {\n        this.color[this.currentSlider.callLeft].call(this.color, left / this.currentSlider.maxLeft);\n      }\n      if (this.currentSlider.callTop) {\n        this.color[this.currentSlider.callTop].call(this.color, top / this.currentSlider.maxTop);\n      }\n      // Change format dynamically\n      // Only occurs if user choose the dynamic format by\n      // setting option format to false\n      if (\n        this.options.format === false &&\n        (this.currentSlider.callTop === 'setAlpha' ||\n          this.currentSlider.callLeft === 'setAlpha')\n      ) {\n\n        // Converting from hex / rgb to rgba\n        if (this.color.value.a !== 1) {\n          this.format = 'rgba';\n          this.color.origFormat = 'rgba';\n        }\n\n        // Converting from rgba to hex\n        else {\n          this.format = 'hex';\n          this.color.origFormat = 'hex';\n        }\n      }\n      this.update(true);\n\n      this.element.trigger({\n        type: 'changeColor',\n        color: this.color\n      });\n      return false;\n    },\n    mouseup: function(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      $(window.document).off({\n        'mousemove.colorpicker': this.mousemove,\n        'touchmove.colorpicker': this.mousemove,\n        'mouseup.colorpicker': this.mouseup,\n        'touchend.colorpicker': this.mouseup\n      });\n      return false;\n    },\n    change: function(e) {\n      this.keyup(e);\n    },\n    keyup: function(e) {\n      if ((e.keyCode === 38)) {\n        if (this.color.value.a < 1) {\n          this.color.value.a = Math.round((this.color.value.a + 0.01) * 100) / 100;\n        }\n        this.update(true);\n      } else if ((e.keyCode === 40)) {\n        if (this.color.value.a > 0) {\n          this.color.value.a = Math.round((this.color.value.a - 0.01) * 100) / 100;\n        }\n        this.update(true);\n      } else {\n        this.color = this.createColor(this.input.val());\n        // Change format dynamically\n        // Only occurs if user choose the dynamic format by\n        // setting option format to false\n        if (this.color.origFormat && this.options.format === false) {\n          this.format = this.color.origFormat;\n        }\n        if (this.getValue(false) !== false) {\n          this.updateData();\n          this.updateComponent();\n          this.updatePicker();\n        }\n      }\n      this.element.trigger({\n        type: 'changeColor',\n        color: this.color,\n        value: this.input.val()\n      });\n    }\n  };\n\n  $.colorpicker = Colorpicker;\n\n  $.fn.colorpicker = function(option) {\n    var apiArgs = Array.prototype.slice.call(arguments, 1),\n      isSingleElement = (this.length === 1),\n      returnValue = null;\n\n    var $jq = this.each(function() {\n      var $this = $(this),\n        inst = $this.data('colorpicker'),\n        options = ((typeof option === 'object') ? option : {});\n\n      if (!inst) {\n        inst = new Colorpicker(this, options);\n        $this.data('colorpicker', inst);\n      }\n\n      if (typeof option === 'string') {\n        if ($.isFunction(inst[option])) {\n          returnValue = inst[option].apply(inst, apiArgs);\n        } else { // its a property ?\n          if (apiArgs.length) {\n            // set property\n            inst[option] = apiArgs[0];\n          }\n          returnValue = inst[option];\n        }\n      } else {\n        returnValue = $this;\n      }\n    });\n    return isSingleElement ? returnValue : $jq;\n  };\n\n  $.fn.colorpicker.constructor = Colorpicker;\n\n}));\n\n\n\n/***/ }),\n\n/***/ 2450:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _color_input = __webpack_require__(2451);\n\nvar _color_input2 = _interopRequireDefault(_color_input);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ColorChooser = function (_React$Component) {\n    (0, _inherits3.default)(ColorChooser, _React$Component);\n\n    function ColorChooser() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        (0, _classCallCheck3.default)(this, ColorChooser);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ColorChooser.__proto__ || (0, _getPrototypeOf2.default)(ColorChooser)).call.apply(_ref, [this].concat(args))), _this), _this.handleChange = function (newColor) {\n            var _this$props = _this.props,\n                id = _this$props.id,\n                handleChange = _this$props.onChange;\n\n            if (handleChange) {\n                handleChange(id, newColor);\n            }\n        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n\n    (0, _createClass3.default)(ColorChooser, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                label = _props.label,\n                color = _props.color;\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'label',\n                    { className: 'custom-label' },\n                    label\n                ),\n                _react2.default.createElement(_color_input2.default, {\n                    color: color,\n                    onChange: this.handleChange\n                })\n            );\n        }\n    }]);\n    return ColorChooser;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nColorChooser.propTypes = {\n\n    /*\n     * The id of setting that we will change\n     */\n    id: _propTypes2.default.string.isRequired,\n\n    /*\n     * The label of setting that we will choose\n     */\n    label: _propTypes2.default.string.isRequired,\n\n    /*\n     * Selected color\n     */\n    color: _propTypes2.default.string.isRequired,\n\n    /*\n     * Function called when color changed takes 2 arguments: Id of changing setting and new color\n     */\n    onChange: _propTypes2.default.func\n};\nexports.default = ColorChooser;\n\n/***/ }),\n\n/***/ 2451:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(47);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactColor = __webpack_require__(2098);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ColorInput = function (_React$Component) {\n    (0, _inherits3.default)(ColorInput, _React$Component);\n\n    function ColorInput(props) {\n        (0, _classCallCheck3.default)(this, ColorInput);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ColorInput.__proto__ || (0, _getPrototypeOf2.default)(ColorInput)).call(this, props));\n\n        _this.checkClick = function (e) {\n            var colorPickerDOMNode = _reactDom2.default.findDOMNode(_this.colorPicker);\n            if (!colorPickerDOMNode.contains(e.target)) {\n                _this.setState({ isOpened: false });\n            }\n        };\n\n        _this.togglePicker = function () {\n            _this.setState({ isOpened: !_this.state.isOpened });\n        };\n\n        _this.handleChange = function (newColorData) {\n            var hex = newColorData.hex;\n            var handleChange = _this.props.onChange;\n\n\n            if (handleChange) {\n                handleChange(hex);\n            }\n        };\n\n        _this.state = {\n            idOpened: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(ColorInput, [{\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            var prevIsOpened = prevState.isOpened;\n            var isOpened = this.state.isOpened;\n\n\n            if (isOpened !== prevIsOpened) {\n                if (isOpened) {\n                    document.addEventListener('click', this.checkClick);\n                } else {\n                    document.removeEventListener('click', this.checkClick);\n                }\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var color = this.props.color;\n            var isOpened = this.state.isOpened;\n\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'color-input input-group' },\n                _react2.default.createElement('input', {\n                    className: 'form-control',\n                    type: 'text',\n                    value: color,\n                    style: {\n                        background: '#fff'\n                    },\n                    readOnly: true\n                }),\n                _react2.default.createElement(\n                    'span',\n                    {\n                        className: 'input-group-addon',\n                        onClick: this.togglePicker\n                    },\n                    _react2.default.createElement('i', {\n                        className: 'color-icon',\n                        style: {\n                            backgroundColor: color\n                        }\n                    })\n                ),\n                isOpened && _react2.default.createElement(\n                    'div',\n                    {\n                        ref: function ref(item) {\n                            _this2.colorPicker = item;\n                        },\n                        className: 'color-popover'\n                    },\n                    _react2.default.createElement(_reactColor.ChromePicker, {\n                        color: color,\n                        onChange: this.handleChange\n                    })\n                )\n            );\n        }\n    }]);\n    return ColorInput;\n}(_react2.default.Component);\n\nColorInput.propTypes = {\n\n    /*\n     * Selected color\n     */\n    color: _propTypes2.default.string.isRequired,\n\n    /*\n     * Function called when color changed. Takes hex format of color Ex: #ffeec0\n     */\n    onChange: _propTypes2.default.func\n};\nexports.default = ColorInput;\n\n/***/ }),\n\n/***/ 2452:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PremadeThemeChooser = function (_React$Component) {\n    (0, _inherits3.default)(PremadeThemeChooser, _React$Component);\n\n    function PremadeThemeChooser(props) {\n        (0, _classCallCheck3.default)(this, PremadeThemeChooser);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (PremadeThemeChooser.__proto__ || (0, _getPrototypeOf2.default)(PremadeThemeChooser)).call(this, props));\n\n        _this.state = {};\n        return _this;\n    }\n\n    (0, _createClass3.default)(PremadeThemeChooser, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var theme = this.props.theme;\n\n            var premadeThemes = [];\n            var allowedThemes = global.mm_config.AllowedThemes ? global.mm_config.AllowedThemes.split(',') : [];\n            var hasAllowedThemes = allowedThemes.length > 1 || allowedThemes[0] && allowedThemes[0].trim().length > 0;\n\n            for (var k in _constants2.default.THEMES) {\n                if (_constants2.default.THEMES.hasOwnProperty(k)) {\n                    var _ret = function () {\n                        if (hasAllowedThemes && allowedThemes.indexOf(k) < 0) {\n                            return 'continue';\n                        }\n\n                        var premadeTheme = _jquery2.default.extend(true, {}, _constants2.default.THEMES[k]);\n\n                        var activeClass = '';\n                        if (premadeTheme.type === theme.type) {\n                            activeClass = 'active';\n                        }\n\n                        premadeThemes.push(_react2.default.createElement(\n                            'div',\n                            {\n                                className: 'col-xs-6 col-sm-3 premade-themes',\n                                key: 'premade-theme-key' + k\n                            },\n                            _react2.default.createElement(\n                                'div',\n                                {\n                                    className: activeClass,\n                                    onClick: function onClick() {\n                                        return _this2.props.updateTheme(premadeTheme);\n                                    }\n                                },\n                                _react2.default.createElement(\n                                    'label',\n                                    null,\n                                    _react2.default.createElement('img', {\n                                        className: 'img-responsive',\n                                        src: premadeTheme.image\n                                    }),\n                                    _react2.default.createElement(\n                                        'div',\n                                        { className: 'theme-label' },\n                                        Utils.toTitleCase(premadeTheme.type)\n                                    )\n                                )\n                            )\n                        ));\n                    }();\n\n                    if (_ret === 'continue') continue;\n                }\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'row appearance-section' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'clearfix' },\n                    premadeThemes\n                )\n            );\n        }\n    }]);\n    return PremadeThemeChooser;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = PremadeThemeChooser;\n\n\nPremadeThemeChooser.propTypes = {\n    theme: _propTypes2.default.object.isRequired,\n    updateTheme: _propTypes2.default.func.isRequired\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2453:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(31);\n\nvar _redux = __webpack_require__(20);\n\nvar _users = __webpack_require__(61);\n\nvar _user_settings_general = __webpack_require__(2454);\n\nvar _user_settings_general2 = _interopRequireDefault(_user_settings_general);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps);\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getMe: _users.getMe\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_user_settings_general2.default);\n\n/***/ }),\n\n/***/ 2454:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _assign = __webpack_require__(41);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _diagnostics_actions = __webpack_require__(237);\n\nvar _user_actions = __webpack_require__(69);\n\nvar _error_store = __webpack_require__(206);\n\nvar _error_store2 = _interopRequireDefault(_error_store);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _setting_item_max = __webpack_require__(736);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(737);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nvar _setting_picture = __webpack_require__(2455);\n\nvar _setting_picture2 = _interopRequireDefault(_setting_picture);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar holders = (0, _reactIntl.defineMessages)({\n    usernameReserved: {\n        id: 'user.settings.general.usernameReserved',\n        defaultMessage: 'This username is reserved, please choose a new one.'\n    },\n    usernameRestrictions: {\n        id: 'user.settings.general.usernameRestrictions',\n        defaultMessage: \"Username must begin with a letter, and contain between {min} to {max} lowercase characters made up of numbers, letters, and the symbols '.', '-', and '_'.\"\n    },\n    validEmail: {\n        id: 'user.settings.general.validEmail',\n        defaultMessage: 'Please enter a valid email address.'\n    },\n    emailMatch: {\n        id: 'user.settings.general.emailMatch',\n        defaultMessage: 'The new emails you entered do not match.'\n    },\n    checkEmail: {\n        id: 'user.settings.general.checkEmail',\n        defaultMessage: 'Check your email at {email} to verify the address.'\n    },\n    validImage: {\n        id: 'user.settings.general.validImage',\n        defaultMessage: 'Only JPG or PNG images may be used for profile pictures'\n    },\n    imageTooLarge: {\n        id: 'user.settings.general.imageTooLarge',\n        defaultMessage: 'Unable to upload profile image. File is too large.'\n    },\n    uploadImage: {\n        id: 'user.settings.general.uploadImage',\n        defaultMessage: \"Click 'Edit' to upload an image.\"\n    },\n    uploadImageMobile: {\n        id: 'user.settings.general.mobile.uploadImage',\n        defaultMessage: 'Click to upload an image.'\n    },\n    fullName: {\n        id: 'user.settings.general.fullName',\n        defaultMessage: 'Full Name'\n    },\n    nickname: {\n        id: 'user.settings.general.nickname',\n        defaultMessage: 'Nickname'\n    },\n    username: {\n        id: 'user.settings.general.username',\n        defaultMessage: 'Username'\n    },\n    profilePicture: {\n        id: 'user.settings.general.profilePicture',\n        defaultMessage: 'Profile Picture'\n    },\n    close: {\n        id: 'user.settings.general.close',\n        defaultMessage: 'Close'\n    },\n    position: {\n        id: 'user.settings.general.position',\n        defaultMessage: 'Position'\n    }\n});\n\nvar UserSettingsGeneralTab = function (_React$Component) {\n    (0, _inherits3.default)(UserSettingsGeneralTab, _React$Component);\n\n    function UserSettingsGeneralTab(props) {\n        (0, _classCallCheck3.default)(this, UserSettingsGeneralTab);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (UserSettingsGeneralTab.__proto__ || (0, _getPrototypeOf2.default)(UserSettingsGeneralTab)).call(this, props));\n\n        _this.submitActive = false;\n\n        _this.submitUsername = _this.submitUsername.bind(_this);\n        _this.submitNickname = _this.submitNickname.bind(_this);\n        _this.submitName = _this.submitName.bind(_this);\n        _this.submitEmail = _this.submitEmail.bind(_this);\n        _this.submitUser = _this.submitUser.bind(_this);\n        _this.submitPicture = _this.submitPicture.bind(_this);\n        _this.submitPosition = _this.submitPosition.bind(_this);\n\n        _this.updateUsername = _this.updateUsername.bind(_this);\n        _this.updateFirstName = _this.updateFirstName.bind(_this);\n        _this.updateLastName = _this.updateLastName.bind(_this);\n        _this.updateNickname = _this.updateNickname.bind(_this);\n        _this.updateEmail = _this.updateEmail.bind(_this);\n        _this.updateConfirmEmail = _this.updateConfirmEmail.bind(_this);\n        _this.updatePicture = _this.updatePicture.bind(_this);\n        _this.updateSection = _this.updateSection.bind(_this);\n        _this.updatePosition = _this.updatePosition.bind(_this);\n\n        _this.state = _this.setupInitialState(props);\n        return _this;\n    }\n\n    (0, _createClass3.default)(UserSettingsGeneralTab, [{\n        key: 'submitUsername',\n        value: function submitUsername(e) {\n            e.preventDefault();\n\n            var user = (0, _assign2.default)({}, this.props.user);\n            var username = this.state.username.trim().toLowerCase();\n\n            var formatMessage = this.props.intl.formatMessage;\n\n            var usernameError = Utils.isValidUsername(username);\n            if (usernameError === 'Cannot use a reserved word as a username.') {\n                this.setState({ clientError: formatMessage(holders.usernameReserved), serverError: '' });\n                return;\n            } else if (usernameError) {\n                this.setState({ clientError: formatMessage(holders.usernameRestrictions, { min: _constants2.default.MIN_USERNAME_LENGTH, max: _constants2.default.MAX_USERNAME_LENGTH }), serverError: '' });\n                return;\n            }\n\n            if (user.username === username) {\n                this.updateSection('');\n                return;\n            }\n\n            user.username = username;\n\n            (0, _diagnostics_actions.trackEvent)('settings', 'user_settings_update', { field: 'username' });\n\n            this.submitUser(user, _constants2.default.UserUpdateEvents.USERNAME, false);\n        }\n    }, {\n        key: 'submitNickname',\n        value: function submitNickname(e) {\n            e.preventDefault();\n\n            var user = (0, _assign2.default)({}, this.props.user);\n            var nickname = this.state.nickname.trim();\n\n            if (user.nickname === nickname) {\n                this.updateSection('');\n                return;\n            }\n\n            user.nickname = nickname;\n\n            (0, _diagnostics_actions.trackEvent)('settings', 'user_settings_update', { field: 'username' });\n\n            this.submitUser(user, _constants2.default.UserUpdateEvents.NICKNAME, false);\n        }\n    }, {\n        key: 'submitName',\n        value: function submitName(e) {\n            e.preventDefault();\n\n            var user = (0, _assign2.default)({}, this.props.user);\n            var firstName = this.state.firstName.trim();\n            var lastName = this.state.lastName.trim();\n\n            if (user.first_name === firstName && user.last_name === lastName) {\n                this.updateSection('');\n                return;\n            }\n\n            user.first_name = firstName;\n            user.last_name = lastName;\n\n            (0, _diagnostics_actions.trackEvent)('settings', 'user_settings_update', { field: 'fullname' });\n\n            this.submitUser(user, _constants2.default.UserUpdateEvents.FULLNAME, false);\n        }\n    }, {\n        key: 'submitEmail',\n        value: function submitEmail(e) {\n            e.preventDefault();\n\n            var user = (0, _assign2.default)({}, this.props.user);\n            var email = this.state.email.trim().toLowerCase();\n            var confirmEmail = this.state.confirmEmail.trim().toLowerCase();\n\n            var formatMessage = this.props.intl.formatMessage;\n\n\n            if (email === user.email && (confirmEmail === '' || confirmEmail === user.email)) {\n                this.updateSection('');\n                return;\n            }\n\n            if (email === '' || !Utils.isEmail(email)) {\n                this.setState({ emailError: formatMessage(holders.validEmail), clientError: '', serverError: '' });\n                return;\n            }\n\n            if (email !== confirmEmail) {\n                this.setState({ emailError: formatMessage(holders.emailMatch), clientError: '', serverError: '' });\n                return;\n            }\n\n            user.email = email;\n            (0, _diagnostics_actions.trackEvent)('settings', 'user_settings_update', { field: 'email' });\n            this.submitUser(user, _constants2.default.UserUpdateEvents.EMAIL, true);\n        }\n    }, {\n        key: 'submitUser',\n        value: function submitUser(user, type, emailUpdated) {\n            var _this2 = this;\n\n            this.setState({ sectionIsSaving: true });\n\n            (0, _user_actions.updateUser)(user, type, function () {\n                _this2.updateSection('');\n                _this2.props.actions.getMe();\n                var verificationEnabled = global.window.mm_config.SendEmailNotifications === 'true' && global.window.mm_config.RequireEmailVerification === 'true' && emailUpdated;\n\n                if (verificationEnabled) {\n                    _error_store2.default.storeLastError({ message: _this2.props.intl.formatMessage(holders.checkEmail, { email: user.email }) });\n                    _error_store2.default.emitChange();\n                    _this2.setState({ emailChangeInProgress: true });\n                }\n            }, function (err) {\n                var serverError = void 0;\n                if (err.message) {\n                    serverError = err.message;\n                } else {\n                    serverError = err;\n                }\n                _this2.setState({ serverError: serverError, emailError: '', clientError: '', sectionIsSaving: false });\n            });\n        }\n    }, {\n        key: 'submitPicture',\n        value: function submitPicture(e) {\n            var _this3 = this;\n\n            e.preventDefault();\n\n            if (!this.state.pictureFile) {\n                return;\n            }\n\n            if (!this.submitActive) {\n                return;\n            }\n\n            (0, _diagnostics_actions.trackEvent)('settings', 'user_settings_update', { field: 'picture' });\n\n            var formatMessage = this.props.intl.formatMessage;\n\n            var file = this.state.pictureFile;\n\n            if (file.type !== 'image/jpeg' && file.type !== 'image/png') {\n                this.setState({ clientError: formatMessage(holders.validImage), serverError: '' });\n                return;\n            } else if (file.size > this.state.maxFileSize) {\n                this.setState({ clientError: formatMessage(holders.imageTooLarge), serverError: '' });\n                return;\n            }\n\n            this.setState({ loadingPicture: true });\n\n            (0, _user_actions.uploadProfileImage)(file, function () {\n                _this3.updateSection('');\n                _this3.submitActive = false;\n            }, function (err) {\n                var state = _this3.setupInitialState(_this3.props);\n                state.serverError = err.message;\n                _this3.setState(state);\n            });\n        }\n    }, {\n        key: 'submitPosition',\n        value: function submitPosition(e) {\n            e.preventDefault();\n\n            var user = (0, _assign2.default)({}, this.props.user);\n            var position = this.state.position.trim();\n\n            if (user.position === position) {\n                this.updateSection('');\n                return;\n            }\n\n            user.position = position;\n\n            (0, _diagnostics_actions.trackEvent)('settings', 'user_settings_update', { field: 'position' });\n\n            this.submitUser(user, _constants2.default.UserUpdateEvents.Position, false);\n        }\n    }, {\n        key: 'updateUsername',\n        value: function updateUsername(e) {\n            this.setState({ username: e.target.value });\n        }\n    }, {\n        key: 'updateFirstName',\n        value: function updateFirstName(e) {\n            this.setState({ firstName: e.target.value });\n        }\n    }, {\n        key: 'updateLastName',\n        value: function updateLastName(e) {\n            this.setState({ lastName: e.target.value });\n        }\n    }, {\n        key: 'updateNickname',\n        value: function updateNickname(e) {\n            this.setState({ nickname: e.target.value });\n        }\n    }, {\n        key: 'updatePosition',\n        value: function updatePosition(e) {\n            this.setState({ position: e.target.value });\n        }\n    }, {\n        key: 'updateEmail',\n        value: function updateEmail(e) {\n            this.setState({ email: e.target.value });\n        }\n    }, {\n        key: 'updateConfirmEmail',\n        value: function updateConfirmEmail(e) {\n            this.setState({ confirmEmail: e.target.value });\n        }\n    }, {\n        key: 'updatePicture',\n        value: function updatePicture(e) {\n            if (e.target.files && e.target.files[0]) {\n                this.setState({ pictureFile: e.target.files[0] });\n\n                this.submitActive = true;\n                this.setState({ clientError: null });\n            } else {\n                this.setState({ pictureFile: null });\n            }\n        }\n    }, {\n        key: 'updateSection',\n        value: function updateSection(section) {\n            var emailChangeInProgress = this.state.emailChangeInProgress;\n            this.setState((0, _assign2.default)({}, this.setupInitialState(this.props), { emailChangeInProgress: emailChangeInProgress, clientError: '', serverError: '', emailError: '', sectionIsSaving: false }));\n            this.submitActive = false;\n            this.props.updateSection(section);\n        }\n    }, {\n        key: 'setupInitialState',\n        value: function setupInitialState(props) {\n            var user = props.user;\n\n            return {\n                username: user.username,\n                firstName: user.first_name,\n                lastName: user.last_name,\n                nickname: user.nickname,\n                position: user.position,\n                originalEmail: user.email,\n                email: '',\n                confirmEmail: '',\n                pictureFile: null,\n                loadingPicture: false,\n                emailChangeInProgress: false,\n                maxFileSize: global.window.mm_config.MaxFileSize,\n                sectionIsSaving: false\n            };\n        }\n    }, {\n        key: 'createEmailSection',\n        value: function createEmailSection() {\n            var _this4 = this;\n\n            var emailSection = void 0;\n\n            if (this.props.activeSection === 'email') {\n                var emailEnabled = global.window.mm_config.SendEmailNotifications === 'true';\n                var emailVerificationEnabled = global.window.mm_config.RequireEmailVerification === 'true';\n                var inputs = [];\n\n                var helpText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.general.emailHelp1',\n                    defaultMessage: 'Email is used for sign-in, notifications, and password reset. Email requires verification if changed.'\n                });\n\n                if (!emailEnabled) {\n                    helpText = _react2.default.createElement(\n                        'div',\n                        { className: 'setting-list__hint col-sm-12 text-danger' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.emailHelp2',\n                            defaultMessage: 'Email has been disabled by your System Administrator. No notification emails will be sent until it is enabled.'\n                        })\n                    );\n                } else if (!emailVerificationEnabled) {\n                    helpText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.emailHelp3',\n                        defaultMessage: 'Email is used for sign-in, notifications, and password reset.'\n                    });\n                } else if (this.state.emailChangeInProgress) {\n                    var newEmail = _user_store2.default.getCurrentUser().email;\n                    if (newEmail) {\n                        helpText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.emailHelp4',\n                            defaultMessage: 'A verification email was sent to {email}.',\n                            values: {\n                                email: newEmail\n                            }\n                        });\n                    }\n                }\n\n                var submit = null;\n\n                if (this.props.user.auth_service === '') {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        { key: 'currentEmailSetting' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'form-group' },\n                            _react2.default.createElement(\n                                'label',\n                                { className: 'col-sm-5 control-label' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.general.currentEmail',\n                                    defaultMessage: 'Current Email'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-7' },\n                                _react2.default.createElement(\n                                    'label',\n                                    { className: 'control-label' },\n                                    this.state.originalEmail\n                                )\n                            )\n                        )\n                    ));\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        { key: 'emailSetting' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'form-group' },\n                            _react2.default.createElement(\n                                'label',\n                                { className: 'col-sm-5 control-label' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.general.newEmail',\n                                    defaultMessage: 'New Email'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-7' },\n                                _react2.default.createElement('input', {\n                                    id: 'primaryEmail',\n                                    className: 'form-control',\n                                    type: 'email',\n                                    onChange: this.updateEmail,\n                                    value: this.state.email\n                                })\n                            )\n                        )\n                    ));\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        { key: 'confirmEmailSetting' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'form-group' },\n                            _react2.default.createElement(\n                                'label',\n                                { className: 'col-sm-5 control-label' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.general.confirmEmail',\n                                    defaultMessage: 'Confirm Email'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-7' },\n                                _react2.default.createElement('input', {\n                                    id: 'confirmEmail',\n                                    className: 'form-control',\n                                    type: 'email',\n                                    onChange: this.updateConfirmEmail,\n                                    value: this.state.confirmEmail\n                                })\n                            )\n                        ),\n                        helpText\n                    ));\n\n                    submit = this.submitEmail;\n                } else if (this.props.user.auth_service === _constants2.default.GITLAB_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.general.emailGitlabCantUpdate',\n                                defaultMessage: 'Login occurs through GitLab. Email cannot be updated. Email address used for notifications is {email}.',\n                                values: {\n                                    email: this.state.originalEmail\n                                }\n                            })\n                        ),\n                        helpText\n                    ));\n                } else if (this.props.user.auth_service === _constants2.default.GOOGLE_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.general.emailGoogleCantUpdate',\n                                defaultMessage: 'Login occurs through Google Apps. Email cannot be updated. Email address used for notifications is {email}.',\n                                values: {\n                                    email: this.state.originalEmail\n                                }\n                            })\n                        ),\n                        helpText\n                    ));\n                } else if (this.props.user.auth_service === _constants2.default.OFFICE365_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.general.emailOffice365CantUpdate',\n                                defaultMessage: 'Login occurs through Office 365. Email cannot be updated. Email address used for notifications is {email}.',\n                                values: {\n                                    email: this.state.originalEmail\n                                }\n                            })\n                        ),\n                        helpText\n                    ));\n                } else if (this.props.user.auth_service === _constants2.default.LDAP_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'padding-bottom'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.general.emailLdapCantUpdate',\n                                defaultMessage: 'Login occurs through AD/LDAP. Email cannot be updated. Email address used for notifications is {email}.',\n                                values: {\n                                    email: this.state.originalEmail\n                                }\n                            })\n                        )\n                    ));\n                } else if (this.props.user.auth_service === _constants2.default.SAML_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'padding-bottom'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.general.emailSamlCantUpdate',\n                                defaultMessage: 'Login occurs through SAML. Email cannot be updated. Email address used for notifications is {email}.',\n                                values: {\n                                    email: this.state.originalEmail\n                                }\n                            })\n                        ),\n                        helpText\n                    ));\n                }\n\n                emailSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.email',\n                        defaultMessage: 'Email'\n                    }),\n                    inputs: inputs,\n                    submit: submit,\n                    saving: this.state.sectionIsSaving,\n                    server_error: this.state.serverError,\n                    client_error: this.state.emailError,\n                    updateSection: function updateSection(e) {\n                        _this4.updateSection('');\n                        e.preventDefault();\n                    }\n                });\n            } else {\n                var describe = '';\n                if (this.props.user.auth_service === '') {\n                    if (this.state.emailChangeInProgress) {\n                        var _newEmail = _user_store2.default.getCurrentUser().email;\n                        if (_newEmail) {\n                            describe = _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                                id: 'user.settings.general.newAddress',\n                                defaultMessage: 'New Address: {email}<br />Check your email to verify the above address.',\n                                values: {\n                                    email: _newEmail\n                                }\n                            });\n                        } else {\n                            describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.general.checkEmailNoAddress',\n                                defaultMessage: 'Check your email to verify your new address'\n                            });\n                        }\n                    } else {\n                        describe = _user_store2.default.getCurrentUser().email;\n                    }\n                } else if (this.props.user.auth_service === _constants2.default.GITLAB_SERVICE) {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.loginGitlab',\n                        defaultMessage: 'Login done through GitLab ({email})',\n                        values: {\n                            email: this.state.originalEmail\n                        }\n                    });\n                } else if (this.props.user.auth_service === _constants2.default.GOOGLE_SERVICE) {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.loginGoogle',\n                        defaultMessage: 'Login done through Google Apps ({email})',\n                        values: {\n                            email: this.state.originalEmail\n                        }\n                    });\n                } else if (this.props.user.auth_service === _constants2.default.OFFICE365_SERVICE) {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.loginOffice365',\n                        defaultMessage: 'Login done through Office 365 ({email})',\n                        values: {\n                            email: this.state.originalEmail\n                        }\n                    });\n                } else if (this.props.user.auth_service === _constants2.default.LDAP_SERVICE) {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.loginLdap',\n                        defaultMessage: 'Login done through AD/LDAP ({email})',\n                        values: {\n                            email: this.state.originalEmail\n                        }\n                    });\n                } else if (this.props.user.auth_service === _constants2.default.SAML_SERVICE) {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.loginSaml',\n                        defaultMessage: 'Login done through SAML ({email})',\n                        values: {\n                            email: this.state.originalEmail\n                        }\n                    });\n                }\n\n                emailSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.email',\n                        defaultMessage: 'Email'\n                    }),\n                    describe: describe,\n                    updateSection: function updateSection() {\n                        _this4.updateSection('email');\n                    }\n                });\n            }\n\n            return emailSection;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this5 = this;\n\n            var user = this.props.user;\n            var formatMessage = this.props.intl.formatMessage;\n\n\n            var clientError = null;\n            if (this.state.clientError) {\n                clientError = this.state.clientError;\n            }\n            var serverError = null;\n            if (this.state.serverError) {\n                serverError = this.state.serverError;\n            }\n\n            var nameSection = void 0;\n            var inputs = [];\n\n            if (this.props.activeSection === 'name') {\n                var extraInfo = void 0;\n                var submit = null;\n                if (this.props.user.auth_service === 'ldap' && (global.window.mm_config.LdapFristNameAttributeSet === 'true' || global.window.mm_config.LdapLastNameAttributeSet === 'true') || this.props.user.auth_service === _constants2.default.SAML_SERVICE && (global.window.mm_config.SamlFirstNameAttributeSet === 'true' || global.window.mm_config.SamlLastNameAttributeSet === 'true')) {\n                    extraInfo = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.field_handled_externally',\n                            defaultMessage: 'This field is handled through your login provider. If you want to change it, you need to do so through your login provider.'\n                        })\n                    );\n                } else {\n                    var notifClick = function notifClick(e) {\n                        e.preventDefault();\n                        this.updateSection('');\n                        this.props.updateTab('notifications');\n                    };\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'firstNameSetting',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'col-sm-5 control-label' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.general.firstName',\n                                defaultMessage: 'First Name'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-7' },\n                            _react2.default.createElement('input', {\n                                id: 'firstName',\n                                className: 'form-control',\n                                type: 'text',\n                                onChange: this.updateFirstName,\n                                value: this.state.firstName\n                            })\n                        )\n                    ));\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'lastNameSetting',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'col-sm-5 control-label' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.general.lastName',\n                                defaultMessage: 'Last Name'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-7' },\n                            _react2.default.createElement('input', {\n                                id: 'lastName',\n                                className: 'form-control',\n                                type: 'text',\n                                onChange: this.updateLastName,\n                                value: this.state.lastName\n                            })\n                        )\n                    ));\n\n                    var notifLink = _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            onClick: notifClick.bind(this)\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.notificationsLink',\n                            defaultMessage: 'Notifications'\n                        })\n                    );\n\n                    extraInfo = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.notificationsExtra',\n                            defaultMessage: 'By default, you will receive mention notifications when someone types your first name. Go to {notify} settings to change this default.',\n                            values: {\n                                notify: notifLink\n                            }\n                        })\n                    );\n\n                    submit = this.submitName;\n                }\n\n                nameSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: formatMessage(holders.fullName),\n                    inputs: inputs,\n                    submit: submit,\n                    saving: this.state.sectionIsSaving,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: function updateSection(e) {\n                        _this5.updateSection('');\n                        e.preventDefault();\n                    },\n                    extraInfo: extraInfo\n                });\n            } else {\n                var describe = '';\n\n                if (user.first_name && user.last_name) {\n                    describe = user.first_name + ' ' + user.last_name;\n                } else if (user.first_name) {\n                    describe = user.first_name;\n                } else if (user.last_name) {\n                    describe = user.last_name;\n                } else {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.emptyName',\n                        defaultMessage: 'Click \\'Edit\\' to add your full name'\n                    });\n                    if (Utils.isMobile()) {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.mobile.emptyName',\n                            defaultMessage: 'Click to add your full name'\n                        });\n                    }\n                }\n\n                nameSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: formatMessage(holders.fullName),\n                    describe: describe,\n                    updateSection: function updateSection() {\n                        _this5.updateSection('name');\n                    }\n                });\n            }\n\n            var nicknameSection = void 0;\n            if (this.props.activeSection === 'nickname') {\n                var _extraInfo = void 0;\n                var _submit = null;\n                if (this.props.user.auth_service === 'ldap' && global.window.mm_config.LdapNicknameAttributeSet || this.props.user.auth_service === _constants2.default.SAML_SERVICE && global.window.mm_config.LdapNicknameAttributeSet) {\n                    _extraInfo = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.field_handled_externally',\n                            defaultMessage: 'This field is handled through your login provider. If you want to change it, you need to do so though your login provider.'\n                        })\n                    );\n                } else {\n                    var nicknameLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.nickname',\n                        defaultMessage: 'Nickname'\n                    });\n                    if (Utils.isMobile()) {\n                        nicknameLabel = '';\n                    }\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'nicknameSetting',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'col-sm-5 control-label' },\n                            nicknameLabel\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-7' },\n                            _react2.default.createElement('input', {\n                                id: 'nickname',\n                                className: 'form-control',\n                                type: 'text',\n                                onChange: this.updateNickname,\n                                value: this.state.nickname,\n                                maxLength: _constants2.default.MAX_NICKNAME_LENGTH,\n                                autoCapitalize: 'off'\n                            })\n                        )\n                    ));\n\n                    _extraInfo = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.nicknameExtra',\n                            defaultMessage: 'Use Nickname for a name you might be called that is different from your first name and username. This is most often used when two or more people have similar sounding names and usernames.'\n                        })\n                    );\n\n                    _submit = this.submitNickname;\n                }\n\n                nicknameSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: formatMessage(holders.nickname),\n                    inputs: inputs,\n                    submit: _submit,\n                    saving: this.state.sectionIsSaving,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: function updateSection(e) {\n                        _this5.updateSection('');\n                        e.preventDefault();\n                    },\n                    extraInfo: _extraInfo\n                });\n            } else {\n                var _describe = '';\n                if (user.nickname) {\n                    _describe = user.nickname;\n                } else {\n                    _describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.emptyNickname',\n                        defaultMessage: 'Click \\'Edit\\' to add a nickname'\n                    });\n                    if (Utils.isMobile()) {\n                        _describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.mobile.emptyNickname',\n                            defaultMessage: 'Click to add a nickname'\n                        });\n                    }\n                }\n\n                nicknameSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: formatMessage(holders.nickname),\n                    describe: _describe,\n                    updateSection: function updateSection() {\n                        _this5.updateSection('nickname');\n                    }\n                });\n            }\n\n            var usernameSection = void 0;\n            if (this.props.activeSection === 'username') {\n                var _extraInfo2 = void 0;\n                var _submit2 = null;\n                if (this.props.user.auth_service === '') {\n                    var usernameLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.username',\n                        defaultMessage: 'Username'\n                    });\n                    if (Utils.isMobile()) {\n                        usernameLabel = '';\n                    }\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'usernameSetting',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'col-sm-5 control-label' },\n                            usernameLabel\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-7' },\n                            _react2.default.createElement('input', {\n                                id: 'username',\n                                maxLength: _constants2.default.MAX_USERNAME_LENGTH,\n                                className: 'form-control',\n                                type: 'text',\n                                onChange: this.updateUsername,\n                                value: this.state.username,\n                                autoCapitalize: 'off'\n                            })\n                        )\n                    ));\n\n                    _extraInfo2 = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.usernameInfo',\n                            defaultMessage: 'Pick something easy for teammates to recognize and recall.'\n                        })\n                    );\n\n                    _submit2 = this.submitUsername;\n                } else {\n                    _extraInfo2 = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.field_handled_externally',\n                            defaultMessage: 'This field is handled through your login provider. If you want to change it, you need to do so though your login provider.'\n                        })\n                    );\n                }\n\n                usernameSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: formatMessage(holders.username),\n                    inputs: inputs,\n                    submit: _submit2,\n                    saving: this.state.sectionIsSaving,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: function updateSection(e) {\n                        _this5.updateSection('');\n                        e.preventDefault();\n                    },\n                    extraInfo: _extraInfo2\n                });\n            } else {\n                usernameSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: formatMessage(holders.username),\n                    describe: _user_store2.default.getCurrentUser().username,\n                    updateSection: function updateSection() {\n                        _this5.updateSection('username');\n                    }\n                });\n            }\n\n            var positionSection = void 0;\n            if (this.props.activeSection === 'position') {\n                var _extraInfo3 = void 0;\n                var _submit3 = null;\n                if ((this.props.user.auth_service === 'ldap' || this.props.user.auth_service === _constants2.default.SAML_SERVICE) && global.window.mm_config.PositionAttributeSet === 'true') {\n                    _extraInfo3 = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.field_handled_externally',\n                            defaultMessage: 'This field is handled through your login provider. If you want to change it, you need to do so though your login provider.'\n                        })\n                    );\n                } else {\n                    var positionLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.position',\n                        defaultMessage: 'Position'\n                    });\n                    if (Utils.isMobile()) {\n                        positionLabel = '';\n                    }\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'positionSetting',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'col-sm-5 control-label' },\n                            positionLabel\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-7' },\n                            _react2.default.createElement('input', {\n                                id: 'position',\n                                className: 'form-control',\n                                type: 'text',\n                                onChange: this.updatePosition,\n                                value: this.state.position,\n                                maxLength: _constants2.default.MAX_POSITION_LENGTH,\n                                autoCapitalize: 'off'\n                            })\n                        )\n                    ));\n\n                    _extraInfo3 = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.positionExtra',\n                            defaultMessage: 'Use Position for your role or job title. This will be shown in your profile popover.'\n                        })\n                    );\n\n                    _submit3 = this.submitPosition;\n                }\n\n                positionSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: formatMessage(holders.position),\n                    inputs: inputs,\n                    submit: _submit3,\n                    saving: this.state.sectionIsSaving,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: function updateSection(e) {\n                        _this5.updateSection('');\n                        e.preventDefault();\n                    },\n                    extraInfo: _extraInfo3\n                });\n            } else {\n                var _describe2 = '';\n                if (user.position) {\n                    _describe2 = user.position;\n                } else {\n                    _describe2 = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.emptyPosition',\n                        defaultMessage: 'Click \\'Edit\\' to add your job title / position'\n                    });\n                    if (Utils.isMobile()) {\n                        _describe2 = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.mobile.emptyPosition',\n                            defaultMessage: 'Click to add your job title / position'\n                        });\n                    }\n                }\n\n                positionSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: formatMessage(holders.position),\n                    describe: _describe2,\n                    updateSection: function updateSection() {\n                        _this5.updateSection('position');\n                    }\n                });\n            }\n\n            var emailSection = this.createEmailSection();\n\n            var pictureSection = void 0;\n            if (this.props.activeSection === 'picture') {\n                pictureSection = _react2.default.createElement(_setting_picture2.default, {\n                    title: formatMessage(holders.profilePicture),\n                    submit: this.submitPicture,\n                    src: Utils.imageURLForUser(user),\n                    serverError: serverError,\n                    clientError: clientError,\n                    updateSection: function updateSection(e) {\n                        _this5.updateSection('');\n                        e.preventDefault();\n                    },\n                    file: this.state.pictureFile,\n                    onFileChange: this.updatePicture,\n                    submitActive: this.submitActive,\n                    loadingPicture: this.state.loadingPicture\n                });\n            } else {\n                var minMessage = formatMessage(holders.uploadImage);\n                if (Utils.isMobile()) {\n                    minMessage = formatMessage(holders.uploadImageMobile);\n                }\n                if (user.last_picture_update) {\n                    minMessage = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.general.imageUpdated',\n                        defaultMessage: 'Image last updated {date}',\n                        values: {\n                            date: _react2.default.createElement(_reactIntl.FormattedDate, {\n                                value: new Date(user.last_picture_update),\n                                day: '2-digit',\n                                month: 'short',\n                                year: 'numeric'\n                            })\n                        }\n                    });\n                }\n                pictureSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: formatMessage(holders.profilePicture),\n                    describe: minMessage,\n                    updateSection: function updateSection() {\n                        _this5.updateSection('picture');\n                    }\n                });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: 'closeUserSettings',\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            'aria-label': formatMessage(holders.close),\n                            onClick: this.props.closeModal\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            '×'\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', {\n                                className: 'fa fa-angle-left',\n                                onClick: this.props.collapseModal\n                            })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.title',\n                            defaultMessage: 'General Settings'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'user-settings' },\n                    _react2.default.createElement(\n                        'h3',\n                        { className: 'tab-header' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.general.title',\n                            defaultMessage: 'General Settings'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    nameSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    usernameSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    nicknameSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    positionSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    emailSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    pictureSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' })\n                )\n            );\n        }\n    }]);\n    return UserSettingsGeneralTab;\n}(_react2.default.Component);\n\nUserSettingsGeneralTab.propTypes = {\n    intl: _reactIntl.intlShape.isRequired,\n    user: _propTypes2.default.object.isRequired,\n    updateSection: _propTypes2.default.func.isRequired,\n    updateTab: _propTypes2.default.func.isRequired,\n    activeSection: _propTypes2.default.string.isRequired,\n    closeModal: _propTypes2.default.func.isRequired,\n    collapseModal: _propTypes2.default.func.isRequired,\n    actions: _propTypes2.default.shape({\n        getMe: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = (0, _reactIntl.injectIntl)(UserSettingsGeneralTab);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2455:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _exif2css2 = __webpack_require__(2456);\n\nvar _exif2css3 = _interopRequireDefault(_exif2css2);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _load = __webpack_require__(208);\n\nvar _load2 = _interopRequireDefault(_load);\n\nvar _form_error = __webpack_require__(238);\n\nvar _form_error2 = _interopRequireDefault(_form_error);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SettingPicture = function (_Component) {\n    (0, _inherits3.default)(SettingPicture, _Component);\n\n    function SettingPicture(props) {\n        (0, _classCallCheck3.default)(this, SettingPicture);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SettingPicture.__proto__ || (0, _getPrototypeOf2.default)(SettingPicture)).call(this, props));\n\n        _this.setPicture = function (file) {\n            if (file) {\n                _this.previewBlob = URL.createObjectURL(file);\n\n                var reader = new FileReader();\n                reader.onload = function (e) {\n                    var orientation = _this.getExifOrientation(e.target.result);\n                    var orientationStyles = _this.getOrientationStyles(orientation);\n\n                    _this.setState({\n                        image: _this.previewBlob,\n                        orientationStyles: orientationStyles\n                    });\n                };\n                reader.readAsArrayBuffer(file);\n            }\n        };\n\n        _this.state = {\n            image: null\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SettingPicture, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (nextProps.file !== this.props.file) {\n                this.setState({ image: null });\n\n                this.setPicture(nextProps.file);\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            if (this.previewBlob) {\n                URL.revokeObjectURL(this.previewBlob);\n            }\n        }\n    }, {\n        key: 'getExifOrientation',\n\n\n        // based on https://stackoverflow.com/questions/7584794/accessing-jpeg-exif-rotation-data-in-javascript-on-the-client-side/32490603#32490603\n        value: function getExifOrientation(data) {\n            var view = new DataView(data);\n\n            if (view.getUint16(0, false) !== 0xFFD8) {\n                return -2;\n            }\n\n            var length = view.byteLength;\n            var offset = 2;\n\n            while (offset < length) {\n                var marker = view.getUint16(offset, false);\n                offset += 2;\n\n                if (marker === 0xFFE1) {\n                    if (view.getUint32(offset += 2, false) !== 0x45786966) {\n                        return -1;\n                    }\n\n                    var little = view.getUint16(offset += 6, false) === 0x4949;\n                    offset += view.getUint32(offset + 4, little);\n                    var tags = view.getUint16(offset, little);\n                    offset += 2;\n\n                    for (var i = 0; i < tags; i++) {\n                        if (view.getUint16(offset + i * 12, little) === 0x0112) {\n                            return view.getUint16(offset + i * 12 + 8, little);\n                        }\n                    }\n                } else if ((marker & 0xFF00) === 0xFF00) {\n                    offset += view.getUint16(offset, false);\n                } else {\n                    break;\n                }\n            }\n            return -1;\n        }\n    }, {\n        key: 'getOrientationStyles',\n        value: function getOrientationStyles(orientation) {\n            var _exif2css = (0, _exif2css3.default)(orientation),\n                transform = _exif2css.transform,\n                transformOrigin = _exif2css['transform-origin'];\n\n            return { transform: transform, transformOrigin: transformOrigin };\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var img = void 0;\n            if (this.props.file) {\n                var imageStyles = (0, _extends3.default)({\n                    backgroundImage: 'url(' + this.state.image + ')'\n                }, this.state.orientationStyles);\n\n                img = _react2.default.createElement('div', {\n                    className: 'profile-img-preview',\n                    style: imageStyles\n                });\n            } else {\n                img = _react2.default.createElement('img', {\n                    ref: 'image',\n                    className: 'profile-img rounded',\n                    src: this.props.src\n                });\n            }\n\n            var confirmButton = void 0;\n            var selectButtonSpinner = void 0;\n            var fileInputDisabled = false;\n            if (this.props.loadingPicture) {\n                confirmButton = _react2.default.createElement('img', {\n                    className: 'spinner',\n                    src: _load2.default\n                });\n                selectButtonSpinner = _react2.default.createElement('span', { className: 'icon fa fa-refresh icon--rotate' });\n                fileInputDisabled = true;\n            } else {\n                var confirmButtonClass = 'btn btn-sm';\n                if (this.props.submitActive) {\n                    confirmButtonClass += ' btn-primary';\n                } else {\n                    confirmButtonClass += ' btn-inactive disabled';\n                }\n\n                confirmButton = _react2.default.createElement(\n                    'a',\n                    {\n                        className: confirmButtonClass,\n                        onClick: this.props.submit\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'setting_picture.save',\n                        defaultMessage: 'Save'\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                'ul',\n                { className: 'section-max form-horizontal' },\n                _react2.default.createElement(\n                    'li',\n                    { className: 'col-xs-12 section-title' },\n                    this.props.title\n                ),\n                _react2.default.createElement(\n                    'li',\n                    { className: 'col-xs-offset-3 col-xs-8' },\n                    _react2.default.createElement(\n                        'ul',\n                        { className: 'setting-list' },\n                        _react2.default.createElement(\n                            'li',\n                            { className: 'setting-list-item' },\n                            img\n                        ),\n                        _react2.default.createElement(\n                            'li',\n                            { className: 'setting-list-item padding-top x2' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'setting_picture.help',\n                                defaultMessage: 'Upload a profile picture in BMP, JPG, JPEG or PNG format, at least {width}px in width and {height}px height.',\n                                values: {\n                                    width: _constants2.default.PROFILE_WIDTH,\n                                    height: _constants2.default.PROFILE_WIDTH\n                                }\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'li',\n                            { className: 'setting-list-item' },\n                            _react2.default.createElement('hr', null),\n                            _react2.default.createElement(_form_error2.default, {\n                                errors: [this.props.clientError, this.props.serverError],\n                                type: 'modal'\n                            }),\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    className: 'btn btn-sm btn-primary btn-file sel-btn',\n                                    disabled: fileInputDisabled\n                                },\n                                selectButtonSpinner,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'setting_picture.select',\n                                    defaultMessage: 'Select'\n                                }),\n                                _react2.default.createElement('input', {\n                                    ref: 'input',\n                                    accept: '.jpg,.png,.bmp',\n                                    type: 'file',\n                                    onChange: this.props.onFileChange,\n                                    disabled: fileInputDisabled\n                                })\n                            ),\n                            confirmButton,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    className: 'btn btn-sm theme',\n                                    href: '#',\n                                    onClick: this.props.updateSection\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'setting_picture.cancel',\n                                    defaultMessage: 'Cancel'\n                                })\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return SettingPicture;\n}(_react.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nSettingPicture.propTypes = {\n    clientError: _propTypes2.default.string,\n    serverError: _propTypes2.default.string,\n    src: _propTypes2.default.string,\n    file: _propTypes2.default.object,\n    loadingPicture: _propTypes2.default.bool,\n    submitActive: _propTypes2.default.bool,\n    submit: _propTypes2.default.func,\n    title: _propTypes2.default.string,\n    onFileChange: _propTypes2.default.func,\n    updateSection: _propTypes2.default.func\n};\nexports.default = SettingPicture;\n\n/***/ }),\n\n/***/ 2456:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\nvar propMap = {\n    r: 'rotate',\n    ry: 'rotateY',\n    t: 'translateX',\n    ty: 'translateY',\n}\n\nvar transformsMap = {\n    '2': {\n        ry: 180,\n    },\n    '3': {\n        r: 180,\n    },\n    '4': {\n        r: 180,\n        ry: 180,\n    },\n    '5': {\n        r: 270,\n        ry: 180,\n    },\n    '6': {\n        ty: -1,\n        r: 90,\n    },\n    '7': {\n        ty: -1,\n        t: -1,\n        r: 90,\n        ry: 180,\n    },\n    '8': {\n        t: -1,\n        r: 270,\n    },\n}\n\nvar transformOriginMap = {\n    '5': 'top left',\n    '6': 'bottom left',\n    '7': 'bottom right',\n    '8': 'top right',\n}\n\nfunction expandTransforms(transforms) {\n    var o = {}\n    var expanded = false\n    for (var prop in transforms) {\n        if (!expanded) expanded = true\n        var ep = propMap[prop]\n        o[ep] = transforms[prop]\n    }\n    return expanded ? o : null\n}\n\nfunction getValue(prop, value) {\n    if (prop === 'r' || prop === 'ry') {\n        return value + 'deg'\n    }\n    if (prop === 't' || prop === 'ty') {\n        return value * 100 + '%'\n    }\n}\n\nfunction expandTransform(transforms) {\n    var a = []\n    for (var prop in transforms) {\n        var ep = propMap[prop]\n        a.push(ep + '(' + getValue(prop, transforms[prop]) + ')')\n    }\n    return a.length ? a.join(' ') : null\n}\n\n\nfunction expandTransformStrings(transforms) {\n    var o = {}\n    var expanded = false\n    for (var prop in transforms) {\n        if (!expanded) expanded = true\n        var ep = propMap[prop]\n        o[ep] = ep + '(' + getValue(prop, transforms[prop]) + ')'\n    }\n    return expanded ? o : null\n}\n\nfunction exif2css(orientation) {\n    var s = String(orientation)\n    var transforms = transformsMap[s]\n\n    var transform = expandTransform(transforms)\n    var transformOrigin = transformOriginMap[s]\n    var allTransforms = expandTransforms(transforms)\n    var allTransformStrings = expandTransformStrings(transforms)\n\n    var css = {}\n    if (transform) {\n        css.transform = transform\n    }\n    if (transformOrigin) {\n        css['transform-origin'] = transformOrigin\n    }\n    if (allTransforms) {\n        css.transforms = allTransforms\n    }\n    if (allTransformStrings) {\n        css.transformStrings = allTransformStrings\n    }\n    return css\n}\n\nmodule.exports = exif2css\n\n\n\n/***/ }),\n\n/***/ 2457:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _user_actions = __webpack_require__(69);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _setting_item_max = __webpack_require__(736);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(737);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nvar _desktop_notification_settings = __webpack_require__(2458);\n\nvar _desktop_notification_settings2 = _interopRequireDefault(_desktop_notification_settings);\n\nvar _email_notification_setting = __webpack_require__(2459);\n\nvar _email_notification_setting2 = _interopRequireDefault(_email_notification_setting);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getNotificationsStateFromStores() {\n    var user = _user_store2.default.getCurrentUser();\n\n    var desktop = _constants.NotificationLevels.DEFAULT;\n    var sound = 'true';\n    var desktopDuration = '5';\n    var comments = 'never';\n    var enableEmail = 'true';\n    var pushActivity = _constants.NotificationLevels.MENTION;\n    var pushStatus = _constants2.default.UserStatuses.ONLINE;\n\n    if (user.notify_props) {\n        if (user.notify_props.desktop) {\n            desktop = user.notify_props.desktop;\n        }\n        if (user.notify_props.desktop_sound) {\n            sound = user.notify_props.desktop_sound;\n        }\n        if (user.notify_props.desktop_duration) {\n            desktopDuration = user.notify_props.desktop_duration;\n        }\n        if (user.notify_props.comments) {\n            comments = user.notify_props.comments;\n        }\n        if (user.notify_props.email) {\n            enableEmail = user.notify_props.email;\n        }\n        if (user.notify_props.push) {\n            pushActivity = user.notify_props.push;\n        }\n        if (user.notify_props.push_status) {\n            pushStatus = user.notify_props.push_status;\n        }\n    }\n\n    var usernameKey = false;\n    var customKeys = '';\n    var firstNameKey = false;\n    var channelKey = false;\n\n    if (user.notify_props) {\n        if (user.notify_props.mention_keys) {\n            var keys = user.notify_props.mention_keys.split(',');\n\n            if (keys.indexOf(user.username) === -1) {\n                usernameKey = false;\n            } else {\n                usernameKey = true;\n                keys.splice(keys.indexOf(user.username), 1);\n                if (keys.indexOf('@' + user.username) !== -1) {\n                    keys.splice(keys.indexOf('@' + user.username), 1);\n                }\n            }\n\n            customKeys = keys.join(',');\n        }\n\n        if (user.notify_props.first_name) {\n            firstNameKey = user.notify_props.first_name === 'true';\n        }\n\n        if (user.notify_props.channel) {\n            channelKey = user.notify_props.channel === 'true';\n        }\n    }\n\n    return {\n        desktopActivity: desktop,\n        desktopDuration: desktopDuration,\n        enableEmail: enableEmail,\n        pushActivity: pushActivity,\n        pushStatus: pushStatus,\n        desktopSound: sound,\n        usernameKey: usernameKey,\n        customKeys: customKeys,\n        customKeysChecked: customKeys.length > 0,\n        firstNameKey: firstNameKey,\n        channelKey: channelKey,\n        notifyCommentsLevel: comments,\n        isSaving: false\n    };\n} // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar NotificationsTab = function (_React$Component) {\n    (0, _inherits3.default)(NotificationsTab, _React$Component);\n\n    function NotificationsTab(props) {\n        (0, _classCallCheck3.default)(this, NotificationsTab);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (NotificationsTab.__proto__ || (0, _getPrototypeOf2.default)(NotificationsTab)).call(this, props));\n\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleCancel = _this.handleCancel.bind(_this);\n        _this.updateSection = _this.updateSection.bind(_this);\n        _this.setStateValue = _this.setStateValue.bind(_this);\n        _this.onListenerChange = _this.onListenerChange.bind(_this);\n        _this.handleEmailRadio = _this.handleEmailRadio.bind(_this);\n        _this.updateUsernameKey = _this.updateUsernameKey.bind(_this);\n        _this.updateFirstNameKey = _this.updateFirstNameKey.bind(_this);\n        _this.updateChannelKey = _this.updateChannelKey.bind(_this);\n        _this.updateCustomMentionKeys = _this.updateCustomMentionKeys.bind(_this);\n        _this.updateState = _this.updateState.bind(_this);\n        _this.onCustomChange = _this.onCustomChange.bind(_this);\n        _this.createPushNotificationSection = _this.createPushNotificationSection.bind(_this);\n\n        _this.state = getNotificationsStateFromStores();\n        return _this;\n    }\n\n    (0, _createClass3.default)(NotificationsTab, [{\n        key: 'handleSubmit',\n        value: function handleSubmit(_ref) {\n            var _this2 = this;\n\n            var _ref$enableEmail = _ref.enableEmail,\n                enableEmail = _ref$enableEmail === undefined ? this.state.enableEmail : _ref$enableEmail;\n\n            var data = {};\n            data.user_id = this.props.user.id;\n            data.email = enableEmail;\n            data.desktop_sound = this.state.desktopSound;\n            data.desktop = this.state.desktopActivity;\n            data.desktop_duration = this.state.desktopDuration;\n            data.push = this.state.pushActivity;\n            data.push_status = this.state.pushStatus;\n            data.comments = this.state.notifyCommentsLevel;\n\n            var mentionKeys = [];\n            if (this.state.usernameKey) {\n                mentionKeys.push(this.props.user.username);\n            }\n\n            var stringKeys = mentionKeys.join(',');\n            if (this.state.customKeys.length > 0 && this.state.customKeysChecked) {\n                stringKeys += ',' + this.state.customKeys;\n            }\n\n            data.mention_keys = stringKeys;\n            data.first_name = this.state.firstNameKey.toString();\n            data.channel = this.state.channelKey.toString();\n\n            this.setState({ isSaving: true });\n\n            (0, _user_actions.updateUserNotifyProps)(data, function () {\n                _this2.props.updateSection('');\n            }, function (err) {\n                _this2.setState({ serverError: err.message, isSaving: false });\n            });\n        }\n    }, {\n        key: 'handleCancel',\n        value: function handleCancel(e) {\n            e.preventDefault();\n            this.updateState();\n            this.props.updateSection('');\n        }\n    }, {\n        key: 'setStateValue',\n        value: function setStateValue(key, value) {\n            var data = {};\n            data[key] = value;\n            this.setState(data);\n        }\n    }, {\n        key: 'updateSection',\n        value: function updateSection(section) {\n            this.updateState();\n            this.props.updateSection(section);\n        }\n    }, {\n        key: 'updateState',\n        value: function updateState() {\n            var newState = getNotificationsStateFromStores();\n            if (!Utils.areObjectsEqual(newState, this.state)) {\n                this.setState(newState);\n            }\n\n            this.setState({ isSaving: false });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _user_store2.default.addChangeListener(this.onListenerChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _user_store2.default.removeChangeListener(this.onListenerChange);\n        }\n    }, {\n        key: 'onListenerChange',\n        value: function onListenerChange() {\n            this.updateState();\n        }\n    }, {\n        key: 'handleNotifyCommentsRadio',\n        value: function handleNotifyCommentsRadio(notifyCommentsLevel) {\n            this.setState({ notifyCommentsLevel: notifyCommentsLevel });\n            this.refs.wrapper.focus();\n        }\n    }, {\n        key: 'handlePushRadio',\n        value: function handlePushRadio(pushActivity) {\n            this.setState({ pushActivity: pushActivity });\n            this.refs.wrapper.focus();\n        }\n    }, {\n        key: 'handlePushStatusRadio',\n        value: function handlePushStatusRadio(pushStatus) {\n            this.setState({ pushStatus: pushStatus });\n            this.refs.wrapper.focus();\n        }\n    }, {\n        key: 'handleEmailRadio',\n        value: function handleEmailRadio(enableEmail) {\n            this.setState({ enableEmail: enableEmail });\n            this.refs.wrapper.focus();\n        }\n    }, {\n        key: 'updateUsernameKey',\n        value: function updateUsernameKey(val) {\n            this.setState({ usernameKey: val });\n        }\n    }, {\n        key: 'updateFirstNameKey',\n        value: function updateFirstNameKey(val) {\n            this.setState({ firstNameKey: val });\n        }\n    }, {\n        key: 'updateChannelKey',\n        value: function updateChannelKey(val) {\n            this.setState({ channelKey: val });\n        }\n    }, {\n        key: 'updateCustomMentionKeys',\n        value: function updateCustomMentionKeys() {\n            var checked = this.refs.customcheck.checked;\n\n            if (checked) {\n                var text = this.refs.custommentions.value;\n\n                // remove all spaces and split string into individual keys\n                this.setState({ customKeys: text.replace(/ /g, ''), customKeysChecked: true });\n            } else {\n                this.setState({ customKeys: '', customKeysChecked: false });\n            }\n        }\n    }, {\n        key: 'onCustomChange',\n        value: function onCustomChange() {\n            this.refs.customcheck.checked = true;\n            this.updateCustomMentionKeys();\n        }\n    }, {\n        key: 'createPushNotificationSection',\n        value: function createPushNotificationSection() {\n            var _this3 = this;\n\n            if (this.props.activeSection === 'push') {\n                var inputs = [];\n                var extraInfo = null;\n                var submit = null;\n\n                if (global.window.mm_config.SendPushNotifications === 'true') {\n                    var pushActivityRadio = [false, false, false];\n                    if (this.state.pushActivity === _constants.NotificationLevels.ALL) {\n                        pushActivityRadio[0] = true;\n                    } else if (this.state.pushActivity === _constants.NotificationLevels.NONE) {\n                        pushActivityRadio[2] = true;\n                    } else {\n                        pushActivityRadio[1] = true;\n                    }\n\n                    var pushStatusRadio = [false, false, false];\n                    if (this.state.pushStatus === _constants2.default.UserStatuses.ONLINE) {\n                        pushStatusRadio[0] = true;\n                    } else if (this.state.pushStatus === _constants2.default.UserStatuses.AWAY) {\n                        pushStatusRadio[1] = true;\n                    } else {\n                        pushStatusRadio[2] = true;\n                    }\n\n                    var pushStatusSettings = void 0;\n                    if (this.state.pushActivity !== _constants.NotificationLevels.NONE) {\n                        pushStatusSettings = _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement('hr', null),\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.notifications.push_notification.status',\n                                    defaultMessage: 'Trigger push notifications when'\n                                })\n                            ),\n                            _react2.default.createElement('br', null),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'radio' },\n                                _react2.default.createElement(\n                                    'label',\n                                    null,\n                                    _react2.default.createElement('input', {\n                                        id: 'pushNotificationOnline',\n                                        type: 'radio',\n                                        name: 'pushNotificationStatus',\n                                        checked: pushStatusRadio[0],\n                                        onChange: this.handlePushStatusRadio.bind(this, _constants2.default.UserStatuses.ONLINE)\n                                    }),\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'user.settings.push_notification.online',\n                                        defaultMessage: 'Online, away or offline'\n                                    })\n                                ),\n                                _react2.default.createElement('br', null)\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'radio' },\n                                _react2.default.createElement(\n                                    'label',\n                                    null,\n                                    _react2.default.createElement('input', {\n                                        id: 'pushNotificationAway',\n                                        type: 'radio',\n                                        name: 'pushNotificationStatus',\n                                        checked: pushStatusRadio[1],\n                                        onChange: this.handlePushStatusRadio.bind(this, _constants2.default.UserStatuses.AWAY)\n                                    }),\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'user.settings.push_notification.away',\n                                        defaultMessage: 'Away or offline'\n                                    })\n                                ),\n                                _react2.default.createElement('br', null)\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'radio' },\n                                _react2.default.createElement(\n                                    'label',\n                                    null,\n                                    _react2.default.createElement('input', {\n                                        id: 'pushNotificationOffline',\n                                        type: 'radio',\n                                        name: 'pushNotificationStatus',\n                                        checked: pushStatusRadio[2],\n                                        onChange: this.handlePushStatusRadio.bind(this, _constants2.default.UserStatuses.OFFLINE)\n                                    }),\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'user.settings.push_notification.offline',\n                                        defaultMessage: 'Offline'\n                                    })\n                                )\n                            )\n                        );\n\n                        extraInfo = _react2.default.createElement(\n                            'span',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.push_notification.status_info',\n                                defaultMessage: 'Notification alerts are only pushed to your mobile device when your online status matches the selection above.'\n                            })\n                        );\n                    }\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        { key: 'userNotificationLevelOption' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.push_notification.send',\n                                defaultMessage: 'Send mobile push notifications'\n                            })\n                        ),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'radio' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'pushNotificationAllActivity',\n                                    type: 'radio',\n                                    name: 'pushNotificationLevel',\n                                    checked: pushActivityRadio[0],\n                                    onChange: this.handlePushRadio.bind(this, _constants.NotificationLevels.ALL)\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.push_notification.allActivity',\n                                    defaultMessage: 'For all activity'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'radio' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'pushNotificationMentions',\n                                    type: 'radio',\n                                    name: 'pushNotificationLevel',\n                                    checked: pushActivityRadio[1],\n                                    onChange: this.handlePushRadio.bind(this, _constants.NotificationLevels.MENTION)\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.push_notification.onlyMentions',\n                                    defaultMessage: 'For mentions and direct messages'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'radio' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'pushNotificationNever',\n                                    type: 'radio',\n                                    name: 'pushNotificationLevel',\n                                    checked: pushActivityRadio[2],\n                                    onChange: this.handlePushRadio.bind(this, _constants.NotificationLevels.NONE)\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.notifications.never',\n                                    defaultMessage: 'Never'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(\n                            'span',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.push_notification.info',\n                                defaultMessage: 'Notification alerts are pushed to your mobile device when there is activity in Mattermost.'\n                            })\n                        ),\n                        pushStatusSettings\n                    ));\n\n                    submit = this.handleSubmit;\n                } else {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'padding-top'\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.push_notification.disabled_long',\n                            defaultMessage: 'Push notifications for mobile devices have been disabled by your System Administrator.'\n                        })\n                    ));\n                }\n\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('user.settings.notifications.push', 'Mobile push notifications'),\n                    extraInfo: extraInfo,\n                    inputs: inputs,\n                    submit: submit,\n                    server_error: this.state.serverError,\n                    updateSection: this.handleCancel\n                });\n            }\n\n            var describe = '';\n            if (this.state.pushActivity === _constants.NotificationLevels.ALL) {\n                if (this.state.pushStatus === _constants2.default.UserStatuses.AWAY) {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.push_notification.allActivityAway',\n                        defaultMessage: 'For all activity when away or offline'\n                    });\n                } else if (this.state.pushStatus === _constants2.default.UserStatuses.OFFLINE) {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.push_notification.allActivityOffline',\n                        defaultMessage: 'For all activity when offline'\n                    });\n                } else {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.push_notification.allActivityOnline',\n                        defaultMessage: 'For all activity when online, away or offline'\n                    });\n                }\n            } else if (this.state.pushActivity === _constants.NotificationLevels.NONE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.notifications.never',\n                    defaultMessage: 'Never'\n                });\n            } else if (global.window.mm_config.SendPushNotifications === 'false') {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.push_notification.disabled',\n                    defaultMessage: 'Disabled by System Administrator'\n                });\n            } else {\n                if (this.state.pushStatus === _constants2.default.UserStatuses.AWAY) {\n                    //eslint-disable-line no-lonely-if\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.push_notification.onlyMentionsAway',\n                        defaultMessage: 'For mentions and direct messages when away or offline'\n                    });\n                } else if (this.state.pushStatus === _constants2.default.UserStatuses.OFFLINE) {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.push_notification.onlyMentionsOffline',\n                        defaultMessage: 'For mentions and direct messages when offline'\n                    });\n                } else {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.push_notification.onlyMentionsOnline',\n                        defaultMessage: 'For mentions and direct messages when online, away or offline'\n                    });\n                }\n            }\n\n            var handleUpdatePushSection = function handleUpdatePushSection() {\n                _this3.props.updateSection('push');\n            };\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: Utils.localizeMessage('user.settings.notifications.push', 'Mobile push notifications'),\n                describe: describe,\n                updateSection: handleUpdatePushSection\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var serverError = this.state.serverError;\n            var user = this.props.user;\n\n            var keysSection = void 0;\n            var handleUpdateKeysSection = void 0;\n            if (this.props.activeSection === 'keys') {\n                var inputs = [];\n\n                if (user.first_name) {\n                    var handleUpdateFirstNameKey = function handleUpdateFirstNameKey(e) {\n                        _this4.updateFirstNameKey(e.target.checked);\n                    };\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        { key: 'userNotificationFirstNameOption' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'checkbox' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'notificationTriggerFirst',\n                                    type: 'checkbox',\n                                    checked: this.state.firstNameKey,\n                                    onChange: handleUpdateFirstNameKey\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.notifications.sensitiveName',\n                                    defaultMessage: 'Your case sensitive first name \"{first_name}\"',\n                                    values: {\n                                        first_name: user.first_name\n                                    }\n                                })\n                            )\n                        )\n                    ));\n                }\n\n                var handleUpdateUsernameKey = function handleUpdateUsernameKey(e) {\n                    _this4.updateUsernameKey(e.target.checked);\n                };\n                inputs.push(_react2.default.createElement(\n                    'div',\n                    { key: 'userNotificationUsernameOption' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'checkbox' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'notificationTriggerUsername',\n                                type: 'checkbox',\n                                checked: this.state.usernameKey,\n                                onChange: handleUpdateUsernameKey\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.sensitiveUsername',\n                                defaultMessage: 'Your non-case sensitive username \"{username}\"',\n                                values: {\n                                    username: user.username\n                                }\n                            })\n                        )\n                    )\n                ));\n\n                var handleUpdateChannelKey = function handleUpdateChannelKey(e) {\n                    _this4.updateChannelKey(e.target.checked);\n                };\n                inputs.push(_react2.default.createElement(\n                    'div',\n                    { key: 'userNotificationChannelOption' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'checkbox' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'notificationTriggerShouts',\n                                type: 'checkbox',\n                                checked: this.state.channelKey,\n                                onChange: handleUpdateChannelKey\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.channelWide',\n                                defaultMessage: 'Channel-wide mentions \"@channel\", \"@all\", \"@here\"'\n                            })\n                        )\n                    )\n                ));\n\n                inputs.push(_react2.default.createElement(\n                    'div',\n                    { key: 'userNotificationCustomOption' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'checkbox' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'notificationTriggerCustom',\n                                ref: 'customcheck',\n                                type: 'checkbox',\n                                checked: this.state.customKeysChecked,\n                                onChange: this.updateCustomMentionKeys\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.sensitiveWords',\n                                defaultMessage: 'Other non-case sensitive words, separated by commas:'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement('input', {\n                        id: 'notificationTriggerCustomText',\n                        ref: 'custommentions',\n                        className: 'form-control mentions-input',\n                        type: 'text',\n                        defaultValue: this.state.customKeys,\n                        onChange: this.onCustomChange\n                    })\n                ));\n\n                var extraInfo = _react2.default.createElement(\n                    'span',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.mentionsInfo',\n                        defaultMessage: 'Mentions trigger when someone sends a message that includes your username (@{username}) or any of the options selected above.',\n                        values: {\n                            username: user.username\n                        }\n                    })\n                );\n\n                keysSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('user.settings.notifications.wordsTrigger', 'Words that trigger mentions'),\n                    inputs: inputs,\n                    submit: this.handleSubmit,\n                    saving: this.state.isSaving,\n                    server_error: serverError,\n                    updateSection: this.handleCancel,\n                    extraInfo: extraInfo\n                });\n            } else {\n                var keys = ['@' + user.username];\n                if (this.state.firstNameKey) {\n                    keys.push(user.first_name);\n                }\n                if (this.state.usernameKey) {\n                    keys.push(user.username);\n                }\n\n                if (this.state.channelKey) {\n                    keys.push('@channel');\n                    keys.push('@all');\n                    keys.push('@here');\n                }\n                if (this.state.customKeys.length > 0) {\n                    keys = keys.concat(this.state.customKeys.split(','));\n                }\n\n                var describe = '';\n                for (var i = 0; i < keys.length; i++) {\n                    if (keys[i] !== '') {\n                        describe += '\"' + keys[i] + '\", ';\n                    }\n                }\n\n                if (describe.length > 0) {\n                    describe = describe.substring(0, describe.length - 2);\n                } else {\n                    describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.noWords',\n                        defaultMessage: 'No words configured'\n                    });\n                }\n\n                handleUpdateKeysSection = function updateKeysSection() {\n                    this.props.updateSection('keys');\n                }.bind(this);\n\n                keysSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: Utils.localizeMessage('user.settings.notifications.wordsTrigger', 'Words that trigger mentions'),\n                    describe: describe,\n                    updateSection: handleUpdateKeysSection\n                });\n            }\n\n            var commentsSection = void 0;\n            var handleUpdateCommentsSection = void 0;\n            if (this.props.activeSection === 'comments') {\n                var commentsActive = [false, false, false];\n                if (this.state.notifyCommentsLevel === 'never') {\n                    commentsActive[2] = true;\n                } else if (this.state.notifyCommentsLevel === 'root') {\n                    commentsActive[1] = true;\n                } else {\n                    commentsActive[0] = true;\n                }\n\n                var _inputs = [];\n\n                _inputs.push(_react2.default.createElement(\n                    'div',\n                    { key: 'userNotificationLevelOption' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'notificationCommentsAny',\n                                type: 'radio',\n                                name: 'commentsNotificationLevel',\n                                checked: commentsActive[0],\n                                onChange: this.handleNotifyCommentsRadio.bind(this, 'any')\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.commentsAny',\n                                defaultMessage: 'Mention any comments in a thread you participated in (This will include both mentions to your root post and any comments after you commented on a post)'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'notificationCommentsRoot',\n                                type: 'radio',\n                                name: 'commentsNotificationLevel',\n                                checked: commentsActive[1],\n                                onChange: this.handleNotifyCommentsRadio.bind(this, 'root')\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.commentsRoot',\n                                defaultMessage: 'Mention any comments on your post'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'notificationCommentsNever',\n                                type: 'radio',\n                                name: 'commentsNotificationLevel',\n                                checked: commentsActive[2],\n                                onChange: this.handleNotifyCommentsRadio.bind(this, 'never')\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.commentsNever',\n                                defaultMessage: 'No mentions for comments'\n                            })\n                        )\n                    )\n                ));\n\n                var _extraInfo = _react2.default.createElement(\n                    'span',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.commentsInfo',\n                        defaultMessage: 'In addition to notifications for when you\\'re mentioned, select if you would like to receive notifications on reply threads.'\n                    })\n                );\n\n                commentsSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('user.settings.notifications.comments', 'Reply notifications'),\n                    extraInfo: _extraInfo,\n                    inputs: _inputs,\n                    submit: this.handleSubmit,\n                    saving: this.state.isSaving,\n                    server_error: serverError,\n                    updateSection: this.handleCancel\n                });\n            } else {\n                var _describe = '';\n                if (this.state.notifyCommentsLevel === 'never') {\n                    _describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.commentsNever',\n                        defaultMessage: 'Do not trigger notifications on messages in reply threads unless I\\'m mentioned'\n                    });\n                } else if (this.state.notifyCommentsLevel === 'root') {\n                    _describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.commentsRoot',\n                        defaultMessage: 'Trigger notifications on messages in threads that I start'\n                    });\n                } else {\n                    _describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.commentsAny',\n                        defaultMessage: 'Trigger notifications on messages in reply threads that I start or participate in'\n                    });\n                }\n\n                handleUpdateCommentsSection = function updateCommentsSection() {\n                    this.props.updateSection('comments');\n                }.bind(this);\n\n                commentsSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: Utils.localizeMessage('user.settings.notifications.comments', 'Reply notifications'),\n                    describe: _describe,\n                    updateSection: handleUpdateCommentsSection\n                });\n            }\n\n            var pushNotificationSection = this.createPushNotificationSection();\n            var enableEmail = this.state.enableEmail === 'true';\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: 'closeButton',\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            onClick: this.props.closeModal\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            '×'\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', {\n                                className: 'fa fa-angle-left',\n                                onClick: this.props.collapseModal\n                            })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.title',\n                            defaultMessage: 'Notification Settings'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'wrapper',\n                        className: 'user-settings'\n                    },\n                    _react2.default.createElement(\n                        'h3',\n                        { className: 'tab-header' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.header',\n                            defaultMessage: 'Notifications'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    _react2.default.createElement(_desktop_notification_settings2.default, {\n                        activity: this.state.desktopActivity,\n                        sound: this.state.desktopSound,\n                        duration: this.state.desktopDuration,\n                        updateSection: this.updateSection,\n                        setParentState: this.setStateValue,\n                        submit: this.handleSubmit,\n                        saving: this.state.isSaving,\n                        cancel: this.handleCancel,\n                        error: this.state.serverError,\n                        active: this.props.activeSection === 'desktop'\n                    }),\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    _react2.default.createElement(_email_notification_setting2.default, {\n                        activeSection: this.props.activeSection,\n                        updateSection: this.props.updateSection,\n                        enableEmail: enableEmail,\n                        emailInterval: Utils.getEmailInterval(enableEmail),\n                        onSubmit: this.handleSubmit,\n                        onCancel: this.handleCancel,\n                        saving: this.state.isSaving,\n                        serverError: this.state.serverError\n                    }),\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    pushNotificationSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    keysSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    commentsSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' })\n                )\n            );\n        }\n    }]);\n    return NotificationsTab;\n}(_react2.default.Component);\n\nexports.default = NotificationsTab;\n\n\nNotificationsTab.defaultProps = {\n    user: null,\n    activeSection: '',\n    activeTab: ''\n};\nNotificationsTab.propTypes = {\n    user: _propTypes2.default.object,\n    updateSection: _propTypes2.default.func,\n    updateTab: _propTypes2.default.func,\n    activeSection: _propTypes2.default.string,\n    activeTab: _propTypes2.default.string,\n    closeModal: _propTypes2.default.func.isRequired,\n    collapseModal: _propTypes2.default.func.isRequired\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2458:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _constants = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _setting_item_max = __webpack_require__(736);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(737);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DesktopNotificationSettings = function (_React$Component) {\n    (0, _inherits3.default)(DesktopNotificationSettings, _React$Component);\n\n    function DesktopNotificationSettings(props) {\n        (0, _classCallCheck3.default)(this, DesktopNotificationSettings);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (DesktopNotificationSettings.__proto__ || (0, _getPrototypeOf2.default)(DesktopNotificationSettings)).call(this, props));\n\n        _this.buildMaximizedSetting = _this.buildMaximizedSetting.bind(_this);\n        _this.buildMinimizedSetting = _this.buildMinimizedSetting.bind(_this);\n\n        _this.state = {};\n        return _this;\n    }\n\n    (0, _createClass3.default)(DesktopNotificationSettings, [{\n        key: 'buildMaximizedSetting',\n        value: function buildMaximizedSetting() {\n            var _this2 = this;\n\n            var inputs = [];\n            var extraInfo = null;\n\n            var activityRadio = [false, false, false];\n            if (this.props.activity === _constants.NotificationLevels.MENTION) {\n                activityRadio[1] = true;\n            } else if (this.props.activity === _constants.NotificationLevels.NONE) {\n                activityRadio[2] = true;\n            } else {\n                activityRadio[0] = true;\n            }\n\n            var soundSection = void 0;\n            var durationSection = void 0;\n            if (this.props.activity !== _constants.NotificationLevels.NONE) {\n                var soundRadio = [false, false];\n                if (this.props.sound === 'false') {\n                    soundRadio[1] = true;\n                } else {\n                    soundRadio[0] = true;\n                }\n\n                if (Utils.hasSoundOptions()) {\n                    soundSection = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement('hr', null),\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.desktop.sound',\n                                defaultMessage: 'Notification sound'\n                            })\n                        ),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'radio' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'soundOn',\n                                    type: 'radio',\n                                    name: 'notificationSounds',\n                                    checked: soundRadio[0],\n                                    onChange: function onChange() {\n                                        return _this2.props.setParentState('desktopSound', 'true');\n                                    }\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.notifications.on',\n                                    defaultMessage: 'On'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'radio' },\n                            _react2.default.createElement(\n                                'label',\n                                null,\n                                _react2.default.createElement('input', {\n                                    id: 'soundOff',\n                                    type: 'radio',\n                                    name: 'notificationSounds',\n                                    checked: soundRadio[1],\n                                    onChange: function onChange() {\n                                        return _this2.props.setParentState('desktopSound', 'false');\n                                    }\n                                }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.notifications.off',\n                                    defaultMessage: 'Off'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        ),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(\n                            'span',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.sounds_info',\n                                defaultMessage: 'Notification sounds are available on IE11, Safari, Chrome and Mattermost Desktop Apps.'\n                            })\n                        )\n                    );\n                } else {\n                    soundSection = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement('hr', null),\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.desktop.sound',\n                                defaultMessage: 'Notification sound'\n                            })\n                        ),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.soundConfig',\n                            defaultMessage: 'Please configure notification sounds in your browser settings'\n                        })\n                    );\n                }\n\n                var durationRadio = [false, false, false, false];\n                if (this.props.duration === '3') {\n                    durationRadio[0] = true;\n                } else if (this.props.duration === '10') {\n                    durationRadio[2] = true;\n                } else if (this.props.duration === '0') {\n                    durationRadio[3] = true;\n                } else {\n                    durationRadio[1] = true;\n                }\n\n                durationSection = _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement('hr', null),\n                    _react2.default.createElement(\n                        'label',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.duration',\n                            defaultMessage: 'Notification duration'\n                        })\n                    ),\n                    _react2.default.createElement('br', null),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'soundDuration3',\n                                type: 'radio',\n                                name: 'desktopDuration',\n                                checked: durationRadio[0],\n                                onChange: function onChange() {\n                                    return _this2.props.setParentState('desktopDuration', '3');\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.desktop.seconds',\n                                defaultMessage: '{seconds} seconds',\n                                values: {\n                                    seconds: '3'\n                                }\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'soundDuration5',\n                                type: 'radio',\n                                name: 'desktopDuration',\n                                checked: durationRadio[1],\n                                onChange: function onChange() {\n                                    return _this2.props.setParentState('desktopDuration', '5');\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.desktop.seconds',\n                                defaultMessage: '{seconds} seconds',\n                                values: {\n                                    seconds: '5'\n                                }\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'soundDuration10',\n                                type: 'radio',\n                                name: 'desktopDuration',\n                                checked: durationRadio[2],\n                                onChange: function onChange() {\n                                    return _this2.props.setParentState('desktopDuration', '10');\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.desktop.seconds',\n                                defaultMessage: '{seconds} seconds',\n                                values: {\n                                    seconds: '10'\n                                }\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'soundDurationUnlimited',\n                                type: 'radio',\n                                name: 'desktopDuration',\n                                checked: durationRadio[3],\n                                onChange: function onChange() {\n                                    return _this2.props.setParentState('desktopDuration', '0');\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.desktop.unlimited',\n                                defaultMessage: 'Unlimited'\n                            })\n                        )\n                    )\n                );\n\n                extraInfo = _react2.default.createElement(\n                    'span',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.desktop.durationInfo',\n                        defaultMessage: 'Sets how long desktop notifications will remain on screen when using Firefox or Chrome. Desktop notifications in Edge and Safari can only stay on screen for a maximum of 5 seconds.'\n                    })\n                );\n            }\n\n            inputs.push(_react2.default.createElement(\n                'div',\n                { key: 'userNotificationLevelOption' },\n                _react2.default.createElement(\n                    'label',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.desktop',\n                        defaultMessage: 'Send desktop notifications'\n                    })\n                ),\n                _react2.default.createElement('br', null),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'radio' },\n                    _react2.default.createElement(\n                        'label',\n                        null,\n                        _react2.default.createElement('input', {\n                            id: 'desktopNotificationAllActivity',\n                            type: 'radio',\n                            name: 'desktopNotificationLevel',\n                            checked: activityRadio[0],\n                            onChange: function onChange() {\n                                return _this2.props.setParentState('desktopActivity', _constants.NotificationLevels.ALL);\n                            }\n                        }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.allActivity',\n                            defaultMessage: 'For all activity'\n                        })\n                    ),\n                    _react2.default.createElement('br', null)\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'radio' },\n                    _react2.default.createElement(\n                        'label',\n                        null,\n                        _react2.default.createElement('input', {\n                            id: 'desktopNotificationMentions',\n                            type: 'radio',\n                            name: 'desktopNotificationLevel',\n                            checked: activityRadio[1],\n                            onChange: function onChange() {\n                                return _this2.props.setParentState('desktopActivity', _constants.NotificationLevels.MENTION);\n                            }\n                        }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.onlyMentions',\n                            defaultMessage: 'Only for mentions and direct messages'\n                        })\n                    ),\n                    _react2.default.createElement('br', null)\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'radio' },\n                    _react2.default.createElement(\n                        'label',\n                        null,\n                        _react2.default.createElement('input', {\n                            id: 'desktopNotificationNever',\n                            type: 'radio',\n                            name: 'desktopNotificationLevel',\n                            checked: activityRadio[2],\n                            onChange: function onChange() {\n                                return _this2.props.setParentState('desktopActivity', _constants.NotificationLevels.NONE);\n                            }\n                        }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.never',\n                            defaultMessage: 'Never'\n                        })\n                    )\n                ),\n                _react2.default.createElement('br', null),\n                _react2.default.createElement(\n                    'span',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.info',\n                        defaultMessage: 'Desktop notifications are available on Edge, Firefox, Safari, Chrome and Mattermost Desktop Apps.'\n                    })\n                ),\n                soundSection,\n                durationSection\n            ));\n\n            return _react2.default.createElement(_setting_item_max2.default, {\n                title: Utils.localizeMessage('user.settings.notifications.desktop.title', 'Desktop notifications'),\n                extraInfo: extraInfo,\n                inputs: inputs,\n                submit: this.props.submit,\n                saving: this.props.saving,\n                server_error: this.props.error,\n                updateSection: this.props.cancel\n            });\n        }\n    }, {\n        key: 'buildMinimizedSetting',\n        value: function buildMinimizedSetting() {\n            var describe = '';\n            if (this.props.activity === _constants.NotificationLevels.MENTION) {\n                if (Utils.hasSoundOptions() && this.props.sound !== 'false') {\n                    if (this.props.duration === '0') {\n                        //eslint-disable-line no-lonely-if\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.mentionsSoundForever',\n                            defaultMessage: 'For mentions and direct messages, with sound, shown indefinitely'\n                        });\n                    } else {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.mentionsSoundTimed',\n                            defaultMessage: 'For mentions and direct messages, with sound, shown for {seconds} seconds',\n                            values: {\n                                seconds: this.props.duration\n                            }\n                        });\n                    }\n                } else if (Utils.hasSoundOptions() && this.props.sound === 'false') {\n                    if (this.props.duration === '0') {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.mentionsNoSoundForever',\n                            defaultMessage: 'For mentions and direct messages, without sound, shown indefinitely'\n                        });\n                    } else {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.mentionsNoSoundTimed',\n                            defaultMessage: 'For mentions and direct messages, without sound, shown for {seconds} seconds',\n                            values: {\n                                seconds: this.props.duration\n                            }\n                        });\n                    }\n                } else {\n                    if (this.props.duration === '0') {\n                        //eslint-disable-line no-lonely-if\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.mentionsSoundHiddenForever',\n                            defaultMessage: 'For mentions and direct messages, shown indefinitely'\n                        });\n                    } else {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.mentionsSoundHiddenTimed',\n                            defaultMessage: 'For mentions and direct messages, shown for {seconds} seconds',\n                            values: {\n                                seconds: this.props.duration\n                            }\n                        });\n                    }\n                }\n            } else if (this.props.activity === _constants.NotificationLevels.NONE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.notifications.off',\n                    defaultMessage: 'Off'\n                });\n            } else {\n                if (Utils.hasSoundOptions() && this.props.sound !== 'false') {\n                    //eslint-disable-line no-lonely-if\n                    if (this.props.duration === '0') {\n                        //eslint-disable-line no-lonely-if\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.allSoundForever',\n                            defaultMessage: 'For all activity, with sound, shown indefinitely'\n                        });\n                    } else {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.allSoundTimed',\n                            defaultMessage: 'For all activity, with sound, shown for {seconds} seconds',\n                            values: {\n                                seconds: this.props.duration\n                            }\n                        });\n                    }\n                } else if (Utils.hasSoundOptions() && this.props.sound === 'false') {\n                    if (this.props.duration === '0') {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.allNoSoundForever',\n                            defaultMessage: 'For all activity, without sound, shown indefinitely'\n                        });\n                    } else {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.allNoSoundTimed',\n                            defaultMessage: 'For all activity, without sound, shown for {seconds} seconds',\n                            values: {\n                                seconds: this.props.duration\n                            }\n                        });\n                    }\n                } else {\n                    if (this.props.duration === '0') {\n                        //eslint-disable-line no-lonely-if\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.allSoundHiddenForever',\n                            defaultMessage: 'For all activity, shown indefinitely'\n                        });\n                    } else {\n                        describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.desktop.allSoundHiddenTimed',\n                            defaultMessage: 'For all activity, shown for {seconds} seconds',\n                            values: {\n                                seconds: this.props.duration\n                            }\n                        });\n                    }\n                }\n            }\n\n            var handleUpdateDesktopSection = function updateDesktopSection() {\n                this.props.updateSection('desktop');\n            }.bind(this);\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: Utils.localizeMessage('user.settings.notifications.desktop.title', 'Desktop notifications'),\n                describe: describe,\n                updateSection: handleUpdateDesktopSection\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (this.props.active) {\n                return this.buildMaximizedSetting();\n            }\n\n            return this.buildMinimizedSetting();\n        }\n    }]);\n    return DesktopNotificationSettings;\n}(_react2.default.Component); // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = DesktopNotificationSettings;\n\n\nDesktopNotificationSettings.propTypes = {\n    activity: _propTypes2.default.string.isRequired,\n    sound: _propTypes2.default.string.isRequired,\n    duration: _propTypes2.default.string.isRequired,\n    updateSection: _propTypes2.default.func,\n    setParentState: _propTypes2.default.func,\n    submit: _propTypes2.default.func,\n    cancel: _propTypes2.default.func,\n    error: _propTypes2.default.string,\n    active: _propTypes2.default.bool,\n    saving: _propTypes2.default.bool\n};\n\n/***/ }),\n\n/***/ 2459:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _user_actions = __webpack_require__(69);\n\nvar _constants = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar _setting_item_max = __webpack_require__(736);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(737);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar EmailNotificationSetting = function (_React$Component) {\n    (0, _inherits3.default)(EmailNotificationSetting, _React$Component);\n\n    function EmailNotificationSetting(props) {\n        (0, _classCallCheck3.default)(this, EmailNotificationSetting);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (EmailNotificationSetting.__proto__ || (0, _getPrototypeOf2.default)(EmailNotificationSetting)).call(this, props));\n\n        _this.handleChange = function (enableEmail, emailInterval) {\n            _this.setState({\n                enableEmail: enableEmail,\n                emailInterval: emailInterval\n            });\n        };\n\n        _this.handleSubmit = function () {\n            var _this$state = _this.state,\n                enableEmail = _this$state.enableEmail,\n                emailInterval = _this$state.emailInterval;\n\n            if (_this.props.enableEmail !== enableEmail || _this.props.emailInterval !== emailInterval) {\n                // until the rest of the notification settings are moved to preferences, we have to do this separately\n                (0, _user_actions.savePreference)(_constants.Preferences.CATEGORY_NOTIFICATIONS, _constants.Preferences.EMAIL_INTERVAL, emailInterval.toString());\n\n                _this.props.onSubmit({ enableEmail: enableEmail });\n            } else {\n                _this.props.updateSection('');\n            }\n        };\n\n        _this.handleExpand = function () {\n            _this.props.updateSection('email');\n        };\n\n        _this.handleCancel = function (e) {\n            _this.setState({\n                enableEmail: _this.props.enableEmail,\n                emailInterval: _this.props.emailInterval\n            });\n            _this.props.onCancel(e);\n        };\n\n        _this.state = {\n            enableEmail: props.enableEmail,\n            emailInterval: props.emailInterval\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(EmailNotificationSetting, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (nextProps.enableEmail !== this.props.enableEmail || nextProps.emailInterval !== this.props.emailInterval) {\n                this.setState({\n                    enableEmail: nextProps.enableEmail,\n                    emailInterval: nextProps.emailInterval\n                });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            if (global.window.mm_config.SendEmailNotifications !== 'true' && this.props.activeSection === 'email') {\n                var inputs = [];\n\n                inputs.push(_react2.default.createElement(\n                    'div',\n                    {\n                        key: 'oauthEmailInfo',\n                        className: 'padding-top'\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.email.disabled_long',\n                        defaultMessage: 'Email notifications have been disabled by your System Administrator.'\n                    })\n                ));\n\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: (0, _utils.localizeMessage)('user.settings.notifications.emailNotifications', 'Email notifications'),\n                    inputs: inputs,\n                    server_error: this.state.serverError,\n                    updateSection: this.handleCancel\n                });\n            }\n\n            if (this.props.activeSection !== 'email') {\n                var description = void 0;\n\n                if (global.window.mm_config.SendEmailNotifications !== 'true') {\n                    description = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.email.disabled',\n                        defaultMessage: 'Disabled by System Administrator'\n                    });\n                } else if (this.props.enableEmail) {\n                    switch (this.state.emailInterval) {\n                        case _constants.Preferences.INTERVAL_IMMEDIATE:\n                            description = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.email.immediately',\n                                defaultMessage: 'Immediately'\n                            });\n                            break;\n                        case _constants.Preferences.INTERVAL_HOUR:\n                            description = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.email.everyHour',\n                                defaultMessage: 'Every hour'\n                            });\n                            break;\n                        default:\n                            description = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.email.everyXMinutes',\n                                defaultMessage: 'Every {count, plural, one {minute} other {{count, number} minutes}}',\n                                values: { count: this.state.emailInterval / 60 }\n                            });\n                    }\n                } else {\n                    description = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.notifications.email.never',\n                        defaultMessage: 'Never'\n                    });\n                }\n\n                return _react2.default.createElement(_setting_item_min2.default, {\n                    title: (0, _utils.localizeMessage)('user.settings.notifications.emailNotifications', 'Email notifications'),\n                    describe: description,\n                    updateSection: this.handleExpand\n                });\n            }\n\n            var batchingOptions = null;\n            var batchingInfo = null;\n            if (global.window.mm_config.EnableEmailBatching === 'true') {\n                batchingOptions = _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'emailNotificationMinutes',\n                                type: 'radio',\n                                name: 'emailNotifications',\n                                checked: this.state.emailInterval === _constants.Preferences.INTERVAL_FIFTEEN_MINUTES,\n                                onChange: function onChange() {\n                                    return _this2.handleChange('true', _constants.Preferences.INTERVAL_FIFTEEN_MINUTES);\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.email.everyXMinutes',\n                                defaultMessage: 'Every {count} minutes',\n                                values: { count: _constants.Preferences.INTERVAL_FIFTEEN_MINUTES / 60 }\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'emailNotificationHour',\n                                type: 'radio',\n                                name: 'emailNotifications',\n                                checked: this.state.emailInterval === _constants.Preferences.INTERVAL_HOUR,\n                                onChange: function onChange() {\n                                    return _this2.handleChange('true', _constants.Preferences.INTERVAL_HOUR);\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.email.everyHour',\n                                defaultMessage: 'Every hour'\n                            })\n                        )\n                    )\n                );\n\n                batchingInfo = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.notifications.emailBatchingInfo',\n                    defaultMessage: 'Notifications received over the time period selected are combined and sent in a single email.'\n                });\n            }\n\n            return _react2.default.createElement(_setting_item_max2.default, {\n                title: (0, _utils.localizeMessage)('user.settings.notifications.emailNotifications', 'Email notifications'),\n                inputs: [_react2.default.createElement(\n                    'div',\n                    { key: 'userNotificationEmailOptions' },\n                    _react2.default.createElement(\n                        'label',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.email.send',\n                            defaultMessage: 'Send email notifications'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'emailNotificationImmediately',\n                                type: 'radio',\n                                name: 'emailNotifications',\n                                checked: this.state.emailInterval === _constants.Preferences.INTERVAL_IMMEDIATE,\n                                onChange: function onChange() {\n                                    return _this2.handleChange('true', _constants.Preferences.INTERVAL_IMMEDIATE);\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.email.immediately',\n                                defaultMessage: 'Immediately'\n                            })\n                        )\n                    ),\n                    batchingOptions,\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'emailNotificationNever',\n                                type: 'radio',\n                                name: 'emailNotifications',\n                                checked: this.state.emailInterval === _constants.Preferences.INTERVAL_NEVER,\n                                onChange: function onChange() {\n                                    return _this2.handleChange('false', _constants.Preferences.INTERVAL_NEVER);\n                                }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.notifications.email.never',\n                                defaultMessage: 'Never'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement('br', null),\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.notifications.emailInfo',\n                            defaultMessage: 'Email notifications are sent for mentions and direct messages when you are offline or away from {siteName} for more than 5 minutes.',\n                            values: {\n                                siteName: global.window.mm_config.SiteName\n                            }\n                        }),\n                        ' ',\n                        batchingInfo\n                    )\n                )],\n                submit: this.handleSubmit,\n                saving: this.props.saving,\n                server_error: this.props.serverError,\n                updateSection: this.handleCancel\n            });\n        }\n    }]);\n    return EmailNotificationSetting;\n}(_react2.default.Component);\n\nEmailNotificationSetting.propTypes = {\n    activeSection: _propTypes2.default.string.isRequired,\n    updateSection: _propTypes2.default.func.isRequired,\n    enableEmail: _propTypes2.default.bool.isRequired,\n    emailInterval: _propTypes2.default.number.isRequired,\n    onSubmit: _propTypes2.default.func.isRequired,\n    onCancel: _propTypes2.default.func.isRequired,\n    serverError: _propTypes2.default.string,\n    saving: _propTypes2.default.bool\n};\nexports.default = EmailNotificationSetting;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2460:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(31);\n\nvar _redux = __webpack_require__(20);\n\nvar _users = __webpack_require__(61);\n\nvar _user_utils = __webpack_require__(205);\n\nvar UserUtils = _interopRequireWildcard(_user_utils);\n\nvar _user_settings_security = __webpack_require__(2461);\n\nvar _user_settings_security2 = _interopRequireDefault(_user_settings_security);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mapStateToProps(state, ownProps) {\n    var tokensEnabled = state.entities.general.config.EnableUserAccessTokens === 'true';\n    var userHasTokenRole = UserUtils.hasUserAccessTokenRole(ownProps.user.roles) || UserUtils.isSystemAdmin(ownProps.user.roles);\n\n    return (0, _extends3.default)({}, ownProps, {\n        userAccessTokens: state.entities.users.myUserAccessTokens,\n        canUseAccessTokens: tokensEnabled && userHasTokenRole\n    });\n} // Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getMe: _users.getMe,\n            getUserAccessTokensForUser: _users.getUserAccessTokensForUser,\n            createUserAccessToken: _users.createUserAccessToken,\n            revokeUserAccessToken: _users.revokeUserAccessToken,\n            clearUserAccessTokens: _users.clearUserAccessTokens\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_user_settings_security2.default);\n\n/***/ }),\n\n/***/ 2461:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _values = __webpack_require__(310);\n\nvar _values2 = _interopRequireDefault(_values);\n\nvar _regenerator = __webpack_require__(76);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(77);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _assign = __webpack_require__(41);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _es = __webpack_require__(44);\n\nvar _user_utils = __webpack_require__(205);\n\nvar UserUtils = _interopRequireWildcard(_user_utils);\n\nvar _diagnostics_actions = __webpack_require__(237);\n\nvar _user_actions = __webpack_require__(69);\n\nvar _preference_store = __webpack_require__(119);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _user_agent = __webpack_require__(87);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _icon50x = __webpack_require__(748);\n\nvar _icon50x2 = _interopRequireDefault(_icon50x);\n\nvar _access_history_modal = __webpack_require__(2462);\n\nvar _access_history_modal2 = _interopRequireDefault(_access_history_modal);\n\nvar _activity_log_modal = __webpack_require__(2464);\n\nvar _activity_log_modal2 = _interopRequireDefault(_activity_log_modal);\n\nvar _confirm_modal = __webpack_require__(311);\n\nvar _confirm_modal2 = _interopRequireDefault(_confirm_modal);\n\nvar _setting_item_max = __webpack_require__(736);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _setting_item_min = __webpack_require__(737);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nvar _toggle_modal_button = __webpack_require__(441);\n\nvar _toggle_modal_button2 = _interopRequireDefault(_toggle_modal_button);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar TOKEN_CREATING = 'creating';\nvar TOKEN_CREATED = 'created';\nvar TOKEN_NOT_CREATING = 'not_creating';\n\nvar SecurityTab = function (_React$Component) {\n    (0, _inherits3.default)(SecurityTab, _React$Component);\n\n    function SecurityTab(props) {\n        var _this2 = this;\n\n        (0, _classCallCheck3.default)(this, SecurityTab);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SecurityTab.__proto__ || (0, _getPrototypeOf2.default)(SecurityTab)).call(this, props));\n\n        _this.submitPassword = function (e) {\n            e.preventDefault();\n\n            var user = _this.props.user;\n            var currentPassword = _this.state.currentPassword;\n            var newPassword = _this.state.newPassword;\n            var confirmPassword = _this.state.confirmPassword;\n\n            if (currentPassword === '') {\n                _this.setState({ passwordError: Utils.localizeMessage('user.settings.security.currentPasswordError', 'Please enter your current password.'), serverError: '' });\n                return;\n            }\n\n            var passwordErr = Utils.isValidPassword(newPassword);\n            if (passwordErr !== '') {\n                _this.setState({\n                    passwordError: passwordErr,\n                    serverError: ''\n                });\n                return;\n            }\n\n            if (newPassword !== confirmPassword) {\n                var defaultState = (0, _assign2.default)(_this.getDefaultState(), { passwordError: Utils.localizeMessage('user.settings.security.passwordMatchError', 'The new passwords you entered do not match.'), serverError: '' });\n                _this.setState(defaultState);\n                return;\n            }\n\n            _this.setState({ savingPassword: true });\n\n            (0, _user_actions.updatePassword)(user.id, currentPassword, newPassword, function () {\n                _this.props.updateSection('');\n                _this.props.actions.getMe();\n                _this.setState(_this.getDefaultState());\n            }, function (err) {\n                var state = _this.getDefaultState();\n                if (err.message) {\n                    state.serverError = err.message;\n                } else {\n                    state.serverError = err;\n                }\n                state.passwordError = '';\n                _this.setState(state);\n            });\n        };\n\n        _this.setupMfa = function (e) {\n            e.preventDefault();\n            _es.browserHistory.push('/mfa/setup');\n        };\n\n        _this.removeMfa = function () {\n            (0, _user_actions.deactivateMfa)(function () {\n                if (global.window.mm_license.MFA === 'true' && global.window.mm_config.EnableMultifactorAuthentication === 'true' && global.window.mm_config.EnforceMultifactorAuthentication === 'true') {\n                    window.location.href = '/mfa/setup';\n                    return;\n                }\n\n                _this.props.updateSection('');\n                _this.setState(_this.getDefaultState());\n            }, function (err) {\n                var state = _this.getDefaultState();\n                if (err.message) {\n                    state.serverError = err.message;\n                } else {\n                    state.serverError = err;\n                }\n                _this.setState(state);\n            });\n        };\n\n        _this.updateCurrentPassword = function (e) {\n            _this.setState({ currentPassword: e.target.value });\n        };\n\n        _this.updateNewPassword = function (e) {\n            _this.setState({ newPassword: e.target.value });\n        };\n\n        _this.updateConfirmPassword = function (e) {\n            _this.setState({ confirmPassword: e.target.value });\n        };\n\n        _this.deauthorizeApp = function (e) {\n            e.preventDefault();\n            var appId = e.currentTarget.getAttribute('data-app');\n            (0, _user_actions.deauthorizeOAuthApp)(appId, function () {\n                var authorizedApps = _this.state.authorizedApps.filter(function (app) {\n                    return app.id !== appId;\n                });\n\n                _this.setState({ authorizedApps: authorizedApps, serverError: null });\n            }, function (err) {\n                _this.setState({ serverError: err.message });\n            });\n        };\n\n        _this.createMfaSection = function () {\n            var updateSectionStatus = void 0;\n            var submit = void 0;\n\n            if (_this.props.activeSection === 'mfa') {\n                var content = void 0;\n                var extraInfo = void 0;\n                if (_this.props.user.mfa_active) {\n                    var mfaRemoveHelp = void 0;\n                    var mfaButtonText = void 0;\n\n                    if (global.window.mm_config.EnforceMultifactorAuthentication === 'true') {\n                        mfaRemoveHelp = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.mfa.requiredHelp',\n                            defaultMessage: 'Multi-factor authentication is required on this server. Resetting is only recommended when you need to switch code generation to a new mobile device. You will be required to set it up again immediately.'\n                        });\n\n                        mfaButtonText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.mfa.reset',\n                            defaultMessage: 'Reset MFA on your account'\n                        });\n                    } else {\n                        mfaRemoveHelp = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.mfa.removeHelp',\n                            defaultMessage: 'Removing multi-factor authentication means you will no longer require a phone-based passcode to sign-in to your account.'\n                        });\n\n                        mfaButtonText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.mfa.remove',\n                            defaultMessage: 'Remove MFA from your account'\n                        });\n                    }\n\n                    content = _react2.default.createElement(\n                        'div',\n                        { key: 'mfaQrCode' },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                className: 'btn btn-primary',\n                                href: '#',\n                                onClick: _this.removeMfa\n                            },\n                            mfaButtonText\n                        ),\n                        _react2.default.createElement('br', null)\n                    );\n\n                    extraInfo = _react2.default.createElement(\n                        'span',\n                        null,\n                        mfaRemoveHelp\n                    );\n                } else {\n                    content = _react2.default.createElement(\n                        'div',\n                        { key: 'mfaQrCode' },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                className: 'btn btn-primary',\n                                href: '#',\n                                onClick: _this.setupMfa\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.mfa.add',\n                                defaultMessage: 'Add MFA to your account'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    );\n\n                    extraInfo = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.mfa.addHelp',\n                            defaultMessage: 'Adding multi-factor authentication will make your account more secure by requiring a code from your mobile phone each time you sign in.'\n                        })\n                    );\n                }\n\n                var inputs = [];\n                inputs.push(_react2.default.createElement(\n                    'div',\n                    {\n                        key: 'mfaSetting',\n                        className: 'padding-top'\n                    },\n                    content\n                ));\n\n                updateSectionStatus = function resetSection(e) {\n                    this.props.updateSection('');\n                    this.setState({ serverError: null });\n                    e.preventDefault();\n                }.bind(_this);\n\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('user.settings.mfa.title', 'Multi-factor Authentication'),\n                    inputs: inputs,\n                    extraInfo: extraInfo,\n                    submit: submit,\n                    server_error: _this.state.serverError,\n                    updateSection: updateSectionStatus,\n                    width: 'medium'\n                });\n            }\n\n            var describe = void 0;\n            if (_this.props.user.mfa_active) {\n                describe = Utils.localizeMessage('user.settings.security.active', 'Active');\n            } else {\n                describe = Utils.localizeMessage('user.settings.security.inactive', 'Inactive');\n            }\n\n            updateSectionStatus = function updateSection() {\n                this.props.updateSection('mfa');\n            }.bind(_this);\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: Utils.localizeMessage('user.settings.mfa.title', 'Multi-factor Authentication'),\n                describe: describe,\n                updateSection: updateSectionStatus\n            });\n        };\n\n        _this.createPasswordSection = function () {\n            var updateSectionStatus = void 0;\n\n            if (_this.props.activeSection === 'password') {\n                var inputs = [];\n                var submit = void 0;\n\n                if (_this.props.user.auth_service === '') {\n                    submit = _this.submitPassword;\n\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'currentPasswordUpdateForm',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'col-sm-5 control-label' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.currentPassword',\n                                defaultMessage: 'Current Password'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-7' },\n                            _react2.default.createElement('input', {\n                                id: 'currentPassword',\n                                className: 'form-control',\n                                type: 'password',\n                                onChange: _this.updateCurrentPassword,\n                                value: _this.state.currentPassword\n                            })\n                        )\n                    ));\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'newPasswordUpdateForm',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'col-sm-5 control-label' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.newPassword',\n                                defaultMessage: 'New Password'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-7' },\n                            _react2.default.createElement('input', {\n                                id: 'newPassword',\n                                className: 'form-control',\n                                type: 'password',\n                                onChange: _this.updateNewPassword,\n                                value: _this.state.newPassword\n                            })\n                        )\n                    ));\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'retypeNewPasswordUpdateForm',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'col-sm-5 control-label' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.retypePassword',\n                                defaultMessage: 'Retype New Password'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-7' },\n                            _react2.default.createElement('input', {\n                                id: 'confirmPassword',\n                                className: 'form-control',\n                                type: 'password',\n                                onChange: _this.updateConfirmPassword,\n                                value: _this.state.confirmPassword\n                            })\n                        )\n                    ));\n                } else if (_this.props.user.auth_service === _constants2.default.GITLAB_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.passwordGitlabCantUpdate',\n                                defaultMessage: 'Login occurs through GitLab. Password cannot be updated.'\n                            })\n                        )\n                    ));\n                } else if (_this.props.user.auth_service === _constants2.default.LDAP_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.passwordLdapCantUpdate',\n                                defaultMessage: 'Login occurs through AD/LDAP. Password cannot be updated.'\n                            })\n                        )\n                    ));\n                } else if (_this.props.user.auth_service === _constants2.default.SAML_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.passwordSamlCantUpdate',\n                                defaultMessage: 'This field is handled through your login provider. If you want to change it, you need to do so through your login provider.'\n                            })\n                        )\n                    ));\n                } else if (_this.props.user.auth_service === _constants2.default.GOOGLE_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.passwordGoogleCantUpdate',\n                                defaultMessage: 'Login occurs through Google Apps. Password cannot be updated.'\n                            })\n                        )\n                    ));\n                } else if (_this.props.user.auth_service === _constants2.default.OFFICE365_SERVICE) {\n                    inputs.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: 'oauthEmailInfo',\n                            className: 'form-group'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint col-sm-12' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.passwordOffice365CantUpdate',\n                                defaultMessage: 'Login occurs through Office 365. Password cannot be updated.'\n                            })\n                        )\n                    ));\n                }\n\n                updateSectionStatus = function resetSection(e) {\n                    this.props.updateSection('');\n                    this.setState({ currentPassword: '', newPassword: '', confirmPassword: '', serverError: null, passwordError: null });\n                    e.preventDefault();\n                }.bind(_this);\n\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.security.password',\n                        defaultMessage: 'Password'\n                    }),\n                    inputs: inputs,\n                    submit: submit,\n                    saving: _this.state.savingPassword,\n                    server_error: _this.state.serverError,\n                    client_error: _this.state.passwordError,\n                    updateSection: updateSectionStatus\n                });\n            }\n\n            var describe = void 0;\n\n            if (_this.props.user.auth_service === '') {\n                var d = new Date(_this.props.user.last_password_update);\n                var hours12 = !_preference_store2.default.getBool(_constants2.default.Preferences.CATEGORY_DISPLAY_SETTINGS, _constants2.default.Preferences.USE_MILITARY_TIME, false);\n\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.lastUpdated',\n                    defaultMessage: 'Last updated {date} at {time}',\n                    values: {\n                        date: _react2.default.createElement(_reactIntl.FormattedDate, {\n                            value: d,\n                            day: '2-digit',\n                            month: 'short',\n                            year: 'numeric'\n                        }),\n                        time: _react2.default.createElement(_reactIntl.FormattedTime, {\n                            value: d,\n                            hour12: hours12,\n                            hour: '2-digit',\n                            minute: '2-digit'\n                        })\n                    }\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.GITLAB_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.loginGitlab',\n                    defaultMessage: 'Login done through GitLab'\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.LDAP_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.loginLdap',\n                    defaultMessage: 'Login done through AD/LDAP'\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.SAML_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.loginSaml',\n                    defaultMessage: 'Login done through SAML'\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.GOOGLE_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.loginGoogle',\n                    defaultMessage: 'Login done through Google Apps'\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.OFFICE365_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.loginOffice365',\n                    defaultMessage: 'Login done through Office 365'\n                });\n            }\n\n            updateSectionStatus = function updateSection() {\n                this.props.updateSection('password');\n            }.bind(_this);\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.password',\n                    defaultMessage: 'Password'\n                }),\n                describe: describe,\n                updateSection: updateSectionStatus\n            });\n        };\n\n        _this.createSignInSection = function () {\n            var updateSectionStatus = void 0;\n            var user = _this.props.user;\n\n            if (_this.props.activeSection === 'signin') {\n                var emailOption = void 0;\n                var gitlabOption = void 0;\n                var googleOption = void 0;\n                var office365Option = void 0;\n                var ldapOption = void 0;\n                var samlOption = void 0;\n\n                if (user.auth_service === '') {\n                    if (global.window.mm_config.EnableSignUpWithGitLab === 'true') {\n                        gitlabOption = _react2.default.createElement(\n                            'div',\n                            { className: 'padding-bottom x2' },\n                            _react2.default.createElement(\n                                _es.Link,\n                                {\n                                    className: 'btn btn-primary',\n                                    to: '/claim/email_to_oauth?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service + '&new_type=' + _constants2.default.GITLAB_SERVICE\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.security.switchGitlab',\n                                    defaultMessage: 'Switch to using GitLab SSO'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        );\n                    }\n\n                    if (global.window.mm_config.EnableSignUpWithGoogle === 'true') {\n                        googleOption = _react2.default.createElement(\n                            'div',\n                            { className: 'padding-bottom x2' },\n                            _react2.default.createElement(\n                                _es.Link,\n                                {\n                                    className: 'btn btn-primary',\n                                    to: '/claim/email_to_oauth?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service + '&new_type=' + _constants2.default.GOOGLE_SERVICE\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.security.switchGoogle',\n                                    defaultMessage: 'Switch to using Google SSO'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        );\n                    }\n\n                    if (global.window.mm_config.EnableSignUpWithOffice365 === 'true') {\n                        office365Option = _react2.default.createElement(\n                            'div',\n                            { className: 'padding-bottom x2' },\n                            _react2.default.createElement(\n                                _es.Link,\n                                {\n                                    className: 'btn btn-primary',\n                                    to: '/claim/email_to_oauth?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service + '&new_type=' + _constants2.default.OFFICE365_SERVICE\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.security.switchOffice365',\n                                    defaultMessage: 'Switch to using Office 365 SSO'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        );\n                    }\n\n                    if (global.window.mm_config.EnableLdap === 'true') {\n                        ldapOption = _react2.default.createElement(\n                            'div',\n                            { className: 'padding-bottom x2' },\n                            _react2.default.createElement(\n                                _es.Link,\n                                {\n                                    className: 'btn btn-primary',\n                                    to: '/claim/email_to_ldap?email=' + encodeURIComponent(user.email)\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.security.switchLdap',\n                                    defaultMessage: 'Switch to using AD/LDAP'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        );\n                    }\n\n                    if (global.window.mm_config.EnableSaml === 'true') {\n                        samlOption = _react2.default.createElement(\n                            'div',\n                            { className: 'padding-bottom x2' },\n                            _react2.default.createElement(\n                                _es.Link,\n                                {\n                                    className: 'btn btn-primary',\n                                    to: '/claim/email_to_oauth?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service + '&new_type=' + _constants2.default.SAML_SERVICE\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.security.switchSaml',\n                                    defaultMessage: 'Switch to using SAML SSO'\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        );\n                    }\n                } else if (global.window.mm_config.EnableSignUpWithEmail === 'true') {\n                    var link = void 0;\n                    if (user.auth_service === _constants2.default.LDAP_SERVICE) {\n                        link = '/claim/ldap_to_email?email=' + encodeURIComponent(user.email);\n                    } else {\n                        link = '/claim/oauth_to_email?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service;\n                    }\n\n                    emailOption = _react2.default.createElement(\n                        'div',\n                        { className: 'padding-bottom x2' },\n                        _react2.default.createElement(\n                            _es.Link,\n                            {\n                                className: 'btn btn-primary',\n                                to: link\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.switchEmail',\n                                defaultMessage: 'Switch to using email and password'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    );\n                }\n\n                var inputs = [];\n                inputs.push(_react2.default.createElement(\n                    'div',\n                    { key: 'userSignInOption' },\n                    emailOption,\n                    gitlabOption,\n                    googleOption,\n                    office365Option,\n                    ldapOption,\n                    samlOption\n                ));\n\n                updateSectionStatus = function updateSection(e) {\n                    this.props.updateSection('');\n                    this.setState({ serverError: null });\n                    e.preventDefault();\n                }.bind(_this);\n\n                var extraInfo = _react2.default.createElement(\n                    'span',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.security.oneSignin',\n                        defaultMessage: 'You may only have one sign-in method at a time. Switching sign-in method will send an email notifying you if the change was successful.'\n                    })\n                );\n\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('user.settings.security.method', 'Sign-in Method'),\n                    extraInfo: extraInfo,\n                    inputs: inputs,\n                    server_error: _this.state.serverError,\n                    updateSection: updateSectionStatus\n                });\n            }\n\n            updateSectionStatus = function updateSection() {\n                this.props.updateSection('signin');\n            }.bind(_this);\n\n            var describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'user.settings.security.emailPwd',\n                defaultMessage: 'Email and Password'\n            });\n            if (_this.props.user.auth_service === _constants2.default.GITLAB_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.gitlab',\n                    defaultMessage: 'GitLab'\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.GOOGLE_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.google',\n                    defaultMessage: 'Google'\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.OFFICE365_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.office365',\n                    defaultMessage: 'Office 365'\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.LDAP_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.ldap',\n                    defaultMessage: 'AD/LDAP'\n                });\n            } else if (_this.props.user.auth_service === _constants2.default.SAML_SERVICE) {\n                describe = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.saml',\n                    defaultMessage: 'SAML'\n                });\n            }\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: Utils.localizeMessage('user.settings.security.method', 'Sign-in Method'),\n                describe: describe,\n                updateSection: updateSectionStatus\n            });\n        };\n\n        _this.createOAuthAppsSection = function () {\n            var updateSectionStatus = void 0;\n\n            if (_this.props.activeSection === 'apps') {\n                var apps = void 0;\n                if (_this.state.authorizedApps && _this.state.authorizedApps.length > 0) {\n                    apps = _this.state.authorizedApps.map(function (app) {\n                        var homepage = _react2.default.createElement(\n                            'a',\n                            {\n                                href: app.homepage,\n                                target: '_blank',\n                                rel: 'noopener noreferrer'\n                            },\n                            app.homepage\n                        );\n\n                        return _react2.default.createElement(\n                            'div',\n                            {\n                                key: app.id,\n                                className: 'padding-bottom x2 authorized-app'\n                            },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-10' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'authorized-app__name' },\n                                    app.name,\n                                    _react2.default.createElement(\n                                        'span',\n                                        { className: 'authorized-app__url' },\n                                        ' -',\n                                        ' ',\n                                        homepage\n                                    )\n                                ),\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'authorized-app__description' },\n                                    app.description\n                                ),\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'authorized-app__deauthorize' },\n                                    _react2.default.createElement(\n                                        'a',\n                                        {\n                                            href: '#',\n                                            'data-app': app.id,\n                                            onClick: _this.deauthorizeApp\n                                        },\n                                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                            id: 'user.settings.security.deauthorize',\n                                            defaultMessage: 'Deauthorize'\n                                        })\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-2 pull-right' },\n                                _react2.default.createElement('img', {\n                                    alt: app.name,\n                                    src: app.icon_url || _icon50x2.default\n                                })\n                            ),\n                            _react2.default.createElement('br', null)\n                        );\n                    });\n                } else {\n                    apps = _react2.default.createElement(\n                        'div',\n                        { className: 'padding-bottom x2 authorized-app' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-list__hint' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.security.noApps',\n                                defaultMessage: 'No OAuth 2.0 Applications are authorized.'\n                            })\n                        )\n                    );\n                }\n\n                var inputs = [];\n                var wrapperClass = void 0;\n                var helpText = void 0;\n                if (Array.isArray(apps)) {\n                    wrapperClass = 'authorized-apps__wrapper';\n\n                    helpText = _react2.default.createElement(\n                        'div',\n                        { className: 'authorized-apps__help' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.security.oauthAppsHelp',\n                            defaultMessage: 'Applications act on your behalf to access your data based on the permissions you grant them.'\n                        })\n                    );\n                }\n\n                inputs.push(_react2.default.createElement(\n                    'div',\n                    {\n                        className: wrapperClass,\n                        key: 'authorizedApps'\n                    },\n                    apps\n                ));\n\n                updateSectionStatus = function updateSection(e) {\n                    this.props.updateSection('');\n                    this.setState({ serverError: null });\n                    e.preventDefault();\n                }.bind(_this);\n\n                var title = _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.security.oauthApps',\n                        defaultMessage: 'OAuth 2.0 Applications'\n                    }),\n                    helpText\n                );\n\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: title,\n                    inputs: inputs,\n                    server_error: _this.state.serverError,\n                    updateSection: updateSectionStatus,\n                    width: 'full',\n                    cancelButtonText: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.security.close',\n                        defaultMessage: 'Close'\n                    })\n                });\n            }\n\n            updateSectionStatus = function updateSection() {\n                this.props.updateSection('apps');\n            }.bind(_this);\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: Utils.localizeMessage('user.settings.security.oauthApps', 'OAuth 2.0 Applications'),\n                describe: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.security.oauthAppsDescription',\n                    defaultMessage: 'Click \\'Edit\\' to manage your OAuth 2.0 Applications'\n                }),\n                updateSection: updateSectionStatus\n            });\n        };\n\n        _this.startCreatingToken = function () {\n            _this.setState({ tokenCreationState: TOKEN_CREATING });\n        };\n\n        _this.stopCreatingToken = function () {\n            _this.setState({ tokenCreationState: TOKEN_NOT_CREATING });\n        };\n\n        _this.handleCreateToken = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n            var description, userId, _ref2, data, error;\n\n            return _regenerator2.default.wrap(function _callee$(_context) {\n                while (1) {\n                    switch (_context.prev = _context.next) {\n                        case 0:\n                            _this.handleCancelConfirm();\n\n                            description = _this.refs.newtokendescription ? _this.refs.newtokendescription.value : '';\n\n                            if (!(description === '')) {\n                                _context.next = 5;\n                                break;\n                            }\n\n                            _this.setState({ tokenError: Utils.localizeMessage('user.settings.tokens.nameRequired', 'Please enter a description.') });\n                            return _context.abrupt('return');\n\n                        case 5:\n\n                            _this.setState({ tokenError: '' });\n\n                            userId = _this.props.user ? _this.props.user.id : '';\n                            _context.next = 9;\n                            return _this.props.actions.createUserAccessToken(userId, description);\n\n                        case 9:\n                            _ref2 = _context.sent;\n                            data = _ref2.data;\n                            error = _ref2.error;\n\n\n                            if (data) {\n                                _this.setState({ tokenCreationState: TOKEN_CREATED, newToken: data });\n                            } else if (error) {\n                                _this.setState({ serverError: error.message });\n                            }\n\n                        case 13:\n                        case 'end':\n                            return _context.stop();\n                    }\n                }\n            }, _callee, _this2);\n        }));\n\n        _this.handleCancelConfirm = function () {\n            _this.setState({\n                showConfirmModal: false,\n                confirmTitle: null,\n                confirmMessage: null,\n                confirmButton: null,\n                confirmComplete: null\n            });\n        };\n\n        _this.confirmCreateToken = function () {\n            if (UserUtils.isSystemAdmin(_this.props.user.roles)) {\n                _this.setState({\n                    showConfirmModal: true,\n                    confirmTitle: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.tokens.confirmCreateTitle',\n                        defaultMessage: 'Create System Admin Personal Access Token'\n                    }),\n                    confirmMessage: _react2.default.createElement(\n                        'div',\n                        { className: 'alert alert-danger' },\n                        _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                            id: 'user.settings.tokens.confirmCreateMessage',\n                            defaultMessage: 'You are generating a personal access token with System Admin permissions. Are you sure want to create this token?'\n                        })\n                    ),\n                    confirmButton: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.tokens.confirmCreateButton',\n                        defaultMessage: 'Yes, Create'\n                    }),\n                    confirmComplete: function confirmComplete() {\n                        _this.handleCreateToken();\n                        (0, _diagnostics_actions.trackEvent)('settings', 'system_admin_create_user_access_token');\n                    }\n                });\n\n                return;\n            }\n\n            _this.handleCreateToken();\n        };\n\n        _this.saveTokenKeyPress = function (e) {\n            if (e.which === _constants2.default.KeyCodes.ENTER) {\n                _this.confirmCreateToken();\n            }\n        };\n\n        _this.confirmRevokeToken = function (tokenId) {\n            var token = _this.props.userAccessTokens[tokenId];\n\n            _this.setState({\n                showConfirmModal: true,\n                confirmTitle: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.tokens.confirmDeleteTitle',\n                    defaultMessage: 'Delete Token?'\n                }),\n                confirmMessage: _react2.default.createElement(\n                    'div',\n                    { className: 'alert alert-danger' },\n                    _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                        id: 'user.settings.tokens.confirmDeleteMessage',\n                        defaultMessage: 'Any integrations using this token will no longer be able to access the Mattermost API. You cannot undo this action. <br /><br />Are you sure want to delete the {description} token?',\n                        values: {\n                            description: token.description\n                        }\n                    })\n                ),\n                confirmButton: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'user.settings.tokens.confirmDeleteButton',\n                    defaultMessage: 'Yes, Delete'\n                }),\n                confirmComplete: function confirmComplete() {\n                    _this.revokeToken(tokenId);\n                    (0, _diagnostics_actions.trackEvent)('settings', 'revoke_user_access_token');\n                }\n            });\n        };\n\n        _this.revokeToken = function () {\n            var _ref3 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(tokenId) {\n                var _ref4, error;\n\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                _context2.next = 2;\n                                return _this.props.actions.revokeUserAccessToken(tokenId);\n\n                            case 2:\n                                _ref4 = _context2.sent;\n                                error = _ref4.error;\n\n                                if (error) {\n                                    _this.setState({ serverError: error.message });\n                                }\n                                _this.handleCancelConfirm();\n\n                            case 6:\n                            case 'end':\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, _this2);\n            }));\n\n            return function (_x) {\n                return _ref3.apply(this, arguments);\n            };\n        }();\n\n        _this.createTokensSection = function () {\n            var updateSectionStatus = void 0;\n            var tokenListClass = '';\n\n            if (_this.props.activeSection === 'tokens') {\n                var tokenList = [];\n                (0, _values2.default)(_this.props.userAccessTokens).forEach(function (token) {\n                    if (_this.state.newToken && _this.state.newToken.id === token.id) {\n                        return;\n                    }\n\n                    tokenList.push(_react2.default.createElement(\n                        'div',\n                        {\n                            key: token.id,\n                            className: 'setting-box__item'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'whitespace--nowrap overflow--ellipsis' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.tokens.tokenDesc',\n                                defaultMessage: 'Token Description: '\n                            }),\n                            token.description\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'setting-box__token-id whitespace--nowrap overflow--ellipsis' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.tokens.tokenId',\n                                defaultMessage: 'Token ID: '\n                            }),\n                            token.id\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    name: token.id,\n                                    href: '#',\n                                    onClick: function onClick(e) {\n                                        e.preventDefault();\n                                        _this.confirmRevokeToken(token.id);\n                                    }\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.tokens.delete',\n                                    defaultMessage: 'Delete'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement('hr', { className: 'margin-bottom margin-top x2' })\n                    ));\n                });\n\n                var noTokenText = void 0;\n                if (tokenList.length === 0) {\n                    noTokenText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        key: 'notokens',\n                        id: 'user.settings.tokens.userAccessTokensNone',\n                        defaultMessage: 'No personal access tokens.'\n                    });\n                }\n\n                var extraInfo = void 0;\n                if ((0, _user_agent.isMobile)()) {\n                    extraInfo = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                            id: 'user.settings.tokens.description_mobile',\n                            defaultMessage: '<a href=\"https://about.mattermost.com/default-user-access-tokens\" target=\"_blank\">Personal access tokens</a> function similar to session tokens and can be used by integrations to <a href=\"https://about.mattermost.com/default-api-authentication\" target=\"_blank\">authenticate against the REST API</a>. Create new tokens on your desktop.'\n                        })\n                    );\n                } else {\n                    extraInfo = _react2.default.createElement(\n                        'span',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                            id: 'user.settings.tokens.description',\n                            defaultMessage: '<a href=\"https://about.mattermost.com/default-user-access-tokens\" target=\"_blank\">Personal access tokens</a> function similar to session tokens and can be used by integrations to <a href=\"https://about.mattermost.com/default-api-authentication\" target=\"_blank\">authenticate against the REST API</a>.'\n                        })\n                    );\n                }\n\n                var newTokenSection = void 0;\n                if (_this.state.tokenCreationState === TOKEN_CREATING) {\n                    newTokenSection = _react2.default.createElement(\n                        'div',\n                        { className: 'padding-left x2' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'row' },\n                            _react2.default.createElement(\n                                'label',\n                                { className: 'col-sm-auto control-label padding-right x2' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.tokens.name',\n                                    defaultMessage: 'Token Description: '\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-5' },\n                                _react2.default.createElement('input', {\n                                    ref: 'newtokendescription',\n                                    className: 'form-control',\n                                    type: 'text',\n                                    maxLength: 64,\n                                    onKeyPress: _this.saveTokenKeyPress\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'padding-top x2' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.tokens.nameHelp',\n                                    defaultMessage: 'Enter a description for your token to remember what it does.'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                null,\n                                _react2.default.createElement(\n                                    'label',\n                                    {\n                                        id: 'clientError',\n                                        className: 'has-error margin-top margin-bottom'\n                                    },\n                                    _this.state.tokenError\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    className: 'btn btn-primary',\n                                    onClick: _this.confirmCreateToken\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.tokens.save',\n                                    defaultMessage: 'Save'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    className: 'btn btn-default',\n                                    onClick: _this.stopCreatingToken\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.tokens.cancel',\n                                    defaultMessage: 'Cancel'\n                                })\n                            )\n                        )\n                    );\n                } else if (_this.state.tokenCreationState === TOKEN_CREATED) {\n                    if (tokenList.length === 0) {\n                        tokenListClass = ' hidden';\n                    }\n\n                    newTokenSection = _react2.default.createElement(\n                        'div',\n                        {\n                            className: 'alert alert-warning'\n                        },\n                        _react2.default.createElement('i', { className: 'fa fa-warning margin-right' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.tokens.copy',\n                            defaultMessage: 'Please copy the access token below. You won\\'t be able to see it again!'\n                        }),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'whitespace--nowrap overflow--ellipsis' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.tokens.name',\n                                defaultMessage: 'Token Description: '\n                            }),\n                            _this.state.newToken.description\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'whitespace--nowrap overflow--ellipsis' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.tokens.id',\n                                defaultMessage: 'Token ID: '\n                            }),\n                            _this.state.newToken.id\n                        ),\n                        _react2.default.createElement(\n                            'strong',\n                            { className: 'word-break--all' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.tokens.token',\n                                defaultMessage: 'Access Token: '\n                            }),\n                            _this.state.newToken.token\n                        )\n                    );\n                } else {\n                    newTokenSection = _react2.default.createElement(\n                        'a',\n                        {\n                            className: 'btn btn-primary',\n                            href: '#',\n                            onClick: _this.startCreatingToken\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.tokens.create',\n                            defaultMessage: 'Create New Token'\n                        })\n                    );\n                }\n\n                var inputs = [];\n                inputs.push(_react2.default.createElement(\n                    'div',\n                    {\n                        key: 'tokensSetting',\n                        className: 'padding-top'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { key: 'tokenList' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'alert alert-transparent' + tokenListClass },\n                            tokenList,\n                            noTokenText\n                        ),\n                        newTokenSection\n                    )\n                ));\n\n                updateSectionStatus = function resetSection(e) {\n                    this.props.updateSection('');\n                    this.setState({ newToken: null, tokenCreationState: TOKEN_NOT_CREATING, serverError: null, tokenError: '' });\n                    e.preventDefault();\n                }.bind(_this);\n\n                return _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('user.settings.tokens.title', 'Personal Access Tokens'),\n                    inputs: inputs,\n                    extraInfo: extraInfo,\n                    infoPosition: 'top',\n                    server_error: _this.state.serverError,\n                    updateSection: updateSectionStatus,\n                    width: 'full',\n                    cancelButtonText: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.security.close',\n                        defaultMessage: 'Close'\n                    })\n                });\n            }\n\n            var describe = Utils.localizeMessage('user.settings.tokens.clickToEdit', \"Click 'Edit' to manage your personal access tokens\");\n\n            updateSectionStatus = function updateSection() {\n                this.props.updateSection('tokens');\n            }.bind(_this);\n\n            return _react2.default.createElement(_setting_item_min2.default, {\n                title: Utils.localizeMessage('user.settings.tokens.title', 'Personal Access Tokens'),\n                describe: describe,\n                updateSection: updateSectionStatus\n            });\n        };\n\n        _this.state = _this.getDefaultState();\n        return _this;\n    }\n\n    (0, _createClass3.default)(SecurityTab, [{\n        key: 'getDefaultState',\n        value: function getDefaultState() {\n            return {\n                currentPassword: '',\n                newPassword: '',\n                confirmPassword: '',\n                passwordError: '',\n                serverError: '',\n                tokenError: '',\n                showConfirmModal: false,\n                authService: this.props.user.auth_service,\n                savingPassword: false\n            };\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this3 = this;\n\n            if (global.mm_config.EnableOAuthServiceProvider === 'true') {\n                (0, _user_actions.getAuthorizedApps)(function (authorizedApps) {\n                    _this3.setState({ authorizedApps: authorizedApps, serverError: null }); //eslint-disable-line react/no-did-mount-set-state\n                }, function (err) {\n                    _this3.setState({ serverError: err.message }); //eslint-disable-line react/no-did-mount-set-state\n                });\n            }\n\n            if (this.props.canUseAccessTokens) {\n                this.props.actions.clearUserAccessTokens();\n                var userId = this.props.user ? this.props.user.id : '';\n                this.props.actions.getUserAccessTokensForUser(userId, 0, 200);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var user = this.props.user;\n            var config = window.mm_config;\n\n            var passwordSection = this.createPasswordSection();\n\n            var numMethods = 0;\n            numMethods = config.EnableSignUpWithGitLab === 'true' ? numMethods + 1 : numMethods;\n            numMethods = config.EnableSignUpWithGoogle === 'true' ? numMethods + 1 : numMethods;\n            numMethods = config.EnableLdap === 'true' ? numMethods + 1 : numMethods;\n            numMethods = config.EnableSaml === 'true' ? numMethods + 1 : numMethods;\n\n            // If there are other sign-in methods and either email is enabled or the user's account is email, then allow switching\n            var signInSection = void 0;\n            if ((config.EnableSignUpWithEmail === 'true' || user.auth_service === '') && numMethods > 0) {\n                signInSection = this.createSignInSection();\n            }\n\n            var mfaSection = void 0;\n            if (config.EnableMultifactorAuthentication === 'true' && global.window.mm_license.IsLicensed === 'true' && (user.auth_service === '' || user.auth_service === _constants2.default.LDAP_SERVICE)) {\n                mfaSection = this.createMfaSection();\n            }\n\n            var oauthSection = void 0;\n            if (config.EnableOAuthServiceProvider === 'true') {\n                oauthSection = this.createOAuthAppsSection();\n            }\n\n            var tokensSection = void 0;\n            if (this.props.canUseAccessTokens) {\n                tokensSection = this.createTokensSection();\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            'aria-label': Utils.localizeMessage('user.settings.security.close', 'Close'),\n                            onClick: this.props.closeModal\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            '×'\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', {\n                                className: 'fa fa-angle-left',\n                                onClick: this.props.collapseModal\n                            })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.security.title',\n                            defaultMessage: 'Security Settings'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'user-settings' },\n                    _react2.default.createElement(\n                        'h3',\n                        { className: 'tab-header' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.security.title',\n                            defaultMessage: 'Security Settings'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    passwordSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    mfaSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    oauthSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    tokensSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    signInSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' }),\n                    _react2.default.createElement('br', null),\n                    _react2.default.createElement(\n                        _toggle_modal_button2.default,\n                        {\n                            className: 'security-links color--link',\n                            dialogType: _access_history_modal2.default\n                        },\n                        _react2.default.createElement('i', { className: 'fa fa-clock-o' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.security.viewHistory',\n                            defaultMessage: 'View Access History'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        _toggle_modal_button2.default,\n                        {\n                            className: 'security-links color--link margin-top',\n                            dialogType: _activity_log_modal2.default\n                        },\n                        _react2.default.createElement('i', { className: 'fa fa-clock-o' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'user.settings.security.logoutActiveSessions',\n                            defaultMessage: 'View and Logout of Active Sessions'\n                        })\n                    )\n                ),\n                _react2.default.createElement(_confirm_modal2.default, {\n                    title: this.state.confirmTitle,\n                    message: this.state.confirmMessage,\n                    confirmButtonText: this.state.confirmButton,\n                    show: this.state.showConfirmModal,\n                    onConfirm: this.state.confirmComplete || function () {} //eslint-disable-line no-empty-function\n                    , onCancel: this.handleCancelConfirm\n                })\n            );\n        }\n    }]);\n    return SecurityTab;\n}(_react2.default.Component);\n\nSecurityTab.propTypes = {\n    user: _propTypes2.default.object,\n    activeSection: _propTypes2.default.string,\n    updateSection: _propTypes2.default.func,\n    updateTab: _propTypes2.default.func,\n    closeModal: _propTypes2.default.func.isRequired,\n    collapseModal: _propTypes2.default.func.isRequired,\n    setEnforceFocus: _propTypes2.default.func.isRequired,\n\n    /*\n     * The personal access tokens for the user\n     */\n    userAccessTokens: _propTypes2.default.object,\n\n    /*\n     * Set if access tokens are enabled and this user can use them\n     */\n    canUseAccessTokens: _propTypes2.default.bool,\n\n    actions: _propTypes2.default.shape({\n        getMe: _propTypes2.default.func.isRequired,\n\n        /*\n         * Function to get personal access tokens for a user\n         */\n        getUserAccessTokensForUser: _propTypes2.default.func.isRequired,\n\n        /*\n         * Function to create a personal access token\n         */\n        createUserAccessToken: _propTypes2.default.func.isRequired,\n\n        /*\n         * Function to revoke a personal access token\n         */\n        revokeUserAccessToken: _propTypes2.default.func.isRequired,\n\n        /*\n         * Function to clear personal access tokens locally\n         */\n        clearUserAccessTokens: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = SecurityTab;\n\n\nSecurityTab.defaultProps = {\n    user: {},\n    activeSection: ''\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2462:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(31);\n\nvar _redux = __webpack_require__(20);\n\nvar _users = __webpack_require__(61);\n\nvar _access_history_modal = __webpack_require__(2463);\n\nvar _access_history_modal2 = _interopRequireDefault(_access_history_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps);\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getUserAudits: _users.getUserAudits\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_access_history_modal2.default);\n\n/***/ }),\n\n/***/ 2463:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(40);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _audit_table = __webpack_require__(2099);\n\nvar _audit_table2 = _interopRequireDefault(_audit_table);\n\nvar _loading_screen = __webpack_require__(236);\n\nvar _loading_screen2 = _interopRequireDefault(_loading_screen);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AccessHistoryModal = function (_React$Component) {\n    (0, _inherits3.default)(AccessHistoryModal, _React$Component);\n\n    function AccessHistoryModal(props) {\n        (0, _classCallCheck3.default)(this, AccessHistoryModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (AccessHistoryModal.__proto__ || (0, _getPrototypeOf2.default)(AccessHistoryModal)).call(this, props));\n\n        _this.onAuditChange = _this.onAuditChange.bind(_this);\n        _this.onShow = _this.onShow.bind(_this);\n        _this.onHide = _this.onHide.bind(_this);\n\n        var state = _this.getStateFromStoresForAudits();\n        state.moreInfo = [];\n        state.show = true;\n\n        _this.state = state;\n        return _this;\n    }\n\n    (0, _createClass3.default)(AccessHistoryModal, [{\n        key: 'getStateFromStoresForAudits',\n        value: function getStateFromStoresForAudits() {\n            return {\n                audits: _user_store2.default.getAudits()\n            };\n        }\n    }, {\n        key: 'onShow',\n        value: function onShow() {\n            this.props.actions.getUserAudits(_user_store2.default.getCurrentId(), 0, 200);\n            if (!Utils.isMobile()) {\n                (0, _jquery2.default)('.modal-body').perfectScrollbar();\n            }\n        }\n    }, {\n        key: 'onHide',\n        value: function onHide() {\n            this.setState({ show: false });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _user_store2.default.addAuditsChangeListener(this.onAuditChange);\n            this.onShow();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _user_store2.default.removeAuditsChangeListener(this.onAuditChange);\n        }\n    }, {\n        key: 'onAuditChange',\n        value: function onAuditChange() {\n            var newState = this.getStateFromStoresForAudits();\n            if (!Utils.areObjectsEqual(newState.audits, this.state.audits)) {\n                this.setState(newState);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var content = void 0;\n            if (this.state.audits.length === 0) {\n                content = _react2.default.createElement(_loading_screen2.default, null);\n            } else {\n                content = _react2.default.createElement(_audit_table2.default, {\n                    audits: this.state.audits,\n                    showIp: true,\n                    showSession: true\n                });\n            }\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    dialogClassName: 'modal--scroll',\n                    show: this.state.show,\n                    onHide: this.onHide,\n                    onExited: this.props.onHide,\n                    bsSize: 'large'\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'access_history.title',\n                            defaultMessage: 'Access History'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    { ref: 'modalBody' },\n                    content\n                )\n            );\n        }\n    }]);\n    return AccessHistoryModal;\n}(_react2.default.Component); // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nAccessHistoryModal.propTypes = {\n    onHide: _propTypes2.default.func.isRequired,\n    actions: _propTypes2.default.shape({\n        getUserAudits: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = AccessHistoryModal;\n\n/***/ }),\n\n/***/ 2464:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(31);\n\nvar _redux = __webpack_require__(20);\n\nvar _users = __webpack_require__(61);\n\nvar _activity_log_modal = __webpack_require__(2465);\n\nvar _activity_log_modal2 = _interopRequireDefault(_activity_log_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps);\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getSessions: _users.getSessions,\n            revokeSession: _users.revokeSession\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_activity_log_modal2.default);\n\n/***/ }),\n\n/***/ 2465:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(40);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _constants = __webpack_require__(26);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _loading_screen = __webpack_require__(236);\n\nvar _loading_screen2 = _interopRequireDefault(_loading_screen);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ActivityLogModal = function (_React$Component) {\n    (0, _inherits3.default)(ActivityLogModal, _React$Component);\n\n    function ActivityLogModal(props) {\n        (0, _classCallCheck3.default)(this, ActivityLogModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ActivityLogModal.__proto__ || (0, _getPrototypeOf2.default)(ActivityLogModal)).call(this, props));\n\n        _this.isMobileSession = function (session) {\n            return session.device_id && (session.device_id.includes('apple') || session.device_id.includes('android'));\n        };\n\n        _this.mobileSessionInfo = function (session) {\n            var deviceTypeId = void 0;\n            var deviceTypeMessage = void 0;\n            var devicePicture = void 0;\n\n            if (session.device_id.includes('apple')) {\n                devicePicture = 'fa fa-apple';\n                deviceTypeId = 'activity_log_modal.iphoneNativeClassicApp';\n                deviceTypeMessage = 'iPhone Native Classic App';\n\n                if (session.device_id.includes(_constants.General.PUSH_NOTIFY_APPLE_REACT_NATIVE)) {\n                    deviceTypeId = 'activity_log_modal.iphoneNativeApp';\n                    deviceTypeMessage = 'iPhone Native App';\n                }\n            } else if (session.device_id.includes('android')) {\n                devicePicture = 'fa fa-android';\n                deviceTypeId = 'activity_log_modal.androidNativeClassicApp';\n                deviceTypeMessage = 'Android Native Classic App';\n\n                if (session.device_id.includes(_constants.General.PUSH_NOTIFY_ANDROID_REACT_NATIVE)) {\n                    deviceTypeId = 'activity_log_modal.androidNativeApp';\n                    deviceTypeMessage = 'Android Native App';\n                }\n            }\n\n            return {\n                devicePicture: devicePicture,\n                devicePlatform: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: deviceTypeId,\n                    defaultMessage: deviceTypeMessage\n                })\n            };\n        };\n\n        _this.submitRevoke = _this.submitRevoke.bind(_this);\n        _this.onListenerChange = _this.onListenerChange.bind(_this);\n        _this.handleMoreInfo = _this.handleMoreInfo.bind(_this);\n        _this.onHide = _this.onHide.bind(_this);\n        _this.onShow = _this.onShow.bind(_this);\n\n        var state = _this.getStateFromStores();\n        state.moreInfo = [];\n        state.show = true;\n\n        _this.state = state;\n        return _this;\n    }\n\n    (0, _createClass3.default)(ActivityLogModal, [{\n        key: 'getStateFromStores',\n        value: function getStateFromStores() {\n            return {\n                sessions: _user_store2.default.getSessions(),\n                clientError: null\n            };\n        }\n    }, {\n        key: 'submitRevoke',\n        value: function submitRevoke(altId, e) {\n            var _this2 = this;\n\n            e.preventDefault();\n            var modalContent = (0, _jquery2.default)(e.target).closest('.modal-content');\n            modalContent.addClass('animation--highlight');\n            setTimeout(function () {\n                modalContent.removeClass('animation--highlight');\n            }, 1500);\n            this.props.actions.revokeSession(_user_store2.default.getCurrentId(), altId).then(function () {\n                _this2.props.actions.getSessions(_user_store2.default.getCurrentId());\n            });\n        }\n    }, {\n        key: 'onShow',\n        value: function onShow() {\n            this.props.actions.getSessions(_user_store2.default.getCurrentId());\n            if (!Utils.isMobile()) {\n                (0, _jquery2.default)('.modal-body').perfectScrollbar();\n            }\n        }\n    }, {\n        key: 'onHide',\n        value: function onHide() {\n            this.setState({ show: false });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _user_store2.default.addSessionsChangeListener(this.onListenerChange);\n            this.onShow();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _user_store2.default.removeSessionsChangeListener(this.onListenerChange);\n        }\n    }, {\n        key: 'onListenerChange',\n        value: function onListenerChange() {\n            var newState = this.getStateFromStores();\n            if (!Utils.areObjectsEqual(newState.sessions, this.state.sessions)) {\n                this.setState(newState);\n            }\n        }\n    }, {\n        key: 'handleMoreInfo',\n        value: function handleMoreInfo(index) {\n            var newMoreInfo = this.state.moreInfo;\n            newMoreInfo[index] = true;\n            this.setState({ moreInfo: newMoreInfo });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var activityList = [];\n\n            for (var i = 0; i < this.state.sessions.length; i++) {\n                var currentSession = this.state.sessions[i];\n                var lastAccessTime = new Date(currentSession.last_activity_at);\n                var firstAccessTime = new Date(currentSession.create_at);\n                var devicePlatform = currentSession.props.platform;\n                var devicePicture = '';\n\n                if (currentSession.props.type === 'UserAccessToken') {\n                    continue;\n                }\n\n                if (currentSession.props.platform === 'Windows') {\n                    devicePicture = 'fa fa-windows';\n                } else if (this.isMobileSession(currentSession)) {\n                    var sessionInfo = this.mobileSessionInfo(currentSession);\n\n                    devicePicture = sessionInfo.devicePicture;\n                    devicePlatform = sessionInfo.devicePlatform;\n                } else if (currentSession.props.platform === 'Macintosh' || currentSession.props.platform === 'iPhone') {\n                    devicePicture = 'fa fa-apple';\n                } else if (currentSession.props.platform === 'Linux') {\n                    if (currentSession.props.os.indexOf('Android') >= 0) {\n                        devicePlatform = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'activity_log_modal.android',\n                            defaultMessage: 'Android'\n                        });\n                        devicePicture = 'fa fa-android';\n                    } else {\n                        devicePicture = 'fa fa-linux';\n                    }\n                } else if (currentSession.props.os.indexOf('Linux') !== -1) {\n                    devicePicture = 'fa fa-linux';\n                }\n\n                if (currentSession.props.browser.indexOf('Desktop App') !== -1) {\n                    devicePlatform = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'activity_log_modal.desktop',\n                        defaultMessage: 'Native Desktop App'\n                    });\n                }\n\n                var moreInfo = void 0;\n                if (this.state.moreInfo[i]) {\n                    moreInfo = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'activity_log.firstTime',\n                                defaultMessage: 'First time active: {date}, {time}',\n                                values: {\n                                    date: _react2.default.createElement(_reactIntl.FormattedDate, {\n                                        value: firstAccessTime,\n                                        day: '2-digit',\n                                        month: 'long',\n                                        year: 'numeric'\n                                    }),\n                                    time: _react2.default.createElement(_reactIntl.FormattedTime, {\n                                        value: firstAccessTime,\n                                        hour: '2-digit',\n                                        minute: '2-digit'\n                                    })\n                                }\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'activity_log.os',\n                                defaultMessage: 'OS: {os}',\n                                values: {\n                                    os: currentSession.props.os\n                                }\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'activity_log.browser',\n                                defaultMessage: 'Browser: {browser}',\n                                values: {\n                                    browser: currentSession.props.browser\n                                }\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'activity_log.sessionId',\n                                defaultMessage: 'Session ID: {id}',\n                                values: {\n                                    id: currentSession.id\n                                }\n                            })\n                        )\n                    );\n                } else {\n                    moreInfo = _react2.default.createElement(\n                        'a',\n                        {\n                            className: 'theme',\n                            href: '#',\n                            onClick: this.handleMoreInfo.bind(this, i)\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'activity_log.moreInfo',\n                            defaultMessage: 'More info'\n                        })\n                    );\n                }\n\n                activityList[i] = _react2.default.createElement(\n                    'div',\n                    {\n                        key: 'activityLogEntryKey' + i,\n                        className: 'activity-log__table'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'activity-log__report' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'report__platform' },\n                            _react2.default.createElement('i', { className: devicePicture }),\n                            devicePlatform\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'report__info' },\n                            _react2.default.createElement(\n                                'div',\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'activity_log.lastActivity',\n                                    defaultMessage: 'Last activity: {date}, {time}',\n                                    values: {\n                                        date: _react2.default.createElement(_reactIntl.FormattedDate, {\n                                            value: lastAccessTime,\n                                            day: '2-digit',\n                                            month: 'long',\n                                            year: 'numeric'\n                                        }),\n                                        time: _react2.default.createElement(_reactIntl.FormattedTime, {\n                                            value: lastAccessTime,\n                                            hour: '2-digit',\n                                            minute: '2-digit'\n                                        })\n                                    }\n                                })\n                            ),\n                            moreInfo\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'activity-log__action' },\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                onClick: this.submitRevoke.bind(this, currentSession.id),\n                                className: 'btn btn-primary'\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'activity_log.logout',\n                                defaultMessage: 'Logout'\n                            })\n                        )\n                    )\n                );\n            }\n\n            var content = void 0;\n            if (this.state.sessions.loading) {\n                content = _react2.default.createElement(_loading_screen2.default, null);\n            } else {\n                content = _react2.default.createElement(\n                    'form',\n                    { role: 'form' },\n                    activityList\n                );\n            }\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    dialogClassName: 'modal--scroll',\n                    show: this.state.show,\n                    onHide: this.onHide,\n                    onExited: this.props.onHide,\n                    bsSize: 'large'\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'activity_log.activeSessions',\n                            defaultMessage: 'Active Sessions'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    { ref: 'modalBody' },\n                    _react2.default.createElement(\n                        'p',\n                        { className: 'session-help-text' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'activity_log.sessionsDescription',\n                            defaultMessage: 'Sessions are created when you log in to a new browser on a device. Sessions let you use Mattermost without having to log in again for a time period specified by the System Admin. If you want to log out sooner, use the \\'Logout\\' button below to end a session.'\n                        })\n                    ),\n                    content\n                )\n            );\n        }\n    }]);\n    return ActivityLogModal;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nActivityLogModal.propTypes = {\n    onHide: _propTypes2.default.func.isRequired,\n    actions: _propTypes2.default.shape({\n        getSessions: _propTypes2.default.func.isRequired,\n        revokeSession: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = ActivityLogModal;\n\n/***/ }),\n\n/***/ 2466:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _global_actions = __webpack_require__(56);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _webrtc_actions = __webpack_require__(315);\n\nvar WebrtcActions = _interopRequireWildcard(_webrtc_actions);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(436);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _web_websocket_client = __webpack_require__(443);\n\nvar _web_websocket_client2 = _interopRequireDefault(_web_websocket_client);\n\nvar _constants = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _ring = __webpack_require__(2198);\n\nvar _ring2 = _interopRequireDefault(_ring);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PreReleaseFeatures = _constants.Constants.PRE_RELEASE_FEATURES; // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar WebrtcNotification = function (_React$Component) {\n    (0, _inherits3.default)(WebrtcNotification, _React$Component);\n\n    function WebrtcNotification() {\n        (0, _classCallCheck3.default)(this, WebrtcNotification);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (WebrtcNotification.__proto__ || (0, _getPrototypeOf2.default)(WebrtcNotification)).call(this));\n\n        _this.mounted = false;\n\n        _this.closeNotification = _this.closeNotification.bind(_this);\n        _this.onIncomingCall = _this.onIncomingCall.bind(_this);\n        _this.onCancelCall = _this.onCancelCall.bind(_this);\n        _this.onRhs = _this.onRhs.bind(_this);\n        _this.handleClose = _this.handleClose.bind(_this);\n        _this.handleAnswer = _this.handleAnswer.bind(_this);\n        _this.handleTimeout = _this.handleTimeout.bind(_this);\n        _this.stopRinging = _this.stopRinging.bind(_this);\n        _this.closeRightHandSide = _this.closeRightHandSide.bind(_this);\n\n        _this.state = {\n            userCalling: null,\n            rhsOpened: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(WebrtcNotification, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _webrtc_store2.default.addNotifyListener(this.onIncomingCall);\n            _webrtc_store2.default.addChangedListener(this.onCancelCall);\n            _webrtc_store2.default.addRhsChangedListener(this.onRhs);\n            this.mounted = true;\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _webrtc_store2.default.removeNotifyListener(this.onIncomingCall);\n            _webrtc_store2.default.removeChangedListener(this.onCancelCall);\n            _webrtc_store2.default.removeRhsChangedListener(this.onRhs);\n            if (this.refs.ring) {\n                this.refs.ring.removeListener('ended', this.handleTimeout);\n            }\n            this.mounted = false;\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            if (this.state.userCalling) {\n                this.refs.ring.addEventListener('ended', this.handleTimeout);\n            }\n        }\n    }, {\n        key: 'closeNotification',\n        value: function closeNotification() {\n            this.setState({\n                userCalling: null\n            });\n        }\n    }, {\n        key: 'stopRinging',\n        value: function stopRinging() {\n            if (this.refs.ring) {\n                this.refs.ring.pause();\n                this.refs.ring.currentTime = 0;\n            }\n            this.setState({ userCalling: null });\n        }\n    }, {\n        key: 'closeRightHandSide',\n        value: function closeRightHandSide(e) {\n            e.preventDefault();\n            GlobalActions.emitCloseRightHandSide();\n            setTimeout(function () {\n                (0, _jquery2.default)('.app__body .inner-wrap').addClass('move--left');\n            }, 0);\n        }\n    }, {\n        key: 'onIncomingCall',\n        value: function onIncomingCall(incoming) {\n            if (this.mounted) {\n                var userId = incoming.from_user_id;\n                var userMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n                var featureEnabled = Utils.isFeatureEnabled(PreReleaseFeatures.WEBRTC_PREVIEW);\n\n                if (featureEnabled) {\n                    if (_webrtc_store2.default.isBusy()) {\n                        _web_websocket_client2.default.sendMessage('webrtc', {\n                            action: _constants.WebrtcActionTypes.BUSY,\n                            from_user_id: _user_store2.default.getCurrentId(),\n                            to_user_id: userId\n                        });\n                        this.stopRinging();\n                    } else if (userMedia) {\n                        _webrtc_store2.default.setVideoCallWith(userId);\n                        this.setState({\n                            userCalling: _user_store2.default.getProfile(userId)\n                        });\n                    } else {\n                        _web_websocket_client2.default.sendMessage('webrtc', {\n                            action: _constants.WebrtcActionTypes.UNSUPPORTED,\n                            from_user_id: _user_store2.default.getCurrentId(),\n                            to_user_id: userId\n                        });\n                        this.stopRinging();\n                    }\n                } else {\n                    _web_websocket_client2.default.sendMessage('webrtc', {\n                        action: _constants.WebrtcActionTypes.DISABLED,\n                        from_user_id: _user_store2.default.getCurrentId(),\n                        to_user_id: userId\n                    });\n                    this.stopRinging();\n                }\n            }\n        }\n    }, {\n        key: 'onCancelCall',\n        value: function onCancelCall(message) {\n            if (message && message.action !== _constants.WebrtcActionTypes.CANCEL) {\n                return;\n            } else if (message && message.action === _constants.WebrtcActionTypes.CANCEL && this.state.userCalling && message.from_user_id !== this.state.userCalling.id) {\n                return;\n            }\n\n            _webrtc_store2.default.setVideoCallWith(null);\n            this.closeNotification();\n        }\n    }, {\n        key: 'onRhs',\n        value: function onRhs(rhsOpened) {\n            this.setState({ rhsOpened: rhsOpened });\n        }\n    }, {\n        key: 'handleTimeout',\n        value: function handleTimeout() {\n            _web_websocket_client2.default.sendMessage('webrtc', {\n                action: _constants.WebrtcActionTypes.NO_ANSWER,\n                from_user_id: _user_store2.default.getCurrentId(),\n                to_user_id: this.state.userCalling.id\n            });\n\n            this.onCancelCall();\n        }\n    }, {\n        key: 'handleAnswer',\n        value: function handleAnswer(e) {\n            if (e) {\n                e.preventDefault();\n            }\n\n            var caller = this.state.userCalling;\n            if (caller) {\n                var callerId = caller.id;\n                var currentUserId = _user_store2.default.getCurrentId();\n                var message = {\n                    action: _constants.WebrtcActionTypes.ANSWER,\n                    from_user_id: currentUserId,\n                    to_user_id: callerId\n                };\n\n                GlobalActions.emitCloseRightHandSide();\n                WebrtcActions.initWebrtc(callerId, false);\n                _web_websocket_client2.default.sendMessage('webrtc', message);\n\n                // delay till next tick (this will give time to listen for events\n                setTimeout(function () {\n                    //we switch from and to user to handle the event locally\n                    message.from_user_id = callerId;\n                    message.to_user_id = currentUserId;\n                    WebrtcActions.handle(message);\n                }, 0);\n\n                this.closeNotification();\n            }\n        }\n    }, {\n        key: 'handleClose',\n        value: function handleClose(e) {\n            if (e) {\n                e.preventDefault();\n            }\n            if (this.state.userCalling) {\n                _web_websocket_client2.default.sendMessage('webrtc', {\n                    action: _constants.WebrtcActionTypes.DECLINE,\n                    from_user_id: _user_store2.default.getCurrentId(),\n                    to_user_id: this.state.userCalling.id\n                });\n            }\n\n            this.onCancelCall();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var user = this.state.userCalling;\n            if (user) {\n                var username = Utils.displayUsername(user.id);\n                var profileImgSrc = Utils.imageURLForUser(user);\n                var profileImg = _react2.default.createElement('img', {\n                    className: 'user-popover__image',\n                    src: profileImgSrc,\n                    height: '128',\n                    width: '128',\n                    key: 'user-popover-image'\n                });\n                var answerBtn = _react2.default.createElement(\n                    'svg',\n                    {\n                        className: 'webrtc-icons__pickup',\n                        xmlns: 'http://www.w3.org/2000/svg',\n                        width: '48',\n                        height: '48',\n                        viewBox: '-10 -10 68 68',\n                        onClick: this.handleAnswer\n                    },\n                    _react2.default.createElement(\n                        'circle',\n                        {\n                            cx: '24',\n                            cy: '24',\n                            r: '34'\n                        },\n                        _react2.default.createElement(\n                            'title',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'webrtc.notification.answer',\n                                defaultMessage: 'Answer'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement('path', {\n                        transform: 'translate(-10,-10)',\n                        fill: '#fff',\n                        d: 'M29.854,37.627c1.723,1.904 3.679,3.468 5.793,4.684l3.683,-3.334c0.469,-0.424 1.119,-0.517 1.669,-0.302c1.628,0.63 3.331,1.021 5.056,1.174c0.401,0.026 0.795,0.199 1.09,0.525c0.295,0.326 0.433,0.741 0.407,1.153l-0.279,5.593c-0.02,0.418 -0.199,0.817 -0.525,1.112c-0.326,0.296 -0.741,0.434 -1.159,0.413c-6.704,-0.504 -13.238,-3.491 -18.108,-8.87c-4.869,-5.38 -7.192,-12.179 -7.028,-18.899c0.015,-0.413 0.199,-0.817 0.526,-1.113c0.326,-0.295 0.74,-0.433 1.153,-0.407l5.593,0.279c0.407,0.02 0.812,0.193 1.107,0.519c0.29,0.32 0.428,0.735 0.413,1.137c-0.018,1.732 0.202,3.464 0.667,5.147c0.159,0.569 0.003,1.207 -0.466,1.631l-3.683,3.334c1.005,2.219 2.368,4.32 4.091,6.224Z'\n                    })\n                );\n\n                var rejectBtn = _react2.default.createElement(\n                    'svg',\n                    {\n                        className: 'webrtc-icons__cancel',\n                        xmlns: 'http://www.w3.org/2000/svg',\n                        width: '48',\n                        height: '48',\n                        viewBox: '-10 -10 68 68',\n                        onClick: this.handleClose\n                    },\n                    _react2.default.createElement(\n                        'circle',\n                        {\n                            cx: '24',\n                            cy: '24',\n                            r: '34'\n                        },\n                        _react2.default.createElement(\n                            'title',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'webrtc.notification.decline',\n                                defaultMessage: 'Decline'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement('path', {\n                        transform: 'scale(0.7), translate(11,10)',\n                        d: 'M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z',\n                        fill: 'white'\n                    })\n                );\n\n                var msg = _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.notification.incoming_call',\n                        defaultMessage: '{username} is calling you.',\n                        values: {\n                            username: username\n                        }\n                    }),\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            className: 'webrtc-buttons webrtc-icons active',\n                            style: { marginTop: '5px' }\n                        },\n                        answerBtn,\n                        rejectBtn\n                    )\n                );\n\n                return _react2.default.createElement(\n                    'div',\n                    { className: 'webrtc-notification' },\n                    _react2.default.createElement('audio', {\n                        ref: 'ring',\n                        src: _ring2.default,\n                        autoPlay: true\n                    }),\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        profileImg\n                    ),\n                    msg\n                );\n            } else if (this.state.rhsOpened && _webrtc_store2.default.isBusy()) {\n                return _react2.default.createElement(\n                    'div',\n                    {\n                        className: 'webrtc__notification--rhs',\n                        onClick: this.closeRightHandSide\n                    },\n                    _react2.default.createElement('i', { className: 'fa fa-phone' }),\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.notification.returnToCall',\n                        defaultMessage: 'Return to ongoing call with {username}',\n                        values: {\n                            username: Utils.displayUsername(_webrtc_store2.default.getVideoCallWith())\n                        }\n                    })\n                );\n            }\n\n            return _react2.default.createElement('div', null);\n        }\n    }]);\n    return WebrtcNotification;\n}(_react2.default.Component);\n\nexports.default = WebrtcNotification;\n\n/***/ }),\n\n/***/ 2467:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(436);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _webrtc_controller = __webpack_require__(2468);\n\nvar _webrtc_controller2 = _interopRequireDefault(_webrtc_controller);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SidebarRight = function (_React$Component) {\n    (0, _inherits3.default)(SidebarRight, _React$Component);\n\n    function SidebarRight(props) {\n        (0, _classCallCheck3.default)(this, SidebarRight);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SidebarRight.__proto__ || (0, _getPrototypeOf2.default)(SidebarRight)).call(this, props));\n\n        _this.plScrolledToBottom = true;\n\n        _this.onShrink = _this.onShrink.bind(_this);\n        _this.toggleSize = _this.toggleSize.bind(_this);\n        _this.onInitializeVideoCall = _this.onInitializeVideoCall.bind(_this);\n\n        _this.doStrangeThings = _this.doStrangeThings.bind(_this);\n\n        _this.state = {\n            expanded: false,\n            currentUser: _user_store2.default.getCurrentUser(),\n            videoCallVisible: false,\n            isCaller: false,\n            videoCallWithUserId: null\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SidebarRight, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _webrtc_store2.default.addInitListener(this.onInitializeVideoCall);\n            this.doStrangeThings();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _webrtc_store2.default.removeInitListener(this.onInitializeVideoCall);\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            return !Utils.areObjectsEqual(nextState, this.state);\n        }\n    }, {\n        key: 'doStrangeThings',\n        value: function doStrangeThings() {\n            // We should have a better way to do this stuff\n            // Hence the function name.\n            (0, _jquery2.default)('.app__body .inner-wrap').removeClass('move--right');\n            (0, _jquery2.default)('.app__body .inner-wrap').addClass('webrtc--show move--left');\n            (0, _jquery2.default)('.app__body .sidebar--left').removeClass('move--right');\n            (0, _jquery2.default)('.multi-teams .team-sidebar').removeClass('move--right');\n            (0, _jquery2.default)('.app__body .webrtc').addClass('webrtc--show');\n\n            //$('.sidebar--right').prepend('<div class=\"sidebar__overlay\"></div>');\n            if (!this.state.videoCallVisible) {\n                (0, _jquery2.default)('.app__body .inner-wrap').removeClass('webrtc--show move--left move--right');\n                (0, _jquery2.default)('.app__body .webrtc').removeClass('webrtc--show');\n                return _react2.default.createElement('div', null);\n            }\n            return null;\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            this.doStrangeThings();\n        }\n    }, {\n        key: 'onShrink',\n        value: function onShrink() {\n            this.setState({ expanded: false });\n        }\n    }, {\n        key: 'toggleSize',\n        value: function toggleSize(e) {\n            if (e) {\n                e.preventDefault();\n            }\n            this.setState(function (prevState) {\n                return { expanded: !prevState.expanded };\n            });\n        }\n    }, {\n        key: 'onInitializeVideoCall',\n        value: function onInitializeVideoCall(userId, isCaller) {\n            var expanded = this.state.expanded;\n            if (userId === null) {\n                expanded = false;\n            }\n            this.setState({\n                videoCallVisible: userId !== null,\n                isCaller: isCaller,\n                videoCallWithUserId: userId,\n                expanded: expanded\n            });\n\n            if (userId !== null) {\n                this.forceUpdate();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var content = null;\n            var expandedClass = '';\n\n            if (this.state.expanded) {\n                expandedClass = 'sidebar--right--expanded';\n            }\n\n            if (this.state.videoCallVisible) {\n                content = _react2.default.createElement(_webrtc_controller2.default, {\n                    currentUser: this.state.currentUser,\n                    userId: this.state.videoCallWithUserId,\n                    isCaller: this.state.isCaller,\n                    expanded: this.state.expanded,\n                    toggleSize: this.toggleSize\n                });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'sidebar--right webrtc ' + expandedClass,\n                    id: 'sidebar-webrtc'\n                },\n                _react2.default.createElement('div', {\n                    onClick: this.onShrink,\n                    className: 'sidebar--right__bg'\n                }),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar-right-container' },\n                    content\n                )\n            );\n        }\n    }]);\n    return SidebarRight;\n}(_react2.default.Component);\n\nexports.default = SidebarRight;\n\n/***/ }),\n\n/***/ 2468:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _janus = __webpack_require__(2469);\n\nvar _janus2 = _interopRequireDefault(_janus);\n\nvar _diagnostics_actions = __webpack_require__(237);\n\nvar _webrtc_actions = __webpack_require__(315);\n\nvar WebrtcActions = _interopRequireWildcard(_webrtc_actions);\n\nvar _channel_store = __webpack_require__(32);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _user_store = __webpack_require__(25);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(436);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _web_websocket_client = __webpack_require__(443);\n\nvar _web_websocket_client2 = _interopRequireDefault(_web_websocket_client);\n\nvar _constants = __webpack_require__(9);\n\nvar _utils = __webpack_require__(16);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _ring = __webpack_require__(2198);\n\nvar _ring2 = _interopRequireDefault(_ring);\n\nvar _loading_screen = __webpack_require__(236);\n\nvar _loading_screen2 = _interopRequireDefault(_loading_screen);\n\nvar _search_bar = __webpack_require__(753);\n\nvar _search_bar2 = _interopRequireDefault(_search_bar);\n\nvar _webrtc_header = __webpack_require__(2481);\n\nvar _webrtc_header2 = _interopRequireDefault(_webrtc_header);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar VIDEO_WIDTH = 640;\nvar VIDEO_HEIGHT = 360;\nvar MIN_ASPECT = 1.777;\nvar MAX_ASPECT = 1.778;\nvar ALREADY_REGISTERED_ERROR = 477;\nvar USERNAME_TAKEN = 476;\n\nvar WebrtcController = function (_React$Component) {\n    (0, _inherits3.default)(WebrtcController, _React$Component);\n\n    function WebrtcController(props) {\n        (0, _classCallCheck3.default)(this, WebrtcController);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (WebrtcController.__proto__ || (0, _getPrototypeOf2.default)(WebrtcController)).call(this, props));\n\n        _this.mounted = false;\n        _this.localMedia = null;\n        _this.session = null;\n        _this.videocall = null;\n\n        _this.handleResize = _this.handleResize.bind(_this);\n        _this.handleClose = _this.handleClose.bind(_this);\n        _this.close = _this.close.bind(_this);\n        _this.clearError = _this.clearError.bind(_this);\n\n        _this.getLocalMedia = _this.getLocalMedia.bind(_this);\n        _this.stopMediaStream = _this.stopMediaStream.bind(_this);\n        _this.previewVideo = _this.previewVideo.bind(_this);\n        _this.stopRinging = _this.stopRinging.bind(_this);\n\n        _this.handleMakeOffer = _this.handleMakeOffer.bind(_this);\n        _this.handleCancelOffer = _this.handleCancelOffer.bind(_this);\n        _this.handleWebrtcEvent = _this.handleWebrtcEvent.bind(_this);\n        _this.handleVideoCallEvent = _this.handleVideoCallEvent.bind(_this);\n        _this.handleRemoteStream = _this.handleRemoteStream.bind(_this);\n\n        _this.onStatusChange = _this.onStatusChange.bind(_this);\n        _this.onCallDeclined = _this.onCallDeclined.bind(_this);\n        _this.onUnsupported = _this.onUnsupported.bind(_this);\n        _this.onNoAnswer = _this.onNoAnswer.bind(_this);\n        _this.onBusy = _this.onBusy.bind(_this);\n        _this.onDisabled = _this.onDisabled.bind(_this);\n        _this.onFailed = _this.onFailed.bind(_this);\n        _this.onCancelled = _this.onCancelled.bind(_this);\n        _this.onConnectCall = _this.onConnectCall.bind(_this);\n\n        _this.onSessionCreated = _this.onSessionCreated.bind(_this);\n        _this.onSessionError = _this.onSessionError.bind(_this);\n\n        _this.doCall = _this.doCall.bind(_this);\n        _this.doAnswer = _this.doAnswer.bind(_this);\n        _this.doHangup = _this.doHangup.bind(_this);\n        _this.doCleanup = _this.doCleanup.bind(_this);\n\n        _this.renderButtons = _this.renderButtons.bind(_this);\n        _this.onToggleVideo = _this.onToggleVideo.bind(_this);\n        _this.onToggleAudio = _this.onToggleAudio.bind(_this);\n        _this.onToggleRemoteMute = _this.onToggleRemoteMute.bind(_this);\n        _this.toggleIcons = _this.toggleIcons.bind(_this);\n\n        var currentUser = _user_store2.default.getCurrentUser();\n        var remoteUser = _user_store2.default.getProfile(props.userId);\n        var remoteUserImage = Utils.imageURLForUser(remoteUser);\n\n        _this.state = {\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight(),\n            channelId: _channel_store2.default.getCurrentId(),\n            currentUser: currentUser,\n            currentUserImage: Utils.imageURLForUser(currentUser),\n            remoteUserImage: remoteUserImage,\n            localMediaLoaded: false,\n            isPaused: false,\n            isMuted: false,\n            isRemotePaused: false,\n            isRemoteMuted: false,\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error: null,\n            errorType: '',\n            ended: null\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(WebrtcController, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            window.addEventListener('resize', this.handleResize);\n            _webrtc_store2.default.addChangedListener(this.handleWebrtcEvent);\n            _user_store2.default.addStatusesChangeListener(this.onStatusChange);\n\n            this.mounted = true;\n            this.previewVideo();\n\n            if (this.props.isCaller) {\n                this.handleMakeOffer();\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            window.removeEventListener('resize', this.handleResize);\n            _webrtc_store2.default.removeChangedListener(this.handleWebrtcEvent);\n            _user_store2.default.removeStatusesChangeListener(this.onStatusChange);\n            this.mounted = false;\n            this.close();\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (nextProps.currentUser !== this.props.currentUser || nextProps.userId !== this.props.userId || nextProps.isCaller !== this.props.isCaller) {\n                var remoteUser = _user_store2.default.getProfile(nextProps.userId);\n                var remoteUserImage = Utils.imageURLForUser(remoteUser);\n                this.setState({\n                    error: null,\n                    remoteUserImage: remoteUserImage\n                });\n            }\n\n            if (nextProps.isCaller && nextProps.expanded === this.props.expanded) {\n                this.startCall = true;\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            if (this.props.isCaller && this.startCall) {\n                this.startCall = false;\n                this.handleMakeOffer();\n            }\n        }\n    }, {\n        key: 'handleResize',\n        value: function handleResize() {\n            this.setState({\n                windowWidth: Utils.windowWidth(),\n                windowHeight: Utils.windowHeight()\n            });\n        }\n    }, {\n        key: 'clearError',\n        value: function clearError() {\n            var _this2 = this;\n\n            setTimeout(function () {\n                _this2.setState({ error: null, ended: null, errorType: '' });\n            }, _constants.Constants.WEBRTC_CLEAR_ERROR_DELAY);\n        }\n    }, {\n        key: 'getLocalMedia',\n        value: function getLocalMedia(constraints, element, callback) {\n            var media = constraints || { audio: true, video: true };\n            navigator.mediaDevices.getUserMedia(media).then(function (stream) {\n                if (element) {\n                    element.srcObject = stream;\n                }\n\n                if (callback && typeof callback === 'function') {\n                    callback(null, stream);\n                }\n            }).catch(function (error) {\n                callback(error);\n            });\n        }\n    }, {\n        key: 'stopMediaStream',\n        value: function stopMediaStream(stream) {\n            var tracks = stream.getTracks();\n            tracks.forEach(function (track) {\n                track.stop();\n            });\n        }\n    }, {\n        key: 'previewVideo',\n        value: function previewVideo() {\n            var _this3 = this;\n\n            if (this.mounted) {\n                if (this.localMedia) {\n                    this.setState({\n                        localMediaLoaded: true,\n                        error: null\n                    });\n                    this.localMedia.enabled = true;\n                } else {\n                    this.getLocalMedia({\n                        audio: true,\n                        video: {\n                            minAspectRatio: MIN_ASPECT,\n                            maxAspectRatio: MAX_ASPECT,\n                            width: VIDEO_WIDTH,\n                            height: VIDEO_HEIGHT\n                        }\n                    }, this.refs['local-video'], function (error, stream) {\n                        if (error) {\n                            _this3.setState({\n                                error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'webrtc.mediaError',\n                                    defaultMessage: 'Unable to access Camera and Microphone'\n                                })\n                            });\n                            return;\n                        }\n                        _this3.localMedia = stream;\n                        _this3.setState({\n                            localMediaLoaded: true\n                        });\n                    });\n                }\n            }\n        }\n    }, {\n        key: 'stopRinging',\n        value: function stopRinging() {\n            if (this.refs.ring) {\n                this.refs.ring.pause();\n                this.refs.ring.currentTime = 0;\n            }\n        }\n    }, {\n        key: 'handleMakeOffer',\n        value: function handleMakeOffer() {\n            if (_user_store2.default.getStatus(this.props.userId) === _constants.UserStatuses.OFFLINE) {\n                this.onStatusChange();\n            } else {\n                var connectingMsg = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'calling_screen',\n                    defaultMessage: 'Calling'\n                });\n\n                this.setState({\n                    isCalling: true,\n                    isAnswering: false,\n                    callInProgress: false,\n                    error: null,\n                    ended: null,\n                    connectingMsg: connectingMsg\n                });\n\n                _webrtc_store2.default.setVideoCallWith(this.props.userId);\n\n                var user = this.state.currentUser;\n                _web_websocket_client2.default.sendMessage('webrtc', {\n                    action: _constants.WebrtcActionTypes.NOTIFY,\n                    from_user_id: user.id,\n                    to_user_id: this.props.userId\n                });\n            }\n        }\n    }, {\n        key: 'handleCancelOffer',\n        value: function handleCancelOffer() {\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: null,\n                ended: null\n            });\n\n            var user = this.state.currentUser;\n            _web_websocket_client2.default.sendMessage('webrtc', {\n                action: _constants.WebrtcActionTypes.CANCEL,\n                from_user_id: user.id,\n                to_user_id: this.props.userId\n            });\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'handleWebrtcEvent',\n        value: function handleWebrtcEvent(message) {\n            switch (message.action) {\n                case _constants.WebrtcActionTypes.DECLINE:\n                    this.onCallDeclined();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.UNSUPPORTED:\n                    this.onUnsupported();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.BUSY:\n                    this.onBusy();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.NO_ANSWER:\n                    this.onNoAnswer();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.FAILED:\n                    this.onFailed();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.ANSWER:\n                    this.onConnectCall();\n                    break;\n                case _constants.WebrtcActionTypes.CANCEL:\n                    this.onCancelled();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.MUTED:\n                    this.onToggleRemoteMute(message);\n                    break;\n                case _constants.WebrtcActionTypes.IN_PROGRESS:\n                    this.setState({\n                        error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'webrtc.inProgress',\n                            defaultMessage: 'You have a call in progress. Please hang up first.'\n                        }),\n                        errorType: ' warning'\n                    });\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.DISABLED:\n                    this.onDisabled();\n                    this.clearError();\n                    break;\n            }\n        }\n    }, {\n        key: 'handleVideoCallEvent',\n        value: function handleVideoCallEvent(msg, jsep) {\n            var result = msg.result;\n\n            if (result) {\n                var event = result.event;\n                switch (event) {\n                    case 'registered':\n                        if (this.state.isCalling) {\n                            this.doCall();\n                        }\n                        break;\n                    case 'incomingcall':\n                        this.doAnswer(jsep);\n                        break;\n                    case 'accepted':\n                        this.stopRinging();\n\n                        if (jsep) {\n                            this.videocall.handleRemoteJsep({ jsep: jsep });\n                        }\n                        break;\n                    case 'hangup':\n                        this.doHangup(false);\n                        break;\n                }\n            } else {\n                var errorCode = msg.error_code;\n                if (errorCode !== ALREADY_REGISTERED_ERROR && errorCode !== USERNAME_TAKEN) {\n                    this.doHangup(true);\n                } else if (this.state.isCalling) {\n                    this.doCall();\n                }\n            }\n        }\n    }, {\n        key: 'handleRemoteStream',\n        value: function handleRemoteStream(stream) {\n            // attaching stream to where they belong\n            this.refs['main-video'].srcObject = stream;\n\n            var isRemotePaused = false;\n            var isRemoteMuted = false;\n            var videoTracks = stream.getVideoTracks();\n            var audioTracks = stream.getAudioTracks();\n            if (!videoTracks || videoTracks.length === 0 || videoTracks[0].muted || !videoTracks[0].enabled) {\n                isRemotePaused = true;\n            }\n\n            if (!audioTracks || audioTracks.length === 0 || audioTracks[0].muted || !audioTracks[0].enabled) {\n                isRemoteMuted = true;\n            }\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: true,\n                isMuted: false,\n                isPaused: false,\n                error: null,\n                ended: null,\n                isRemotePaused: isRemotePaused,\n                isRemoteMuted: isRemoteMuted\n            });\n            this.toggleIcons();\n        }\n    }, {\n        key: 'handleClose',\n        value: function handleClose(e) {\n            e.preventDefault();\n            if (this.state.callInProgress) {\n                this.setState({\n                    error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.inProgress',\n                        defaultMessage: 'You have a call in progress. Please hang up first.'\n                    }),\n                    errorType: ' warning'\n                });\n            } else if (this.state.isCalling) {\n                this.handleCancelOffer();\n                this.close();\n            } else {\n                this.close();\n            }\n        }\n    }, {\n        key: 'close',\n        value: function close() {\n            this.doCleanup();\n\n            if (this.session) {\n                this.session.destroy();\n                this.session = null;\n            }\n\n            if (this.localMedia) {\n                this.stopMediaStream(this.localMedia);\n                this.localMedia = null;\n            }\n\n            WebrtcActions.initWebrtc(null, false);\n        }\n    }, {\n        key: 'onStatusChange',\n        value: function onStatusChange() {\n            var status = _user_store2.default.getStatus(this.props.userId);\n\n            if (status === _constants.UserStatuses.OFFLINE) {\n                var error = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.offline',\n                    defaultMessage: '{username} is offline',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                });\n\n                if (this.state.isCalling || this.state.isAnswering) {\n                    this.setState({\n                        isCalling: false,\n                        isAnswering: false,\n                        callInProgress: false,\n                        error: error\n                    });\n                } else {\n                    this.setState({\n                        error: error\n                    });\n                }\n            } else if (status !== _constants.UserStatuses.OFFLINE && this.state.error) {\n                this.setState({\n                    error: null,\n                    ended: null\n                });\n            }\n        }\n    }, {\n        key: 'onCallDeclined',\n        value: function onCallDeclined() {\n            var error = null;\n\n            if (this.state.isCalling) {\n                error = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.declined',\n                    defaultMessage: 'Your call has been declined by {username}',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                });\n            }\n\n            this.stopRinging();\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: error\n            });\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onUnsupported',\n        value: function onUnsupported() {\n            if (this.mounted) {\n                this.stopRinging();\n\n                this.setState({\n                    error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.unsupported',\n                        defaultMessage: 'Call to {username} not successful. Their client does not support video calls.',\n                        values: {\n                            username: Utils.displayUsername(this.props.userId)\n                        }\n                    }),\n                    callInProgress: false,\n                    isCalling: false,\n                    isAnswering: false\n                });\n            }\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onNoAnswer',\n        value: function onNoAnswer() {\n            var error = null;\n\n            if (this.state.isCalling) {\n                error = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.noAnswer',\n                    defaultMessage: '{username} is not answering the call',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                });\n            }\n            this.stopRinging();\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: error\n            });\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onBusy',\n        value: function onBusy() {\n            var error = null;\n\n            if (this.state.isCalling) {\n                error = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.busy',\n                    defaultMessage: '{username} is busy',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                });\n            }\n            this.stopRinging();\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: error\n            });\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onDisabled',\n        value: function onDisabled() {\n            var error = null;\n\n            if (this.state.isCalling) {\n                error = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.disabled',\n                    defaultMessage: '{username} has WebRTC disabled, and cannot receive calls. To enable the feature, they must go to Account Settings > Advanced > Preview pre-release features and turn on WebRTC.',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                });\n            }\n\n            this.stopRinging();\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: error\n            });\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onFailed',\n        value: function onFailed() {\n            (0, _diagnostics_actions.trackEvent)('api', 'api_users_webrtc_failed');\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                isPaused: false,\n                isMuted: false,\n                isRemotePaused: false,\n                isRemoteMuted: false,\n                error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.failed',\n                    defaultMessage: 'There was a problem connecting the video call'\n                })\n            });\n\n            this.stopRinging();\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onCancelled',\n        value: function onCancelled() {\n            if (this.mounted && this.state.isAnswering) {\n                this.stopRinging();\n                this.setState({\n                    isCalling: false,\n                    isAnswering: false,\n                    callInProgress: false,\n                    error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.cancelled',\n                        defaultMessage: '{username} cancelled the call',\n                        values: {\n                            username: Utils.displayUsername(this.props.userId)\n                        }\n                    })\n                });\n            }\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onConnectCall',\n        value: function onConnectCall() {\n            var _this4 = this;\n\n            WebrtcActions.webrtcToken(function (info) {\n                var connectingMsg = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'connecting_screen',\n                    defaultMessage: 'Connecting'\n                });\n\n                _this4.setState({ isAnswering: !_this4.state.isCalling, connectingMsg: connectingMsg });\n                if (_this4.session) {\n                    _this4.onSessionCreated();\n                } else {\n                    var iceServers = [];\n\n                    if (info.stun_uri) {\n                        iceServers.push({\n                            urls: info.stun_uri.split(' ')\n                        });\n                    }\n\n                    if (info.turn_uri) {\n                        iceServers.push({\n                            urls: info.turn_uri.split(' '),\n                            username: info.turn_username,\n                            credential: info.turn_password\n                        });\n                    }\n\n                    _janus2.default.init({ debug: global.mm_config.EnableDeveloper === 'true' });\n                    _this4.session = new _janus2.default({\n                        server: info.gateway_url,\n                        iceServers: iceServers,\n                        token: info.token,\n                        success: _this4.onSessionCreated,\n                        error: _this4.onSessionError\n                    });\n                }\n            }, function () {\n                _this4.onSessionError();\n            });\n        }\n    }, {\n        key: 'onSessionCreated',\n        value: function onSessionCreated() {\n            var _this5 = this;\n\n            if (this.videocall) {\n                this.doCall();\n            } else {\n                this.session.attach({\n                    plugin: 'janus.plugin.videocall',\n                    success: function success(plugin) {\n                        _this5.videocall = plugin;\n                        _this5.videocall.send({ message: { request: 'register', username: _this5.state.currentUser.id } });\n                    },\n                    error: this.onSessionError,\n                    onmessage: this.handleVideoCallEvent,\n                    onremotestream: this.handleRemoteStream\n                });\n            }\n        }\n    }, {\n        key: 'onSessionError',\n        value: function onSessionError() {\n            var user = this.state.currentUser;\n            _web_websocket_client2.default.sendMessage('webrtc', {\n                action: _constants.WebrtcActionTypes.FAILED,\n                from_user_id: user.id,\n                to_user_id: this.props.userId\n            });\n\n            this.onFailed();\n        }\n    }, {\n        key: 'doCall',\n        value: function doCall() {\n            var _this6 = this;\n\n            // delay call so receiver has time to register\n            setTimeout(function () {\n                _this6.videocall.createOffer({\n                    stream: _this6.localMedia,\n                    success: function success(jsep) {\n                        var body = { request: 'call', username: _this6.props.userId };\n                        _this6.videocall.send({ message: body, jsep: jsep });\n                    },\n                    error: function error() {\n                        _this6.doHangup(true);\n                    }\n                });\n            }, _constants.Constants.WEBRTC_TIME_DELAY);\n        }\n    }, {\n        key: 'doAnswer',\n        value: function doAnswer(jsep) {\n            var _this7 = this;\n\n            (0, _diagnostics_actions.trackEvent)('api', 'api_users_webrtc_start');\n            this.videocall.createAnswer({\n                jsep: jsep,\n                stream: this.localMedia,\n                success: function success(jsepSuccess) {\n                    var body = { request: 'accept' };\n                    _this7.videocall.send({ message: body, jsep: jsepSuccess });\n                },\n                error: function error() {\n                    _this7.doHangup(true);\n                }\n            });\n        }\n    }, {\n        key: 'doHangup',\n        value: function doHangup(error, manual) {\n            (0, _diagnostics_actions.trackEvent)('api', 'api_users_webrtc_end');\n            if (this.videocall && this.state.callInProgress) {\n                this.videocall.send({ message: { request: 'hangup' } });\n                this.videocall.hangup();\n                this.toggleIcons();\n\n                if (this.localMedia) {\n                    this.localMedia.getVideoTracks()[0].enabled = true;\n                    this.localMedia.getAudioTracks()[0].enabled = true;\n                }\n            }\n\n            if (error) {\n                this.onSessionError();\n                return this.doCleanup();\n            }\n\n            _webrtc_store2.default.setVideoCallWith(null);\n            _webrtc_store2.default.emitRhsChanged(false);\n\n            if (manual) {\n                return this.close();\n            }\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                isPaused: false,\n                isMuted: false,\n                isRemotePaused: false,\n                isRemoteMuted: false,\n                error: null,\n                ended: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.callEnded',\n                    defaultMessage: 'Call with {username} ended.',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                })\n            });\n            this.clearError();\n            return this.doCleanup();\n        }\n    }, {\n        key: 'doCleanup',\n        value: function doCleanup() {\n            _webrtc_store2.default.setVideoCallWith(null);\n\n            if (this.videocall) {\n                this.videocall.detach();\n                this.videocall = null;\n            }\n        }\n    }, {\n        key: 'onToggleVideo',\n        value: function onToggleVideo() {\n            var shouldPause = !this.state.isPaused;\n            if (shouldPause) {\n                this.videocall.unmuteVideo();\n            } else {\n                this.videocall.muteVideo();\n            }\n\n            var user = this.state.currentUser;\n            _web_websocket_client2.default.sendMessage('webrtc', {\n                action: _constants.WebrtcActionTypes.MUTED,\n                from_user_id: user.id,\n                to_user_id: this.props.userId,\n                type: 'video',\n                mute: shouldPause\n            });\n\n            this.setState({\n                isPaused: shouldPause,\n                error: null,\n                ended: null\n            });\n        }\n    }, {\n        key: 'onToggleAudio',\n        value: function onToggleAudio() {\n            var shouldMute = !this.state.isMuted;\n            if (shouldMute) {\n                this.videocall.unmuteAudio();\n            } else {\n                this.videocall.muteAudio();\n            }\n\n            var user = this.state.currentUser;\n            _web_websocket_client2.default.sendMessage('webrtc', {\n                action: _constants.WebrtcActionTypes.MUTED,\n                from_user_id: user.id,\n                to_user_id: this.props.userId,\n                type: 'audio',\n                mute: shouldMute\n            });\n\n            this.setState({\n                isMuted: shouldMute,\n                error: null,\n                ended: null\n            });\n        }\n    }, {\n        key: 'onToggleRemoteMute',\n        value: function onToggleRemoteMute(message) {\n            if (message.type === 'video') {\n                this.setState({\n                    isRemotePaused: message.mute\n                });\n            } else {\n                this.setState({ isRemoteMuted: message.mute, error: null, ended: null });\n            }\n        }\n    }, {\n        key: 'toggleIcons',\n        value: function toggleIcons() {\n            var icons = this.refs.icons;\n            if (icons) {\n                icons.classList.toggle('hidden');\n                icons.classList.toggle('active');\n            }\n        }\n    }, {\n        key: 'renderButtons',\n        value: function renderButtons() {\n            var _this8 = this;\n\n            var buttons = void 0;\n            if (this.state.isCalling) {\n                buttons = _react2.default.createElement(\n                    'svg',\n                    {\n                        id: 'cancel',\n                        className: 'webrtc-icons__cancel',\n                        xmlns: 'http://www.w3.org/2000/svg',\n                        width: '48',\n                        height: '48',\n                        viewBox: '-10 -10 68 68',\n                        onClick: function onClick() {\n                            return _this8.handleCancelOffer();\n                        }\n                    },\n                    _react2.default.createElement(\n                        'circle',\n                        {\n                            cx: '24',\n                            cy: '24',\n                            r: '34'\n                        },\n                        _react2.default.createElement(\n                            'title',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'webrtc.cancel',\n                                defaultMessage: 'Cancel Call'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement('path', {\n                        transform: 'scale(0.8), translate(6,10)',\n                        d: 'M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z',\n                        fill: 'white'\n                    })\n                );\n            } else if (!this.state.callInProgress && this.state.localMediaLoaded) {\n                buttons = _react2.default.createElement(\n                    'svg',\n                    {\n                        id: 'call',\n                        className: 'webrtc-icons__call',\n                        xmlns: 'http://www.w3.org/2000/svg',\n                        width: '48',\n                        height: '48',\n                        viewBox: '-10 -10 68 68',\n                        onClick: function onClick() {\n                            return _this8.handleMakeOffer();\n                        },\n                        disabled: _user_store2.default.getStatus(this.props.userId) === 'offline'\n                    },\n                    _react2.default.createElement(\n                        'circle',\n                        {\n                            cx: '24',\n                            cy: '24',\n                            r: '34'\n                        },\n                        _react2.default.createElement(\n                            'title',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'webrtc.call',\n                                defaultMessage: 'Call'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement('path', {\n                        transform: 'translate(-10,-10)',\n                        fill: '#fff',\n                        d: 'M29.854,37.627c1.723,1.904 3.679,3.468 5.793,4.684l3.683,-3.334c0.469,-0.424 1.119,-0.517 1.669,-0.302c1.628,0.63 3.331,1.021 5.056,1.174c0.401,0.026 0.795,0.199 1.09,0.525c0.295,0.326 0.433,0.741 0.407,1.153l-0.279,5.593c-0.02,0.418 -0.199,0.817 -0.525,1.112c-0.326,0.296 -0.741,0.434 -1.159,0.413c-6.704,-0.504 -13.238,-3.491 -18.108,-8.87c-4.869,-5.38 -7.192,-12.179 -7.028,-18.899c0.015,-0.413 0.199,-0.817 0.526,-1.113c0.326,-0.295 0.74,-0.433 1.153,-0.407l5.593,0.279c0.407,0.02 0.812,0.193 1.107,0.519c0.29,0.32 0.428,0.735 0.413,1.137c-0.018,1.732 0.202,3.464 0.667,5.147c0.159,0.569 0.003,1.207 -0.466,1.631l-3.683,3.334c1.005,2.219 2.368,4.32 4.091,6.224Z'\n                    })\n                );\n            } else if (this.state.callInProgress) {\n                var onClass = 'on';\n                var offClass = 'off';\n                var audioOnClass = offClass;\n                var audioOffClass = onClass;\n                var videoOnClass = offClass;\n                var videoOffClass = onClass;\n\n                var audioTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.mute_audio',\n                    defaultMessage: 'Mute'\n                });\n\n                var videoTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.pause_video',\n                    defaultMessage: 'Turn off Video'\n                });\n\n                if (this.state.isMuted) {\n                    audioOnClass = onClass;\n                    audioOffClass = offClass;\n                    audioTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.unmute_audio',\n                        defaultMessage: 'Unmute'\n                    });\n                }\n\n                if (this.state.isPaused) {\n                    videoOnClass = onClass;\n                    videoOffClass = offClass;\n                    videoTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.unpause_video',\n                        defaultMessage: 'Turn on Video'\n                    });\n                }\n\n                buttons = _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'icons',\n                        className: 'webrtc-icons hidden'\n                    },\n                    _react2.default.createElement(\n                        'svg',\n                        {\n                            id: 'mute-audio',\n                            className: 'webrtc-icons__call',\n                            xmlns: 'http://www.w3.org/2000/svg',\n                            width: '48',\n                            height: '48',\n                            viewBox: '-10 -10 68 68',\n                            onClick: function onClick() {\n                                return _this8.onToggleAudio();\n                            }\n                        },\n                        _react2.default.createElement(\n                            'circle',\n                            {\n                                cx: '24',\n                                cy: '24',\n                                r: '34'\n                            },\n                            _react2.default.createElement(\n                                'title',\n                                null,\n                                audioTitle\n                            )\n                        ),\n                        _react2.default.createElement('path', {\n                            className: audioOnClass,\n                            transform: 'scale(0.6), translate(17,18)',\n                            d: 'M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z',\n                            fill: 'white'\n                        }),\n                        _react2.default.createElement('path', {\n                            className: audioOffClass,\n                            transform: 'scale(0.6), translate(17,18)',\n                            d: 'M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z',\n                            fill: 'white'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'svg',\n                        {\n                            id: 'mute-video',\n                            className: 'webrtc-icons__call',\n                            xmlns: 'http://www.w3.org/2000/svg',\n                            width: '48',\n                            height: '48',\n                            viewBox: '-10 -10 68 68',\n                            onClick: function onClick() {\n                                return _this8.onToggleVideo();\n                            }\n                        },\n                        _react2.default.createElement(\n                            'circle',\n                            {\n                                cx: '24',\n                                cy: '24',\n                                r: '34'\n                            },\n                            _react2.default.createElement(\n                                'title',\n                                null,\n                                videoTitle\n                            )\n                        ),\n                        _react2.default.createElement('path', {\n                            className: videoOnClass,\n                            transform: 'scale(0.6), translate(17,16)',\n                            d: 'M40 8H15.64l8 8H28v4.36l1.13 1.13L36 16v12.36l7.97 7.97L44 36V12c0-2.21-1.79-4-4-4zM4.55 2L2 4.55l4.01 4.01C4.81 9.24 4 10.52 4 12v24c0 2.21 1.79 4 4 4h29.45l4 4L44 41.46 4.55 2zM12 16h1.45L28 30.55V32H12V16z',\n                            fill: 'white'\n                        }),\n                        _react2.default.createElement('path', {\n                            className: videoOffClass,\n                            transform: 'scale(0.6), translate(17,16)',\n                            d: 'M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm-4 24l-8-6.4V32H12V16h16v6.4l8-6.4v16z',\n                            fill: 'white'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'svg',\n                        {\n                            id: 'hangup',\n                            className: 'webrtc-icons__cancel',\n                            xmlns: 'http://www.w3.org/2000/svg',\n                            width: '48',\n                            height: '48',\n                            viewBox: '-10 -10 68 68',\n                            onClick: function onClick() {\n                                return _this8.doHangup(false, true);\n                            }\n                        },\n                        _react2.default.createElement(\n                            'circle',\n                            {\n                                cx: '24',\n                                cy: '24',\n                                r: '34'\n                            },\n                            _react2.default.createElement(\n                                'title',\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'webrtc.hangup',\n                                    defaultMessage: 'Hang up'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement('path', {\n                            transform: 'scale(0.7), translate(11,10)',\n                            d: 'M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z',\n                            fill: 'white'\n                        })\n                    )\n                );\n            }\n\n            return buttons;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var currentId = _user_store2.default.getCurrentId();\n            var remoteImage = _react2.default.createElement('img', { src: this.state.remoteUserImage });\n            var localImage = void 0;\n            var localVideoHidden = '';\n            var remoteVideoHidden = 'hidden';\n            var error = void 0;\n            var remoteMute = void 0;\n            var localImageHidden = 'webrtc__local-image hidden';\n            var remoteImageHidden = 'webrtc__remote-image';\n\n            if (this.state.error) {\n                error = _react2.default.createElement(\n                    'div',\n                    { className: 'webrtc__error' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'form-group has-error' },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' + this.state.errorType },\n                            this.state.error\n                        )\n                    )\n                );\n            } else if (this.state.ended) {\n                error = _react2.default.createElement(\n                    'div',\n                    { className: 'webrtc__error' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'form-group' },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' },\n                            this.state.ended\n                        )\n                    )\n                );\n            }\n\n            if (this.state.isRemoteMuted) {\n                remoteMute = _react2.default.createElement(\n                    'div',\n                    { className: 'webrtc__remote-mute' },\n                    _react2.default.createElement(\n                        'svg',\n                        {\n                            xmlns: 'http://www.w3.org/2000/svg',\n                            width: '60',\n                            height: '60',\n                            viewBox: '-10 -10 68 68'\n                        },\n                        _react2.default.createElement('path', {\n                            className: 'off',\n                            transform: 'scale(0.6), translate(17,18)',\n                            d: 'M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z',\n                            fill: 'white'\n                        }),\n                        _react2.default.createElement('path', {\n                            className: 'on',\n                            transform: 'scale(0.6), translate(17,18)',\n                            d: 'M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z',\n                            fill: 'white'\n                        })\n                    )\n                );\n            }\n\n            var searchForm = void 0;\n            if (currentId != null) {\n                searchForm = _react2.default.createElement(_search_bar2.default, null);\n            }\n\n            var buttons = this.renderButtons();\n            var calling = this.state.isCalling;\n            var connecting = void 0;\n            var audio = void 0;\n            if (calling || this.state.isAnswering) {\n                if (calling) {\n                    audio = _react2.default.createElement('audio', {\n                        ref: 'ring',\n                        src: _ring2.default,\n                        autoPlay: true\n                    });\n                }\n\n                connecting = _react2.default.createElement(\n                    'div',\n                    { className: 'connecting' },\n                    _react2.default.createElement(_loading_screen2.default, {\n                        position: 'absolute',\n                        message: this.state.connectingMsg\n                    }),\n                    audio\n                );\n            }\n\n            if (this.state.callInProgress) {\n                if (this.state.isPaused) {\n                    localVideoHidden = 'hidden';\n                    localImageHidden = 'webrtc__local-image';\n                    localImage = _react2.default.createElement('img', { src: this.state.currentUserImage });\n                }\n\n                if (this.state.isRemotePaused) {\n                    remoteVideoHidden = 'hidden';\n                    remoteImageHidden = 'webrtc__remote-image';\n                } else {\n                    remoteVideoHidden = '';\n                    remoteImageHidden = 'webrtc__remote-image hidden';\n                }\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'post-right__container' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'search-bar__container channel-header alt' },\n                    searchForm\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar-right__body' },\n                    _react2.default.createElement(_webrtc_header2.default, {\n                        username: Utils.displayUsername(this.props.userId),\n                        onClose: this.handleClose,\n                        toggleSize: this.props.toggleSize\n                    }),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'post-right__scroll' },\n                        _react2.default.createElement(\n                            'div',\n                            { id: 'videos' },\n                            remoteMute,\n                            _react2.default.createElement(\n                                'div',\n                                {\n                                    id: 'main-video',\n                                    className: remoteVideoHidden,\n                                    autoPlay: true\n                                },\n                                _react2.default.createElement('video', {\n                                    ref: 'main-video',\n                                    autoPlay: true\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                {\n                                    id: 'local-video',\n                                    className: localVideoHidden\n                                },\n                                _react2.default.createElement('video', {\n                                    ref: 'local-video',\n                                    autoPlay: true,\n                                    muted: true\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: remoteImageHidden },\n                                remoteImage\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: localImageHidden },\n                                localImage\n                            )\n                        ),\n                        error,\n                        connecting,\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'webrtc-buttons' },\n                            buttons\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return WebrtcController;\n}(_react2.default.Component);\n\nexports.default = WebrtcController;\n\n\nWebrtcController.propTypes = {\n    currentUser: _propTypes2.default.object,\n    userId: _propTypes2.default.string.isRequired,\n    isCaller: _propTypes2.default.bool.isRequired,\n    expanded: _propTypes2.default.bool.isRequired,\n    toggleSize: _propTypes2.default.func\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2469:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n The MIT License (MIT)\n\n Copyright (c) 2016 Meetecho\n\n Permission is hereby granted, free of charge, to any person obtaining\n a copy of this software and associated documentation files (the \"Software\"),\n to deal in the Software without restriction, including without limitation\n the rights to use, copy, modify, merge, publish, distribute, sublicense,\n and/or sell copies of the Software, and to permit persons to whom the\n Software is furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included\n in all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n OTHER DEALINGS IN THE SOFTWARE.\n */\n\nvar adapter = __webpack_require__(2470);\n\n// List of sessions\nJanus.sessions = {};\n\n// Screensharing Chrome Extension ID\nJanus.extensionId = \"hapfgfdkleiggjjpfpenajgdnfckjpaj\";\nJanus.isExtensionEnabled = function() {\n    if(window.navigator.userAgent.match('Chrome')) {\n        var chromever = parseInt(window.navigator.userAgent.match(/Chrome\\/(.*) /)[1], 10);\n        var maxver = 33;\n        if(window.navigator.userAgent.match('Linux'))\n            maxver = 35;\t// \"known\" crash in chrome 34 and 35 on linux\n        if(chromever >= 26 && chromever <= maxver) {\n            // Older versions of Chrome don't support this extension-based approach, so lie\n            return true;\n        }\n        return (document.getElementById('janus-extension-installed') !== null);\n    } else {\n        // Firefox of others, no need for the extension (but this doesn't mean it will work)\n        return true;\n    }\n};\n\nJanus.noop = function() {};\n\n// Initialization\nJanus.init = function(options) {\n    options = options || {};\n    options.callback = (typeof options.callback == \"function\") ? options.callback : Janus.noop;\n    if(Janus.initDone === true) {\n        // Already initialized\n        options.callback();\n    } else {\n        if(typeof console == \"undefined\" || typeof console.log == \"undefined\")\n            console = { log: function() {} };\n        // Console logging (all debugging disabled by default)\n        Janus.trace = Janus.noop;\n        Janus.debug = Janus.noop;\n        Janus.vdebug = Janus.noop;\n        Janus.log = Janus.noop;\n        Janus.warn = Janus.noop;\n        Janus.error = Janus.noop;\n        if(options.debug === true || options.debug === \"all\") {\n            // Enable all debugging levels\n            Janus.trace = console.trace.bind(console);\n            Janus.debug = console.debug.bind(console);\n            Janus.vdebug = console.debug.bind(console);\n            Janus.log = console.log.bind(console);\n            Janus.warn = console.warn.bind(console);\n            Janus.error = console.error.bind(console);\n        } else if(Array.isArray(options.debug)) {\n            for(var i in options.debug) {\n                var d = options.debug[i];\n                switch(d) {\n                case \"trace\":\n                    Janus.trace = console.trace.bind(console);\n                    break;\n                case \"debug\":\n                    Janus.debug = console.debug.bind(console);\n                    break;\n                case \"vdebug\":\n                    Janus.vdebug = console.debug.bind(console);\n                    break;\n                case \"log\":\n                    Janus.log = console.log.bind(console);\n                    break;\n                case \"warn\":\n                    Janus.warn = console.warn.bind(console);\n                    break;\n                case \"error\":\n                    Janus.error = console.error.bind(console);\n                    break;\n                default:\n                    console.error(\"Unknown debugging option '\" + d + \"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')\");\n                    break;\n                }\n            }\n        }\n        Janus.log(\"Initializing library\");\n        // Helper method to enumerate devices\n        Janus.listDevices = function(callback) {\n            callback = (typeof callback == \"function\") ? callback : Janus.noop;\n            if(navigator.mediaDevices) {\n                navigator.mediaDevices.getUserMedia({ audio: true, video: true })\n                    .then(function(stream) {\n                        navigator.mediaDevices.enumerateDevices().then(function(devices) {\n                            Janus.debug(devices);\n                            callback(devices);\n                            // Get rid of the now useless stream\n                            try {\n                                stream.stop();\n                            } catch(e) {}\n                            try {\n                                var tracks = stream.getTracks();\n                                for(var i in tracks) {\n                                    var mst = tracks[i];\n                                    if(mst !== null && mst !== undefined)\n                                        mst.stop();\n                                }\n                            } catch(e) {}\n                        });\n                    })\n                    .catch(function(err) {\n                        Janus.error(err);\n                        callback([]);\n                    });\n            } else {\n                Janus.warn(\"navigator.mediaDevices unavailable\");\n                callback([]);\n            }\n        }\n        // Helper methods to attach/reattach a stream to a video element (previously part of adapter.js)\n        Janus.attachMediaStream = function(element, stream) {\n            if(adapter.browserDetails.browser === 'chrome') {\n                var chromever = adapter.browserDetails.version;\n                if(chromever >= 43) {\n                    element.srcObject = stream;\n                } else if(typeof element.src !== 'undefined') {\n                    element.src = URL.createObjectURL(stream);\n                } else {\n                    Janus.error(\"Error attaching stream to element\");\n                }\n            } else {\n                element.srcObject = stream;\n            }\n        };\n        Janus.reattachMediaStream = function(to, from) {\n            if(adapter.browserDetails.browser === 'chrome') {\n                var chromever = adapter.browserDetails.version;\n                if(chromever >= 43) {\n                    to.srcObject = from.srcObject;\n                } else if(typeof to.src !== 'undefined') {\n                    to.src = from.src;\n                }\n            } else {\n                to.srcObject = from.srcObject;\n            }\n        };\n        // Prepare a helper method to send AJAX requests in a syntax similar to jQuery (at least for what we care)\n        Janus.ajax = function(params) {\n            // Check params\n            if(params === null || params === undefined)\n                return;\n            params.success = (typeof params.success == \"function\") ? params.success : Janus.noop;\n            params.error = (typeof params.error == \"function\") ? params.error : Janus.noop;\n            // Make sure there's an URL\n            if(params.url === null || params.url === undefined) {\n                Janus.error('Missing url', params.url);\n                params.error(null, -1, 'Missing url');\n                return;\n            }\n            // Validate async\n            params.async = (params.async === null || params.async === undefined) ? true : (params.async === true);\n            Janus.log(params);\n            // IE doesn't even know what WebRTC is, so no polyfill needed\n            var XHR = new XMLHttpRequest();\n            XHR.open(params.type, params.url, params.async);\n            if(params.contentType !== null && params.contentType !== undefined)\n                XHR.setRequestHeader('Content-type', params.contentType);\n            if(params.async) {\n                XHR.onreadystatechange = function () {\n                    if(XHR.readyState != 4)\n                        return;\n                    if(XHR.status !== 200) {\n                        // Got an error?\n                        if(XHR.status === 0)\n                            XHR.status = \"error\";\n                        params.error(XHR, XHR.status, \"\");\n                        return;\n                    }\n                    // Got payload\n                    params.success(JSON.parse(XHR.responseText));\n                };\n            }\n            try {\n                XHR.send(params.data);\n                if(!params.async) {\n                    if(XHR.status !== 200) {\n                        // Got an error?\n                        if(XHR.status === 0)\n                            XHR.status = \"error\";\n                        params.error(XHR, XHR.status, \"\");\n                        return;\n                    }\n                    // Got payload\n                    params.success(JSON.parse(XHR.responseText));\n                }\n            } catch(e) {\n                // Something broke up\n                params.error(XHR, 'error', '');\n            };\n        };\n        // Detect tab close: make sure we don't loose existing onbeforeunload handlers\n        var oldOBF = window.onbeforeunload;\n        window.onbeforeunload = function() {\n            Janus.log(\"Closing window\");\n            for(var s in Janus.sessions) {\n                if(Janus.sessions[s] !== null && Janus.sessions[s] !== undefined &&\n                    Janus.sessions[s].destroyOnUnload) {\n                    Janus.log(\"Destroying session \" + s);\n                    Janus.sessions[s].destroy({asyncRequest: false});\n                }\n            }\n            if(oldOBF && typeof oldOBF == \"function\")\n                oldOBF();\n        }\n        function addJsList(srcArray) {\n            if (!srcArray || !Array.isArray(srcArray) || srcArray.length == 0) {\n                options.callback();\n            }\n            var count = 0;\n            addJs(srcArray[count],next);\n\n            function next() {\n                count++;\n                if (count<srcArray.length) {\n                    addJs(srcArray[count],next);\n                }\n                else {\n                    options.callback();\n                }\n            }\n        }\n        function addJs(src,done) {\n            try {\n                if(adapter) {\n                    // Already loaded\n                    Janus.debug(src + \" already loaded, skipping\");\n                    done();\n                    return;\n                }\n            } catch(e) {};\n            var oHead = document.getElementsByTagName('head').item(0);\n            var oScript = document.createElement(\"script\");\n            oScript.type = \"text/javascript\";\n            oScript.src = src;\n            oScript.onload = function() {\n                Janus.log(\"Library \" + src + \" loaded\");\n                done();\n            }\n            oHead.appendChild(oScript);\n        }\n        Janus.initDone = true;\n        addJsList([\"adapter.js\"]);\t// We may need others in the future\n    }\n};\n\n// Helper method to check whether WebRTC is supported by this browser\nJanus.isWebrtcSupported = function() {\n    return window.RTCPeerConnection !== undefined && window.RTCPeerConnection !== null &&\n        navigator.getUserMedia !== undefined && navigator.getUserMedia !== null;\n};\n\n\n// Janus session object\nfunction Janus(gatewayCallbacks) {\n    if(Janus.initDone === undefined) {\n        gatewayCallbacks.error(\"Library not initialized\");\n        return {};\n    }\n    if(!Janus.isWebrtcSupported()) {\n        gatewayCallbacks.error(\"WebRTC not supported by this browser\");\n        return {};\n    }\n    Janus.log(\"Library initialized: \" + Janus.initDone);\n    gatewayCallbacks = gatewayCallbacks || {};\n    gatewayCallbacks.success = (typeof gatewayCallbacks.success == \"function\") ? gatewayCallbacks.success : Janus.noop;\n    gatewayCallbacks.error = (typeof gatewayCallbacks.error == \"function\") ? gatewayCallbacks.error : Janus.noop;\n    gatewayCallbacks.destroyed = (typeof gatewayCallbacks.destroyed == \"function\") ? gatewayCallbacks.destroyed : Janus.noop;\n    if(gatewayCallbacks.server === null || gatewayCallbacks.server === undefined) {\n        gatewayCallbacks.error(\"Invalid gateway url\");\n        return {};\n    }\n    var websockets = false;\n    var ws = null;\n    var wsHandlers = {};\n    var wsKeepaliveTimeoutId = null;\n\n    var servers = null, serversIndex = 0;\n    var server = gatewayCallbacks.server;\n    if(Array.isArray(server)) {\n        Janus.log(\"Multiple servers provided (\" + server.length + \"), will use the first that works\");\n        server = null;\n        servers = gatewayCallbacks.server;\n        Janus.debug(servers);\n    } else {\n        if(server.indexOf(\"ws\") === 0) {\n            websockets = true;\n            Janus.log(\"Using WebSockets to contact Janus: \" + server);\n        } else {\n            websockets = false;\n            Janus.log(\"Using REST API to contact Janus: \" + server);\n        }\n    }\n    var iceServers = gatewayCallbacks.iceServers;\n    if(iceServers === undefined || iceServers === null || iceServers.length === 0) {\n        iceServers = [{urls: \"stun:stun.l.google.com:19302\"}];\n        Janus.log('using ice', iceServers);\n    }\n    var iceTransportPolicy = gatewayCallbacks.iceTransportPolicy;\n    // Whether IPv6 candidates should be gathered\n    var ipv6Support = gatewayCallbacks.ipv6;\n    if(ipv6Support === undefined || ipv6Support === null)\n        ipv6Support = false;\n    // Optional max events\n    var maxev = null;\n    if(gatewayCallbacks.max_poll_events !== undefined && gatewayCallbacks.max_poll_events !== null)\n        maxev = gatewayCallbacks.max_poll_events;\n    if(maxev < 1)\n        maxev = 1;\n    // Token to use (only if the token based authentication mechanism is enabled)\n    var token = null;\n    if(gatewayCallbacks.token !== undefined && gatewayCallbacks.token !== null)\n        token = gatewayCallbacks.token;\n    // API secret to use (only if the shared API secret is enabled)\n    var apisecret = null;\n    if(gatewayCallbacks.apisecret !== undefined && gatewayCallbacks.apisecret !== null)\n        apisecret = gatewayCallbacks.apisecret;\n    // Whether we should destroy this session when onbeforeunload is called\n    this.destroyOnUnload = true;\n    if(gatewayCallbacks.destroyOnUnload !== undefined && gatewayCallbacks.destroyOnUnload !== null)\n        this.destroyOnUnload = (gatewayCallbacks.destroyOnUnload === true);\n\n    var connected = false;\n    var sessionId = null;\n    var pluginHandles = {};\n    var that = this;\n    var retries = 0;\n    var transactions = {};\n    createSession(gatewayCallbacks);\n\n    // Public methods\n    this.getServer = function() { return server; };\n    this.isConnected = function() { return connected; };\n    this.getSessionId = function() { return sessionId; };\n    this.destroy = function(callbacks) { destroySession(callbacks, true); };\n    this.attach = function(callbacks) { createHandle(callbacks); };\n\n    // Private method to create random identifiers (e.g., transaction)\n    function randomString(len) {\n        var charSet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        var randomString = '';\n        for (var i = 0; i < len; i++) {\n            var randomPoz = Math.floor(Math.random() * charSet.length);\n            randomString += charSet.substring(randomPoz,randomPoz+1);\n        }\n        return randomString;\n    }\n\n    function eventHandler() {\n        if(sessionId == null)\n            return;\n        Janus.debug('Long poll...');\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var longpoll = server + \"/\" + sessionId + \"?rid=\" + new Date().getTime();\n        if(maxev !== undefined && maxev !== null)\n            longpoll = longpoll + \"&maxev=\" + maxev;\n        if(token !== null && token !== undefined)\n            longpoll = longpoll + \"&token=\" + token;\n        if(apisecret !== null && apisecret !== undefined)\n            longpoll = longpoll + \"&apisecret=\" + apisecret;\n        Janus.ajax({\n            type: 'GET',\n            url: longpoll,\n            cache: false,\n            timeout: 60000,\t// FIXME\n            success: handleEvent,\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\n                //~ clearTimeout(timeoutTimer);\n                retries++;\n                if(retries > 3) {\n                    // Did we just lose the gateway? :-(\n                    connected = false;\n                    gatewayCallbacks.error(\"Lost connection to the gateway (is it down?)\");\n                    return;\n                }\n                eventHandler();\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private event handler: this will trigger plugin callbacks, if set\n    function handleEvent(json) {\n        retries = 0;\n        if(!websockets && sessionId !== undefined && sessionId !== null)\n            setTimeout(eventHandler, 200);\n        if(!websockets && Array.isArray(json)) {\n            // We got an array: it means we passed a maxev > 1, iterate on all objects\n            for(var i=0; i<json.length; i++) {\n                handleEvent(json[i]);\n            }\n            return;\n        }\n        if(json[\"janus\"] === \"keepalive\") {\n            // Nothing happened\n            Janus.vdebug(\"Got a keepalive on session \" + sessionId);\n            return;\n        } else if(json[\"janus\"] === \"ack\") {\n            // Just an ack, we can probably ignore\n            Janus.debug(\"Got an ack on session \" + sessionId);\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"success\") {\n            // Success!\n            Janus.debug(\"Got a success on session \" + sessionId);\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"webrtcup\") {\n            // The PeerConnection with the gateway is up! Notify this\n            Janus.debug(\"Got a webrtcup event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.webrtcState(true);\n            return;\n        } else if(json[\"janus\"] === \"hangup\") {\n            // A plugin asked the core to hangup a PeerConnection on one of our handles\n            Janus.debug(\"Got a hangup event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.webrtcState(false);\n            pluginHandle.hangup();\n        } else if(json[\"janus\"] === \"detached\") {\n            // A plugin asked the core to detach one of our handles\n            Janus.debug(\"Got a detached event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                // Don't warn here because destroyHandle causes this situation.\n                return;\n            }\n            pluginHandle.ondetached();\n            pluginHandle.detach();\n        } else if(json[\"janus\"] === \"media\") {\n            // Media started/stopped flowing\n            Janus.debug(\"Got a media event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.mediaState(json[\"type\"], json[\"receiving\"]);\n        } else if(json[\"janus\"] === \"slowlink\") {\n            Janus.debug(\"Got a slowlink event on session \" + sessionId);\n            Janus.debug(json);\n            // Trouble uplink or downlink\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.slowLink(json[\"uplink\"], json[\"nacks\"]);\n        } else if(json[\"janus\"] === \"error\") {\n            // Oops, something wrong happened\n            Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"event\") {\n            Janus.debug(\"Got a plugin event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var plugindata = json[\"plugindata\"];\n            if(plugindata === undefined || plugindata === null) {\n                Janus.warn(\"Missing plugindata...\");\n                return;\n            }\n            Janus.debug(\"  -- Event is coming from \" + sender + \" (\" + plugindata[\"plugin\"] + \")\");\n            var data = plugindata[\"data\"];\n            Janus.debug(data);\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            var jsep = json[\"jsep\"];\n            if(jsep !== undefined && jsep !== null) {\n                Janus.debug(\"Handling SDP as well...\");\n                Janus.debug(jsep);\n            }\n            var callback = pluginHandle.onmessage;\n            if(callback !== null && callback !== undefined) {\n                Janus.debug(\"Notifying application...\");\n                // Send to callback specified when attaching plugin handle\n                callback(data, jsep);\n            } else {\n                // Send to generic callback (?)\n                Janus.debug(\"No provided notification callback\");\n            }\n        } else {\n            Janus.warn(\"Unkown message/event  '\" + json[\"janus\"] + \"' on session \" + sessionId);\n            Janus.debug(json);\n        }\n    }\n\n    // Private helper to send keep-alive messages on WebSockets\n    function keepAlive() {\n        if(server === null || !websockets || !connected)\n            return;\n        wsKeepaliveTimeoutId = setTimeout(keepAlive, 30000);\n        var request = { \"janus\": \"keepalive\", \"session_id\": sessionId, \"transaction\": randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        ws.send(JSON.stringify(request));\n    }\n\n    // Private method to create a session\n    function createSession(callbacks) {\n        var transaction = randomString(12);\n        var request = { \"janus\": \"create\", \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(server === null && Array.isArray(servers)) {\n            // We still need to find a working server from the list we were given\n            server = servers[serversIndex];\n            if(server.indexOf(\"ws\") === 0) {\n                websockets = true;\n                Janus.log(\"Server #\" + (serversIndex+1) + \": trying WebSockets to contact Janus (\" + server + \")\");\n            } else {\n                websockets = false;\n                Janus.log(\"Server #\" + (serversIndex+1) + \": trying REST API to contact Janus (\" + server + \")\");\n            }\n        }\n        if(websockets) {\n            ws = new WebSocket(server, 'janus-protocol');\n            wsHandlers = {\n                'error': function() {\n                    Janus.error(\"Error connecting to the Janus WebSockets server... \" + server);\n                    if (Array.isArray(servers)) {\n                        serversIndex++;\n                        if (serversIndex == servers.length) {\n                            // We tried all the servers the user gave us and they all failed\n                            callbacks.error(\"Error connecting to any of the provided Janus servers: Is the gateway down?\");\n                            return;\n                        }\n                        // Let's try the next server\n                        server = null;\n                        setTimeout(function() {\n                            createSession(callbacks);\n                        }, 200);\n                        return;\n                    }\n                    callbacks.error(\"Error connecting to the Janus WebSockets server: Is the gateway down?\");\n                },\n\n                'open': function() {\n                    // We need to be notified about the success\n                    transactions[transaction] = function(json) {\n                        Janus.debug(json);\n                        if (json[\"janus\"] !== \"success\") {\n                            Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                            callbacks.error(json[\"error\"].reason);\n                            return;\n                        }\n                        wsKeepaliveTimeoutId = setTimeout(keepAlive, 30000);\n                        connected = true;\n                        sessionId = json.data[\"id\"];\n                        Janus.log(\"Created session: \" + sessionId);\n                        Janus.sessions[sessionId] = that;\n                        callbacks.success();\n                    };\n                    ws.send(JSON.stringify(request));\n                },\n\n                'message': function(event) {\n                    handleEvent(JSON.parse(event.data));\n                },\n\n                'close': function() {\n                    if (server === null || !connected) {\n                        return;\n                    }\n                    connected = false;\n                    // FIXME What if this is called when the page is closed?\n                    gatewayCallbacks.error(\"Lost connection to the gateway (is it down?)\");\n                }\n            };\n\n            for(var eventName in wsHandlers) {\n                ws.addEventListener(eventName, wsHandlers[eventName]);\n            }\n\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server,\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(json[\"error\"].reason);\n                    return;\n                }\n                connected = true;\n                sessionId = json.data[\"id\"];\n                Janus.log(\"Created session: \" + sessionId);\n                Janus.sessions[sessionId] = that;\n                eventHandler();\n                callbacks.success();\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                if(Array.isArray(servers)) {\n                    serversIndex++;\n                    if(serversIndex == servers.length) {\n                        // We tried all the servers the user gave us and they all failed\n                        callbacks.error(\"Error connecting to any of the provided Janus servers: Is the gateway down?\");\n                        return;\n                    }\n                    // Let's try the next server\n                    server = null;\n                    setTimeout(function() { createSession(callbacks); }, 200);\n                    return;\n                }\n                if(errorThrown === \"\")\n                    callbacks.error(textStatus + \": Is the gateway down?\");\n                else\n                    callbacks.error(textStatus + \": \" + errorThrown);\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to destroy a session\n    function destroySession(callbacks) {\n        callbacks = callbacks || {};\n        // FIXME This method triggers a success even when we fail\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        var asyncRequest = true;\n        if(callbacks.asyncRequest !== undefined && callbacks.asyncRequest !== null)\n            asyncRequest = (callbacks.asyncRequest === true);\n        Janus.log(\"Destroying session \" + sessionId + \" (async=\" + asyncRequest + \")\");\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.success();\n            return;\n        }\n        if(sessionId === undefined || sessionId === null) {\n            Janus.warn(\"No session to destroy\");\n            callbacks.success();\n            gatewayCallbacks.destroyed();\n            return;\n        }\n        delete Janus.sessions[sessionId];\n        // Destroy all handles first\n        for(var ph in pluginHandles) {\n            var phv = pluginHandles[ph];\n            Janus.log(\"Destroying handle \" + phv.id + \" (\" + phv.plugin + \")\");\n            destroyHandle(phv.id, {asyncRequest: asyncRequest});\n        }\n        // Ok, go on\n        var request = { \"janus\": \"destroy\", \"transaction\": randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n\n            var unbindWebSocket = function() {\n                for(var eventName in wsHandlers) {\n                    ws.removeEventListener(eventName, wsHandlers[eventName]);\n                }\n                ws.removeEventListener('message', onUnbindMessage);\n                ws.removeEventListener('error', onUnbindError);\n                if(wsKeepaliveTimeoutId) {\n                    clearTimeout(wsKeepaliveTimeoutId);\n                }\n            };\n\n            var onUnbindMessage = function(event){\n                var data = JSON.parse(event.data);\n                if(data.session_id == request.session_id && data.transaction == request.transaction) {\n                    unbindWebSocket();\n                    callbacks.success();\n                    gatewayCallbacks.destroyed();\n                }\n            };\n            var onUnbindError = function(event) {\n                unbindWebSocket();\n                callbacks.error(\"Failed to destroy the gateway: Is the gateway down?\");\n                gatewayCallbacks.destroyed();\n            };\n\n            ws.addEventListener('message', onUnbindMessage);\n            ws.addEventListener('error', onUnbindError);\n\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId,\n            async: asyncRequest,\t// Sometimes we need false here, or destroying in onbeforeunload won't work\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.log(\"Destroyed session:\");\n                Janus.debug(json);\n                sessionId = null;\n                connected = false;\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                }\n                callbacks.success();\n                gatewayCallbacks.destroyed();\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                // Reset everything anyway\n                sessionId = null;\n                connected = false;\n                callbacks.success();\n                gatewayCallbacks.destroyed();\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to create a plugin handle\n    function createHandle(callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        callbacks.consentDialog = (typeof callbacks.consentDialog == \"function\") ? callbacks.consentDialog : Janus.noop;\n        callbacks.mediaState = (typeof callbacks.mediaState == \"function\") ? callbacks.mediaState : Janus.noop;\n        callbacks.webrtcState = (typeof callbacks.webrtcState == \"function\") ? callbacks.webrtcState : Janus.noop;\n        callbacks.slowLink = (typeof callbacks.slowLink == \"function\") ? callbacks.slowLink : Janus.noop;\n        callbacks.onmessage = (typeof callbacks.onmessage == \"function\") ? callbacks.onmessage : Janus.noop;\n        callbacks.onlocalstream = (typeof callbacks.onlocalstream == \"function\") ? callbacks.onlocalstream : Janus.noop;\n        callbacks.onremotestream = (typeof callbacks.onremotestream == \"function\") ? callbacks.onremotestream : Janus.noop;\n        callbacks.ondata = (typeof callbacks.ondata == \"function\") ? callbacks.ondata : Janus.noop;\n        callbacks.ondataopen = (typeof callbacks.ondataopen == \"function\") ? callbacks.ondataopen : Janus.noop;\n        callbacks.oncleanup = (typeof callbacks.oncleanup == \"function\") ? callbacks.oncleanup : Janus.noop;\n        callbacks.ondetached = (typeof callbacks.ondetached == \"function\") ? callbacks.ondetached : Janus.noop;\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var plugin = callbacks.plugin;\n        if(plugin === undefined || plugin === null) {\n            Janus.error(\"Invalid plugin\");\n            callbacks.error(\"Invalid plugin\");\n            return;\n        }\n        var transaction = randomString(12);\n        var request = { \"janus\": \"attach\", \"plugin\": plugin, \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(websockets) {\n            transactions[transaction] = function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    return;\n                }\n                var handleId = json.data[\"id\"];\n                Janus.log(\"Created handle: \" + handleId);\n                var pluginHandle =\n                    {\n                        session : that,\n                        plugin : plugin,\n                        id : handleId,\n                        webrtcStuff : {\n                            started : false,\n                            myStream : null,\n                            streamExternal : false,\n                            remoteStream : null,\n                            mySdp : null,\n                            pc : null,\n                            dataChannel : null,\n                            dtmfSender : null,\n                            trickle : true,\n                            iceDone : false,\n                            sdpSent : false,\n                            volume : {\n                                value : null,\n                                timer : null\n                            },\n                            bitrate : {\n                                value : null,\n                                bsnow : null,\n                                bsbefore : null,\n                                tsnow : null,\n                                tsbefore : null,\n                                timer : null\n                            }\n                        },\n                        getId : function() { return handleId; },\n                        getPlugin : function() { return plugin; },\n                        getVolume : function() { return getVolume(handleId); },\n                        isAudioMuted : function() { return isMuted(handleId, false); },\n                        muteAudio : function() { return mute(handleId, false, true); },\n                        unmuteAudio : function() { return mute(handleId, false, false); },\n                        isVideoMuted : function() { return isMuted(handleId, true); },\n                        muteVideo : function() { return mute(handleId, true, true); },\n                        unmuteVideo : function() { return mute(handleId, true, false); },\n                        getBitrate : function() { return getBitrate(handleId); },\n                        send : function(callbacks) { sendMessage(handleId, callbacks); },\n                        data : function(callbacks) { sendData(handleId, callbacks); },\n                        dtmf : function(callbacks) { sendDtmf(handleId, callbacks); },\n                        consentDialog : callbacks.consentDialog,\n                        mediaState : callbacks.mediaState,\n                        webrtcState : callbacks.webrtcState,\n                        slowLink : callbacks.slowLink,\n                        onmessage : callbacks.onmessage,\n                        createOffer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        createAnswer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        handleRemoteJsep : function(callbacks) { prepareWebrtcPeer(handleId, callbacks); },\n                        onlocalstream : callbacks.onlocalstream,\n                        onremotestream : callbacks.onremotestream,\n                        ondata : callbacks.ondata,\n                        ondataopen : callbacks.ondataopen,\n                        oncleanup : callbacks.oncleanup,\n                        ondetached : callbacks.ondetached,\n                        hangup : function(sendRequest) { cleanupWebrtc(handleId, sendRequest === true); },\n                        detach : function(callbacks) { destroyHandle(handleId, callbacks); }\n                    }\n                pluginHandles[handleId] = pluginHandle;\n                callbacks.success(pluginHandle);\n            };\n            request[\"session_id\"] = sessionId;\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId,\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    return;\n                }\n                var handleId = json.data[\"id\"];\n                Janus.log(\"Created handle: \" + handleId);\n                var pluginHandle =\n                    {\n                        session : that,\n                        plugin : plugin,\n                        id : handleId,\n                        webrtcStuff : {\n                            started : false,\n                            myStream : null,\n                            streamExternal : false,\n                            remoteStream : null,\n                            mySdp : null,\n                            pc : null,\n                            dataChannel : null,\n                            dtmfSender : null,\n                            trickle : true,\n                            iceDone : false,\n                            sdpSent : false,\n                            volume : {\n                                value : null,\n                                timer : null\n                            },\n                            bitrate : {\n                                value : null,\n                                bsnow : null,\n                                bsbefore : null,\n                                tsnow : null,\n                                tsbefore : null,\n                                timer : null\n                            }\n                        },\n                        getId : function() { return handleId; },\n                        getPlugin : function() { return plugin; },\n                        getVolume : function() { return getVolume(handleId); },\n                        isAudioMuted : function() { return isMuted(handleId, false); },\n                        muteAudio : function() { return mute(handleId, false, true); },\n                        unmuteAudio : function() { return mute(handleId, false, false); },\n                        isVideoMuted : function() { return isMuted(handleId, true); },\n                        muteVideo : function() { return mute(handleId, true, true); },\n                        unmuteVideo : function() { return mute(handleId, true, false); },\n                        getBitrate : function() { return getBitrate(handleId); },\n                        send : function(callbacks) { sendMessage(handleId, callbacks); },\n                        data : function(callbacks) { sendData(handleId, callbacks); },\n                        dtmf : function(callbacks) { sendDtmf(handleId, callbacks); },\n                        consentDialog : callbacks.consentDialog,\n                        mediaState : callbacks.mediaState,\n                        webrtcState : callbacks.webrtcState,\n                        slowLink : callbacks.slowLink,\n                        onmessage : callbacks.onmessage,\n                        createOffer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        createAnswer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        handleRemoteJsep : function(callbacks) { prepareWebrtcPeer(handleId, callbacks); },\n                        onlocalstream : callbacks.onlocalstream,\n                        onremotestream : callbacks.onremotestream,\n                        ondata : callbacks.ondata,\n                        ondataopen : callbacks.ondataopen,\n                        oncleanup : callbacks.oncleanup,\n                        ondetached : callbacks.ondetached,\n                        hangup : function(sendRequest) { cleanupWebrtc(handleId, sendRequest === true); },\n                        detach : function(callbacks) { destroyHandle(handleId, callbacks); }\n                    }\n                pluginHandles[handleId] = pluginHandle;\n                callbacks.success(pluginHandle);\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to send a message\n    function sendMessage(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var message = callbacks.message;\n        var jsep = callbacks.jsep;\n        var transaction = randomString(12);\n        var request = { \"janus\": \"message\", \"body\": message, \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(jsep !== null && jsep !== undefined)\n            request.jsep = jsep;\n        Janus.debug(\"Sending message to plugin (handle=\" + handleId + \"):\");\n        Janus.debug(request);\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            transactions[transaction] = function(json) {\n                Janus.debug(\"Message sent!\");\n                Janus.debug(json);\n                if(json[\"janus\"] === \"success\") {\n                    // We got a success, must have been a synchronous transaction\n                    var plugindata = json[\"plugindata\"];\n                    if(plugindata === undefined || plugindata === null) {\n                        Janus.warn(\"Request succeeded, but missing plugindata...\");\n                        callbacks.success();\n                        return;\n                    }\n                    Janus.log(\"Synchronous transaction successful (\" + plugindata[\"plugin\"] + \")\");\n                    var data = plugindata[\"data\"];\n                    Janus.debug(data);\n                    callbacks.success(data);\n                    return;\n                } else if(json[\"janus\"] !== \"ack\") {\n                    // Not a success and not an ack, must be an error\n                    if(json[\"error\"] !== undefined && json[\"error\"] !== null) {\n                        Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                        callbacks.error(json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    } else {\n                        Janus.error(\"Unknown error\");\t// FIXME\n                        callbacks.error(\"Unknown error\");\n                    }\n                    return;\n                }\n                // If we got here, the plugin decided to handle the request asynchronously\n                callbacks.success();\n            };\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId + \"/\" + handleId,\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.debug(\"Message sent!\");\n                Janus.debug(json);\n                if(json[\"janus\"] === \"success\") {\n                    // We got a success, must have been a synchronous transaction\n                    var plugindata = json[\"plugindata\"];\n                    if(plugindata === undefined || plugindata === null) {\n                        Janus.warn(\"Request succeeded, but missing plugindata...\");\n                        callbacks.success();\n                        return;\n                    }\n                    Janus.log(\"Synchronous transaction successful (\" + plugindata[\"plugin\"] + \")\");\n                    var data = plugindata[\"data\"];\n                    Janus.debug(data);\n                    callbacks.success(data);\n                    return;\n                } else if(json[\"janus\"] !== \"ack\") {\n                    // Not a success and not an ack, must be an error\n                    if(json[\"error\"] !== undefined && json[\"error\"] !== null) {\n                        Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                        callbacks.error(json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    } else {\n                        Janus.error(\"Unknown error\");\t// FIXME\n                        callbacks.error(\"Unknown error\");\n                    }\n                    return;\n                }\n                // If we got here, the plugin decided to handle the request asynchronously\n                callbacks.success();\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                callbacks.error(textStatus + \": \" + errorThrown);\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to send a trickle candidate\n    function sendTrickleCandidate(handleId, candidate) {\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var request = { \"janus\": \"trickle\", \"candidate\": candidate, \"transaction\": randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        Janus.vdebug(\"Sending trickle candidate (handle=\" + handleId + \"):\");\n        Janus.vdebug(request);\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId + \"/\" + handleId,\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.vdebug(\"Candidate sent!\");\n                Janus.vdebug(json);\n                if(json[\"janus\"] !== \"ack\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    return;\n                }\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to send a data channel message\n    function sendData(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        var text = callbacks.text;\n        if(text === null || text === undefined) {\n            Janus.warn(\"Invalid text\");\n            callbacks.error(\"Invalid text\");\n            return;\n        }\n        Janus.log(\"Sending string on data channel: \" + text);\n        config.dataChannel.send(text);\n        callbacks.success();\n    }\n\n    // Private method to send a DTMF tone\n    function sendDtmf(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.dtmfSender === null || config.dtmfSender === undefined) {\n            // Create the DTMF sender, if possible\n            if(config.myStream !== undefined && config.myStream !== null) {\n                var tracks = config.myStream.getAudioTracks();\n                if(tracks !== null && tracks !== undefined && tracks.length > 0) {\n                    var local_audio_track = tracks[0];\n                    config.dtmfSender = config.pc.createDTMFSender(local_audio_track);\n                    Janus.log(\"Created DTMF Sender\");\n                    config.dtmfSender.ontonechange = function(tone) { Janus.debug(\"Sent DTMF tone: \" + tone.tone); };\n                }\n            }\n            if(config.dtmfSender === null || config.dtmfSender === undefined) {\n                Janus.warn(\"Invalid DTMF configuration\");\n                callbacks.error(\"Invalid DTMF configuration\");\n                return;\n            }\n        }\n        var dtmf = callbacks.dtmf;\n        if(dtmf === null || dtmf === undefined) {\n            Janus.warn(\"Invalid DTMF parameters\");\n            callbacks.error(\"Invalid DTMF parameters\");\n            return;\n        }\n        var tones = dtmf.tones;\n        if(tones === null || tones === undefined) {\n            Janus.warn(\"Invalid DTMF string\");\n            callbacks.error(\"Invalid DTMF string\");\n            return;\n        }\n        var duration = dtmf.duration;\n        if(duration === null || duration === undefined)\n            duration = 500;\t// We choose 500ms as the default duration for a tone\n        var gap = dtmf.gap;\n        if(gap === null || gap === undefined)\n            gap = 50;\t// We choose 50ms as the default gap between tones\n        Janus.debug(\"Sending DTMF string \" + tones + \" (duration \" + duration + \"ms, gap \" + gap + \"ms)\");\n        config.dtmfSender.insertDTMF(tones, duration, gap);\n    }\n\n    // Private method to destroy a plugin handle\n    function destroyHandle(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var asyncRequest = true;\n        if(callbacks.asyncRequest !== undefined && callbacks.asyncRequest !== null)\n            asyncRequest = (callbacks.asyncRequest === true);\n        Janus.log(\"Destroying handle \" + handleId + \" (sync=\" + asyncRequest + \")\");\n        cleanupWebrtc(handleId);\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var request = { \"janus\": \"detach\", \"transaction\": randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            ws.send(JSON.stringify(request));\n            delete pluginHandles[handleId];\n            callbacks.success();\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId + \"/\" + handleId,\n            async: asyncRequest,\t// Sometimes we need false here, or destroying in onbeforeunload won't work\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.log(\"Destroyed handle:\");\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                }\n                delete pluginHandles[handleId];\n                callbacks.success();\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                // We cleanup anyway\n                delete pluginHandles[handleId];\n                callbacks.success();\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // WebRTC stuff\n    function streamsDone(handleId, jsep, media, callbacks, stream) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.debug(\"streamsDone:\", stream);\n        config.myStream = stream;\n        var pc_config = {\"iceServers\": iceServers, \"iceTransportPolicy\": iceTransportPolicy};\n        //~ var pc_constraints = {'mandatory': {'MozDontOfferDataChannel':true}};\n        var pc_constraints = {\n            \"optional\": [{\"DtlsSrtpKeyAgreement\": true}]\n        };\n        if(ipv6Support === true) {\n            // FIXME This is only supported in Chrome right now\n            // For support in Firefox track this: https://bugzilla.mozilla.org/show_bug.cgi?id=797262\n            pc_constraints.optional.push({\"googIPv6\":true});\n        }\n        if(adapter.browserDetails.browser === \"edge\") {\n            // This is Edge, enable BUNDLE explicitly\n            pc_config.bundlePolicy = \"max-bundle\";\n        }\n        Janus.log(\"Creating PeerConnection\");\n        Janus.debug(pc_constraints);\n        config.pc = new RTCPeerConnection(pc_config, pc_constraints);\n        Janus.debug(config.pc);\n        if(config.pc.getStats) {\t// FIXME\n            config.volume.value = 0;\n            config.bitrate.value = \"0 kbits/sec\";\n        }\n        Janus.log(\"Preparing local SDP and gathering candidates (trickle=\" + config.trickle + \")\");\n        config.pc.onicecandidate = function(event) {\n            if (event.candidate == null ||\n                (adapter.browserDetails.browser === 'edge' && event.candidate.candidate.indexOf('endOfCandidates') > 0)) {\n                Janus.log(\"End of candidates.\");\n                config.iceDone = true;\n                if(config.trickle === true) {\n                    // Notify end of candidates\n                    sendTrickleCandidate(handleId, {\"completed\": true});\n                } else {\n                    // No trickle, time to send the complete SDP (including all candidates)\n                    sendSDP(handleId, callbacks);\n                }\n            } else {\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var candidate = {\n                    \"candidate\": event.candidate.candidate,\n                    \"sdpMid\": event.candidate.sdpMid,\n                    \"sdpMLineIndex\": event.candidate.sdpMLineIndex\n                };\n                if(config.trickle === true) {\n                    // Send candidate\n                    sendTrickleCandidate(handleId, candidate);\n                }\n            }\n        };\n        if(stream !== null && stream !== undefined) {\n            Janus.log('Adding local stream');\n            config.pc.addStream(stream);\n            pluginHandle.onlocalstream(stream);\n        }\n        config.pc.onaddstream = function(remoteStream) {\n            Janus.log(\"Handling Remote Stream\");\n            Janus.debug(remoteStream);\n            config.remoteStream = remoteStream;\n            pluginHandle.onremotestream(remoteStream.stream);\n        };\n        // Any data channel to create?\n        if(isDataEnabled(media)) {\n            Janus.log(\"Creating data channel\");\n            var onDataChannelMessage = function(event) {\n                Janus.log('Received message on data channel: ' + event.data);\n                pluginHandle.ondata(event.data);\t// FIXME\n            }\n            var onDataChannelStateChange = function() {\n                var dcState = config.dataChannel !== null ? config.dataChannel.readyState : \"null\";\n                Janus.log('State change on data channel: ' + dcState);\n                if(dcState === 'open') {\n                    pluginHandle.ondataopen();\t// FIXME\n                }\n            }\n            var onDataChannelError = function(error) {\n                Janus.error('Got error on data channel:', error);\n                // TODO\n            }\n            // Until we implement the proxying of open requests within the Janus core, we open a channel ourselves whatever the case\n            config.dataChannel = config.pc.createDataChannel(\"JanusDataChannel\", {ordered:false});\t// FIXME Add options (ordered, maxRetransmits, etc.)\n            config.dataChannel.onmessage = onDataChannelMessage;\n            config.dataChannel.onopen = onDataChannelStateChange;\n            config.dataChannel.onclose = onDataChannelStateChange;\n            config.dataChannel.onerror = onDataChannelError;\n        }\n        // Create offer/answer now\n        if(jsep === null || jsep === undefined) {\n            createOffer(handleId, media, callbacks);\n        } else {\n            if(adapter.browserDetails.browser === \"edge\") {\n                // This is Edge, add an a=end-of-candidates at the end\n                jsep.sdp += \"a=end-of-candidates\\r\\n\";\n            }\n            config.pc.setRemoteDescription(\n                new RTCSessionDescription(jsep),\n                function() {\n                    Janus.log(\"Remote description accepted!\");\n                    createAnswer(handleId, media, callbacks);\n                }, callbacks.error);\n        }\n    }\n\n    function prepareWebrtc(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : webrtcError;\n        var jsep = callbacks.jsep;\n        var media = callbacks.media;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        // Are we updating a session?\n        if(config.pc !== undefined && config.pc !== null) {\n            Janus.log(\"Updating existing media session\");\n            // Create offer/answer now\n            if(jsep === null || jsep === undefined) {\n                createOffer(handleId, media, callbacks);\n            } else {\n                if(adapter.browserDetails.browser === \"edge\") {\n                    // This is Edge, add an a=end-of-candidates at the end\n                    jsep.sdp += \"a=end-of-candidates\\r\\n\";\n                }\n                config.pc.setRemoteDescription(\n                    new RTCSessionDescription(jsep),\n                    function() {\n                        Janus.log(\"Remote description accepted!\");\n                        createAnswer(handleId, media, callbacks);\n                    }, callbacks.error);\n            }\n            return;\n        }\n        // Was a MediaStream object passed, or do we need to take care of that?\n        if(callbacks.stream !== null && callbacks.stream !== undefined) {\n            var stream = callbacks.stream;\n            Janus.log(\"MediaStream provided by the application\");\n            Janus.debug(stream);\n            // Skip the getUserMedia part\n            config.streamExternal = true;\n            streamsDone(handleId, jsep, media, callbacks, stream);\n            return;\n        }\n        config.trickle = isTrickleEnabled(callbacks.trickle);\n        if(isAudioSendEnabled(media) || isVideoSendEnabled(media)) {\n            var constraints = { mandatory: {}, optional: []};\n            pluginHandle.consentDialog(true);\n            var audioSupport = isAudioSendEnabled(media);\n            if(audioSupport === true && media != undefined && media != null) {\n                if(typeof media.audio === 'object') {\n                    audioSupport = media.audio;\n                }\n            }\n            var videoSupport = isVideoSendEnabled(media);\n            if(videoSupport === true && media != undefined && media != null) {\n                if(media.video && media.video != 'screen' && media.video != 'window') {\n                    var width = 0;\n                    var height = 0, maxHeight = 0;\n                    if(media.video === 'lowres') {\n                        // Small resolution, 4:3\n                        height = 240;\n                        maxHeight = 240;\n                        width = 320;\n                    } else if(media.video === 'lowres-16:9') {\n                        // Small resolution, 16:9\n                        height = 180;\n                        maxHeight = 180;\n                        width = 320;\n                    } else if(media.video === 'hires' || media.video === 'hires-16:9' ) {\n                        // High resolution is only 16:9\n                        height = 720;\n                        maxHeight = 720;\n                        width = 1280;\n                        if(navigator.mozGetUserMedia) {\n                            var firefoxVer = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                            if(firefoxVer < 38) {\n                                // Unless this is and old Firefox, which doesn't support it\n                                Janus.warn(media.video + \" unsupported, falling back to stdres (old Firefox)\");\n                                height = 480;\n                                maxHeight = 480;\n                                width  = 640;\n                            }\n                        }\n                    } else if(media.video === 'stdres') {\n                        // Normal resolution, 4:3\n                        height = 480;\n                        maxHeight = 480;\n                        width  = 640;\n                    } else if(media.video === 'stdres-16:9') {\n                        // Normal resolution, 16:9\n                        height = 360;\n                        maxHeight = 360;\n                        width = 640;\n                    } else {\n                        Janus.log(\"Default video setting (\" + media.video + \") is stdres 4:3\");\n                        height = 480;\n                        maxHeight = 480;\n                        width = 640;\n                    }\n                    Janus.log(\"Adding media constraint \" + media.video);\n                    if(navigator.mozGetUserMedia) {\n                        var firefoxVer = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                        if(firefoxVer < 38) {\n                            videoSupport = {\n                                'require': ['height', 'width'],\n                                'height': {'max': maxHeight, 'min': height},\n                                'width':  {'max': width,  'min': width}\n                            };\n                        } else {\n                            // http://stackoverflow.com/questions/28282385/webrtc-firefox-constraints/28911694#28911694\n                            // https://github.com/meetecho/janus-gateway/pull/246\n                            videoSupport = {\n                                'height': {'ideal': height},\n                                'width':  {'ideal': width}\n                            };\n                        }\n                    } else {\n                        videoSupport = {\n                            'mandatory': {\n                                'maxHeight': maxHeight,\n                                'minHeight': height,\n                                'maxWidth':  width,\n                                'minWidth':  width\n                            },\n                            'optional': []\n                        };\n                    }\n                    if(typeof media.video === 'object') {\n                        videoSupport = media.video;\n                    }\n                    Janus.debug(videoSupport);\n                } else if(media.video === 'screen' || media.video === 'window') {\n                    // Not a webcam, but screen capture\n                    if(window.location.protocol !== 'https:') {\n                        // Screen sharing mandates HTTPS\n                        Janus.warn(\"Screen sharing only works on HTTPS, try the https:// version of this page\");\n                        pluginHandle.consentDialog(false);\n                        callbacks.error(\"Screen sharing only works on HTTPS, try the https:// version of this page\");\n                        return;\n                    }\n                    // We're going to try and use the extension for Chrome 34+, the old approach\n                    // for older versions of Chrome, or the experimental support in Firefox 33+\n                    var cache = {};\n                    function callbackUserMedia (error, stream) {\n                        pluginHandle.consentDialog(false);\n                        if(error) {\n                            callbacks.error({code: error.code, name: error.name, message: error.message});\n                        } else {\n                            streamsDone(handleId, jsep, media, callbacks, stream);\n                        }\n                    };\n                    function getScreenMedia(constraints, gsmCallback) {\n                        Janus.log(\"Adding media constraint (screen capture)\");\n                        Janus.debug(constraints);\n                        navigator.mediaDevices.getUserMedia(constraints)\n                            .then(function(stream) { gsmCallback(null, stream); })\n                            .catch(function(error) { pluginHandle.consentDialog(false); gsmCallback(error); });\n                    };\n                    if(adapter.browserDetails.browser === 'chrome') {\n                        var chromever = adapter.browserDetails.version;\n                        var maxver = 33;\n                        if(window.navigator.userAgent.match('Linux'))\n                            maxver = 35;\t// \"known\" crash in chrome 34 and 35 on linux\n                        if(chromever >= 26 && chromever <= maxver) {\n                            // Chrome 26->33 requires some awkward chrome://flags manipulation\n                            constraints = {\n                                video: {\n                                    mandatory: {\n                                        googLeakyBucket: true,\n                                        maxWidth: window.screen.width,\n                                        maxHeight: window.screen.height,\n                                        maxFrameRate: 3,\n                                        chromeMediaSource: 'screen'\n                                    }\n                                },\n                                audio: isAudioSendEnabled(media)\n                            };\n                            getScreenMedia(constraints, callbackUserMedia);\n                        } else {\n                            // Chrome 34+ requires an extension\n                            var pending = window.setTimeout(\n                                function () {\n                                    error = new Error('NavigatorUserMediaError');\n                                    error.name = 'The required Chrome extension is not installed: click <a href=\"#\">here</a> to install it. (NOTE: this will need you to refresh the page)';\n                                    pluginHandle.consentDialog(false);\n                                    return callbacks.error(error);\n                                }, 1000);\n                            cache[pending] = [callbackUserMedia, null];\n                            window.postMessage({ type: 'janusGetScreen', id: pending }, '*');\n                        }\n                    } else if (window.navigator.userAgent.match('Firefox')) {\n                        var ffver = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                        if(ffver >= 33) {\n                            // Firefox 33+ has experimental support for screen sharing\n                            constraints = {\n                                video: {\n                                    mozMediaSource: media.video,\n                                    mediaSource: media.video\n                                },\n                                audio: isAudioSendEnabled(media)\n                            };\n                            getScreenMedia(constraints, function (err, stream) {\n                                callbackUserMedia(err, stream);\n                                // Workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=1045810\n                                if (!err) {\n                                    var lastTime = stream.currentTime;\n                                    var polly = window.setInterval(function () {\n                                        if(!stream)\n                                            window.clearInterval(polly);\n                                        if(stream.currentTime == lastTime) {\n                                            window.clearInterval(polly);\n                                            if(stream.onended) {\n                                                stream.onended();\n                                            }\n                                        }\n                                        lastTime = stream.currentTime;\n                                    }, 500);\n                                }\n                            });\n                        } else {\n                            var error = new Error('NavigatorUserMediaError');\n                            error.name = 'Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)';\n                            pluginHandle.consentDialog(false);\n                            callbacks.error(error);\n                            return;\n                        }\n                    }\n\n                    // Wait for events from the Chrome Extension\n                    window.addEventListener('message', function (event) {\n                        if(event.origin != window.location.origin)\n                            return;\n                        if(event.data.type == 'janusGotScreen' && cache[event.data.id]) {\n                            var data = cache[event.data.id];\n                            var callback = data[0];\n                            delete cache[event.data.id];\n\n                            if (event.data.sourceId === '') {\n                                // user canceled\n                                var error = new Error('NavigatorUserMediaError');\n                                error.name = 'You cancelled the request for permission, giving up...';\n                                pluginHandle.consentDialog(false);\n                                callbacks.error(error);\n                            } else {\n                                constraints = {\n                                    audio: isAudioSendEnabled(media),\n                                    video: {\n                                        mandatory: {\n                                            chromeMediaSource: 'desktop',\n                                            maxWidth: window.screen.width,\n                                            maxHeight: window.screen.height,\n                                            maxFrameRate: 3\n                                        },\n                                        optional: [\n                                            {googLeakyBucket: true},\n                                            {googTemporalLayeredScreencast: true}\n                                        ]\n                                    }\n                                };\n                                constraints.video.mandatory.chromeMediaSourceId = event.data.sourceId;\n                                getScreenMedia(constraints, callback);\n                            }\n                        } else if (event.data.type == 'janusGetScreenPending') {\n                            window.clearTimeout(event.data.id);\n                        }\n                    });\n                    return;\n                }\n            }\n            // If we got here, we're not screensharing\n            if(media === null || media === undefined || media.video !== 'screen') {\n                // Check whether all media sources are actually available or not\n                navigator.mediaDevices.enumerateDevices().then(function(devices) {\n                    var audioExist = devices.some(function(device) {\n                            return device.kind === 'audioinput';\n                        }),\n                        videoExist = devices.some(function(device) {\n                            return device.kind === 'videoinput';\n                        });\n\n                    // Check whether a missing device is really a problem\n                    var audioSend = isAudioSendEnabled(media);\n                    var videoSend = isVideoSendEnabled(media);\n                    var needAudioDevice = isAudioSendRequired(media);\n                    var needVideoDevice = isVideoSendRequired(media);\n                    if(audioSend || videoSend || needAudioDevice || needVideoDevice) {\n                        // We need to send either audio or video\n                        var haveAudioDevice = audioSend ? audioExist : false;\n                        var haveVideoDevice = videoSend ? videoExist : false;\n                        if(!haveAudioDevice && !haveVideoDevice) {\n                            // FIXME Should we really give up, or just assume recvonly for both?\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('No capture device found');\n                            return false;\n                        } else if(!haveAudioDevice && needAudioDevice) {\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('Audio capture is required, but no capture device found');\n                            return false;\n                        } else if(!haveVideoDevice && needVideoDevice) {\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('Video capture is required, but no capture device found');\n                            return false;\n                        }\n                    }\n\n                    navigator.mediaDevices.getUserMedia({\n                        audio: audioExist ? audioSupport : false,\n                        video: videoExist ? videoSupport : false\n                    })\n                        .then(function(stream) { pluginHandle.consentDialog(false); streamsDone(handleId, jsep, media, callbacks, stream); })\n                        .catch(function(error) { pluginHandle.consentDialog(false); callbacks.error({code: error.code, name: error.name, message: error.message}); });\n                })\n                    .catch(function(error) {\n                        pluginHandle.consentDialog(false);\n                        callbacks.error('enumerateDevices error', error);\n                    });\n            }\n        } else {\n            // No need to do a getUserMedia, create offer/answer right away\n            streamsDone(handleId, jsep, media, callbacks);\n        }\n    }\n\n    function prepareWebrtcPeer(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : webrtcError;\n        var jsep = callbacks.jsep;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(jsep !== undefined && jsep !== null) {\n            if(config.pc === null) {\n                Janus.warn(\"Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep\");\n                callbacks.error(\"No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep\");\n                return;\n            }\n            if(adapter.browserDetails.browser === \"edge\") {\n                // This is Edge, add an a=end-of-candidates at the end\n                jsep.sdp += \"a=end-of-candidates\\r\\n\";\n            }\n            config.pc.setRemoteDescription(\n                new RTCSessionDescription(jsep),\n                function() {\n                    Janus.log(\"Remote description accepted!\");\n                    callbacks.success();\n                }, callbacks.error);\n        } else {\n            callbacks.error(\"Invalid JSEP\");\n        }\n    }\n\n    function createOffer(handleId, media, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.log(\"Creating offer (iceDone=\" + config.iceDone + \")\");\n        // https://code.google.com/p/webrtc/issues/detail?id=3508\n        var mediaConstraints = null;\n        if(adapter.browserDetails.browser == \"firefox\" || adapter.browserDetails.browser == \"edge\") {\n            mediaConstraints = {\n                'offerToReceiveAudio':isAudioRecvEnabled(media),\n                'offerToReceiveVideo':isVideoRecvEnabled(media)\n            };\n        } else {\n            mediaConstraints = {\n                'mandatory': {\n                    'OfferToReceiveAudio':isAudioRecvEnabled(media),\n                    'OfferToReceiveVideo':isVideoRecvEnabled(media)\n                }\n            };\n        }\n        Janus.debug(mediaConstraints);\n        config.pc.createOffer(\n            function(offer) {\n                Janus.debug(offer);\n                if(config.mySdp === null || config.mySdp === undefined) {\n                    Janus.log(\"Setting local description\");\n                    config.mySdp = offer.sdp;\n                    config.pc.setLocalDescription(offer);\n                }\n                if(!config.iceDone && !config.trickle) {\n                    // Don't do anything until we have all candidates\n                    Janus.log(\"Waiting for all candidates...\");\n                    return;\n                }\n                if(config.sdpSent) {\n                    Janus.log(\"Offer already sent, not sending it again\");\n                    return;\n                }\n                Janus.log(\"Offer ready\");\n                Janus.debug(callbacks);\n                config.sdpSent = true;\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var jsep = {\n                    \"type\": offer.type,\n                    \"sdp\": offer.sdp\n                };\n                callbacks.success(jsep);\n            }, callbacks.error, mediaConstraints);\n    }\n\n    function createAnswer(handleId, media, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.log(\"Creating answer (iceDone=\" + config.iceDone + \")\");\n        var mediaConstraints = null;\n        if(adapter.browserDetails.browser == \"firefox\" || adapter.browserDetails.browser == \"edge\") {\n            mediaConstraints = {\n                'offerToReceiveAudio':isAudioRecvEnabled(media),\n                'offerToReceiveVideo':isVideoRecvEnabled(media)\n            };\n        } else {\n            mediaConstraints = {\n                'mandatory': {\n                    'OfferToReceiveAudio':isAudioRecvEnabled(media),\n                    'OfferToReceiveVideo':isVideoRecvEnabled(media)\n                }\n            };\n        }\n        Janus.debug(mediaConstraints);\n        config.pc.createAnswer(\n            function(answer) {\n                Janus.debug(answer);\n                if(config.mySdp === null || config.mySdp === undefined) {\n                    Janus.log(\"Setting local description\");\n                    config.mySdp = answer.sdp;\n                    config.pc.setLocalDescription(answer);\n                }\n                if(!config.iceDone && !config.trickle) {\n                    // Don't do anything until we have all candidates\n                    Janus.log(\"Waiting for all candidates...\");\n                    return;\n                }\n                if(config.sdpSent) {\t// FIXME badly\n                    Janus.log(\"Answer already sent, not sending it again\");\n                    return;\n                }\n                config.sdpSent = true;\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var jsep = {\n                    \"type\": answer.type,\n                    \"sdp\": answer.sdp\n                };\n                callbacks.success(jsep);\n            }, callbacks.error, mediaConstraints);\n    }\n\n    function sendSDP(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle, not sending anything\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.log(\"Sending offer/answer SDP...\");\n        if(config.mySdp === null || config.mySdp === undefined) {\n            Janus.warn(\"Local SDP instance is invalid, not sending anything...\");\n            return;\n        }\n        config.mySdp = {\n            \"type\": config.pc.localDescription.type,\n            \"sdp\": config.pc.localDescription.sdp\n        };\n        if(config.sdpSent) {\n            Janus.log(\"Offer/Answer SDP already sent, not sending it again\");\n            return;\n        }\n        if(config.trickle === false)\n            config.mySdp[\"trickle\"] = false;\n        Janus.debug(callbacks);\n        config.sdpSent = true;\n        callbacks.success(config.mySdp);\n    }\n\n    function getVolume(handleId) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return 0;\n        }\n        var config = pluginHandle.webrtcStuff;\n        // Start getting the volume, if getStats is supported\n        if(config.pc.getStats && adapter.browserDetails.browser == \"chrome\") {\t// FIXME\n            if(config.remoteStream === null || config.remoteStream === undefined) {\n                Janus.warn(\"Remote stream unavailable\");\n                return 0;\n            }\n            // http://webrtc.googlecode.com/svn/trunk/samples/js/demos/html/constraints-and-stats.html\n            if(config.volume.timer === null || config.volume.timer === undefined) {\n                Janus.log(\"Starting volume monitor\");\n                config.volume.timer = setInterval(function() {\n                    config.pc.getStats(function(stats) {\n                        var results = stats.result();\n                        for(var i=0; i<results.length; i++) {\n                            var res = results[i];\n                            if(res.type == 'ssrc' && res.stat('audioOutputLevel')) {\n                                config.volume.value = res.stat('audioOutputLevel');\n                            }\n                        }\n                    });\n                }, 200);\n                return 0;\t// We don't have a volume to return yet\n            }\n            return config.volume.value;\n        } else {\n            Janus.log(\"Getting the remote volume unsupported by browser\");\n            return 0;\n        }\n    }\n\n    function isMuted(handleId, video) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return true;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined) {\n            Janus.warn(\"Invalid PeerConnection\");\n            return true;\n        }\n        if(config.myStream === undefined || config.myStream === null) {\n            Janus.warn(\"Invalid local MediaStream\");\n            return true;\n        }\n        if(video) {\n            // Check video track\n            if(config.myStream.getVideoTracks() === null\n                || config.myStream.getVideoTracks() === undefined\n                || config.myStream.getVideoTracks().length === 0) {\n                Janus.warn(\"No video track\");\n                return true;\n            }\n            return !config.myStream.getVideoTracks()[0].enabled;\n        } else {\n            // Check audio track\n            if(config.myStream.getAudioTracks() === null\n                || config.myStream.getAudioTracks() === undefined\n                || config.myStream.getAudioTracks().length === 0) {\n                Janus.warn(\"No audio track\");\n                return true;\n            }\n            return !config.myStream.getAudioTracks()[0].enabled;\n        }\n    }\n\n    function mute(handleId, video, mute) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return false;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined) {\n            Janus.warn(\"Invalid PeerConnection\");\n            return false;\n        }\n        if(config.myStream === undefined || config.myStream === null) {\n            Janus.warn(\"Invalid local MediaStream\");\n            return false;\n        }\n        if(video) {\n            // Mute/unmute video track\n            if(config.myStream.getVideoTracks() === null\n                || config.myStream.getVideoTracks() === undefined\n                || config.myStream.getVideoTracks().length === 0) {\n                Janus.warn(\"No video track\");\n                return false;\n            }\n            config.myStream.getVideoTracks()[0].enabled = mute;\n            return true;\n        } else {\n            // Mute/unmute audio track\n            if(config.myStream.getAudioTracks() === null\n                || config.myStream.getAudioTracks() === undefined\n                || config.myStream.getAudioTracks().length === 0) {\n                Janus.warn(\"No audio track\");\n                return false;\n            }\n            config.myStream.getAudioTracks()[0].enabled = mute;\n            return true;\n        }\n    }\n\n    function getBitrate(handleId) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return \"Invalid handle\";\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined)\n            return \"Invalid PeerConnection\";\n        // Start getting the bitrate, if getStats is supported\n        if(config.pc.getStats && adapter.browserDetails.browser == \"chrome\") {\n            // Do it the Chrome way\n            if(config.remoteStream === null || config.remoteStream === undefined) {\n                Janus.warn(\"Remote stream unavailable\");\n                return \"Remote stream unavailable\";\n            }\n            // http://webrtc.googlecode.com/svn/trunk/samples/js/demos/html/constraints-and-stats.html\n            if(config.bitrate.timer === null || config.bitrate.timer === undefined) {\n                Janus.log(\"Starting bitrate timer (Chrome)\");\n                config.bitrate.timer = setInterval(function() {\n                    config.pc.getStats(function(stats) {\n                        var results = stats.result();\n                        for(var i=0; i<results.length; i++) {\n                            var res = results[i];\n                            if(res.type == 'ssrc' && res.stat('googFrameHeightReceived')) {\n                                config.bitrate.bsnow = res.stat('bytesReceived');\n                                config.bitrate.tsnow = res.timestamp;\n                                if(config.bitrate.bsbefore === null || config.bitrate.tsbefore === null) {\n                                    // Skip this round\n                                    config.bitrate.bsbefore = config.bitrate.bsnow;\n                                    config.bitrate.tsbefore = config.bitrate.tsnow;\n                                } else {\n                                    // Calculate bitrate\n                                    var bitRate = Math.round((config.bitrate.bsnow - config.bitrate.bsbefore) * 8 / (config.bitrate.tsnow - config.bitrate.tsbefore));\n                                    config.bitrate.value = bitRate + ' kbits/sec';\n                                    //~ Janus.log(\"Estimated bitrate is \" + config.bitrate.value);\n                                    config.bitrate.bsbefore = config.bitrate.bsnow;\n                                    config.bitrate.tsbefore = config.bitrate.tsnow;\n                                }\n                            }\n                        }\n                    });\n                }, 1000);\n                return \"0 kbits/sec\";\t// We don't have a bitrate value yet\n            }\n            return config.bitrate.value;\n        } else if(config.pc.getStats && adapter.browserDetails.browser == \"firefox\") {\n            // Do it the Firefox way\n            if(config.remoteStream === null || config.remoteStream === undefined\n                || config.remoteStream.stream === null || config.remoteStream.stream === undefined) {\n                Janus.warn(\"Remote stream unavailable\");\n                return \"Remote stream unavailable\";\n            }\n            var videoTracks = config.remoteStream.stream.getVideoTracks();\n            if(videoTracks === null || videoTracks === undefined || videoTracks.length < 1) {\n                Janus.warn(\"No video track\");\n                return \"No video track\";\n            }\n            // https://github.com/muaz-khan/getStats/blob/master/getStats.js\n            if(config.bitrate.timer === null || config.bitrate.timer === undefined) {\n                Janus.log(\"Starting bitrate timer (Firefox)\");\n                config.bitrate.timer = setInterval(function() {\n                    // We need a helper callback\n                    var cb = function(res) {\n                        if(res === null || res === undefined ||\n                            res.inbound_rtp_video_1 == null || res.inbound_rtp_video_1 == null) {\n                            config.bitrate.value = \"Missing inbound_rtp_video_1\";\n                            return;\n                        }\n                        config.bitrate.bsnow = res.inbound_rtp_video_1.bytesReceived;\n                        config.bitrate.tsnow = res.inbound_rtp_video_1.timestamp;\n                        if(config.bitrate.bsbefore === null || config.bitrate.tsbefore === null) {\n                            // Skip this round\n                            config.bitrate.bsbefore = config.bitrate.bsnow;\n                            config.bitrate.tsbefore = config.bitrate.tsnow;\n                        } else {\n                            // Calculate bitrate\n                            var bitRate = Math.round((config.bitrate.bsnow - config.bitrate.bsbefore) * 8 / (config.bitrate.tsnow - config.bitrate.tsbefore));\n                            config.bitrate.value = bitRate + ' kbits/sec';\n                            config.bitrate.bsbefore = config.bitrate.bsnow;\n                            config.bitrate.tsbefore = config.bitrate.tsnow;\n                        }\n                    };\n                    // Actually get the stats\n                    config.pc.getStats(videoTracks[0], function(stats) {\n                        cb(stats);\n                    }, cb);\n                }, 1000);\n                return \"0 kbits/sec\";\t// We don't have a bitrate value yet\n            }\n            return config.bitrate.value;\n        } else {\n            Janus.warn(\"Getting the video bitrate unsupported by browser\");\n            return \"Feature unsupported by browser\";\n        }\n    }\n\n    function webrtcError(error) {\n        Janus.error(\"WebRTC error:\", error);\n    }\n\n    function cleanupWebrtc(handleId, hangupRequest) {\n        Janus.log(\"Cleaning WebRTC stuff\");\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined) {\n            // Nothing to clean\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config !== null && config !== undefined) {\n            if(hangupRequest === true) {\n                // Send a hangup request (we don't really care about the response)\n                var request = { \"janus\": \"hangup\", \"transaction\": randomString(12) };\n                if(token !== null && token !== undefined)\n                    request[\"token\"] = token;\n                if(apisecret !== null && apisecret !== undefined)\n                    request[\"apisecret\"] = apisecret;\n                Janus.debug(\"Sending hangup request (handle=\" + handleId + \"):\");\n                Janus.debug(request);\n                if(websockets) {\n                    request[\"session_id\"] = sessionId;\n                    request[\"handle_id\"] = handleId;\n                    ws.send(JSON.stringify(request));\n                } else {\n                    $.ajax({\n                        type: 'POST',\n                        url: server + \"/\" + sessionId + \"/\" + handleId,\n                        cache: false,\n                        contentType: \"application/json\",\n                        data: JSON.stringify(request),\n                        dataType: \"json\"\n                    });\n                }\n            }\n            // Cleanup stack\n            config.remoteStream = null;\n            if(config.volume.timer)\n                clearInterval(config.volume.timer);\n            config.volume.value = null;\n            if(config.bitrate.timer)\n                clearInterval(config.bitrate.timer);\n            config.bitrate.timer = null;\n            config.bitrate.bsnow = null;\n            config.bitrate.bsbefore = null;\n            config.bitrate.tsnow = null;\n            config.bitrate.tsbefore = null;\n            config.bitrate.value = null;\n            try {\n                // Try a MediaStream.stop() first\n                if(!config.streamExternal && config.myStream !== null && config.myStream !== undefined) {\n                    Janus.log(\"Stopping local stream\");\n                    config.myStream.stop();\n                }\n            } catch(e) {\n                // Do nothing if this fails\n            }\n            try {\n                // Try a MediaStreamTrack.stop() for each track as well\n                if(!config.streamExternal && config.myStream !== null && config.myStream !== undefined) {\n                    Janus.log(\"Stopping local stream tracks\");\n                    var tracks = config.myStream.getTracks();\n                    for(var i in tracks) {\n                        var mst = tracks[i];\n                        Janus.log(mst);\n                        if(mst !== null && mst !== undefined)\n                            mst.stop();\n                    }\n                }\n            } catch(e) {\n                // Do nothing if this fails\n            }\n            config.streamExternal = false;\n            config.myStream = null;\n            // Close PeerConnection\n            try {\n                config.pc.close();\n            } catch(e) {\n                // Do nothing\n            }\n            config.pc = null;\n            config.mySdp = null;\n            config.iceDone = false;\n            config.sdpSent = false;\n            config.dataChannel = null;\n            config.dtmfSender = null;\n        }\n        pluginHandle.oncleanup();\n    }\n\n    // Helper methods to parse a media object\n    function isAudioSendEnabled(media) {\n        Janus.debug(\"isAudioSendEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.audio === false)\n            return false;\t// Generic audio has precedence\n        if(media.audioSend === undefined || media.audioSend === null)\n            return true;\t// Default\n        return (media.audioSend === true);\n    }\n\n    function isAudioSendRequired(media) {\n        Janus.debug(\"isAudioSendRequired:\", media);\n        if(media === undefined || media === null)\n            return false;\t// Default\n        if(media.audio === false || media.audioSend === false)\n            return false;\t// If we're not asking to capture audio, it's not required\n        if(media.failIfNoAudio === undefined || media.failIfNoAudio === null)\n            return false;\t// Default\n        return (media.failIfNoAudio === true);\n    }\n\n    function isAudioRecvEnabled(media) {\n        Janus.debug(\"isAudioRecvEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.audio === false)\n            return false;\t// Generic audio has precedence\n        if(media.audioRecv === undefined || media.audioRecv === null)\n            return true;\t// Default\n        return (media.audioRecv === true);\n    }\n\n    function isVideoSendEnabled(media) {\n        Janus.debug(\"isVideoSendEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.video === false)\n            return false;\t// Generic video has precedence\n        if(media.videoSend === undefined || media.videoSend === null)\n            return true;\t// Default\n        return (media.videoSend === true);\n    }\n\n    function isVideoSendRequired(media) {\n        Janus.debug(\"isVideoSendRequired:\", media);\n        if(media === undefined || media === null)\n            return false;\t// Default\n        if(media.video === false || media.videoSend === false)\n            return false;\t// If we're not asking to capture video, it's not required\n        if(media.failIfNoVideo === undefined || media.failIfNoVideo === null)\n            return false;\t// Default\n        return (media.failIfNoVideo === true);\n    }\n\n    function isVideoRecvEnabled(media) {\n        Janus.debug(\"isVideoRecvEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.video === false)\n            return false;\t// Generic video has precedence\n        if(media.videoRecv === undefined || media.videoRecv === null)\n            return true;\t// Default\n        return (media.videoRecv === true);\n    }\n\n    function isDataEnabled(media) {\n        Janus.debug(\"isDataEnabled:\", media);\n        if(adapter.browserDetails.browser == \"edge\") {\n            Janus.warn(\"Edge doesn't support data channels yet\");\n            return false;\n        }\n        if(media === undefined || media === null)\n            return false;\t// Default\n        return (media.data === true);\n    }\n\n    function isTrickleEnabled(trickle) {\n        Janus.debug(\"isTrickleEnabled:\", trickle);\n        if(trickle === undefined || trickle === null)\n            return true;\t// Default is true\n        return (trickle === true);\n    }\n};\n\nmodule.exports = Janus;\n\n\n\n/***/ }),\n\n/***/ 2470:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar adapterFactory = __webpack_require__(2471);\nmodule.exports = adapterFactory({window: global.window});\n\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 2471:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar utils = __webpack_require__(2167);\n// Shimming starts here.\nmodule.exports = function(dependencies, opts) {\n  var window = dependencies && dependencies.window;\n\n  var options = {\n    shimChrome: true,\n    shimFirefox: true,\n    shimEdge: true,\n    shimSafari: true,\n  };\n\n  for (var key in opts) {\n    if (hasOwnProperty.call(opts, key)) {\n      options[key] = opts[key];\n    }\n  }\n\n  // Utils.\n  var logging = utils.log;\n  var browserDetails = utils.detectBrowser(window);\n\n  // Export to the adapter global object visible in the browser.\n  var adapter = {\n    browserDetails: browserDetails,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings\n  };\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = __webpack_require__(2472) || null;\n  var edgeShim = __webpack_require__(2474) || null;\n  var firefoxShim = __webpack_require__(2477) || null;\n  var safariShim = __webpack_require__(2479) || null;\n  var commonShim = __webpack_require__(2480) || null;\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      chromeShim.shimGetUserMedia(window);\n      chromeShim.shimMediaStream(window);\n      chromeShim.shimSourceObject(window);\n      chromeShim.shimPeerConnection(window);\n      chromeShim.shimOnTrack(window);\n      chromeShim.shimAddTrackRemoveTrack(window);\n      chromeShim.shimGetSendersWithDtmf(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n      commonShim.shimCreateObjectURL(window);\n\n      firefoxShim.shimGetUserMedia(window);\n      firefoxShim.shimSourceObject(window);\n      firefoxShim.shimPeerConnection(window);\n      firefoxShim.shimOnTrack(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection || !options.shimEdge) {\n        logging('MS edge shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = edgeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      edgeShim.shimGetUserMedia(window);\n      edgeShim.shimPeerConnection(window);\n      edgeShim.shimReplaceTrack(window);\n\n      // the edge shim implements the full RTCIceCandidate object.\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n      commonShim.shimCreateObjectURL(window);\n\n      safariShim.shimRTCIceServerUrls(window);\n      safariShim.shimCallbacksAPI(window);\n      safariShim.shimLocalStreamsAPI(window);\n      safariShim.shimRemoteStreamsAPI(window);\n      safariShim.shimTrackEventTransceiver(window);\n      safariShim.shimGetUserMedia(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n};\n\n\n\n/***/ }),\n\n/***/ 2472:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = __webpack_require__(2167);\nvar logging = utils.log;\n\nvar chromeShim = {\n  shimMediaStream: function(window) {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n          }\n          this.addEventListener('track', this._ontrack = f);\n        }\n      });\n      var origSetRemoteDescription =\n          window.RTCPeerConnection.prototype.setRemoteDescription;\n      window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n        var pc = this;\n        if (!pc._ontrackpoly) {\n          pc._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === te.track.id;\n                });\n              } else {\n                receiver = {track: te.track};\n              }\n\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === track.id;\n                });\n              } else {\n                receiver = {track: track};\n              }\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n          };\n          pc.addEventListener('addstream', pc._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n    }\n  },\n\n  shimGetSendersWithDtmf: function(window) {\n    // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        !('getSenders' in window.RTCPeerConnection.prototype) &&\n        'createDTMFSender' in window.RTCPeerConnection.prototype) {\n      var shimSenderWithDtmf = function(pc, track) {\n        return {\n          track: track,\n          get dtmf() {\n            if (this._dtmf === undefined) {\n              if (track.kind === 'audio') {\n                this._dtmf = pc.createDTMFSender(track);\n              } else {\n                this._dtmf = null;\n              }\n            }\n            return this._dtmf;\n          },\n          _pc: pc\n        };\n      };\n\n      // augment addTrack when getSenders is not available.\n      if (!window.RTCPeerConnection.prototype.getSenders) {\n        window.RTCPeerConnection.prototype.getSenders = function() {\n          this._senders = this._senders || [];\n          return this._senders.slice(); // return a copy of the internal state.\n        };\n        var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n        window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n          var pc = this;\n          var sender = origAddTrack.apply(pc, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(pc, track);\n            pc._senders.push(sender);\n          }\n          return sender;\n        };\n\n        var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n        window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n          var pc = this;\n          origRemoveTrack.apply(pc, arguments);\n          var idx = pc._senders.indexOf(sender);\n          if (idx !== -1) {\n            pc._senders.splice(idx, 1);\n          }\n        };\n      }\n      var origAddStream = window.RTCPeerConnection.prototype.addStream;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origAddStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          pc._senders.push(shimSenderWithDtmf(pc, track));\n        });\n      };\n\n      var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origRemoveStream.apply(pc, [(pc._streams[stream.id] || stream)]);\n\n        stream.getTracks().forEach(function(track) {\n          var sender = pc._senders.find(function(s) {\n            return s.track === track;\n          });\n          if (sender) {\n            pc._senders.splice(pc._senders.indexOf(sender), 1); // remove sender\n          }\n        });\n      };\n    } else if (typeof window === 'object' && window.RTCPeerConnection &&\n               'getSenders' in window.RTCPeerConnection.prototype &&\n               'createDTMFSender' in window.RTCPeerConnection.prototype &&\n               window.RTCRtpSender &&\n               !('dtmf' in window.RTCRtpSender.prototype)) {\n      var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n      window.RTCPeerConnection.prototype.getSenders = function() {\n        var pc = this;\n        var senders = origGetSenders.apply(pc, []);\n        senders.forEach(function(sender) {\n          sender._pc = pc;\n        });\n        return senders;\n      };\n\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = this._pc.createDTMFSender(this.track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    var URL = window && window.URL;\n\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return undefined;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimAddTrackRemoveTrack: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n    // shim addTrack and removeTrack.\n    if (window.RTCPeerConnection.prototype.addTrack &&\n        browserDetails.version >= 62) {\n      return;\n    }\n\n    // also shim pc.getLocalStreams when addTrack is shimmed\n    // to return the original streams.\n    var origGetLocalStreams = window.RTCPeerConnection.prototype\n        .getLocalStreams;\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var self = this;\n      var nativeStreams = origGetLocalStreams.apply(this);\n      self._reverseStreams = self._reverseStreams || {};\n      return nativeStreams.map(function(stream) {\n        return self._reverseStreams[stream.id];\n      });\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      // Add identity mapping for consistency with addTrack.\n      // Unless this is being used with a stream from addTrack.\n      if (!pc._reverseStreams[stream.id]) {\n        var newStream = new window.MediaStream(stream.getTracks());\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        stream = newStream;\n      }\n      origAddStream.apply(pc, [stream]);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      origRemoveStream.apply(pc, [(pc._streams[stream.id] || stream)]);\n      delete pc._reverseStreams[(pc._streams[stream.id] ?\n          pc._streams[stream.id].id : stream.id)];\n      delete pc._streams[stream.id];\n    };\n\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      var streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(function(t) {\n            return t === track;\n          })) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      var alreadyExists = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n      var oldStream = pc._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(function() {\n          pc.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        var newStream = new window.MediaStream([track]);\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        pc.addStream(newStream);\n      }\n      return pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n    };\n\n    // replace the internal stream id with the external one and\n    // vice versa.\n    function replaceInternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n            externalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    function replaceExternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n            internalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    ['createOffer', 'createAnswer'].forEach(function(method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      window.RTCPeerConnection.prototype[method] = function() {\n        var pc = this;\n        var args = arguments;\n        var isLegacyCall = arguments.length &&\n            typeof arguments[0] === 'function';\n        if (isLegacyCall) {\n          return nativeMethod.apply(pc, [\n            function(description) {\n              var desc = replaceInternalStreamId(pc, description);\n              args[0].apply(null, [desc]);\n            },\n            function(err) {\n              if (args[1]) {\n                args[1].apply(null, err);\n              }\n            }, arguments[2]\n          ]);\n        }\n        return nativeMethod.apply(pc, arguments)\n        .then(function(description) {\n          return replaceInternalStreamId(pc, description);\n        });\n      };\n    });\n\n    var origSetLocalDescription =\n        window.RTCPeerConnection.prototype.setLocalDescription;\n    window.RTCPeerConnection.prototype.setLocalDescription = function() {\n      var pc = this;\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(pc, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(pc, arguments[0]);\n      return origSetLocalDescription.apply(pc, arguments);\n    };\n\n    // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n    var origLocalDescription = Object.getOwnPropertyDescriptor(\n        window.RTCPeerConnection.prototype, 'localDescription');\n    Object.defineProperty(window.RTCPeerConnection.prototype,\n        'localDescription', {\n          get: function() {\n            var pc = this;\n            var description = origLocalDescription.get.apply(this);\n            if (description.type === '') {\n              return description;\n            }\n            return replaceInternalStreamId(pc, description);\n          }\n        });\n\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      var isLocal = sender._pc === pc;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n            'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      pc._streams = pc._streams || {};\n      var stream;\n      Object.keys(pc._streams).forEach(function(streamid) {\n        var hasTrack = pc._streams[streamid].getTracks().find(function(track) {\n          return sender.track === track;\n        });\n        if (hasTrack) {\n          stream = pc._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          pc.removeStream(stream);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        pc.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        // Translate iceTransportPolicy to iceTransports,\n        // see https://code.google.com/p/webrtc/issues/detail?id=4869\n        // this was fixed in M56 along with unprefixing RTCPeerConnection.\n        logging('PeerConnection');\n        if (pcConfig && pcConfig.iceTransportPolicy) {\n          pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n        }\n\n        return new window.webkitRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.webkitRTCPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      if (window.webkitRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.webkitRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n    } else {\n      // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n      var OrigPeerConnection = window.RTCPeerConnection;\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (pcConfig && pcConfig.iceServers) {\n          var newIceServers = [];\n          for (var i = 0; i < pcConfig.iceServers.length; i++) {\n            var server = pcConfig.iceServers[i];\n            if (!server.hasOwnProperty('urls') &&\n                server.hasOwnProperty('url')) {\n              utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n              server = JSON.parse(JSON.stringify(server));\n              server.urls = server.url;\n              newIceServers.push(server);\n            } else {\n              newIceServers.push(pcConfig.iceServers[i]);\n            }\n          }\n          pcConfig.iceServers = newIceServers;\n        }\n        return new OrigPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n\n    var origGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(selector,\n        successCallback, errorCallback) {\n      var self = this;\n      var args = arguments;\n\n      // If selector is a function then we are in the old style stats so just\n      // pass back the original getStats format to avoid breaking old users.\n      if (arguments.length > 0 && typeof selector === 'function') {\n        return origGetStats.apply(this, arguments);\n      }\n\n      // When spec-style getStats is supported, return those when called with\n      // either no arguments or the selector argument is null.\n      if (origGetStats.length === 0 && (arguments.length === 0 ||\n          typeof arguments[0] !== 'function')) {\n        return origGetStats.apply(this, []);\n      }\n\n      var fixChromeStats_ = function(response) {\n        var standardReport = {};\n        var reports = response.result();\n        reports.forEach(function(report) {\n          var standardStats = {\n            id: report.id,\n            timestamp: report.timestamp,\n            type: {\n              localcandidate: 'local-candidate',\n              remotecandidate: 'remote-candidate'\n            }[report.type] || report.type\n          };\n          report.names().forEach(function(name) {\n            standardStats[name] = report.stat(name);\n          });\n          standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n      };\n\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        return new Map(Object.keys(stats).map(function(key) {\n          return [key, stats[key]];\n        }));\n      };\n\n      if (arguments.length >= 2) {\n        var successCallbackWrapper_ = function(response) {\n          args[1](makeMapStats(fixChromeStats_(response)));\n        };\n\n        return origGetStats.apply(this, [successCallbackWrapper_,\n          arguments[0]]);\n      }\n\n      // promise-support\n      return new Promise(function(resolve, reject) {\n        origGetStats.apply(self, [\n          function(response) {\n            resolve(makeMapStats(fixChromeStats_(response)));\n          }, reject]);\n      }).then(successCallback, errorCallback);\n    };\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = window.RTCPeerConnection.prototype[method];\n            window.RTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var self = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(self, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // promise support for createOffer and createAnswer. Available (without\n    // bugs) since M52: crbug/619289\n    if (browserDetails.version < 52) {\n      ['createOffer', 'createAnswer'].forEach(function(method) {\n        var nativeMethod = window.RTCPeerConnection.prototype[method];\n        window.RTCPeerConnection.prototype[method] = function() {\n          var self = this;\n          if (arguments.length < 1 || (arguments.length === 1 &&\n              typeof arguments[0] === 'object')) {\n            var opts = arguments.length === 1 ? arguments[0] : undefined;\n            return new Promise(function(resolve, reject) {\n              nativeMethod.apply(self, [resolve, reject, opts]);\n            });\n          }\n          return nativeMethod.apply(this, arguments);\n        };\n      });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n\n\n// Expose public methods.\nmodule.exports = {\n  shimMediaStream: chromeShim.shimMediaStream,\n  shimOnTrack: chromeShim.shimOnTrack,\n  shimAddTrackRemoveTrack: chromeShim.shimAddTrackRemoveTrack,\n  shimGetSendersWithDtmf: chromeShim.shimGetSendersWithDtmf,\n  shimSourceObject: chromeShim.shimSourceObject,\n  shimPeerConnection: chromeShim.shimPeerConnection,\n  shimGetUserMedia: __webpack_require__(2473)\n};\n\n\n\n/***/ }),\n\n/***/ 2473:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = __webpack_require__(2167);\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      var remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      var getSupportedFacingModeLies = browserDetails.version < 61;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        var matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var dev = devices.find(function(d) {\n              return matches.some(function(match) {\n                return d.label.toLowerCase().indexOf(match) !== -1;\n              });\n            });\n            if (!dev && devices.length && matches.indexOf('back') !== -1) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :\n                                                        {ideal: dev.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        InvalidStateError: 'NotReadableError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotReadableError',\n        MediaDeviceKillSwitchOn: 'NotReadableError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return window.MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                kind: kinds[device.kind],\n                deviceId: device.id,\n                groupId: ''};\n            }));\n          });\n        });\n      },\n      getSupportedConstraints: function() {\n        return {\n          deviceId: true, echoCancellation: true, facingMode: true,\n          frameRate: true, height: true, width: true\n        };\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n\n\n\n/***/ }),\n\n/***/ 2474:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = __webpack_require__(2167);\nvar shimRTCPeerConnection = __webpack_require__(2475);\n\nmodule.exports = {\n  shimGetUserMedia: __webpack_require__(2476),\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (window.RTCIceGatherer) {\n      // ORTC defines an RTCIceCandidate object but no constructor.\n      // Not implemented in Edge.\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      // ORTC does not have a session description object but\n      // other browsers (i.e. Chrome) that will support both PC and ORTC\n      // in the future might have this defined already.\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n      // this adds an additional event listener to MediaStrackTrack that signals\n      // when a tracks enabled property was changed. Workaround for a bug in\n      // addStream, see below. No longer required in 15025+\n      if (browserDetails.version < 15025) {\n        var origMSTEnabled = Object.getOwnPropertyDescriptor(\n            window.MediaStreamTrack.prototype, 'enabled');\n        Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {\n          set: function(value) {\n            origMSTEnabled.set.call(this, value);\n            var ev = new Event('enabled');\n            ev.enabled = value;\n            this.dispatchEvent(ev);\n          }\n        });\n      }\n    }\n\n    // ORTC defines the DTMF sender a bit different.\n    // https://github.com/w3c/ortc/issues/714\n    if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = new window.RTCDtmfSender(this);\n            } else if (this.track.kind === 'video') {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n\n    window.RTCPeerConnection =\n        shimRTCPeerConnection(window, browserDetails.version);\n  },\n  shimReplaceTrack: function(window) {\n    // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614\n    if (window.RTCRtpSender &&\n        !('replaceTrack' in window.RTCRtpSender.prototype)) {\n      window.RTCRtpSender.prototype.replaceTrack =\n          window.RTCRtpSender.prototype.setTrack;\n    }\n  }\n};\n\n\n\n/***/ }),\n\n/***/ 2475:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = __webpack_require__(2199);\n\nfunction writeMediaSection(transceiver, caps, type, stream, dtlsRole) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : dtlsRole || 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n}\n\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction filterIceServers(iceServers, edgeVersion) {\n  var hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(function(server) {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      if (server.url && !server.urls) {\n        console.warn('RTCIceServer.url is deprecated! Use urls instead.');\n      }\n      var isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(function(url) {\n        var validTurn = url.indexOf('turn:') === 0 &&\n            url.indexOf('transport=udp') !== -1 &&\n            url.indexOf('turn:[') === -1 &&\n            !hasTurn;\n\n        if (validTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&\n            url.indexOf('?transport=udp') === -1;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n    return false;\n  });\n}\n\n// Determines the intersection of local and remote capabilities.\nfunction getCommonCapabilities(localCapabilities, remoteCapabilities) {\n  var commonCapabilities = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: []\n  };\n\n  var findCodecByPayloadType = function(pt, codecs) {\n    pt = parseInt(pt, 10);\n    for (var i = 0; i < codecs.length; i++) {\n      if (codecs[i].payloadType === pt ||\n          codecs[i].preferredPayloadType === pt) {\n        return codecs[i];\n      }\n    }\n  };\n\n  var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {\n    var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n    var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n    return lCodec && rCodec &&\n        lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n  };\n\n  localCapabilities.codecs.forEach(function(lCodec) {\n    for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n      var rCodec = remoteCapabilities.codecs[i];\n      if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n          lCodec.clockRate === rCodec.clockRate) {\n        if (lCodec.name.toLowerCase() === 'rtx' &&\n            lCodec.parameters && rCodec.parameters.apt) {\n          // for RTX we need to find the local rtx that has a apt\n          // which points to the same local codec as the remote one.\n          if (!rtxCapabilityMatches(lCodec, rCodec,\n              localCapabilities.codecs, remoteCapabilities.codecs)) {\n            continue;\n          }\n        }\n        rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n        // number of channels is the highest common number of channels\n        rCodec.numChannels = Math.min(lCodec.numChannels,\n            rCodec.numChannels);\n        // push rCodec so we reply with offerer payload type\n        commonCapabilities.codecs.push(rCodec);\n\n        // determine common feedback mechanisms\n        rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n          for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n            if (lCodec.rtcpFeedback[j].type === fb.type &&\n                lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n              return true;\n            }\n          }\n          return false;\n        });\n        // FIXME: also need to determine .parameters\n        //  see https://github.com/openpeer/ortc/issues/569\n        break;\n      }\n    }\n  });\n\n  localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {\n    for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n         i++) {\n      var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n      if (lHeaderExtension.uri === rHeaderExtension.uri) {\n        commonCapabilities.headerExtensions.push(rHeaderExtension);\n        break;\n      }\n    }\n  });\n\n  // FIXME: fecMechanisms\n  return commonCapabilities;\n}\n\n// is action=setLocalDescription with type allowed in signalingState\nfunction isActionAllowedInSignalingState(action, type, signalingState) {\n  return {\n    offer: {\n      setLocalDescription: ['stable', 'have-local-offer'],\n      setRemoteDescription: ['stable', 'have-remote-offer']\n    },\n    answer: {\n      setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],\n      setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']\n    }\n  }[type][action].indexOf(signalingState) !== -1;\n}\n\nfunction maybeAddCandidate(iceTransport, candidate) {\n  // Edge's internal representation adds some fields therefore\n  // not all fieldѕ are taken into account.\n  var alreadyAdded = iceTransport.getRemoteCandidates()\n      .find(function(remoteCandidate) {\n        return candidate.foundation === remoteCandidate.foundation &&\n            candidate.ip === remoteCandidate.ip &&\n            candidate.port === remoteCandidate.port &&\n            candidate.priority === remoteCandidate.priority &&\n            candidate.protocol === remoteCandidate.protocol &&\n            candidate.type === remoteCandidate.type;\n      });\n  if (!alreadyAdded) {\n    iceTransport.addRemoteCandidate(candidate);\n  }\n  return !alreadyAdded;\n}\n\nmodule.exports = function(window, edgeVersion) {\n  var RTCPeerConnection = function(config) {\n    var self = this;\n\n    var _eventTarget = document.createDocumentFragment();\n    ['addEventListener', 'removeEventListener', 'dispatchEvent']\n        .forEach(function(method) {\n          self[method] = _eventTarget[method].bind(_eventTarget);\n        });\n\n    this.onicecandidate = null;\n    this.onaddstream = null;\n    this.ontrack = null;\n    this.onremovestream = null;\n    this.onsignalingstatechange = null;\n    this.oniceconnectionstatechange = null;\n    this.onicegatheringstatechange = null;\n    this.onnegotiationneeded = null;\n    this.ondatachannel = null;\n    this.canTrickleIceCandidates = null;\n\n    this.needNegotiation = false;\n\n    this.localStreams = [];\n    this.remoteStreams = [];\n\n    this.localDescription = null;\n    this.remoteDescription = null;\n\n    this.signalingState = 'stable';\n    this.iceConnectionState = 'new';\n    this.iceGatheringState = 'new';\n\n    config = JSON.parse(JSON.stringify(config || {}));\n\n    this.usingBundle = config.bundlePolicy === 'max-bundle';\n    if (config.rtcpMuxPolicy === 'negotiate') {\n      var e = new Error('rtcpMuxPolicy \\'negotiate\\' is not supported');\n      e.name = 'NotSupportedError';\n      throw(e);\n    } else if (!config.rtcpMuxPolicy) {\n      config.rtcpMuxPolicy = 'require';\n    }\n\n    switch (config.iceTransportPolicy) {\n      case 'all':\n      case 'relay':\n        break;\n      default:\n        config.iceTransportPolicy = 'all';\n        break;\n    }\n\n    switch (config.bundlePolicy) {\n      case 'balanced':\n      case 'max-compat':\n      case 'max-bundle':\n        break;\n      default:\n        config.bundlePolicy = 'balanced';\n        break;\n    }\n\n    config.iceServers = filterIceServers(config.iceServers || [], edgeVersion);\n\n    this._iceGatherers = [];\n    if (config.iceCandidatePoolSize) {\n      for (var i = config.iceCandidatePoolSize; i > 0; i--) {\n        this._iceGatherers = new window.RTCIceGatherer({\n          iceServers: config.iceServers,\n          gatherPolicy: config.iceTransportPolicy\n        });\n      }\n    } else {\n      config.iceCandidatePoolSize = 0;\n    }\n\n    this._config = config;\n\n    // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n    // everything that is needed to describe a SDP m-line.\n    this.transceivers = [];\n\n    this._sdpSessionId = SDPUtils.generateSessionId();\n    this._sdpSessionVersion = 0;\n\n    this._dtlsRole = undefined; // role for a=setup to use in answers.\n  };\n\n  RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n    var event = new Event('icegatheringstatechange');\n    this.dispatchEvent(event);\n    if (typeof this.onicegatheringstatechange === 'function') {\n      this.onicegatheringstatechange(event);\n    }\n  };\n\n  RTCPeerConnection.prototype.getConfiguration = function() {\n    return this._config;\n  };\n\n  RTCPeerConnection.prototype.getLocalStreams = function() {\n    return this.localStreams;\n  };\n\n  RTCPeerConnection.prototype.getRemoteStreams = function() {\n    return this.remoteStreams;\n  };\n\n  // internal helper to create a transceiver object.\n  // (whih is not yet the same as the WebRTC 1.0 transceiver)\n  RTCPeerConnection.prototype._createTransceiver = function(kind) {\n    var hasBundleTransport = this.transceivers.length > 0;\n    var transceiver = {\n      track: null,\n      iceGatherer: null,\n      iceTransport: null,\n      dtlsTransport: null,\n      localCapabilities: null,\n      remoteCapabilities: null,\n      rtpSender: null,\n      rtpReceiver: null,\n      kind: kind,\n      mid: null,\n      sendEncodingParameters: null,\n      recvEncodingParameters: null,\n      stream: null,\n      wantReceive: true\n    };\n    if (this.usingBundle && hasBundleTransport) {\n      transceiver.iceTransport = this.transceivers[0].iceTransport;\n      transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;\n    } else {\n      var transports = this._createIceAndDtlsTransports();\n      transceiver.iceTransport = transports.iceTransport;\n      transceiver.dtlsTransport = transports.dtlsTransport;\n    }\n    this.transceivers.push(transceiver);\n    return transceiver;\n  };\n\n  RTCPeerConnection.prototype.addTrack = function(track, stream) {\n    var transceiver;\n    for (var i = 0; i < this.transceivers.length; i++) {\n      if (!this.transceivers[i].track &&\n          this.transceivers[i].kind === track.kind) {\n        transceiver = this.transceivers[i];\n      }\n    }\n    if (!transceiver) {\n      transceiver = this._createTransceiver(track.kind);\n    }\n\n    this._maybeFireNegotiationNeeded();\n\n    if (this.localStreams.indexOf(stream) === -1) {\n      this.localStreams.push(stream);\n    }\n\n    transceiver.track = track;\n    transceiver.stream = stream;\n    transceiver.rtpSender = new window.RTCRtpSender(track,\n        transceiver.dtlsTransport);\n    return transceiver.rtpSender;\n  };\n\n  RTCPeerConnection.prototype.addStream = function(stream) {\n    var self = this;\n    if (edgeVersion >= 15025) {\n      stream.getTracks().forEach(function(track) {\n        self.addTrack(track, stream);\n      });\n    } else {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      // Fixed in 15025 (or earlier)\n      var clonedStream = stream.clone();\n      stream.getTracks().forEach(function(track, idx) {\n        var clonedTrack = clonedStream.getTracks()[idx];\n        track.addEventListener('enabled', function(event) {\n          clonedTrack.enabled = event.enabled;\n        });\n      });\n      clonedStream.getTracks().forEach(function(track) {\n        self.addTrack(track, clonedStream);\n      });\n    }\n  };\n\n  RTCPeerConnection.prototype.removeStream = function(stream) {\n    var idx = this.localStreams.indexOf(stream);\n    if (idx > -1) {\n      this.localStreams.splice(idx, 1);\n      this._maybeFireNegotiationNeeded();\n    }\n  };\n\n  RTCPeerConnection.prototype.getSenders = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpSender;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpSender;\n    });\n  };\n\n  RTCPeerConnection.prototype.getReceivers = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpReceiver;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpReceiver;\n    });\n  };\n\n\n  RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex,\n      usingBundle) {\n    var self = this;\n    if (usingBundle && sdpMLineIndex > 0) {\n      return this.transceivers[0].iceGatherer;\n    } else if (this._iceGatherers.length) {\n      return this._iceGatherers.shift();\n    }\n    var iceGatherer = new window.RTCIceGatherer({\n      iceServers: this._config.iceServers,\n      gatherPolicy: this._config.iceTransportPolicy\n    });\n    Object.defineProperty(iceGatherer, 'state',\n        {value: 'new', writable: true}\n    );\n\n    this.transceivers[sdpMLineIndex].candidates = [];\n    this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {\n      var end = !event.candidate || Object.keys(event.candidate).length === 0;\n      // polyfill since RTCIceGatherer.state is not implemented in\n      // Edge 10547 yet.\n      iceGatherer.state = end ? 'completed' : 'gathering';\n      if (self.transceivers[sdpMLineIndex].candidates !== null) {\n        self.transceivers[sdpMLineIndex].candidates.push(event.candidate);\n      }\n    };\n    iceGatherer.addEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    return iceGatherer;\n  };\n\n  // start gathering from an RTCIceGatherer.\n  RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {\n    var self = this;\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer.onlocalcandidate) {\n      return;\n    }\n    var candidates = this.transceivers[sdpMLineIndex].candidates;\n    this.transceivers[sdpMLineIndex].candidates = null;\n    iceGatherer.removeEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    iceGatherer.onlocalcandidate = function(evt) {\n      if (self.usingBundle && sdpMLineIndex > 0) {\n        // if we know that we use bundle we can drop candidates with\n        // ѕdpMLineIndex > 0. If we don't do this then our state gets\n        // confused since we dispose the extra ice gatherer.\n        return;\n      }\n      var event = new Event('icecandidate');\n      event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n      var cand = evt.candidate;\n      // Edge emits an empty object for RTCIceCandidateComplete‥\n      var end = !cand || Object.keys(cand).length === 0;\n      if (end) {\n        // polyfill since RTCIceGatherer.state is not implemented in\n        // Edge 10547 yet.\n        if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') {\n          iceGatherer.state = 'completed';\n        }\n      } else {\n        if (iceGatherer.state === 'new') {\n          iceGatherer.state = 'gathering';\n        }\n        // RTCIceCandidate doesn't have a component, needs to be added\n        cand.component = 1;\n        event.candidate.candidate = SDPUtils.writeCandidate(cand);\n      }\n\n      // update local description.\n      var sections = SDPUtils.splitSections(self.localDescription.sdp);\n      if (!end) {\n        sections[event.candidate.sdpMLineIndex + 1] +=\n            'a=' + event.candidate.candidate + '\\r\\n';\n      } else {\n        sections[event.candidate.sdpMLineIndex + 1] +=\n            'a=end-of-candidates\\r\\n';\n      }\n      self.localDescription.sdp = sections.join('');\n      var complete = self.transceivers.every(function(transceiver) {\n        return transceiver.iceGatherer &&\n            transceiver.iceGatherer.state === 'completed';\n      });\n\n      if (self.iceGatheringState !== 'gathering') {\n        self.iceGatheringState = 'gathering';\n        self._emitGatheringStateChange();\n      }\n\n      // Emit candidate. Also emit null candidate when all gatherers are\n      // complete.\n      if (!end) {\n        self.dispatchEvent(event);\n        if (typeof self.onicecandidate === 'function') {\n          self.onicecandidate(event);\n        }\n      }\n      if (complete) {\n        self.dispatchEvent(new Event('icecandidate'));\n        if (typeof self.onicecandidate === 'function') {\n          self.onicecandidate(new Event('icecandidate'));\n        }\n        self.iceGatheringState = 'complete';\n        self._emitGatheringStateChange();\n      }\n    };\n\n    // emit already gathered candidates.\n    window.setTimeout(function() {\n      candidates.forEach(function(candidate) {\n        var e = new Event('RTCIceGatherEvent');\n        e.candidate = candidate;\n        iceGatherer.onlocalcandidate(e);\n      });\n    }, 0);\n  };\n\n  // Create ICE transport and DTLS transport.\n  RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {\n    var self = this;\n    var iceTransport = new window.RTCIceTransport(null);\n    iceTransport.onicestatechange = function() {\n      self._updateConnectionState();\n    };\n\n    var dtlsTransport = new window.RTCDtlsTransport(iceTransport);\n    dtlsTransport.ondtlsstatechange = function() {\n      self._updateConnectionState();\n    };\n    dtlsTransport.onerror = function() {\n      // onerror does not set state to failed by itself.\n      Object.defineProperty(dtlsTransport, 'state',\n          {value: 'failed', writable: true});\n      self._updateConnectionState();\n    };\n\n    return {\n      iceTransport: iceTransport,\n      dtlsTransport: dtlsTransport\n    };\n  };\n\n  // Destroy ICE gatherer, ICE transport and DTLS transport.\n  // Without triggering the callbacks.\n  RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(\n      sdpMLineIndex) {\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer) {\n      delete iceGatherer.onlocalcandidate;\n      delete this.transceivers[sdpMLineIndex].iceGatherer;\n    }\n    var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;\n    if (iceTransport) {\n      delete iceTransport.onicestatechange;\n      delete this.transceivers[sdpMLineIndex].iceTransport;\n    }\n    var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;\n    if (dtlsTransport) {\n      delete dtlsTransport.ondtlsstatechange;\n      delete dtlsTransport.onerror;\n      delete this.transceivers[sdpMLineIndex].dtlsTransport;\n    }\n  };\n\n  // Start the RTP Sender and Receiver for a transceiver.\n  RTCPeerConnection.prototype._transceive = function(transceiver,\n      send, recv) {\n    var params = getCommonCapabilities(transceiver.localCapabilities,\n        transceiver.remoteCapabilities);\n    if (send && transceiver.rtpSender) {\n      params.encodings = transceiver.sendEncodingParameters;\n      params.rtcp = {\n        cname: SDPUtils.localCName,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.recvEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpSender.send(params);\n    }\n    if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {\n      // remove RTX field in Edge 14942\n      if (transceiver.kind === 'video'\n          && transceiver.recvEncodingParameters\n          && edgeVersion < 15019) {\n        transceiver.recvEncodingParameters.forEach(function(p) {\n          delete p.rtx;\n        });\n      }\n      params.encodings = transceiver.recvEncodingParameters;\n      params.rtcp = {\n        cname: transceiver.rtcpParameters.cname,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.sendEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpReceiver.receive(params);\n    }\n  };\n\n  RTCPeerConnection.prototype.setLocalDescription = function(description) {\n    var self = this;\n    var args = arguments;\n\n    if (!isActionAllowedInSignalingState('setLocalDescription',\n        description.type, this.signalingState)) {\n      return new Promise(function(resolve, reject) {\n        var e = new Error('Can not set local ' + description.type +\n            ' in state ' + self.signalingState);\n        e.name = 'InvalidStateError';\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [e]);\n        }\n        reject(e);\n      });\n    }\n\n    var sections;\n    var sessionpart;\n    if (description.type === 'offer') {\n      // VERY limited support for SDP munging. Limited to:\n      // * changing the order of codecs\n      sections = SDPUtils.splitSections(description.sdp);\n      sessionpart = sections.shift();\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var caps = SDPUtils.parseRtpParameters(mediaSection);\n        self.transceivers[sdpMLineIndex].localCapabilities = caps;\n      });\n\n      this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n        self._gather(transceiver.mid, sdpMLineIndex);\n      });\n    } else if (description.type === 'answer') {\n      sections = SDPUtils.splitSections(self.remoteDescription.sdp);\n      sessionpart = sections.shift();\n      var isIceLite = SDPUtils.matchPrefix(sessionpart,\n          'a=ice-lite').length > 0;\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var transceiver = self.transceivers[sdpMLineIndex];\n        var iceGatherer = transceiver.iceGatherer;\n        var iceTransport = transceiver.iceTransport;\n        var dtlsTransport = transceiver.dtlsTransport;\n        var localCapabilities = transceiver.localCapabilities;\n        var remoteCapabilities = transceiver.remoteCapabilities;\n\n        // treat bundle-only as not-rejected.\n        var rejected = SDPUtils.isRejected(mediaSection) &&\n            !SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 1;\n\n        if (!rejected && !transceiver.isDatachannel) {\n          var remoteIceParameters = SDPUtils.getIceParameters(\n              mediaSection, sessionpart);\n          var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n              mediaSection, sessionpart);\n          if (isIceLite) {\n            remoteDtlsParameters.role = 'server';\n          }\n\n          if (!self.usingBundle || sdpMLineIndex === 0) {\n            self._gather(transceiver.mid, sdpMLineIndex);\n            if (iceTransport.state === 'new') {\n              iceTransport.start(iceGatherer, remoteIceParameters,\n                  isIceLite ? 'controlling' : 'controlled');\n            }\n            if (dtlsTransport.state === 'new') {\n              dtlsTransport.start(remoteDtlsParameters);\n            }\n          }\n\n          // Calculate intersection of capabilities.\n          var params = getCommonCapabilities(localCapabilities,\n              remoteCapabilities);\n\n          // Start the RTCRtpSender. The RTCRtpReceiver for this\n          // transceiver has already been started in setRemoteDescription.\n          self._transceive(transceiver,\n              params.codecs.length > 0,\n              false);\n        }\n      });\n    }\n\n    this.localDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    switch (description.type) {\n      case 'offer':\n        this._updateSignalingState('have-local-offer');\n        break;\n      case 'answer':\n        this._updateSignalingState('stable');\n        break;\n      default:\n        throw new TypeError('unsupported type \"' + description.type +\n            '\"');\n    }\n\n    // If a success callback was provided, emit ICE candidates after it\n    // has been executed. Otherwise, emit callback after the Promise is\n    // resolved.\n    var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n        arguments[1];\n    return new Promise(function(resolve) {\n      if (cb) {\n        cb.apply(null);\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.setRemoteDescription = function(description) {\n    var self = this;\n    var args = arguments;\n\n    if (!isActionAllowedInSignalingState('setRemoteDescription',\n        description.type, this.signalingState)) {\n      return new Promise(function(resolve, reject) {\n        var e = new Error('Can not set remote ' + description.type +\n            ' in state ' + self.signalingState);\n        e.name = 'InvalidStateError';\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [e]);\n        }\n        reject(e);\n      });\n    }\n\n    var streams = {};\n    this.remoteStreams.forEach(function(stream) {\n      streams[stream.id] = stream;\n    });\n    var receiverList = [];\n    var sections = SDPUtils.splitSections(description.sdp);\n    var sessionpart = sections.shift();\n    var isIceLite = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-lite').length > 0;\n    var usingBundle = SDPUtils.matchPrefix(sessionpart,\n        'a=group:BUNDLE ').length > 0;\n    this.usingBundle = usingBundle;\n    var iceOptions = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-options:')[0];\n    if (iceOptions) {\n      this.canTrickleIceCandidates = iceOptions.substr(14).split(' ')\n          .indexOf('trickle') >= 0;\n    } else {\n      this.canTrickleIceCandidates = false;\n    }\n\n    sections.forEach(function(mediaSection, sdpMLineIndex) {\n      var lines = SDPUtils.splitLines(mediaSection);\n      var kind = SDPUtils.getKind(mediaSection);\n      // treat bundle-only as not-rejected.\n      var rejected = SDPUtils.isRejected(mediaSection) &&\n          !SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 1;\n      var protocol = lines[0].substr(2).split(' ')[2];\n\n      var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n      var remoteMsid = SDPUtils.parseMsid(mediaSection);\n\n      var mid = SDPUtils.getMid(mediaSection) || SDPUtils.generateIdentifier();\n\n      // Reject datachannels which are not implemented yet.\n      if (kind === 'application' && protocol === 'DTLS/SCTP') {\n        self.transceivers[sdpMLineIndex] = {\n          mid: mid,\n          isDatachannel: true\n        };\n        return;\n      }\n\n      var transceiver;\n      var iceGatherer;\n      var iceTransport;\n      var dtlsTransport;\n      var rtpReceiver;\n      var sendEncodingParameters;\n      var recvEncodingParameters;\n      var localCapabilities;\n\n      var track;\n      // FIXME: ensure the mediaSection has rtcp-mux set.\n      var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n      var remoteIceParameters;\n      var remoteDtlsParameters;\n      if (!rejected) {\n        remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters.role = 'client';\n      }\n      recvEncodingParameters =\n          SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n      var rtcpParameters = SDPUtils.parseRtcpParameters(mediaSection);\n\n      var isComplete = SDPUtils.matchPrefix(mediaSection,\n          'a=end-of-candidates', sessionpart).length > 0;\n      var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n          .map(function(cand) {\n            return SDPUtils.parseCandidate(cand);\n          })\n          .filter(function(cand) {\n            return cand.component === 1;\n          });\n\n      // Check if we can use BUNDLE and dispose transports.\n      if ((description.type === 'offer' || description.type === 'answer') &&\n          !rejected && usingBundle && sdpMLineIndex > 0 &&\n          self.transceivers[sdpMLineIndex]) {\n        self._disposeIceAndDtlsTransports(sdpMLineIndex);\n        self.transceivers[sdpMLineIndex].iceGatherer =\n            self.transceivers[0].iceGatherer;\n        self.transceivers[sdpMLineIndex].iceTransport =\n            self.transceivers[0].iceTransport;\n        self.transceivers[sdpMLineIndex].dtlsTransport =\n            self.transceivers[0].dtlsTransport;\n        if (self.transceivers[sdpMLineIndex].rtpSender) {\n          self.transceivers[sdpMLineIndex].rtpSender.setTransport(\n              self.transceivers[0].dtlsTransport);\n        }\n        if (self.transceivers[sdpMLineIndex].rtpReceiver) {\n          self.transceivers[sdpMLineIndex].rtpReceiver.setTransport(\n              self.transceivers[0].dtlsTransport);\n        }\n      }\n      if (description.type === 'offer' && !rejected) {\n        transceiver = self.transceivers[sdpMLineIndex] ||\n            self._createTransceiver(kind);\n        transceiver.mid = mid;\n\n        if (!transceiver.iceGatherer) {\n          transceiver.iceGatherer = self._createIceGatherer(sdpMLineIndex,\n              usingBundle);\n        }\n\n        if (cands.length && transceiver.iceTransport.state === 'new') {\n          if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {\n            transceiver.iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);\n\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        if (edgeVersion < 15019) {\n          localCapabilities.codecs = localCapabilities.codecs.filter(\n              function(codec) {\n                return codec.name !== 'rtx';\n              });\n        }\n\n        sendEncodingParameters = transceiver.sendEncodingParameters || [{\n          ssrc: (2 * sdpMLineIndex + 2) * 1001\n        }];\n\n        var isNewTrack = false;\n        if (direction === 'sendrecv' || direction === 'sendonly') {\n          isNewTrack = !transceiver.rtpReceiver;\n          rtpReceiver = transceiver.rtpReceiver ||\n              new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);\n\n          if (isNewTrack) {\n            var stream;\n            track = rtpReceiver.track;\n            // FIXME: does not work with Plan B.\n            if (remoteMsid) {\n              if (!streams[remoteMsid.stream]) {\n                streams[remoteMsid.stream] = new window.MediaStream();\n                Object.defineProperty(streams[remoteMsid.stream], 'id', {\n                  get: function() {\n                    return remoteMsid.stream;\n                  }\n                });\n              }\n              Object.defineProperty(track, 'id', {\n                get: function() {\n                  return remoteMsid.track;\n                }\n              });\n              stream = streams[remoteMsid.stream];\n            } else {\n              if (!streams.default) {\n                streams.default = new window.MediaStream();\n              }\n              stream = streams.default;\n            }\n            stream.addTrack(track);\n            receiverList.push([track, rtpReceiver, stream]);\n          }\n        }\n\n        transceiver.localCapabilities = localCapabilities;\n        transceiver.remoteCapabilities = remoteCapabilities;\n        transceiver.rtpReceiver = rtpReceiver;\n        transceiver.rtcpParameters = rtcpParameters;\n        transceiver.sendEncodingParameters = sendEncodingParameters;\n        transceiver.recvEncodingParameters = recvEncodingParameters;\n\n        // Start the RTCRtpReceiver now. The RTPSender is started in\n        // setLocalDescription.\n        self._transceive(self.transceivers[sdpMLineIndex],\n            false,\n            isNewTrack);\n      } else if (description.type === 'answer' && !rejected) {\n        transceiver = self.transceivers[sdpMLineIndex];\n        iceGatherer = transceiver.iceGatherer;\n        iceTransport = transceiver.iceTransport;\n        dtlsTransport = transceiver.dtlsTransport;\n        rtpReceiver = transceiver.rtpReceiver;\n        sendEncodingParameters = transceiver.sendEncodingParameters;\n        localCapabilities = transceiver.localCapabilities;\n\n        self.transceivers[sdpMLineIndex].recvEncodingParameters =\n            recvEncodingParameters;\n        self.transceivers[sdpMLineIndex].remoteCapabilities =\n            remoteCapabilities;\n        self.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;\n\n        if (cands.length && iceTransport.state === 'new') {\n          if ((isIceLite || isComplete) &&\n              (!usingBundle || sdpMLineIndex === 0)) {\n            iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        if (!usingBundle || sdpMLineIndex === 0) {\n          if (iceTransport.state === 'new') {\n            iceTransport.start(iceGatherer, remoteIceParameters,\n                'controlling');\n          }\n          if (dtlsTransport.state === 'new') {\n            dtlsTransport.start(remoteDtlsParameters);\n          }\n        }\n\n        self._transceive(transceiver,\n            direction === 'sendrecv' || direction === 'recvonly',\n            direction === 'sendrecv' || direction === 'sendonly');\n\n        if (rtpReceiver &&\n            (direction === 'sendrecv' || direction === 'sendonly')) {\n          track = rtpReceiver.track;\n          if (remoteMsid) {\n            if (!streams[remoteMsid.stream]) {\n              streams[remoteMsid.stream] = new window.MediaStream();\n            }\n            streams[remoteMsid.stream].addTrack(track);\n            receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);\n          } else {\n            if (!streams.default) {\n              streams.default = new window.MediaStream();\n            }\n            streams.default.addTrack(track);\n            receiverList.push([track, rtpReceiver, streams.default]);\n          }\n        } else {\n          // FIXME: actually the receiver should be created later.\n          delete transceiver.rtpReceiver;\n        }\n      }\n    });\n\n    if (this._dtlsRole === undefined) {\n      this._dtlsRole = description.type === 'offer' ? 'active' : 'passive';\n    }\n\n    this.remoteDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    switch (description.type) {\n      case 'offer':\n        this._updateSignalingState('have-remote-offer');\n        break;\n      case 'answer':\n        this._updateSignalingState('stable');\n        break;\n      default:\n        throw new TypeError('unsupported type \"' + description.type +\n            '\"');\n    }\n    Object.keys(streams).forEach(function(sid) {\n      var stream = streams[sid];\n      if (stream.getTracks().length) {\n        if (self.remoteStreams.indexOf(stream) === -1) {\n          self.remoteStreams.push(stream);\n          var event = new Event('addstream');\n          event.stream = stream;\n          window.setTimeout(function() {\n            self.dispatchEvent(event);\n            if (typeof self.onaddstream === 'function') {\n              self.onaddstream(event);\n            }\n          });\n        }\n\n        receiverList.forEach(function(item) {\n          var track = item[0];\n          var receiver = item[1];\n          if (stream.id !== item[2].id) {\n            return;\n          }\n          var trackEvent = new Event('track');\n          trackEvent.track = track;\n          trackEvent.receiver = receiver;\n          trackEvent.transceiver = {receiver: receiver};\n          trackEvent.streams = [stream];\n          window.setTimeout(function() {\n            self.dispatchEvent(trackEvent);\n            if (typeof self.ontrack === 'function') {\n              self.ontrack(trackEvent);\n            }\n          });\n        });\n      }\n    });\n\n    // check whether addIceCandidate({}) was called within four seconds after\n    // setRemoteDescription.\n    window.setTimeout(function() {\n      if (!(self && self.transceivers)) {\n        return;\n      }\n      self.transceivers.forEach(function(transceiver) {\n        if (transceiver.iceTransport &&\n            transceiver.iceTransport.state === 'new' &&\n            transceiver.iceTransport.getRemoteCandidates().length > 0) {\n          console.warn('Timeout for addRemoteCandidate. Consider sending ' +\n              'an end-of-candidates notification');\n          transceiver.iceTransport.addRemoteCandidate({});\n        }\n      });\n    }, 4000);\n\n    return new Promise(function(resolve) {\n      if (args.length > 1 && typeof args[1] === 'function') {\n        args[1].apply(null);\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.close = function() {\n    this.transceivers.forEach(function(transceiver) {\n      /* not yet\n      if (transceiver.iceGatherer) {\n        transceiver.iceGatherer.close();\n      }\n      */\n      if (transceiver.iceTransport) {\n        transceiver.iceTransport.stop();\n      }\n      if (transceiver.dtlsTransport) {\n        transceiver.dtlsTransport.stop();\n      }\n      if (transceiver.rtpSender) {\n        transceiver.rtpSender.stop();\n      }\n      if (transceiver.rtpReceiver) {\n        transceiver.rtpReceiver.stop();\n      }\n    });\n    // FIXME: clean up tracks, local streams, remote streams, etc\n    this._updateSignalingState('closed');\n  };\n\n  // Update the signaling state.\n  RTCPeerConnection.prototype._updateSignalingState = function(newState) {\n    this.signalingState = newState;\n    var event = new Event('signalingstatechange');\n    this.dispatchEvent(event);\n    if (typeof this.onsignalingstatechange === 'function') {\n      this.onsignalingstatechange(event);\n    }\n  };\n\n  // Determine whether to fire the negotiationneeded event.\n  RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {\n    var self = this;\n    if (this.signalingState !== 'stable' || this.needNegotiation === true) {\n      return;\n    }\n    this.needNegotiation = true;\n    window.setTimeout(function() {\n      if (self.needNegotiation === false) {\n        return;\n      }\n      self.needNegotiation = false;\n      var event = new Event('negotiationneeded');\n      self.dispatchEvent(event);\n      if (typeof self.onnegotiationneeded === 'function') {\n        self.onnegotiationneeded(event);\n      }\n    }, 0);\n  };\n\n  // Update the connection state.\n  RTCPeerConnection.prototype._updateConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      connecting: 0,\n      checking: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      states[transceiver.iceTransport.state]++;\n      states[transceiver.dtlsTransport.state]++;\n    });\n    // ICETransport.completed and connected are the same for this purpose.\n    states.connected += states.completed;\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.connecting > 0 || states.checking > 0) {\n      newState = 'connecting';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0 || states.completed > 0) {\n      newState = 'connected';\n    }\n\n    if (newState !== this.iceConnectionState) {\n      this.iceConnectionState = newState;\n      var event = new Event('iceconnectionstatechange');\n      this.dispatchEvent(event);\n      if (typeof this.oniceconnectionstatechange === 'function') {\n        this.oniceconnectionstatechange(event);\n      }\n    }\n  };\n\n  RTCPeerConnection.prototype.createOffer = function() {\n    var self = this;\n    var args = arguments;\n\n    var offerOptions;\n    if (arguments.length === 1 && typeof arguments[0] !== 'function') {\n      offerOptions = arguments[0];\n    } else if (arguments.length === 3) {\n      offerOptions = arguments[2];\n    }\n\n    var numAudioTracks = this.transceivers.filter(function(t) {\n      return t.kind === 'audio';\n    }).length;\n    var numVideoTracks = this.transceivers.filter(function(t) {\n      return t.kind === 'video';\n    }).length;\n\n    // Determine number of audio and video tracks we need to send/recv.\n    if (offerOptions) {\n      // Reject Chrome legacy constraints.\n      if (offerOptions.mandatory || offerOptions.optional) {\n        throw new TypeError(\n            'Legacy mandatory/optional constraints not supported.');\n      }\n      if (offerOptions.offerToReceiveAudio !== undefined) {\n        if (offerOptions.offerToReceiveAudio === true) {\n          numAudioTracks = 1;\n        } else if (offerOptions.offerToReceiveAudio === false) {\n          numAudioTracks = 0;\n        } else {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n      }\n      if (offerOptions.offerToReceiveVideo !== undefined) {\n        if (offerOptions.offerToReceiveVideo === true) {\n          numVideoTracks = 1;\n        } else if (offerOptions.offerToReceiveVideo === false) {\n          numVideoTracks = 0;\n        } else {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n    }\n\n    this.transceivers.forEach(function(transceiver) {\n      if (transceiver.kind === 'audio') {\n        numAudioTracks--;\n        if (numAudioTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      } else if (transceiver.kind === 'video') {\n        numVideoTracks--;\n        if (numVideoTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      }\n    });\n\n    // Create M-lines for recvonly streams.\n    while (numAudioTracks > 0 || numVideoTracks > 0) {\n      if (numAudioTracks > 0) {\n        this._createTransceiver('audio');\n        numAudioTracks--;\n      }\n      if (numVideoTracks > 0) {\n        this._createTransceiver('video');\n        numVideoTracks--;\n      }\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(this._sdpSessionId,\n        this._sdpSessionVersion++);\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      // For each track, create an ice gatherer, ice transport,\n      // dtls transport, potentially rtpsender and rtpreceiver.\n      var track = transceiver.track;\n      var kind = transceiver.kind;\n      var mid = SDPUtils.generateIdentifier();\n      transceiver.mid = mid;\n\n      if (!transceiver.iceGatherer) {\n        transceiver.iceGatherer = self._createIceGatherer(sdpMLineIndex,\n            self.usingBundle);\n      }\n\n      var localCapabilities = window.RTCRtpSender.getCapabilities(kind);\n      // filter RTX until additional stuff needed for RTX is implemented\n      // in adapter.js\n      if (edgeVersion < 15019) {\n        localCapabilities.codecs = localCapabilities.codecs.filter(\n            function(codec) {\n              return codec.name !== 'rtx';\n            });\n      }\n      localCapabilities.codecs.forEach(function(codec) {\n        // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n        // by adding level-asymmetry-allowed=1\n        if (codec.name === 'H264' &&\n            codec.parameters['level-asymmetry-allowed'] === undefined) {\n          codec.parameters['level-asymmetry-allowed'] = '1';\n        }\n      });\n\n      // generate an ssrc now, to be used later in rtpSender.send\n      var sendEncodingParameters = transceiver.sendEncodingParameters || [{\n        ssrc: (2 * sdpMLineIndex + 1) * 1001\n      }];\n      if (track) {\n        // add RTX\n        if (edgeVersion >= 15019 && kind === 'video' &&\n            !sendEncodingParameters[0].rtx) {\n          sendEncodingParameters[0].rtx = {\n            ssrc: sendEncodingParameters[0].ssrc + 1\n          };\n        }\n      }\n\n      if (transceiver.wantReceive) {\n        transceiver.rtpReceiver = new window.RTCRtpReceiver(\n            transceiver.dtlsTransport, kind);\n      }\n\n      transceiver.localCapabilities = localCapabilities;\n      transceiver.sendEncodingParameters = sendEncodingParameters;\n    });\n\n    // always offer BUNDLE and dispose on return if not supported.\n    if (this._config.bundlePolicy !== 'max-compat') {\n      sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    sdp += 'a=ice-options:trickle\\r\\n';\n\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      sdp += writeMediaSection(transceiver, transceiver.localCapabilities,\n          'offer', transceiver.stream, self._dtlsRole);\n      sdp += 'a=rtcp-rsize\\r\\n';\n\n      if (transceiver.iceGatherer && self.iceGatheringState !== 'new' &&\n          (sdpMLineIndex === 0 || !self.usingBundle)) {\n        transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {\n          cand.component = 1;\n          sdp += 'a=' + SDPUtils.writeCandidate(cand) + '\\r\\n';\n        });\n\n        if (transceiver.iceGatherer.state === 'completed') {\n          sdp += 'a=end-of-candidates\\r\\n';\n        }\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'offer',\n      sdp: sdp\n    });\n    return new Promise(function(resolve) {\n      if (args.length > 0 && typeof args[0] === 'function') {\n        args[0].apply(null, [desc]);\n        resolve();\n        return;\n      }\n      resolve(desc);\n    });\n  };\n\n  RTCPeerConnection.prototype.createAnswer = function() {\n    var self = this;\n    var args = arguments;\n\n    var sdp = SDPUtils.writeSessionBoilerplate(this._sdpSessionId,\n        this._sdpSessionVersion++);\n    if (this.usingBundle) {\n      sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    var mediaSectionsInOffer = SDPUtils.splitSections(\n        this.remoteDescription.sdp).length - 1;\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      if (sdpMLineIndex + 1 > mediaSectionsInOffer) {\n        return;\n      }\n      if (transceiver.isDatachannel) {\n        sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n' +\n            'c=IN IP4 0.0.0.0\\r\\n' +\n            'a=mid:' + transceiver.mid + '\\r\\n';\n        return;\n      }\n\n      // FIXME: look at direction.\n      if (transceiver.stream) {\n        var localTrack;\n        if (transceiver.kind === 'audio') {\n          localTrack = transceiver.stream.getAudioTracks()[0];\n        } else if (transceiver.kind === 'video') {\n          localTrack = transceiver.stream.getVideoTracks()[0];\n        }\n        if (localTrack) {\n          // add RTX\n          if (edgeVersion >= 15019 && transceiver.kind === 'video' &&\n              !transceiver.sendEncodingParameters[0].rtx) {\n            transceiver.sendEncodingParameters[0].rtx = {\n              ssrc: transceiver.sendEncodingParameters[0].ssrc + 1\n            };\n          }\n        }\n      }\n\n      // Calculate intersection of capabilities.\n      var commonCapabilities = getCommonCapabilities(\n          transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n\n      var hasRtx = commonCapabilities.codecs.filter(function(c) {\n        return c.name.toLowerCase() === 'rtx';\n      }).length;\n      if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n        delete transceiver.sendEncodingParameters[0].rtx;\n      }\n\n      sdp += writeMediaSection(transceiver, commonCapabilities,\n          'answer', transceiver.stream, self._dtlsRole);\n      if (transceiver.rtcpParameters &&\n          transceiver.rtcpParameters.reducedSize) {\n        sdp += 'a=rtcp-rsize\\r\\n';\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'answer',\n      sdp: sdp\n    });\n    return new Promise(function(resolve) {\n      if (args.length > 0 && typeof args[0] === 'function') {\n        args[0].apply(null, [desc]);\n        resolve();\n        return;\n      }\n      resolve(desc);\n    });\n  };\n\n  RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n    var err;\n    var sections;\n    if (!candidate || candidate.candidate === '') {\n      for (var j = 0; j < this.transceivers.length; j++) {\n        if (this.transceivers[j].isDatachannel) {\n          continue;\n        }\n        this.transceivers[j].iceTransport.addRemoteCandidate({});\n        sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n        sections[j + 1] += 'a=end-of-candidates\\r\\n';\n        this.remoteDescription.sdp = sections.join('');\n        if (this.usingBundle) {\n          break;\n        }\n      }\n    } else if (!(candidate.sdpMLineIndex !== undefined || candidate.sdpMid)) {\n      throw new TypeError('sdpMLineIndex or sdpMid required');\n    } else if (!this.remoteDescription) {\n      err = new Error('Can not add ICE candidate without ' +\n          'a remote description');\n      err.name = 'InvalidStateError';\n    } else {\n      var sdpMLineIndex = candidate.sdpMLineIndex;\n      if (candidate.sdpMid) {\n        for (var i = 0; i < this.transceivers.length; i++) {\n          if (this.transceivers[i].mid === candidate.sdpMid) {\n            sdpMLineIndex = i;\n            break;\n          }\n        }\n      }\n      var transceiver = this.transceivers[sdpMLineIndex];\n      if (transceiver) {\n        if (transceiver.isDatachannel) {\n          return Promise.resolve();\n        }\n        var cand = Object.keys(candidate.candidate).length > 0 ?\n            SDPUtils.parseCandidate(candidate.candidate) : {};\n        // Ignore Chrome's invalid candidates since Edge does not like them.\n        if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n          return Promise.resolve();\n        }\n        // Ignore RTCP candidates, we assume RTCP-MUX.\n        if (cand.component && cand.component !== 1) {\n          return Promise.resolve();\n        }\n        // when using bundle, avoid adding candidates to the wrong\n        // ice transport. And avoid adding candidates added in the SDP.\n        if (sdpMLineIndex === 0 || (sdpMLineIndex > 0 &&\n            transceiver.iceTransport !== this.transceivers[0].iceTransport)) {\n          if (!maybeAddCandidate(transceiver.iceTransport, cand)) {\n            err = new Error('Can not add ICE candidate');\n            err.name = 'OperationError';\n          }\n        }\n\n        if (!err) {\n          // update the remoteDescription.\n          var candidateString = candidate.candidate.trim();\n          if (candidateString.indexOf('a=') === 0) {\n            candidateString = candidateString.substr(2);\n          }\n          sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n          sections[sdpMLineIndex + 1] += 'a=' +\n              (cand.type ? candidateString : 'end-of-candidates')\n              + '\\r\\n';\n          this.remoteDescription.sdp = sections.join('');\n        }\n      } else {\n        err = new Error('Can not add ICE candidate');\n        err.name = 'OperationError';\n      }\n    }\n    var args = arguments;\n    return new Promise(function(resolve, reject) {\n      if (err) {\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [err]);\n        }\n        reject(err);\n      } else {\n        if (args.length > 1 && typeof args[1] === 'function') {\n          args[1].apply(null);\n        }\n        resolve();\n      }\n    });\n  };\n\n  RTCPeerConnection.prototype.getStats = function() {\n    var promises = [];\n    this.transceivers.forEach(function(transceiver) {\n      ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n          'dtlsTransport'].forEach(function(method) {\n            if (transceiver[method]) {\n              promises.push(transceiver[method].getStats());\n            }\n          });\n    });\n    var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n        arguments[1];\n    var fixStatsType = function(stat) {\n      return {\n        inboundrtp: 'inbound-rtp',\n        outboundrtp: 'outbound-rtp',\n        candidatepair: 'candidate-pair',\n        localcandidate: 'local-candidate',\n        remotecandidate: 'remote-candidate'\n      }[stat.type] || stat.type;\n    };\n    return new Promise(function(resolve) {\n      // shim getStats with maplike support\n      var results = new Map();\n      Promise.all(promises).then(function(res) {\n        res.forEach(function(result) {\n          Object.keys(result).forEach(function(id) {\n            result[id].type = fixStatsType(result[id]);\n            results.set(id, result[id]);\n          });\n        });\n        if (cb) {\n          cb.apply(null, results);\n        }\n        resolve(results);\n      });\n    });\n  };\n  return RTCPeerConnection;\n};\n\n\n\n/***/ }),\n\n/***/ 2476:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var navigator = window && window.navigator;\n\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n\n\n\n/***/ }),\n\n/***/ 2477:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = __webpack_require__(2167);\n\nvar firefoxShim = {\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.transceiver = {receiver: event.receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n    if (typeof window === 'object' && window.RTCTrackEvent &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        !('transceiver' in window.RTCTrackEvent.prototype)) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new window.mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (window.mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = window.mozRTCSessionDescription;\n      window.RTCIceCandidate = window.mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function(stats) {\n      var map = new Map();\n      Object.keys(stats).forEach(function(key) {\n        map.set(key, stats[key]);\n        map[key] = stats[key];\n      });\n      return map;\n    };\n\n    var modernStatsTypes = {\n      inboundrtp: 'inbound-rtp',\n      outboundrtp: 'outbound-rtp',\n      candidatepair: 'candidate-pair',\n      localcandidate: 'local-candidate',\n      remotecandidate: 'remote-candidate'\n    };\n\n    var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(\n      selector,\n      onSucc,\n      onErr\n    ) {\n      return nativeGetStats.apply(this, [selector || null])\n        .then(function(stats) {\n          if (browserDetails.version < 48) {\n            stats = makeMapStats(stats);\n          }\n          if (browserDetails.version < 53 && !onSucc) {\n            // Shim only promise getStats with spec-hyphens in type names\n            // Leave callback version alone; misc old uses of forEach before Map\n            try {\n              stats.forEach(function(stat) {\n                stat.type = modernStatsTypes[stat.type] || stat.type;\n              });\n            } catch (e) {\n              if (e.name !== 'TypeError') {\n                throw e;\n              }\n              // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n              stats.forEach(function(stat, i) {\n                stats.set(i, Object.assign({}, stat, {\n                  type: modernStatsTypes[stat.type] || stat.type\n                }));\n              });\n            }\n          }\n          return stats;\n        })\n        .then(onSucc, onErr);\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimOnTrack: firefoxShim.shimOnTrack,\n  shimSourceObject: firefoxShim.shimSourceObject,\n  shimPeerConnection: firefoxShim.shimPeerConnection,\n  shimGetUserMedia: __webpack_require__(2478)\n};\n\n\n\n/***/ }),\n\n/***/ 2478:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = __webpack_require__(2167);\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n  var MediaStreamTrack = window && window.MediaStreamTrack;\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        InternalError: 'NotReadableError',\n        NotSupportedError: 'TypeError',\n        PermissionDeniedError: 'NotAllowedError',\n        SecurityError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    var remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        var obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n        'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n\n\n\n/***/ }),\n\n/***/ 2479:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nvar utils = __webpack_require__(2167);\n\nvar safariShim = {\n  // TODO: DrAlex, should be here, double check against LayoutTests\n\n  // TODO: once the back-end for the mac port is done, add.\n  // TODO: check for webkitGTK+\n  // shimPeerConnection: function() { },\n\n  shimLocalStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getLocalStreams = function() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n    }\n    if (!('getStreamById' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getStreamById = function(id) {\n        var result = null;\n        if (this._localStreams) {\n          this._localStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        if (this._remoteStreams) {\n          this._remoteStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        return result;\n      };\n    }\n    if (!('addStream' in window.RTCPeerConnection.prototype)) {\n      var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        if (this._localStreams.indexOf(stream) === -1) {\n          this._localStreams.push(stream);\n        }\n        var self = this;\n        stream.getTracks().forEach(function(track) {\n          _addTrack.call(self, track, stream);\n        });\n      };\n\n      window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n        if (stream) {\n          if (!this._localStreams) {\n            this._localStreams = [stream];\n          } else if (this._localStreams.indexOf(stream) === -1) {\n            this._localStreams.push(stream);\n          }\n        }\n        _addTrack.call(this, track, stream);\n      };\n    }\n    if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        var index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        var self = this;\n        var tracks = stream.getTracks();\n        this.getSenders().forEach(function(sender) {\n          if (tracks.indexOf(sender.track) !== -1) {\n            self.removeTrack(sender);\n          }\n        });\n      };\n    }\n  },\n  shimRemoteStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getRemoteStreams = function() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n    }\n    if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n        get: function() {\n          return this._onaddstream;\n        },\n        set: function(f) {\n          if (this._onaddstream) {\n            this.removeEventListener('addstream', this._onaddstream);\n            this.removeEventListener('track', this._onaddstreampoly);\n          }\n          this.addEventListener('addstream', this._onaddstream = f);\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            var stream = e.streams[0];\n            if (!this._remoteStreams) {\n              this._remoteStreams = [];\n            }\n            if (this._remoteStreams.indexOf(stream) >= 0) {\n              return;\n            }\n            this._remoteStreams.push(stream);\n            var event = new Event('addstream');\n            event.stream = e.streams[0];\n            this.dispatchEvent(event);\n          }.bind(this));\n        }\n      });\n    }\n  },\n  shimCallbacksAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    var prototype = window.RTCPeerConnection.prototype;\n    var createOffer = prototype.createOffer;\n    var createAnswer = prototype.createAnswer;\n    var setLocalDescription = prototype.setLocalDescription;\n    var setRemoteDescription = prototype.setRemoteDescription;\n    var addIceCandidate = prototype.addIceCandidate;\n\n    prototype.createOffer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    prototype.createAnswer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    var withCallback = function(description, successCallback, failureCallback) {\n      var promise = setLocalDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setLocalDescription = withCallback;\n\n    withCallback = function(description, successCallback, failureCallback) {\n      var promise = setRemoteDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setRemoteDescription = withCallback;\n\n    withCallback = function(candidate, successCallback, failureCallback) {\n      var promise = addIceCandidate.apply(this, [candidate]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.addIceCandidate = withCallback;\n  },\n  shimGetUserMedia: function(window) {\n    var navigator = window && window.navigator;\n\n    if (!navigator.getUserMedia) {\n      if (navigator.webkitGetUserMedia) {\n        navigator.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);\n      } else if (navigator.mediaDevices &&\n          navigator.mediaDevices.getUserMedia) {\n        navigator.getUserMedia = function(constraints, cb, errcb) {\n          navigator.mediaDevices.getUserMedia(constraints)\n          .then(cb, errcb);\n        }.bind(navigator);\n      }\n    }\n  },\n  shimRTCIceServerUrls: function(window) {\n    // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n    var OrigPeerConnection = window.RTCPeerConnection;\n    window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        var newIceServers = [];\n        for (var i = 0; i < pcConfig.iceServers.length; i++) {\n          var server = pcConfig.iceServers[i];\n          if (!server.hasOwnProperty('urls') &&\n              server.hasOwnProperty('url')) {\n            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n    window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n    // wrap static methods. Currently just generateCertificate.\n    if ('generateCertificate' in window.RTCPeerConnection) {\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n  },\n  shimTrackEventTransceiver: function(window) {\n    // Add event.transceiver member over deprecated event.receiver\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        // can't check 'transceiver' in window.RTCTrackEvent.prototype, as it is\n        // defined for some reason even when window.RTCTransceiver is not.\n        !window.RTCTransceiver) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimCallbacksAPI: safariShim.shimCallbacksAPI,\n  shimLocalStreamsAPI: safariShim.shimLocalStreamsAPI,\n  shimRemoteStreamsAPI: safariShim.shimRemoteStreamsAPI,\n  shimGetUserMedia: safariShim.shimGetUserMedia,\n  shimRTCIceServerUrls: safariShim.shimRTCIceServerUrls,\n  shimTrackEventTransceiver: safariShim.shimTrackEventTransceiver\n  // TODO\n  // shimPeerConnection: safariShim.shimPeerConnection\n};\n\n\n\n/***/ }),\n\n/***/ 2480:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = __webpack_require__(2199);\nvar utils = __webpack_require__(2167);\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object.\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  var nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    var wrappedCallback = function(e) {\n      cb(wrapper(e));\n    };\n    this._eventMap = this._eventMap || {};\n    this._eventMap[cb] = wrappedCallback;\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  var nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[cb]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    var unwrappedCb = this._eventMap[cb];\n    delete this._eventMap[cb];\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get: function() {\n      return this['_on' + eventNameToWrap];\n    },\n    set: function(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap] = cb);\n      }\n    }\n  });\n}\n\nmodule.exports = {\n  shimRTCIceCandidate: function(window) {\n    // foundation is arbitrarily chosen as an indicator for full support for\n    // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n    if (window.RTCIceCandidate && 'foundation' in\n        window.RTCIceCandidate.prototype) {\n      return;\n    }\n\n    var NativeRTCIceCandidate = window.RTCIceCandidate;\n    window.RTCIceCandidate = function(args) {\n      // Remove the a= which shouldn't be part of the candidate string.\n      if (typeof args === 'object' && args.candidate &&\n          args.candidate.indexOf('a=') === 0) {\n        args = JSON.parse(JSON.stringify(args));\n        args.candidate = args.candidate.substr(2);\n      }\n\n      // Augment the native candidate with the parsed fields.\n      var nativeCandidate = new NativeRTCIceCandidate(args);\n      var parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n      var augmentedCandidate = Object.assign(nativeCandidate,\n          parsedCandidate);\n\n      // Add a serializer that does not serialize the extra attributes.\n      augmentedCandidate.toJSON = function() {\n        return {\n          candidate: augmentedCandidate.candidate,\n          sdpMid: augmentedCandidate.sdpMid,\n          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n          usernameFragment: augmentedCandidate.usernameFragment,\n        };\n      };\n      return augmentedCandidate;\n    };\n\n    // Hook up the augmented candidate in onicecandidate and\n    // addEventListener('icecandidate', ...)\n    wrapPeerConnectionEvent(window, 'icecandidate', function(e) {\n      if (e.candidate) {\n        Object.defineProperty(e, 'candidate', {\n          value: new window.RTCIceCandidate(e.candidate),\n          writable: 'false'\n        });\n      }\n      return e;\n    });\n  },\n\n  // shimCreateObjectURL must be called before shimSourceObject to avoid loop.\n\n  shimCreateObjectURL: function(window) {\n    var URL = window && window.URL;\n\n    if (!(typeof window === 'object' && window.HTMLMediaElement &&\n          'srcObject' in window.HTMLMediaElement.prototype &&\n        URL.createObjectURL && URL.revokeObjectURL)) {\n      // Only shim CreateObjectURL using srcObject if srcObject exists.\n      return undefined;\n    }\n\n    var nativeCreateObjectURL = URL.createObjectURL.bind(URL);\n    var nativeRevokeObjectURL = URL.revokeObjectURL.bind(URL);\n    var streams = new Map(), newId = 0;\n\n    URL.createObjectURL = function(stream) {\n      if ('getTracks' in stream) {\n        var url = 'polyblob:' + (++newId);\n        streams.set(url, stream);\n        utils.deprecated('URL.createObjectURL(stream)',\n            'elem.srcObject = stream');\n        return url;\n      }\n      return nativeCreateObjectURL(stream);\n    };\n    URL.revokeObjectURL = function(url) {\n      nativeRevokeObjectURL(url);\n      streams.delete(url);\n    };\n\n    var dsc = Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,\n                                              'src');\n    Object.defineProperty(window.HTMLMediaElement.prototype, 'src', {\n      get: function() {\n        return dsc.get.apply(this);\n      },\n      set: function(url) {\n        this.srcObject = streams.get(url) || null;\n        return dsc.set.apply(this, [url]);\n      }\n    });\n\n    var nativeSetAttribute = window.HTMLMediaElement.prototype.setAttribute;\n    window.HTMLMediaElement.prototype.setAttribute = function() {\n      if (arguments.length === 2 &&\n          ('' + arguments[0]).toLowerCase() === 'src') {\n        this.srcObject = streams.get(arguments[1]) || null;\n      }\n      return nativeSetAttribute.apply(this, arguments);\n    };\n  }\n};\n\n\n\n/***/ }),\n\n/***/ 2481:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = WebrtcHeader;\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(40);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _constants = __webpack_require__(9);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction WebrtcHeader(props) {\n    var title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n        id: 'webrtc.header',\n        defaultMessage: 'Call with {username}',\n        values: {\n            username: props.username\n        }\n    });\n\n    var closeSidebarTooltip = _react2.default.createElement(\n        _reactBootstrap.Tooltip,\n        { id: 'closeSidebarTooltip' },\n        _react2.default.createElement(_reactIntl.FormattedMessage, {\n            id: 'rhs_header.closeTooltip',\n            defaultMessage: 'Close Sidebar'\n        })\n    );\n\n    var expandSidebarTooltip = _react2.default.createElement(\n        _reactBootstrap.Tooltip,\n        { id: 'expandSidebarTooltip' },\n        _react2.default.createElement(_reactIntl.FormattedMessage, {\n            id: 'rhs_header.expandTooltip',\n            defaultMessage: 'Expand Sidebar'\n        })\n    );\n\n    var shrinkSidebarTooltip = _react2.default.createElement(\n        _reactBootstrap.Tooltip,\n        { id: 'shrinkSidebarTooltip' },\n        _react2.default.createElement(_reactIntl.FormattedMessage, {\n            id: 'rhs_header.expandTooltip',\n            defaultMessage: 'Shrink Sidebar'\n        })\n    );\n\n    return _react2.default.createElement(\n        'div',\n        { className: 'sidebar--right__header' },\n        _react2.default.createElement(\n            'span',\n            { className: 'sidebar--right__title' },\n            title\n        ),\n        _react2.default.createElement(\n            'div',\n            { className: 'pull-right' },\n            _react2.default.createElement(\n                'button',\n                {\n                    type: 'button',\n                    className: 'sidebar--right__expand',\n                    'aria-label': 'Expand',\n                    onClick: props.toggleSize\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.OverlayTrigger,\n                    {\n                        trigger: ['hover', 'focus'],\n                        delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                        placement: 'top',\n                        overlay: expandSidebarTooltip\n                    },\n                    _react2.default.createElement('i', { className: 'fa fa-expand' })\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.OverlayTrigger,\n                    {\n                        trigger: ['hover', 'focus'],\n                        delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                        placement: 'top',\n                        overlay: shrinkSidebarTooltip\n                    },\n                    _react2.default.createElement('i', { className: 'fa fa-compress' })\n                )\n            ),\n            _react2.default.createElement(\n                'button',\n                {\n                    type: 'button',\n                    className: 'sidebar--right__close',\n                    'aria-label': 'Close',\n                    title: 'Close',\n                    onClick: props.onClose\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.OverlayTrigger,\n                    {\n                        delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                        placement: 'top',\n                        overlay: closeSidebarTooltip\n                    },\n                    _react2.default.createElement('i', { className: 'fa fa-sign-out' })\n                )\n            )\n        )\n    );\n} // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nWebrtcHeader.propTypes = {\n    username: _propTypes2.default.string.isRequired,\n    onClose: _propTypes2.default.func.isRequired,\n    toggleSize: _propTypes2.default.func\n};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 7.2b6bfa5f0d3f681ea629.js","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getMyChannelMembers, viewChannel} from 'mattermost-redux/actions/channels';\n\nimport NeedsTeam from './needs_team.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            viewChannel,\n            getMyChannelMembers\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NeedsTeam);\n\n\n\n// WEBPACK FOOTER //\n// ./components/needs_team/index.js","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logDisabled_ = true;\nvar deprecationWarnings_ = true;\n\n// Utility methods.\nvar utils = {\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  /**\n   * Disable or enable deprecation warnings\n   * @param {!boolean} bool set to true to disable warnings.\n   */\n  disableWarnings: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    deprecationWarnings_ = !bool;\n    return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Shows a deprecation warning suggesting the modern and spec-compatible API.\n   */\n  deprecated: function(oldMethod, newMethod) {\n    if (!deprecationWarnings_) {\n      return;\n    }\n    console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n        ' instead.');\n  },\n\n  /**\n   * Extract browser version out of the provided user agent string.\n   *\n   * @param {!string} uastring userAgent string.\n   * @param {!string} expr Regular expression used as match criteria.\n   * @param {!number} pos position in the version string to be returned.\n   * @return {!number} browser version.\n   */\n  extractVersion: function(uastring, expr, pos) {\n    var match = uastring.match(expr);\n    return match && match.length >= pos && parseInt(match[pos], 10);\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function(window) {\n    var navigator = window && window.navigator;\n\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    // Firefox.\n    if (navigator.mozGetUserMedia) {\n      result.browser = 'firefox';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Firefox\\/(\\d+)\\./, 1);\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera, all use the chrome shim for now\n      if (window.webkitRTCPeerConnection) {\n        result.browser = 'chrome';\n        result.version = this.extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/(\\d+)\\./, 2);\n      } else { // Safari (in an unpublished version) or unknown webkit-based.\n        if (navigator.userAgent.match(/Version\\/(\\d+).(\\d+)/)) {\n          result.browser = 'safari';\n          result.version = this.extractVersion(navigator.userAgent,\n            /AppleWebKit\\/(\\d+)\\./, 1);\n        } else { // unknown webkit-based browser.\n          result.browser = 'Unsupported webkit-based browser ' +\n              'with GUM support but no WebRTC support.';\n          return result;\n        }\n      }\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n      result.browser = 'edge';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n        // Safari, with webkitGetUserMedia removed.\n      result.browser = 'safari';\n      result.version = this.extractVersion(navigator.userAgent,\n          /AppleWebKit\\/(\\d+)\\./, 1);\n    } else { // Default fallthrough: not supported.\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  },\n\n};\n\n// Export.\nmodule.exports = {\n  log: utils.log,\n  deprecated: utils.deprecated,\n  disableLog: utils.disableLog,\n  disableWarnings: utils.disableWarnings,\n  extractVersion: utils.extractVersion,\n  shimCreateObjectURL: utils.shimCreateObjectURL,\n  detectBrowser: utils.detectBrowser.bind(utils)\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/utils.js\n// module id = 2167\n// module chunks = 7","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class GetLinkModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onHide = this.onHide.bind(this);\n\n        this.copyLink = this.copyLink.bind(this);\n\n        this.state = {\n            copiedLink: false\n        };\n    }\n\n    onHide() {\n        this.setState({copiedLink: false});\n\n        this.props.onHide();\n    }\n\n    copyLink() {\n        const textarea = this.refs.textarea;\n        textarea.focus();\n        textarea.setSelectionRange(0, this.props.link.length);\n\n        try {\n            if (document.execCommand('copy')) {\n                this.setState({copiedLink: true});\n            } else {\n                this.setState({copiedLink: false});\n            }\n        } catch (err) {\n            this.setState({copiedLink: false});\n        }\n    }\n\n    render() {\n        let helpText = null;\n        if (this.props.helpText) {\n            helpText = (\n                <p>\n                    {this.props.helpText}\n                    <br/>\n                    <br/>\n                </p>\n            );\n        }\n\n        let copyLink = null;\n        if (document.queryCommandSupported('copy')) {\n            copyLink = (\n                <button\n                    data-copy-btn='true'\n                    type='button'\n                    className='btn btn-primary pull-left'\n                    onClick={this.copyLink}\n                >\n                    <FormattedMessage\n                        id='get_link.copy'\n                        defaultMessage='Copy Link'\n                    />\n                </button>\n            );\n        }\n\n        const linkText = (\n            <textarea\n                className='form-control no-resize min-height'\n                ref='textarea'\n                value={this.props.link}\n                onClick={this.copyLink}\n                readOnly={true}\n            />\n        );\n\n        let copyLinkConfirm = null;\n        if (this.state.copiedLink) {\n            copyLinkConfirm = (\n                <p className='alert alert-success alert--confirm'>\n                    <i className='fa fa-check'/>\n                    <FormattedMessage\n                        id='get_link.clipboard'\n                        defaultMessage=' Link copied'\n                    />\n                </p>\n            );\n        }\n\n        return (\n            <Modal\n                show={this.props.show}\n                onHide={this.onHide}\n            >\n                <Modal.Header closeButton={true}>\n                    <h4 className='modal-title'>{this.props.title}</h4>\n                </Modal.Header>\n                <Modal.Body>\n                    {helpText}\n                    {linkText}\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        type='button'\n                        className='btn btn-default'\n                        onClick={this.onHide}\n                    >\n                        <FormattedMessage\n                            id='get_link.close'\n                            defaultMessage='Close'\n                        />\n                    </button>\n                    {copyLink}\n                    {copyLinkConfirm}\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n\nGetLinkModal.propTypes = {\n    show: PropTypes.bool.isRequired,\n    onHide: PropTypes.func.isRequired,\n    title: PropTypes.string.isRequired,\n    helpText: PropTypes.string,\n    link: PropTypes.string.isRequired\n};\n\nGetLinkModal.defaultProps = {\n    helpText: null\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/get_link_modal.jsx","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\nvar prefix = require('prefix-style')\nvar toCamelCase = require('to-camel-case')\nvar cache = { 'float': 'cssFloat' }\nvar addPxToStyle = require('add-px-to-style')\n\nfunction style (element, property, value) {\n  var camel = cache[property]\n  if (typeof camel === 'undefined') {\n    camel = detect(property)\n  }\n\n  // may be false if CSS prop is unsupported\n  if (camel) {\n    if (value === undefined) {\n      return element.style[camel]\n    }\n\n    element.style[camel] = addPxToStyle(camel, value)\n  }\n}\n\nfunction each (element, properties) {\n  for (var k in properties) {\n    if (properties.hasOwnProperty(k)) {\n      style(element, k, properties[k])\n    }\n  }\n}\n\nfunction detect (cssProp) {\n  var camel = toCamelCase(cssProp)\n  var result = prefix(camel)\n  cache[camel] = cache[cssProp] = cache[result] = result\n  return result\n}\n\nfunction set () {\n  if (arguments.length === 2) {\n    if (typeof arguments[1] === 'string') {\n      arguments[0].style.cssText = arguments[1]\n    } else {\n      each(arguments[0], arguments[1])\n    }\n  } else {\n    style(arguments[0], arguments[1], arguments[2])\n  }\n}\n\nmodule.exports = set\nmodule.exports.set = set\n\nmodule.exports.get = function (element, properties) {\n  if (Array.isArray(properties)) {\n    return properties.reduce(function (obj, prop) {\n      obj[prop] = style(element, prop || '')\n      return obj\n    }, {})\n  } else {\n    return style(element, properties || '')\n  }\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/dom-css/index.js\n// module id = 2196\n// module chunks = 7","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport * as UserAgent from 'utils/user_agent.jsx';\n\nexport default class SettingsSidebar extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleClick = this.handleClick.bind(this);\n    }\n    handleClick(tab, e) {\n        e.preventDefault();\n        this.props.updateTab(tab.name);\n        $(e.target).closest('.settings-modal').addClass('display--content');\n    }\n    componentDidMount() {\n        if (UserAgent.isFirefox()) {\n            $('.settings-modal .settings-table .nav').addClass('position--top');\n        }\n    }\n    render() {\n        const tabList = this.props.tabs.map((tab) => {\n            const key = `${tab.name}_li`;\n            let className = '';\n            if (this.props.activeTab === tab.name) {\n                className = 'active';\n            }\n\n            return (\n                <li\n                    id={`${tab.name}Li`}\n                    key={key}\n                    className={className}\n                >\n                    <button\n                        id={`${tab.name}Button`}\n                        className='cursor--pointer style--none'\n                        onClick={this.handleClick.bind(null, tab)}\n                    >\n                        <i className={tab.icon}/>\n                        {tab.uiName}\n                    </button>\n                </li>\n            );\n        });\n\n        return (\n            <div>\n                <ul\n                    id='tabList'\n                    className='nav nav-pills nav-stacked'\n                >\n                    {tabList}\n                </ul>\n            </div>\n        );\n    }\n}\n\nSettingsSidebar.propTypes = {\n    tabs: PropTypes.arrayOf(PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        uiName: PropTypes.string.isRequired,\n        icon: PropTypes.string.isRequired\n    })).isRequired,\n    activeTab: PropTypes.string,\n    updateTab: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/settings_sidebar.jsx","module.exports = __webpack_public_path__ + \"files/a4a8b617d1f6c75ad4bf17bafc2aec6a.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./images/ring.mp3\n// module id = 2198\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n /* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parseInt(parts[1], 10),\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compability.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag\n        candidate[parts[i]] = parts[i + 1];\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substr(14).split(' ');\n}\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n          ? '/' + headerExtension.direction\n          : '') +\n      ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n}\n\nSDPUtils.parseFingerprint = function(line) {\n  var parts = line.substr(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1]\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n      'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  caps.headerExtensions.forEach(function(extension) {\n    sdp += SDPUtils.writeExtmap(extension);\n  });\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  var cname;\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n      .map(function(line) {\n        return SDPUtils.parseSsrcMedia(line);\n      })\n      .filter(function(obj) {\n        return obj.attribute === 'cname';\n      })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrіbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 21);\n};\n\n// Write boilder plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer) {\n  var sessionId;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return {\n    kind: mline[0].substr(2),\n    port: parseInt(mline[1], 10),\n    protocol: mline[2],\n    fmt: mline.slice(3).join(' ')\n  };\n};\n\n// Expose public methods.\nif (typeof module === 'object') {\n  module.exports = SDPUtils;\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/sdp/sdp.js\n// module id = 2199\n// module chunks = 7","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {browserHistory} from 'react-router/es6';\n\nimport iNoBounce from 'inobounce';\n\nimport {getPost} from 'mattermost-redux/selectors/entities/posts';\n\nimport {startPeriodicStatusUpdates, stopPeriodicStatusUpdates} from 'actions/status_actions.jsx';\nimport {loadProfilesForSidebar} from 'actions/user_actions.jsx';\nimport {startPeriodicSync, stopPeriodicSync} from 'actions/websocket_actions.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport PostStore from 'stores/post_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport store from 'stores/redux_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Pluggable from 'plugins/pluggable';\n\nimport Constants from 'utils/constants.jsx';\nimport * as UserAgent from 'utils/user_agent.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport AnnouncementBar from 'components/announcement_bar';\nimport DeletePostModal from 'components/delete_post_modal.jsx';\nimport EditPostModal from 'components/edit_post_modal.jsx';\nimport GetPostLinkModal from 'components/get_post_link_modal.jsx';\nimport GetPublicLinkModal from 'components/get_public_link_modal.jsx';\nimport GetTeamInviteLinkModal from 'components/get_team_invite_link_modal.jsx';\nimport InviteMemberModal from 'components/invite_member_modal.jsx';\nimport LeaveTeamModal from 'components/leave_team_modal.jsx';\nimport LeavePrivateChannelModal from 'components/modals/leave_private_channel_modal.jsx';\nimport Navbar from 'components/navbar';\nimport RemovedFromChannelModal from 'components/removed_from_channel_modal.jsx';\nimport ResetStatusModal from 'components/reset_status_modal';\nimport ShortcutsModal from 'components/shortcuts_modal.jsx';\nimport SidebarRight from 'components/sidebar_right';\nimport SidebarRightMenu from 'components/sidebar_right_menu.jsx';\nimport TeamSettingsModal from 'components/team_settings_modal.jsx';\nimport ImportThemeModal from 'components/user_settings/import_theme_modal.jsx';\nimport UserSettingsModal from 'components/user_settings/user_settings_modal.jsx';\nimport WebrtcNotification from 'components/webrtc/components/webrtc_notification.jsx';\nimport WebrtcSidebar from 'components/webrtc/components/webrtc_sidebar.jsx';\n\nconst TutorialSteps = Constants.TutorialSteps;\nconst Preferences = Constants.Preferences;\n\nconst UNREAD_CHECK_TIME_MILLISECONDS = 10000;\n\nexport default class NeedsTeam extends React.Component {\n    static propTypes = {\n        children: PropTypes.oneOfType([\n            PropTypes.arrayOf(PropTypes.element),\n            PropTypes.element\n        ]),\n        navbar: PropTypes.element,\n        sidebar: PropTypes.element,\n        team_sidebar: PropTypes.element,\n        center: PropTypes.element,\n        params: PropTypes.object,\n        user: PropTypes.object,\n        actions: PropTypes.shape({\n            viewChannel: PropTypes.func.isRequired,\n            getMyChannelMembers: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(params) {\n        super(params);\n\n        this.onTeamChanged = this.onTeamChanged.bind(this);\n        this.onPreferencesChanged = this.onPreferencesChanged.bind(this);\n\n        this.blurTime = new Date().getTime();\n\n        const team = TeamStore.getCurrent();\n\n        this.state = {\n            team,\n            theme: PreferenceStore.getTheme(team.id)\n        };\n    }\n\n    onTeamChanged() {\n        const team = TeamStore.getCurrent();\n\n        this.setState({\n            team,\n            theme: PreferenceStore.getTheme(team.id)\n        });\n    }\n\n    onPreferencesChanged(category) {\n        if (!category || category === Preferences.CATEGORY_THEME) {\n            this.setState({\n                theme: PreferenceStore.getTheme(this.state.team.id)\n            });\n        }\n    }\n\n    componentWillMount() {\n        // Go to tutorial if we are first arriving\n        const tutorialStep = PreferenceStore.getInt(Preferences.TUTORIAL_STEP, UserStore.getCurrentId(), 999);\n        if (tutorialStep <= TutorialSteps.INTRO_SCREENS) {\n            browserHistory.push(TeamStore.getCurrentTeamRelativeUrl() + '/tutorial');\n        }\n    }\n\n    componentDidMount() {\n        TeamStore.addChangeListener(this.onTeamChanged);\n        PreferenceStore.addChangeListener(this.onPreferencesChanged);\n\n        startPeriodicStatusUpdates();\n        startPeriodicSync();\n\n        // Set up tracking for whether the window is active\n        window.isActive = true;\n        $(window).on('focus', async () => {\n            ChannelStore.resetCounts([ChannelStore.getCurrentId()]);\n            ChannelStore.emitChange();\n            window.isActive = true;\n\n            await this.props.actions.viewChannel(ChannelStore.getCurrentId());\n            if (new Date().getTime() - this.blurTime > UNREAD_CHECK_TIME_MILLISECONDS) {\n                this.props.actions.getMyChannelMembers(TeamStore.getCurrentId()).then(loadProfilesForSidebar);\n            }\n        });\n\n        $(window).on('blur', () => {\n            window.isActive = false;\n            this.blurTime = new Date().getTime();\n            if (UserStore.getCurrentUser()) {\n                this.props.actions.viewChannel('');\n            }\n        });\n\n        Utils.applyTheme(this.state.theme);\n\n        if (UserAgent.isIosSafari()) {\n            // Use iNoBounce to prevent scrolling past the boundaries of the page\n            iNoBounce.enable();\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (!Utils.areObjectsEqual(prevState.theme, this.state.theme)) {\n            Utils.applyTheme(this.state.theme);\n        }\n    }\n\n    componentWillUnmount() {\n        TeamStore.removeChangeListener(this.onTeamChanged);\n        PreferenceStore.removeChangeListener(this.onPreferencesChanged);\n        $(window).off('focus');\n        $(window).off('blur');\n\n        if (UserAgent.isIosSafari()) {\n            iNoBounce.disable();\n        }\n        stopPeriodicStatusUpdates();\n        stopPeriodicSync();\n    }\n\n    render() {\n        let content = [];\n        if (this.props.children) {\n            content = this.props.children;\n        } else {\n            content.push(\n                this.props.navbar\n            );\n            content.push(this.props.team_sidebar);\n            content.push(\n                this.props.sidebar\n            );\n            content.push(\n                <div\n                    key='inner-wrap'\n                    className='inner-wrap channel__wrap'\n                >\n                    <div className='row header'>\n                        <div id='navbar'>\n                            <Navbar/>\n                        </div>\n                    </div>\n                    <div className='row main'>\n                        {React.cloneElement(this.props.center, {\n                            user: this.props.user,\n                            team: this.state.team\n                        })}\n                    </div>\n                </div>\n            );\n        }\n\n        let channel = ChannelStore.getByName(this.props.params.channel);\n        if (channel == null) {\n            // the permalink view is not really tied to a particular channel but still needs it\n            const postId = PostStore.getFocusedPostId();\n            const post = getPost(store.getState(), postId);\n\n            // the post take some time before being available on page load\n            if (post != null) {\n                channel = ChannelStore.get(post.channel_id);\n            }\n        }\n\n        return (\n            <div className='channel-view'>\n                <AnnouncementBar/>\n                <WebrtcNotification/>\n                <div className='container-fluid'>\n                    <SidebarRight channel={channel}/>\n                    <SidebarRightMenu teamType={this.state.team.type}/>\n                    <WebrtcSidebar/>\n                    {content}\n\n                    <Pluggable pluggableName='Root'/>\n                    <UserSettingsModal/>\n                    <GetPostLinkModal/>\n                    <GetPublicLinkModal/>\n                    <GetTeamInviteLinkModal/>\n                    <InviteMemberModal/>\n                    <LeaveTeamModal/>\n                    <ImportThemeModal/>\n                    <TeamSettingsModal/>\n                    <EditPostModal/>\n                    <DeletePostModal/>\n                    <RemovedFromChannelModal/>\n                    <ResetStatusModal/>\n                    <LeavePrivateChannelModal/>\n                    <ShortcutsModal isMac={Utils.isMac()}/>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/needs_team/needs_team.jsx","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*! iNoBounce - v0.1.0\n* https://github.com/lazd/iNoBounce/\n* Copyright (c) 2013 Larry Davis <lazdnet@gmail.com>; Licensed BSD */\n(function(global) {\n\t// Stores the Y position where the touch started\n\tvar startY = 0;\n\n\t// Store enabled status\n\tvar enabled = false;\n\n\tvar handleTouchmove = function(evt) {\n\t\t// Get the element that was scrolled upon\n\t\tvar el = evt.target;\n\n\t\t// Check all parent elements for scrollability\n\t\twhile (el !== document.body && el !== document) {\n\t\t\t// Get some style properties\n\t\t\tvar style = window.getComputedStyle(el);\n\n\t\t\tif (!style) {\n\t\t\t\t// If we've encountered an element we can't compute the style for, get out\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Ignore range input element\n\t\t\tif (el.nodeName === 'INPUT' && el.getAttribute('type') === 'range') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar scrolling = style.getPropertyValue('-webkit-overflow-scrolling');\n\t\t\tvar overflowY = style.getPropertyValue('overflow-y');\n\t\t\tvar height = parseInt(style.getPropertyValue('height'), 10);\n\n\t\t\t// Determine if the element should scroll\n\t\t\tvar isScrollable = scrolling === 'touch' && (overflowY === 'auto' || overflowY === 'scroll');\n\t\t\tvar canScroll = el.scrollHeight > el.offsetHeight;\n\n\t\t\tif (isScrollable && canScroll) {\n\t\t\t\t// Get the current Y position of the touch\n\t\t\t\tvar curY = evt.touches ? evt.touches[0].screenY : evt.screenY;\n\n\t\t\t\t// Determine if the user is trying to scroll past the top or bottom\n\t\t\t\t// In this case, the window will bounce, so we have to prevent scrolling completely\n\t\t\t\tvar isAtTop = (startY <= curY && el.scrollTop === 0);\n\t\t\t\tvar isAtBottom = (startY >= curY && el.scrollHeight - el.scrollTop === height);\n\n\t\t\t\t// Stop a bounce bug when at the bottom or top of the scrollable element\n\t\t\t\tif (isAtTop || isAtBottom) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t}\n\n\t\t\t\t// No need to continue up the DOM, we've done our job\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Test the next parent\n\t\t\tel = el.parentNode;\n\t\t}\n\n\t\t// Stop the bouncing -- no parents are scrollable\n\t\tevt.preventDefault();\n\t};\n\n\tvar handleTouchstart = function(evt) {\n\t\t// Store the first Y position of the touch\n\t\tstartY = evt.touches ? evt.touches[0].screenY : evt.screenY;\n\t};\n\n\tvar enable = function() {\n\t\t// Listen to a couple key touch events\n\t\twindow.addEventListener('touchstart', handleTouchstart, false);\n\t\twindow.addEventListener('touchmove', handleTouchmove, false);\n\t\tenabled = true;\n\t};\n\n\tvar disable = function() {\n\t\t// Stop listening\n\t\twindow.removeEventListener('touchstart', handleTouchstart, false);\n\t\twindow.removeEventListener('touchmove', handleTouchmove, false);\n\t\tenabled = false;\n\t};\n\n\tvar isEnabled = function() {\n\t\treturn enabled;\n\t};\n\n\t// Enable by default if the browser supports -webkit-overflow-scrolling\n\t// Test this by setting the property with JavaScript on an element that exists in the DOM\n\t// Then, see if the property is reflected in the computed style\n\tvar testDiv = document.createElement('div');\n\tdocument.documentElement.appendChild(testDiv);\n\ttestDiv.style.WebkitOverflowScrolling = 'touch';\n\tvar scrollSupport = 'getComputedStyle' in window && window.getComputedStyle(testDiv)['-webkit-overflow-scrolling'] === 'touch';\n\tdocument.documentElement.removeChild(testDiv);\n\n\tif (scrollSupport) {\n\t\tenable();\n\t}\n\n\t// A module to support enabling/disabling iNoBounce\n\tvar iNoBounce = {\n\t\tenable: enable,\n\t\tdisable: disable,\n\t\tisEnabled: isEnabled\n\t};\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\t// Node.js Support\n\t\tmodule.exports = iNoBounce;\n\t}\n\tif (typeof global.define === 'function') {\n\t\t// AMD Support\n\t\t(function(define) {\n\t\t\tdefine('iNoBounce', [], function() { return iNoBounce; });\n\t\t}(global.define));\n\t}\n\telse {\n\t\t// Browser support\n\t\tglobal.iNoBounce = iNoBounce;\n\t}\n}(this));\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/inobounce/inobounce.js\n// module id = 2385\n// module chunks = 7","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nimport {deletePost} from 'actions/post_actions.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\n\nvar ActionTypes = Constants.ActionTypes;\n\nexport default class DeletePostModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleDelete = this.handleDelete.bind(this);\n        this.handleToggle = this.handleToggle.bind(this);\n        this.handleHide = this.handleHide.bind(this);\n\n        this.state = {\n            show: false,\n            post: null,\n            commentCount: 0,\n            error: ''\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(ActionTypes.TOGGLE_DELETE_POST_MODAL, this.handleToggle);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(ActionTypes.TOGGLE_DELETE_POST_MODAL, this.handleToggle);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.show && !prevState.show) {\n            setTimeout(() => {\n                $(ReactDOM.findDOMNode(this.refs.deletePostBtn)).focus();\n            }, 0);\n        }\n    }\n\n    handleDelete() {\n        deletePost(\n            this.state.post.channel_id,\n            this.state.post,\n            () => {\n                this.handleHide();\n            },\n            (err) => {\n                this.setState({error: err.message});\n            }\n        );\n    }\n\n    handleToggle(value, args) {\n        this.setState({\n            show: value,\n            post: args.post,\n            commentCount: args.commentCount,\n            error: ''\n        });\n    }\n\n    handleHide() {\n        this.setState({show: false});\n    }\n\n    render() {\n        if (!this.state.post) {\n            return null;\n        }\n\n        var error = null;\n        if (this.state.error) {\n            error = <div className='form-group has-error'><label className='control-label'>{this.state.error}</label></div>;\n        }\n\n        var commentWarning = '';\n        if (this.state.commentCount > 0) {\n            commentWarning = (\n                <FormattedMessage\n                    id='delete_post.warning'\n                    defaultMessage='This post has {count, number} {count, plural, one {comment} other {comments}} on it.'\n                    values={{\n                        count: this.state.commentCount\n                    }}\n                />\n            );\n        }\n\n        const postTerm = this.state.post.root_id ? (\n            <FormattedMessage\n                id='delete_post.comment'\n                defaultMessage='Comment'\n            />\n        ) : (\n            <FormattedMessage\n                id='delete_post.post'\n                defaultMessage='Post'\n            />\n        );\n\n        return (\n            <Modal\n                show={this.state.show}\n                onHide={this.handleHide}\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title>\n                        <FormattedMessage\n                            id='delete_post.confirm'\n                            defaultMessage='Confirm {term} Delete'\n                            values={{\n                                term: (postTerm)\n                            }}\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <FormattedMessage\n                        id='delete_post.question'\n                        defaultMessage='Are you sure you want to delete this {term}?'\n                        values={{\n                            term: (postTerm)\n                        }}\n                    />\n                    <br/>\n                    <br/>\n                    {commentWarning}\n                    {error}\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        type='button'\n                        className='btn btn-default'\n                        onClick={this.handleHide}\n                    >\n                        <FormattedMessage\n                            id='delete_post.cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </button>\n                    <button\n                        ref='deletePostBtn'\n                        type='button'\n                        className='btn btn-danger'\n                        onClick={this.handleDelete}\n                    >\n                        <FormattedMessage\n                            id='delete_post.del'\n                            defaultMessage='Delete'\n                        />\n                    </button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/delete_post_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nimport * as Selectors from 'mattermost-redux/selectors/entities/posts';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {updatePost} from 'actions/post_actions.jsx';\nimport BrowserStore from 'stores/browser_store.jsx';\nimport MessageHistoryStore from 'stores/message_history_store.jsx';\nimport PostStore from 'stores/post_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport store from 'stores/redux_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as UserAgent from 'utils/user_agent.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport EmojiPickerOverlay from 'components/emoji_picker/emoji_picker_overlay.jsx';\n\nimport Textbox from './textbox.jsx';\n\nconst KeyCodes = Constants.KeyCodes;\n\nconst getState = store.getState;\n\nexport default class EditPostModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleEdit = this.handleEdit.bind(this);\n        this.handleEditKeyPress = this.handleEditKeyPress.bind(this);\n        this.handleEditPostEvent = this.handleEditPostEvent.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.onPreferenceChange = this.onPreferenceChange.bind(this);\n        this.onModalHidden = this.onModalHidden.bind(this);\n        this.onModalShow = this.onModalShow.bind(this);\n        this.onModalShown = this.onModalShown.bind(this);\n        this.onModalHide = this.onModalHide.bind(this);\n        this.onModalKeyDown = this.onModalKeyDown.bind(this);\n        this.handlePostError = this.handlePostError.bind(this);\n\n        this.state = {\n            editText: '',\n            originalText: '',\n            title: '',\n            post_id: '',\n            channel_id: '',\n            comments: 0,\n            refocusId: '',\n            ctrlSend: PreferenceStore.getBool(Constants.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n            postError: '',\n            showEmojiPicker: false\n        };\n    }\n\n    getContainer = () => {\n        return this.refs.editModalBody;\n    }\n\n    toggleEmojiPicker = () => {\n        this.setState({showEmojiPicker: !this.state.showEmojiPicker});\n    }\n\n    hideEmojiPicker = () => {\n        this.setState({showEmojiPicker: false});\n    }\n\n    handleEmojiClick = (emoji) => {\n        const emojiAlias = emoji.name || emoji.aliases[0];\n\n        if (!emojiAlias) {\n            //Oops.. There went something wrong\n            return;\n        }\n\n        if (this.state.editText === '') {\n            this.setState({editText: ':' + emojiAlias + ': '});\n        } else {\n            //check whether there is already a blank at the end of the current message\n            const newMessage = (/\\s+$/.test(this.state.editText)) ?\n                this.state.editText + ':' + emojiAlias + ': ' : this.state.editText + ' :' + emojiAlias + ': ';\n\n            this.setState({editText: newMessage});\n        }\n\n        this.setState({showEmojiPicker: false});\n\n        this.refs.editbox.focus();\n    }\n\n    getEditPostControls = () => {\n        return this.refs.editPostEmoji;\n    }\n\n    handlePostError(postError) {\n        if (this.state.postError !== postError) {\n            this.setState({postError});\n        }\n    }\n\n    handleEdit() {\n        const updatedPost = {\n            message: this.state.editText,\n            id: this.state.post_id,\n            channel_id: this.state.channel_id\n        };\n\n        if (this.state.postError) {\n            this.setState({errorClass: 'animation--highlight'});\n            setTimeout(() => {\n                this.setState({errorClass: null});\n            }, Constants.ANIMATION_TIMEOUT);\n            return;\n        }\n\n        if (updatedPost.message === this.state.originalText) {\n            // no changes so just close the modal\n            $('#edit_post').modal('hide');\n            return;\n        }\n\n        MessageHistoryStore.storeMessageInHistory(updatedPost.message);\n\n        if (updatedPost.message.trim().length === 0) {\n            var tempState = this.state;\n            Reflect.deleteProperty(tempState, 'editText');\n            BrowserStore.setItem('edit_state_transfer', tempState);\n            $('#edit_post').modal('hide');\n            GlobalActions.showDeletePostModal(Selectors.getPost(getState(), this.state.post_id), this.state.comments);\n            return;\n        }\n\n        updatePost(\n            updatedPost,\n            () => {\n                window.scrollTo(0, 0);\n            }\n        );\n\n        $('#edit_post').modal('hide');\n    }\n\n    handleChange(e) {\n        const message = e.target.value;\n        this.setState({\n            editText: message\n        });\n    }\n\n    handleEditKeyPress(e) {\n        if (!UserAgent.isMobile() && !this.state.ctrlSend && e.which === KeyCodes.ENTER && !e.shiftKey && !e.altKey) {\n            e.preventDefault();\n            ReactDOM.findDOMNode(this.refs.editbox).blur();\n            this.handleEdit();\n        } else if (this.state.ctrlSend && e.ctrlKey && e.which === KeyCodes.ENTER) {\n            e.preventDefault();\n            ReactDOM.findDOMNode(this.refs.editbox).blur();\n            this.handleEdit();\n        }\n    }\n\n    handleEditPostEvent(options) {\n        const post = Selectors.getPost(getState(), options.postId);\n        if (global.window.mm_license.IsLicensed === 'true') {\n            if (global.window.mm_config.AllowEditPost === Constants.ALLOW_EDIT_POST_NEVER) {\n                return;\n            }\n            if (global.window.mm_config.AllowEditPost === Constants.ALLOW_EDIT_POST_TIME_LIMIT) {\n                if ((post.create_at + (global.window.mm_config.PostEditTimeLimit * 1000)) < Utils.getTimestamp()) {\n                    return;\n                }\n            }\n        }\n        this.setState({\n            editText: options.message || '',\n            originalText: options.message || '',\n            title: options.title || '',\n            post_id: options.postId || '',\n            channel_id: options.channelId || '',\n            comments: options.comments || 0,\n            refocusId: options.refocusId || ''\n        });\n\n        $(ReactDOM.findDOMNode(this.refs.modal)).modal('show');\n    }\n\n    handleKeyDown(e) {\n        if (this.state.ctrlSend && e.keyCode === KeyCodes.ENTER && e.ctrlKey === true) {\n            this.handleEdit();\n        }\n    }\n\n    onPreferenceChange() {\n        this.setState({\n            ctrlSend: PreferenceStore.getBool(Constants.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter')\n        });\n    }\n\n    onModalHidden() {\n        this.setState({editText: '', originalText: '', title: '', channel_id: '', post_id: '', comments: 0, refocusId: '', error: '', typing: false});\n    }\n\n    onModalShow(e) {\n        var button = e.relatedTarget;\n        if (!button) {\n            return;\n        }\n        this.setState({\n            editText: $(button).attr('data-message'),\n            originalText: $(button).attr('data-message'),\n            title: $(button).attr('data-title'),\n            channel_id: $(button).attr('data-channelid'),\n            post_id: $(button).attr('data-postid'),\n            comments: $(button).attr('data-comments'),\n            refocusId: $(button).attr('data-refocusid'),\n            typing: false\n        });\n    }\n\n    onModalShown() {\n        this.refs.editbox.focus();\n\n        this.refs.editbox.recalculateSize();\n    }\n\n    onModalHide() {\n        this.refs.editbox.hidePreview();\n\n        if (this.state.refocusId !== '') {\n            setTimeout(() => {\n                const element = $(this.state.refocusId).get(0);\n                if (element) {\n                    element.focus();\n                }\n            });\n        }\n    }\n\n    onModalKeyDown(e) {\n        if (e.which === Constants.KeyCodes.ESCAPE) {\n            e.stopPropagation();\n        }\n    }\n\n    componentDidMount() {\n        $(this.refs.modal).on('hidden.bs.modal', this.onModalHidden);\n        $(this.refs.modal).on('show.bs.modal', this.onModalShow);\n        $(this.refs.modal).on('shown.bs.modal', this.onModalShown);\n        $(this.refs.modal).on('hide.bs.modal', this.onModalHide);\n        $(this.refs.modal).on('keydown', this.onModalKeyDown);\n        PostStore.addEditPostListener(this.handleEditPostEvent);\n        PreferenceStore.addChangeListener(this.onPreferenceChange);\n    }\n\n    componentWillUnmount() {\n        $(this.refs.modal).off('hidden.bs.modal', this.onModalHidden);\n        $(this.refs.modal).off('show.bs.modal', this.onModalShow);\n        $(this.refs.modal).off('shown.bs.modal', this.onModalShown);\n        $(this.refs.modal).off('hide.bs.modal', this.onModalHide);\n        $(this.refs.modal).off('keydown', this.onModalKeyDown);\n        PostStore.removeEditPostListner(this.handleEditPostEvent);\n        PreferenceStore.removeChangeListener(this.onPreferenceChange);\n    }\n\n    render() {\n        const errorBoxClass = 'edit-post-footer' + (this.state.postError ? ' has-error' : '');\n        let postError = null;\n        if (this.state.postError) {\n            const postErrorClass = 'post-error' + (this.state.errorClass ? (' ' + this.state.errorClass) : '');\n            postError = (<label className={postErrorClass}>{this.state.postError}</label>);\n        }\n\n        let emojiPicker = null;\n        if (window.mm_config.EnableEmojiPicker === 'true') {\n            emojiPicker = (\n                <span className='emoji-picker__container'>\n                    <EmojiPickerOverlay\n                        show={this.state.showEmojiPicker}\n                        container={this.getContainer}\n                        target={this.getEditPostControls}\n                        onHide={this.hideEmojiPicker}\n                        onEmojiClick={this.handleEmojiClick}\n                        rightOffset={50}\n                        topOffset={-20}\n                    />\n                    <span\n                        className='icon icon--emoji'\n                        onClick={this.toggleEmojiPicker}\n                        dangerouslySetInnerHTML={{__html: Constants.EMOJI_ICON_SVG}}\n                    />\n                </span>\n            );\n        }\n\n        return (\n            <div\n                className='modal fade edit-modal'\n                ref='modal'\n                id='edit_post'\n                role='dialog'\n                tabIndex='-1'\n                aria-hidden='true'\n            >\n                <div className='modal-dialog modal-push-down modal-xl'>\n                    <div className='modal-content'>\n                        <div className='modal-header'>\n                            <button\n                                type='button'\n                                className='close'\n                                data-dismiss='modal'\n                                aria-label='Close'\n                            >\n                                <span aria-hidden='true'>{'×'}</span>\n                            </button>\n                            <h4 className='modal-title'>\n                                <FormattedMessage\n                                    id='edit_post.edit'\n                                    defaultMessage='Edit {title}'\n                                    values={{\n                                        title: this.state.title\n                                    }}\n                                />\n                            </h4>\n                        </div>\n                        <div\n                            ref='editModalBody'\n                            className='edit-modal-body modal-body'\n                        >\n                            <Textbox\n                                onChange={this.handleChange}\n                                onKeyPress={this.handleEditKeyPress}\n                                onKeyDown={this.handleKeyDown}\n                                handlePostError={this.handlePostError}\n                                value={this.state.editText}\n                                channelId={this.state.channel_id}\n                                emojiEnabled={window.mm_config.EnableEmojiPicker === 'true'}\n                                createMessage={Utils.localizeMessage('edit_post.editPost', 'Edit the post...')}\n                                supportsCommands={false}\n                                suggestionListStyle='bottom'\n                                id='edit_textbox'\n                                ref='editbox'\n                            />\n                            <span\n                                ref='editPostEmoji'\n                                className='edit-post__actions'\n                            >\n                                {emojiPicker}\n                            </span>\n                            <div className={errorBoxClass}>\n                                {postError}\n                            </div>\n                        </div>\n                        <div className='modal-footer'>\n                            <button\n                                type='button'\n                                className='btn btn-default'\n                                data-dismiss='modal'\n                            >\n                                <FormattedMessage\n                                    id='edit_post.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </button>\n                            <button\n                                type='button'\n                                className='btn btn-primary'\n                                onClick={this.handleEdit}\n                            >\n                                <FormattedMessage\n                                    id='edit_post.save'\n                                    defaultMessage='Save'\n                                />\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/edit_post_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport PureRenderMixin from 'react-addons-pure-render-mixin';\n\nimport ModalStore from 'stores/modal_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport GetLinkModal from './get_link_modal.jsx';\n\nexport default class GetPostLinkModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleToggle = this.handleToggle.bind(this);\n        this.hide = this.hide.bind(this);\n\n        this.shouldComponentUpdate = PureRenderMixin.shouldComponentUpdate.bind(this);\n\n        this.state = {\n            show: false,\n            post: {}\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_GET_POST_LINK_MODAL, this.handleToggle);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_GET_POST_LINK_MODAL, this.handleToggle);\n    }\n\n    handleToggle(value, args) {\n        this.setState({\n            show: value,\n            post: args.post\n        });\n    }\n\n    hide() {\n        this.setState({\n            show: false\n        });\n    }\n\n    render() {\n        return (\n            <GetLinkModal\n                show={this.state.show}\n                onHide={this.hide}\n                title={Utils.localizeMessage('get_post_link_modal.title', 'Copy Permalink')}\n                helpText={Utils.localizeMessage('get_post_link_modal.help', 'The link below allows authorized users to see your post.')}\n                link={TeamStore.getCurrentTeamUrl() + '/pl/' + this.state.post.id}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/get_post_link_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport PureRenderMixin from 'react-addons-pure-render-mixin';\n\nimport {getPublicLink} from 'actions/file_actions.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport GetLinkModal from './get_link_modal.jsx';\n\nexport default class GetPublicLinkModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handlePublicLink = this.handlePublicLink.bind(this);\n        this.handleToggle = this.handleToggle.bind(this);\n        this.hide = this.hide.bind(this);\n\n        this.shouldComponentUpdate = PureRenderMixin.shouldComponentUpdate.bind(this);\n\n        this.state = {\n            show: false,\n            fileId: '',\n            link: ''\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL, this.handleToggle);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.show && !prevState.show) {\n            getPublicLink(this.state.fileId, this.handlePublicLink);\n        }\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL, this.handleToggle);\n    }\n\n    handlePublicLink(link) {\n        this.setState({\n            link\n        });\n    }\n\n    handleToggle(value, args) {\n        this.setState({\n            show: value,\n            fileId: args.fileId,\n            link: ''\n        });\n    }\n\n    hide() {\n        this.setState({\n            show: false\n        });\n    }\n\n    render() {\n        return (\n            <GetLinkModal\n                show={this.state.show}\n                onHide={this.hide}\n                title={Utils.localizeMessage('get_public_link_modal.title', 'Copy Public Link')}\n                helpText={Utils.localizeMessage('get_public_link_modal.help', 'The link below allows anyone to see this file without being registered on this server.')}\n                link={this.state.link}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/get_public_link_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport PureRenderMixin from 'react-addons-pure-render-mixin';\n\nimport ModalStore from 'stores/modal_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport GetLinkModal from './get_link_modal.jsx';\n\nexport default class GetTeamInviteLinkModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleToggle = this.handleToggle.bind(this);\n\n        this.shouldComponentUpdate = PureRenderMixin.shouldComponentUpdate.bind(this);\n\n        this.state = {\n            show: false\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_GET_TEAM_INVITE_LINK_MODAL, this.handleToggle);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_GET_TEAM_INVITE_LINK_MODAL, this.handleToggle);\n    }\n\n    handleToggle(value) {\n        this.setState({\n            show: value\n        });\n    }\n\n    render() {\n        let helpText;\n        if (global.window.mm_config.EnableUserCreation === 'true') {\n            helpText = Utils.localizeMessage('get_team_invite_link_modal.help', 'Send teammates the link below for them to sign-up to this team site. The Team Invite Link can be shared with multiple teammates as it does not change unless it\\'s regenerated in Team Settings by a Team Admin.');\n        } else {\n            helpText = Utils.localizeMessage('get_team_invite_link_modal.helpDisabled', 'User creation has been disabled for your team. Please ask your team administrator for details.');\n        }\n\n        return (\n            <GetLinkModal\n                show={this.state.show}\n                onHide={() => this.setState({show: false})}\n                title={Utils.localizeMessage('get_team_invite_link_modal.title', 'Team Invite Link')}\n                helpText={helpText}\n                link={TeamStore.getCurrentInviteLink()}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/get_team_invite_link_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport ReactDOM from 'react-dom';\nimport {defineMessages, FormattedHTMLMessage, FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {inviteMembers} from 'actions/team_actions.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as utils from 'utils/utils.jsx';\n\nimport ConfirmModal from './confirm_modal.jsx';\n\nconst ActionTypes = Constants.ActionTypes;\n\nconst holders = defineMessages({\n    emailError: {\n        id: 'invite_member.emailError',\n        defaultMessage: 'Please enter a valid email address'\n    },\n    firstname: {\n        id: 'invite_member.firstname',\n        defaultMessage: 'First name'\n    },\n    lastname: {\n        id: 'invite_member.lastname',\n        defaultMessage: 'Last name'\n    },\n    modalTitle: {\n        id: 'invite_member.modalTitle',\n        defaultMessage: 'Discard Invitations?'\n    },\n    modalMessage: {\n        id: 'invite_member.modalMessage',\n        defaultMessage: 'You have unsent invitations, are you sure you want to discard them?'\n    },\n    modalButton: {\n        id: 'invite_member.modalButton',\n        defaultMessage: 'Yes, Discard'\n    }\n});\n\nclass InviteMemberModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.teamChange = this.teamChange.bind(this);\n        this.handleToggle = this.handleToggle.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleHide = this.handleHide.bind(this);\n        this.addInviteFields = this.addInviteFields.bind(this);\n        this.clearFields = this.clearFields.bind(this);\n        this.removeInviteFields = this.removeInviteFields.bind(this);\n        this.showGetTeamInviteLinkModal = this.showGetTeamInviteLinkModal.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n\n        const team = TeamStore.getCurrent();\n\n        this.state = {\n            show: false,\n            inviteIds: [0],\n            idCount: 0,\n            emailErrors: {},\n            firstNameErrors: {},\n            lastNameErrors: {},\n            emailEnabled: global.window.mm_config.SendEmailNotifications === 'true',\n            userCreationEnabled: global.window.mm_config.EnableUserCreation === 'true',\n            showConfirmModal: false,\n            isSendingEmails: false,\n            teamType: team ? team.type : null\n        };\n    }\n\n    teamChange() {\n        const team = TeamStore.getCurrent();\n        const teamType = team ? team.type : null;\n        this.setState({\n            teamType\n        });\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(ActionTypes.TOGGLE_INVITE_MEMBER_MODAL, this.handleToggle);\n        TeamStore.addChangeListener(this.teamChange);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(ActionTypes.TOGGLE_INVITE_MEMBER_MODAL, this.handleToggle);\n        TeamStore.removeChangeListener(this.teamChange);\n    }\n\n    handleToggle(value) {\n        this.setState({\n            show: value,\n            serverError: null\n        });\n    }\n\n    handleSubmit() {\n        if (!this.state.emailEnabled) {\n            return;\n        }\n\n        var inviteIds = this.state.inviteIds;\n        var count = inviteIds.length;\n        var invites = [];\n        var emailErrors = this.state.emailErrors;\n        var firstNameErrors = this.state.firstNameErrors;\n        var lastNameErrors = this.state.lastNameErrors;\n        var valid = true;\n\n        for (var i = 0; i < count; i++) {\n            var invite = {};\n            var index = inviteIds[i];\n            invite.email = ReactDOM.findDOMNode(this.refs['email' + index]).value.trim();\n            invite.firstName = ReactDOM.findDOMNode(this.refs['first_name' + index]).value.trim();\n            invite.lastName = ReactDOM.findDOMNode(this.refs['last_name' + index]).value.trim();\n            if (invite.email !== '' || index === 0) {\n                if (!invite.email || !utils.isEmail(invite.email)) {\n                    emailErrors[index] = this.props.intl.formatMessage(holders.emailError);\n                    valid = false;\n                } else {\n                    emailErrors[index] = '';\n                }\n                invites.push(invite);\n            }\n        }\n\n        this.setState({emailErrors, firstNameErrors, lastNameErrors});\n\n        if (!valid || invites.length === 0) {\n            return;\n        }\n\n        var data = {};\n        data.invites = invites;\n\n        this.setState({isSendingEmails: true});\n\n        inviteMembers(\n            data,\n            () => {\n                this.handleHide(false);\n                this.setState({isSendingEmails: false});\n            },\n            (err) => {\n                if (err.id === 'api.team.invite_members.already.app_error') {\n                    emailErrors[err.detailed_error] = err.message;\n                    this.setState({emailErrors});\n                } else {\n                    this.setState({serverError: err.message});\n                }\n\n                this.setState({isSendingEmails: false});\n            }\n        );\n    }\n\n    handleHide(requireConfirm) {\n        if (requireConfirm) {\n            var notEmpty = false;\n            for (var i = 0; i < this.state.inviteIds.length; i++) {\n                var index = this.state.inviteIds[i];\n                if (ReactDOM.findDOMNode(this.refs['email' + index]).value.trim() !== '') {\n                    notEmpty = true;\n                    break;\n                }\n            }\n\n            if (notEmpty) {\n                this.setState({\n                    showConfirmModal: true\n                });\n\n                return;\n            }\n        }\n\n        this.clearFields();\n\n        this.setState({\n            show: false,\n            showConfirmModal: false\n        });\n    }\n\n    addInviteFields() {\n        var count = this.state.idCount + 1;\n        var inviteIds = this.state.inviteIds;\n        inviteIds.push(count);\n        this.setState({inviteIds, idCount: count});\n    }\n\n    clearFields() {\n        var inviteIds = this.state.inviteIds;\n\n        for (var i = 0; i < inviteIds.length; i++) {\n            var index = inviteIds[i];\n            ReactDOM.findDOMNode(this.refs['email' + index]).value = '';\n            ReactDOM.findDOMNode(this.refs['first_name' + index]).value = '';\n            ReactDOM.findDOMNode(this.refs['last_name' + index]).value = '';\n        }\n\n        this.setState({\n            inviteIds: [0],\n            idCount: 0,\n            emailErrors: {},\n            firstNameErrors: {},\n            lastNameErrors: {}\n        });\n    }\n\n    removeInviteFields(index) {\n        var count = this.state.idCount;\n        var inviteIds = this.state.inviteIds;\n        var i = inviteIds.indexOf(index);\n        if (i > -1) {\n            inviteIds.splice(i, 1);\n        }\n        if (!inviteIds.length) {\n            inviteIds.push(++count);\n        }\n        this.setState({inviteIds, idCount: count});\n    }\n\n    showGetTeamInviteLinkModal() {\n        this.handleHide(false);\n\n        GlobalActions.showGetTeamInviteLinkModal();\n    }\n\n    handleKeyDown(e) {\n        if (e.keyCode === Constants.KeyCodes.ENTER) {\n            e.preventDefault();\n            this.handleSubmit();\n        }\n    }\n\n    render() {\n        var currentUser = UserStore.getCurrentUser();\n        const {formatMessage} = this.props.intl;\n\n        if (currentUser != null && this.state.teamType != null) {\n            var inviteSections = [];\n            var inviteIds = this.state.inviteIds;\n            for (var i = 0; i < inviteIds.length; i++) {\n                var index = inviteIds[i];\n                var emailError = null;\n                if (this.state.emailErrors[index]) {\n                    emailError = <label className='control-label'>{this.state.emailErrors[index]}</label>;\n                }\n                var firstNameError = null;\n                if (this.state.firstNameErrors[index]) {\n                    firstNameError = <label className='control-label'>{this.state.firstNameErrors[index]}</label>;\n                }\n                var lastNameError = null;\n                if (this.state.lastNameErrors[index]) {\n                    lastNameError = <label className='control-label'>{this.state.lastNameErrors[index]}</label>;\n                }\n\n                var removeButton = null;\n                if (index) {\n                    removeButton = (\n                        <div>\n                            <button\n                                type='button'\n                                className='btn btn-link remove__member'\n                                onClick={this.removeInviteFields.bind(this, index)}\n                            >\n                                <span className='fa fa-trash'/>\n                            </button>\n                        </div>\n                    );\n                }\n                var emailClass = 'form-group invite';\n                if (emailError) {\n                    emailClass += ' has-error';\n                }\n\n                var nameFields = null;\n\n                var firstNameClass = 'form-group';\n                if (firstNameError) {\n                    firstNameClass += ' has-error';\n                }\n                var lastNameClass = 'form-group';\n                if (lastNameError) {\n                    lastNameClass += ' has-error';\n                }\n                nameFields = (\n                    <div className='row row--invite'>\n                        <div className='col-sm-6'>\n                            <div className={firstNameClass}>\n                                <input\n                                    onKeyDown={this.handleKeyDown}\n                                    type='text'\n                                    className='form-control'\n                                    ref={'first_name' + index}\n                                    placeholder={formatMessage(holders.firstname)}\n                                    maxLength='64'\n                                    disabled={!this.state.emailEnabled || !this.state.userCreationEnabled}\n                                    spellCheck='false'\n                                />\n                                {firstNameError}\n                            </div>\n                        </div>\n                        <div className='col-sm-6'>\n                            <div className={lastNameClass}>\n                                <input\n                                    onKeyDown={this.handleKeyDown}\n                                    type='text'\n                                    className='form-control'\n                                    ref={'last_name' + index}\n                                    placeholder={formatMessage(holders.lastname)}\n                                    maxLength='64'\n                                    disabled={!this.state.emailEnabled || !this.state.userCreationEnabled}\n                                    spellCheck='false'\n                                />\n                                {lastNameError}\n                            </div>\n                        </div>\n                    </div>\n                );\n\n                inviteSections[index] = (\n                    <div key={'key' + index}>\n                        {removeButton}\n                        <div className={emailClass}>\n                            <input\n                                onKeyUp={this.displayNameKeyUp}\n                                onKeyDown={this.handleKeyDown}\n                                type='text'\n                                ref={'email' + index}\n                                className='form-control'\n                                placeholder='email@domain.com'\n                                maxLength='64'\n                                disabled={!this.state.emailEnabled || !this.state.userCreationEnabled}\n                                spellCheck='false'\n                            />\n                            {emailError}\n                        </div>\n                        {nameFields}\n                    </div>\n                );\n            }\n\n            var serverError = null;\n            if (this.state.serverError) {\n                serverError = <div className='form-group has-error'><label className='control-label'>{this.state.serverError}</label></div>;\n            }\n\n            var content = null;\n            var sendButton = null;\n\n            var defaultChannelName = '';\n            if (ChannelStore.getByName(Constants.DEFAULT_CHANNEL)) {\n                defaultChannelName = ChannelStore.getByName(Constants.DEFAULT_CHANNEL).display_name;\n            }\n\n            if (this.state.emailEnabled && this.state.userCreationEnabled) {\n                content = (\n                    <div>\n                        {serverError}\n                        <button\n                            type='button'\n                            className='btn btn-default'\n                            onClick={this.addInviteFields}\n                        >\n                            <FormattedMessage\n                                id='invite_member.addAnother'\n                                defaultMessage='Add another'\n                            />\n                        </button>\n                        <br/>\n                        <br/>\n                        <span>\n                            <FormattedHTMLMessage\n                                id='invite_member.autoJoin'\n                                defaultMessage='People invited automatically join the <strong>{channel}</strong> channel.'\n                                values={{\n                                    channel: defaultChannelName\n                                }}\n                            />\n                        </span>\n                    </div>\n                );\n\n                var sendButtonLabel = (\n                    <FormattedMessage\n                        id='invite_member.send'\n                        defaultMessage='Send Invitation'\n                    />\n                );\n                if (this.state.isSendingEmails) {\n                    sendButtonLabel = (\n                        <span><i className='fa fa-spinner fa-spin'/>\n                            <FormattedMessage\n                                id='invite_member.sending'\n                                defaultMessage=' Sending'\n                            />\n                        </span>\n                    );\n                } else if (this.state.inviteIds.length > 1) {\n                    sendButtonLabel = (\n                        <FormattedMessage\n                            id='invite_member.send2'\n                            defaultMessage='Send Invitations'\n                        />\n                    );\n                }\n\n                sendButton = (\n                    <button\n                        onClick={this.handleSubmit}\n                        type='button'\n                        className='btn btn-primary'\n                        disabled={this.state.isSendingEmails}\n                    >\n                        {sendButtonLabel}\n                    </button>\n                );\n            } else if (this.state.userCreationEnabled) {\n                var teamInviteLink = null;\n                if (currentUser && this.state.teamType === 'O') {\n                    var link = (\n                        <button\n                            className='color--link style--none'\n                            onClick={this.showGetTeamInviteLinkModal}\n                        >\n                            <FormattedMessage\n                                id='invite_member.inviteLink'\n                                defaultMessage='Team Invite Link'\n                            />\n                        </button>\n                    );\n\n                    teamInviteLink = (\n                        <p>\n                            <FormattedMessage\n                                id='invite_member.teamInviteLink'\n                                defaultMessage='You can also invite people using the {link}.'\n                                values={{\n                                    link\n                                }}\n                            />\n                        </p>\n                    );\n                }\n\n                content = (\n                    <div>\n                        <p>\n                            <FormattedMessage\n                                id='invite_member.content'\n                                defaultMessage='Email is currently disabled for your team, and email invitations cannot be sent. Contact your System Administrator to enable email and email invitations.'\n                            />\n                        </p>\n                        {teamInviteLink}\n                    </div>\n                );\n            } else {\n                content = (\n                    <div>\n                        <p>\n                            <FormattedMessage\n                                id='invite_member.disabled'\n                                defaultMessage='User creation has been disabled for your team. Please ask your Team Administrator for details.'\n                            />\n                        </p>\n                    </div>\n                );\n            }\n\n            return (\n                <div>\n                    <Modal\n                        dialogClassName='modal-invite-member'\n                        show={this.state.show}\n                        onHide={this.handleHide.bind(this, true)}\n                        enforceFocus={!this.state.showConfirmModal}\n                        backdrop={this.state.isSendingEmails ? 'static' : true}\n                    >\n                        <Modal.Header closeButton={!this.state.isSendingEmails}>\n                            <Modal.Title>\n                                <FormattedMessage\n                                    id='invite_member.newMember'\n                                    defaultMessage='Send Email Invite'\n                                />\n                            </Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body ref='modalBody'>\n                            <form role='form'>\n                                {inviteSections}\n                            </form>\n                            {content}\n                        </Modal.Body>\n                        <Modal.Footer>\n                            <button\n                                type='button'\n                                className='btn btn-default'\n                                onClick={this.handleHide.bind(this, true)}\n                                disabled={this.state.isSendingEmails}\n                            >\n                                <FormattedMessage\n                                    id='invite_member.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </button>\n                            {sendButton}\n                        </Modal.Footer>\n                    </Modal>\n                    <ConfirmModal\n                        title={formatMessage(holders.modalTitle)}\n                        message={formatMessage(holders.modalMessage)}\n                        confirmButtonText={formatMessage(holders.modalButton)}\n                        show={this.state.showConfirmModal}\n                        onConfirm={this.handleHide.bind(this, false)}\n                        onCancel={() => this.setState({showConfirmModal: false})}\n                    />\n                </div>\n            );\n        }\n\n        return null;\n    }\n}\n\nInviteMemberModal.propTypes = {\n    intl: intlShape.isRequired\n};\n\nexport default injectIntl(InviteMemberModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/invite_member_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport {ActionTypes, WebrtcActionTypes} from 'utils/constants.jsx';\n\nclass LeaveTeamModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleToggle = this.handleToggle.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleHide = this.handleHide.bind(this);\n        this.handleKeyPress = this.handleKeyPress.bind(this);\n\n        this.state = {\n            show: false\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(ActionTypes.TOGGLE_LEAVE_TEAM_MODAL, this.handleToggle);\n        document.addEventListener('keypress', this.handleKeyPress);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(ActionTypes.TOGGLE_LEAVE_TEAM_MODAL, this.handleToggle);\n        document.removeEventListener('keypress', this.handleKeyPress);\n    }\n\n    handleKeyPress(e) {\n        if (e.key === 'Enter' && this.state.show) {\n            this.handleSubmit(e);\n        }\n    }\n\n    handleToggle(value) {\n        this.setState({\n            show: value\n        });\n    }\n\n    handleSubmit(e) {\n        this.setState({\n            show: false\n        });\n\n        if (WebrtcStore.isBusy()) {\n            WebrtcStore.emitChanged({action: WebrtcActionTypes.IN_PROGRESS});\n            e.preventDefault();\n            return;\n        }\n\n        GlobalActions.emitLeaveTeam();\n        GlobalActions.toggleSideBarRightMenuAction();\n    }\n\n    handleHide() {\n        this.setState({\n            show: false\n        });\n    }\n\n    render() {\n        var currentUser = UserStore.getCurrentUser();\n\n        if (currentUser != null) {\n            return (\n                <Modal\n                    className='modal-confirm'\n                    show={this.state.show}\n                    onHide={this.handleHide}\n                >\n                    <Modal.Header closeButton={false}>\n                        <Modal.Title>\n                            <FormattedMessage\n                                id='leave_team_modal.title'\n                                defaultMessage='Leave the team?'\n                            />\n                        </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <FormattedMessage\n                            id='leave_team_modal.desc'\n                            defaultMessage='You will be removed from all public and private channels.  If the team is private you will not be able to rejoin the team.  Are you sure?'\n                        />\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <button\n                            type='button'\n                            className='btn btn-default'\n                            onClick={this.handleHide}\n                        >\n                            <FormattedMessage\n                                id='leave_team_modal.no'\n                                defaultMessage='No'\n                            />\n                        </button>\n                        <button\n                            type='button'\n                            className='btn btn-danger'\n                            onClick={this.handleSubmit}\n                        >\n                            <FormattedMessage\n                                id='leave_team_modal.yes'\n                                defaultMessage='Yes'\n                            />\n                        </button>\n                    </Modal.Footer>\n                </Modal>\n            );\n        }\n\n        return null;\n    }\n}\n\nLeaveTeamModal.propTypes = {\n    intl: intlShape.isRequired\n};\n\nexport default injectIntl(LeaveTeamModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/leave_team_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport * as ChannelActions from 'actions/channel_actions.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\n\nimport ConfirmModal from 'components/confirm_modal.jsx';\n\nclass LeavePrivateChannelModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleToggle = this.handleToggle.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleHide = this.handleHide.bind(this);\n        this.handleKeyPress = this.handleKeyPress.bind(this);\n\n        this.state = {\n            show: false,\n            channel: null\n        };\n        this.mounted = false;\n    }\n\n    componentDidMount() {\n        this.mounted = true;\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL, this.handleToggle);\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL, this.handleToggle);\n    }\n\n    handleKeyPress(e) {\n        if (e.key === 'Enter' && this.state.show) {\n            this.handleSubmit();\n        }\n    }\n\n    handleSubmit() {\n        const channelId = this.state.channel.id;\n        this.setState({\n            show: false,\n            channel: null\n        });\n        ChannelActions.leaveChannel(channelId);\n    }\n\n    handleToggle(value) {\n        this.setState({\n            channel: value,\n            show: value !== null\n        });\n    }\n\n    handleHide() {\n        this.setState({\n            show: false\n        });\n    }\n\n    render() {\n        let title = '';\n        let message = '';\n        if (this.state.channel) {\n            title = (\n                <FormattedMessage\n                    id='leave_private_channel_modal.title'\n                    defaultMessage='Leave Private Channel {channel}'\n                    values={{\n                        channel: <b>{this.state.channel.display_name}</b>\n                    }}\n                />\n            );\n\n            message = (\n                <FormattedMessage\n                    id='leave_private_channel_modal.message'\n                    defaultMessage='Are you sure you wish to leave the private channel {channel}? You must be re-invited in order to re-join this channel in the future.'\n                    values={{\n                        channel: <b>{this.state.channel.display_name}</b>\n                    }}\n                />\n            );\n        }\n\n        const buttonClass = 'btn btn-danger';\n        const button = (\n            <FormattedMessage\n                id='leave_private_channel_modal.leave'\n                defaultMessage='Yes, leave channel'\n            />\n        );\n\n        return (\n            <ConfirmModal\n                show={this.state.show}\n                title={title}\n                message={message}\n                confirmButtonClass={buttonClass}\n                confirmButtonText={button}\n                onConfirm={this.handleSubmit}\n                onCancel={this.handleHide}\n            />\n        );\n    }\n}\n\nLeavePrivateChannelModal.propTypes = {\n    intl: intlShape.isRequired\n};\n\nexport default injectIntl(LeavePrivateChannelModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/modals/leave_private_channel_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router/es6';\n\nimport EditChannelHeaderModal from 'components/edit_channel_header_modal';\nimport EditChannelPurposeModal from 'components/edit_channel_purpose_modal';\n\nimport * as ChannelActions from 'actions/channel_actions.jsx';\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {getPinnedPosts} from 'actions/post_actions.jsx';\nimport AppDispatcher from 'dispatcher/app_dispatcher.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport SearchStore from 'stores/search_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport * as ChannelUtils from 'utils/channel_utils.jsx';\nimport {ActionTypes, Constants} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport ChannelInfoModal from 'components/channel_info_modal';\nimport ChannelInviteModal from 'components/channel_invite_modal';\nimport ChannelMembersModal from 'components/channel_members_modal.jsx';\nimport ChannelNotificationsModal from 'components/channel_notifications_modal.jsx';\n\nimport DeleteChannelModal from 'components/delete_channel_modal';\n\nimport NotifyCounts from 'components/notify_counts.jsx';\nimport QuickSwitchModal from 'components/quick_switch_modal';\nimport RenameChannelModal from 'components/rename_channel_modal.jsx';\nimport StatusIcon from 'components/status_icon.jsx';\nimport ToggleModalButton from 'components/toggle_modal_button.jsx';\n\nimport NavbarInfoButton from './navbar_info_button.jsx';\n\nexport default class Navbar extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onChange = this.onChange.bind(this);\n        this.handleLeave = this.handleLeave.bind(this);\n        this.showSearch = this.showSearch.bind(this);\n\n        this.showEditChannelHeaderModal = this.showEditChannelHeaderModal.bind(this);\n        this.hideEditChannelHeaderModal = this.hideEditChannelHeaderModal.bind(this);\n        this.showChannelPurposeModal = this.showChannelPurposeModal.bind(this);\n        this.hideChannelPurposeModal = this.hideChannelPurposeModal.bind(this);\n        this.showRenameChannelModal = this.showRenameChannelModal.bind(this);\n        this.hideRenameChannelModal = this.hideRenameChannelModal.bind(this);\n        this.isStateValid = this.isStateValid.bind(this);\n\n        this.createCollapseButtons = this.createCollapseButtons.bind(this);\n        this.createDropdown = this.createDropdown.bind(this);\n\n        this.showMembersModal = this.showMembersModal.bind(this);\n        this.hideMembersModal = this.hideMembersModal.bind(this);\n\n        this.toggleQuickSwitchModal = this.toggleQuickSwitchModal.bind(this);\n        this.hideQuickSwitchModal = this.hideQuickSwitchModal.bind(this);\n        this.handleQuickSwitchKeyPress = this.handleQuickSwitchKeyPress.bind(this);\n\n        this.openDirectMessageModal = this.openDirectMessageModal.bind(this);\n        this.getPinnedPosts = this.getPinnedPosts.bind(this);\n\n        const state = this.getStateFromStores();\n        state.showEditChannelPurposeModal = false;\n        state.showEditChannelHeaderModal = false;\n        state.showMembersModal = false;\n        state.showRenameChannelModal = false;\n        state.showQuickSwitchModal = false;\n        state.quickSwitchMode = 'channel';\n        this.state = state;\n    }\n\n    getStateFromStores() {\n        const channel = ChannelStore.getCurrent();\n\n        return {\n            channel,\n            member: ChannelStore.getCurrentMember(),\n            users: [],\n            userCount: ChannelStore.getCurrentStats().member_count,\n            currentUser: UserStore.getCurrentUser(),\n            isFavorite: channel && ChannelUtils.isFavoriteChannel(channel)\n        };\n    }\n\n    isStateValid() {\n        return this.state.channel && this.state.member && this.state.users && this.state.currentUser;\n    }\n\n    componentDidMount() {\n        ChannelStore.addChangeListener(this.onChange);\n        ChannelStore.addStatsChangeListener(this.onChange);\n        UserStore.addStatusesChangeListener(this.onChange);\n        UserStore.addChangeListener(this.onChange);\n        PreferenceStore.addChangeListener(this.onChange);\n        ModalStore.addModalListener(ActionTypes.TOGGLE_QUICK_SWITCH_MODAL, this.toggleQuickSwitchModal);\n        ModalStore.addModalListener(ActionTypes.TOGGLE_CHANNEL_HEADER_UPDATE_MODAL, this.showEditChannelHeaderModal);\n        ModalStore.addModalListener(ActionTypes.TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL, this.showChannelPurposeModal);\n        ModalStore.addModalListener(ActionTypes.TOGGLE_CHANNEL_NAME_UPDATE_MODAL, this.showRenameChannelModal);\n        $('.inner-wrap').click(this.hideSidebars);\n        document.addEventListener('keydown', this.handleQuickSwitchKeyPress);\n    }\n\n    componentWillUnmount() {\n        ChannelStore.removeChangeListener(this.onChange);\n        ChannelStore.removeStatsChangeListener(this.onChange);\n        UserStore.removeStatusesChangeListener(this.onChange);\n        UserStore.removeChangeListener(this.onChange);\n        PreferenceStore.removeChangeListener(this.onChange);\n        ModalStore.removeModalListener(ActionTypes.TOGGLE_QUICK_SWITCH_MODAL, this.toggleQuickSwitchModal);\n        ModalStore.addModalListener(ActionTypes.TOGGLE_CHANNEL_HEADER_UPDATE_MODAL, this.hideEditChannelHeaderModal);\n        ModalStore.addModalListener(ActionTypes.TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL, this.hideChannelPurposeModal);\n        ModalStore.addModalListener(ActionTypes.TOGGLE_CHANNEL_NAME_UPDATE_MODAL, this.hideRenameChannelModal);\n        document.removeEventListener('keydown', this.handleQuickSwitchKeyPress);\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n    }\n\n    handleLeave() {\n        if (this.state.channel.type === Constants.PRIVATE_CHANNEL) {\n            GlobalActions.showLeavePrivateChannelModal(this.state.channel);\n        } else {\n            ChannelActions.leaveChannel(this.state.channel.id);\n        }\n    }\n\n    hideSidebars(e) {\n        var windowWidth = $(window).outerWidth();\n        if (windowWidth <= 768) {\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.RECEIVED_SEARCH,\n                results: null\n            });\n\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.RECEIVED_POST_SELECTED,\n                postId: null,\n                channelId: null\n            });\n\n            if (e.target.className !== 'navbar-toggle' && e.target.className !== 'icon-bar') {\n                $('.app__body .inner-wrap').removeClass('move--right move--left move--left-small');\n                $('.app__body .sidebar--left').removeClass('move--right');\n                $('.multi-teams .team-sidebar').removeClass('move--right');\n                $('.app__body .sidebar--right').removeClass('move--left');\n                $('.app__body .sidebar--menu').removeClass('move--left');\n            }\n        }\n    }\n\n    toggleLeftSidebar() {\n        $('.app__body .inner-wrap').toggleClass('move--right');\n        $('.app__body .sidebar--left').toggleClass('move--right');\n        $('.multi-teams .team-sidebar').toggleClass('move--right');\n    }\n\n    toggleRightSidebar() {\n        $('.app__body .inner-wrap').toggleClass('move--left-small');\n        $('.app__body .sidebar--menu').toggleClass('move--left');\n    }\n\n    showSearch() {\n        AppDispatcher.handleServerAction({\n            type: ActionTypes.SHOW_SEARCH\n        });\n    }\n\n    onChange() {\n        this.setState(this.getStateFromStores());\n    }\n\n    showEditChannelHeaderModal() {\n        this.setState({\n            showEditChannelHeaderModal: true\n        });\n    }\n\n    hideEditChannelHeaderModal() {\n        this.setState({\n            showEditChannelHeaderModal: false\n        });\n    }\n\n    showChannelPurposeModal() {\n        this.setState({\n            showEditChannelPurposeModal: true\n        });\n    }\n\n    hideChannelPurposeModal() {\n        this.setState({\n            showEditChannelPurposeModal: false\n        });\n    }\n\n    showRenameChannelModal() {\n        this.setState({\n            showRenameChannelModal: true\n        });\n    }\n\n    hideRenameChannelModal() {\n        this.setState({\n            showRenameChannelModal: false\n        });\n    }\n\n    showMembersModal(e) {\n        e.preventDefault();\n\n        this.setState({showMembersModal: true});\n    }\n\n    hideMembersModal() {\n        this.setState({showMembersModal: false});\n    }\n\n    handleQuickSwitchKeyPress(e) {\n        if (Utils.cmdOrCtrlPressed(e) && !e.shiftKey && e.keyCode === Constants.KeyCodes.K) {\n            if (!e.altKey) {\n                e.preventDefault();\n                this.toggleQuickSwitchModal('channel');\n            }\n        }\n    }\n\n    toggleQuickSwitchModal(mode = 'channel') {\n        if (this.state.showQuickSwitchModal) {\n            this.setState({showQuickSwitchModal: false, quickSwitchMode: 'channel'});\n        } else {\n            this.setState({showQuickSwitchModal: true, quickSwitchMode: mode});\n        }\n    }\n\n    hideQuickSwitchModal() {\n        this.setState({\n            showQuickSwitchModal: false,\n            quickSwitchMode: 'channel'\n        });\n    }\n\n    openDirectMessageModal() {\n        AppDispatcher.handleViewAction({\n            type: ActionTypes.TOGGLE_DM_MODAL,\n            value: true,\n            channelId: this.state.channel.id\n        });\n    }\n\n    getPinnedPosts(e) {\n        e.preventDefault();\n        if (SearchStore.isPinnedPosts) {\n            GlobalActions.toggleSideBarAction(false);\n        } else {\n            getPinnedPosts(this.state.channel.id);\n        }\n    }\n\n    toggleFavorite = (e) => {\n        e.preventDefault();\n\n        if (this.state.isFavorite) {\n            ChannelActions.unmarkFavorite(this.state.channel.id);\n        } else {\n            ChannelActions.markFavorite(this.state.channel.id);\n        }\n    };\n\n    createDropdown(channel, channelTitle, isSystemAdmin, isTeamAdmin, isChannelAdmin, isDirect, isGroup) {\n        if (channel) {\n            let viewInfoOption;\n            let viewPinnedPostsOption;\n            let addMembersOption;\n            let manageMembersOption;\n            let setChannelHeaderOption;\n            let setChannelPurposeOption;\n            let notificationPreferenceOption;\n            let renameChannelOption;\n            let deleteChannelOption;\n            let leaveChannelOption;\n\n            if (isDirect) {\n                setChannelHeaderOption = (\n                    <li role='presentation'>\n                        <a\n                            role='menuitem'\n                            href='#'\n                            onClick={this.showEditChannelHeaderModal}\n                        >\n                            <FormattedMessage\n                                id='channel_header.channelHeader'\n                                defaultMessage='Set Channel Header...'\n                            />\n                        </a>\n                    </li>\n                );\n            } else if (isGroup) {\n                setChannelHeaderOption = (\n                    <li role='presentation'>\n                        <a\n                            role='menuitem'\n                            href='#'\n                            onClick={this.showEditChannelHeaderModal}\n                        >\n                            <FormattedMessage\n                                id='channel_header.channelHeader'\n                                defaultMessage='Set Channel Header...'\n                            />\n                        </a>\n                    </li>\n                );\n\n                notificationPreferenceOption = (\n                    <li role='presentation'>\n                        <ToggleModalButton\n                            role='menuitem'\n                            dialogType={ChannelNotificationsModal}\n                            dialogProps={{\n                                channel,\n                                channelMember: this.state.member,\n                                currentUser: this.state.currentUser\n                            }}\n                        >\n                            <FormattedMessage\n                                id='navbar.preferences'\n                                defaultMessage='Notification Preferences'\n                            />\n                        </ToggleModalButton>\n                    </li>\n                );\n\n                addMembersOption = (\n                    <li\n                        role='presentation'\n                    >\n                        <a\n                            role='menuitem'\n                            href='#'\n                            onClick={this.openDirectMessageModal}\n                        >\n                            <FormattedMessage\n                                id='navbar.addMembers'\n                                defaultMessage='Add Members'\n                            />\n                        </a>\n                    </li>\n                );\n            } else {\n                viewInfoOption = (\n                    <li role='presentation'>\n                        <ToggleModalButton\n                            role='menuitem'\n                            dialogType={ChannelInfoModal}\n                            dialogProps={{channel}}\n                        >\n                            <FormattedMessage\n                                id='navbar.viewInfo'\n                                defaultMessage='View Info'\n                            />\n                        </ToggleModalButton>\n                    </li>\n                );\n\n                viewPinnedPostsOption = (\n                    <li role='presentation'>\n                        <a\n                            role='menuitem'\n                            href='#'\n                            onClick={this.getPinnedPosts}\n                        >\n                            <FormattedMessage\n                                id='navbar.viewPinnedPosts'\n                                defaultMessage='View Pinned Posts'\n                            />\n                        </a>\n                    </li>\n                );\n\n                if (ChannelStore.isDefault(channel)) {\n                    manageMembersOption = (\n                        <li\n                            key='view_members'\n                            role='presentation'\n                        >\n                            <a\n                                role='menuitem'\n                                href='#'\n                                onClick={this.showMembersModal}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.viewMembers'\n                                    defaultMessage='View Members'\n                                />\n                            </a>\n                        </li>\n                    );\n                } else {\n                    addMembersOption = (\n                        <li role='presentation'>\n                            <ToggleModalButton\n                                ref='channelInviteModalButton'\n                                role='menuitem'\n                                dialogType={ChannelInviteModal}\n                                dialogProps={{channel, currentUser: this.state.currentUser}}\n                            >\n                                <FormattedMessage\n                                    id='navbar.addMembers'\n                                    defaultMessage='Add Members'\n                                />\n                            </ToggleModalButton>\n                        </li>\n                    );\n\n                    if (ChannelUtils.canManageMembers(channel, isChannelAdmin, isTeamAdmin, isSystemAdmin)) {\n                        manageMembersOption = (\n                            <li\n                                key='manage_members'\n                                role='presentation'\n                            >\n                                <a\n                                    role='menuitem'\n                                    href='#'\n                                    onClick={this.showMembersModal}\n                                >\n                                    <FormattedMessage\n                                        id='channel_header.manageMembers'\n                                        defaultMessage='Manage Members'\n                                    />\n                                </a>\n                            </li>\n                        );\n                    } else {\n                        manageMembersOption = (\n                            <li\n                                key='view_members'\n                                role='presentation'\n                            >\n                                <a\n                                    role='menuitem'\n                                    href='#'\n                                    onClick={this.showMembersModal}\n                                >\n                                    <FormattedMessage\n                                        id='channel_header.viewMembers'\n                                        defaultMessage='View Members'\n                                    />\n                                </a>\n                            </li>\n                        );\n                    }\n                }\n\n                notificationPreferenceOption = (\n                    <li role='presentation'>\n                        <ToggleModalButton\n                            role='menuitem'\n                            dialogType={ChannelNotificationsModal}\n                            dialogProps={{\n                                channel,\n                                channelMember: this.state.member,\n                                currentUser: this.state.currentUser\n                            }}\n                        >\n                            <FormattedMessage\n                                id='navbar.preferences'\n                                defaultMessage='Notification Preferences'\n                            />\n                        </ToggleModalButton>\n                    </li>\n                );\n\n                if (ChannelUtils.showManagementOptions(channel, isChannelAdmin, isTeamAdmin, isSystemAdmin)) {\n                    setChannelHeaderOption = (\n                        <li role='presentation'>\n                            <a\n                                role='menuitem'\n                                href='#'\n                                onClick={this.showEditChannelHeaderModal}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.setHeader'\n                                    defaultMessage='Edit Channel Header'\n                                />\n                            </a>\n                        </li>\n                    );\n\n                    setChannelPurposeOption = (\n                        <li role='presentation'>\n                            <a\n                                role='menuitem'\n                                href='#'\n                                onClick={this.showChannelPurposeModal}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.setPurpose'\n                                    defaultMessage='Edit Channel Purpose'\n                                />\n                            </a>\n                        </li>\n                    );\n\n                    renameChannelOption = (\n                        <li role='presentation'>\n                            <a\n                                role='menuitem'\n                                href='#'\n                                onClick={this.showRenameChannelModal}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.rename'\n                                    defaultMessage='Rename Channel'\n                                />\n                            </a>\n                        </li>\n                    );\n                }\n\n                if (ChannelUtils.showDeleteOptionForCurrentUser(channel, isChannelAdmin, isTeamAdmin, isSystemAdmin)) {\n                    deleteChannelOption = (\n                        <li role='presentation'>\n                            <ToggleModalButton\n                                role='menuitem'\n                                dialogType={DeleteChannelModal}\n                                dialogProps={{channel}}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.delete'\n                                    defaultMessage='Delete Channel'\n                                />\n                            </ToggleModalButton>\n                        </li>\n                    );\n                }\n\n                if (!ChannelStore.isDefault(channel)) {\n                    leaveChannelOption = (\n                        <li role='presentation'>\n                            <a\n                                role='menuitem'\n                                href='#'\n                                onClick={this.handleLeave}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.leave'\n                                    defaultMessage='Leave Channel'\n                                />\n                            </a>\n                        </li>\n                    );\n                }\n            }\n\n            const toggleFavoriteOption = (\n                <li\n                    key='toggle_favorite'\n                    role='presentation'\n                >\n                    <a\n                        role='menuitem'\n                        href='#'\n                        onClick={this.toggleFavorite}\n                    >\n                        {this.state.isFavorite ?\n                            <FormattedMessage\n                                id='channelHeader.removeFromFavorites'\n                                defaultMessage='Remove from Favorites'\n                            /> :\n                            <FormattedMessage\n                                id='channelHeader.addToFavorites'\n                                defaultMessage='Add to Favorites'\n                            />}\n                    </a>\n                </li>\n            );\n\n            return (\n                <div className='navbar-brand'>\n                    <div className='dropdown'>\n                        <a\n                            href='#'\n                            className='dropdown-toggle theme'\n                            type='button'\n                            data-toggle='dropdown'\n                            aria-expanded='true'\n                        >\n                            <span className='heading'><StatusIcon status={this.getTeammateStatus()}/>{channelTitle} </span>\n                            <span className='fa fa-angle-down header-dropdown__icon'/>\n                        </a>\n                        <ul\n                            className='dropdown-menu'\n                            role='menu'\n                        >\n                            {viewInfoOption}\n                            {viewPinnedPostsOption}\n                            {notificationPreferenceOption}\n                            {addMembersOption}\n                            {manageMembersOption}\n                            {setChannelHeaderOption}\n                            {setChannelPurposeOption}\n                            {renameChannelOption}\n                            {deleteChannelOption}\n                            {leaveChannelOption}\n                            {toggleFavoriteOption}\n                            <div\n                                className='close visible-xs-block'\n                                onClick={() => this.refs.headerOverlay.hide()}\n                            >\n                                {'×'}\n                            </div>\n                        </ul>\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <div className='navbar-brand'>\n                <Link\n                    to={TeamStore.getCurrentTeamUrl() + '/channels/town-square'}\n                    className='heading'\n                >\n                    {channelTitle}\n                </Link>\n            </div>\n        );\n    }\n\n    createCollapseButtons(currentId) {\n        var buttons = [];\n        const menuIcon = Constants.MENU_ICON_SVG;\n\n        if (currentId == null) {\n            buttons.push(\n                <button\n                    key='navbar-toggle-collapse'\n                    type='button'\n                    className='navbar-toggle'\n                    data-toggle='collapse'\n                    data-target='#navbar-collapse-1'\n                >\n                    <span className='sr-only'>\n                        <FormattedMessage\n                            id='navbar.toggle1'\n                            defaultMessage='Toggle sidebar'\n                        />\n                    </span>\n                    <span className='icon-bar'/>\n                    <span className='icon-bar'/>\n                    <span className='icon-bar'/>\n                </button>\n            );\n        } else {\n            buttons.push(\n                <button\n                    key='navbar-toggle-sidebar'\n                    type='button'\n                    className='navbar-toggle'\n                    data-toggle='collapse'\n                    data-target='#sidebar-nav'\n                    onClick={this.toggleLeftSidebar}\n                >\n                    <span className='sr-only'>\n                        <FormattedMessage\n                            id='navbar.toggle2'\n                            defaultMessage='Toggle sidebar'\n                        />\n                    </span>\n                    <span\n                        className='icon icon__menu icon--sidebarHeaderTextColor'\n                        dangerouslySetInnerHTML={{__html: menuIcon}}\n                        aria-hidden='true'\n                    />\n                    <NotifyCounts/>\n                </button>\n            );\n\n            buttons.push(\n                <button\n                    key='navbar-toggle-menu'\n                    type='button'\n                    className='navbar-toggle navbar-right__icon menu-toggle pull-right'\n                    data-toggle='collapse'\n                    data-target='#sidebar-nav'\n                    onClick={this.toggleRightSidebar}\n                >\n                    <span dangerouslySetInnerHTML={{__html: Constants.MENU_ICON}}/>\n                </button>\n            );\n        }\n\n        return buttons;\n    }\n\n    getTeammateStatus() {\n        const channel = this.state.channel;\n\n        // get status for direct message channels\n        if (channel.type === 'D') {\n            const currentUserId = this.state.currentUser.id;\n            const teammate = this.state.users.find((user) => user.id !== currentUserId);\n            if (teammate) {\n                return UserStore.getStatus(teammate.id);\n            }\n        }\n        return null;\n    }\n\n    render() {\n        if (!this.isStateValid()) {\n            return null;\n        }\n\n        var currentId = this.state.currentUser.id;\n        var channel = this.state.channel;\n        var channelTitle = this.props.teamDisplayName;\n        var isTeamAdmin = TeamStore.isTeamAdminForCurrentTeam();\n        var isSystemAdmin = UserStore.isSystemAdminForCurrentUser();\n        var isChannelAdmin = false;\n        var isDirect = false;\n        let isGroup = false;\n\n        var editChannelHeaderModal = null;\n        var editChannelPurposeModal = null;\n        let renameChannelModal = null;\n        let channelMembersModal = null;\n        let quickSwitchModal = null;\n\n        if (channel) {\n            isChannelAdmin = ChannelStore.isChannelAdminForCurrentChannel();\n            channelTitle = channel.display_name;\n\n            if (channel.type === Constants.DM_CHANNEL) {\n                isDirect = true;\n                const teammateId = Utils.getUserIdFromChannelName(channel);\n                channelTitle = Utils.displayUsername(teammateId);\n            } else if (channel.type === Constants.GM_CHANNEL) {\n                isGroup = true;\n            }\n\n            if (this.state.showEditChannelHeaderModal) {\n                editChannelHeaderModal = (\n                    <EditChannelHeaderModal\n                        onHide={() => this.setState({showEditChannelHeaderModal: false})}\n                        channel={channel}\n                    />\n                );\n            }\n\n            if (this.state.showEditChannelPurposeModal) {\n                editChannelPurposeModal = (\n                    <EditChannelPurposeModal\n                        onModalDismissed={this.hideChannelPurposeModal}\n                        channel={channel}\n                    />\n                );\n            }\n\n            renameChannelModal = (\n                <RenameChannelModal\n                    show={this.state.showRenameChannelModal}\n                    onHide={this.hideRenameChannelModal}\n                    channel={channel}\n                />\n            );\n\n            if (this.state.showMembersModal) {\n                channelMembersModal = (\n                    <ChannelMembersModal\n                        show={true}\n                        onModalDismissed={this.hideMembersModal}\n                        showInviteModal={() => this.refs.channelInviteModalButton.show()}\n                        channel={channel}\n                        isAdmin={isTeamAdmin || isSystemAdmin}\n                    />\n                );\n            }\n\n            quickSwitchModal = (\n                <QuickSwitchModal\n                    show={this.state.showQuickSwitchModal}\n                    onHide={this.hideQuickSwitchModal}\n                    initialMode={this.state.quickSwitchMode}\n                />\n            );\n        }\n\n        var collapseButtons = this.createCollapseButtons(currentId);\n\n        const searchIcon = Constants.SEARCH_ICON_SVG;\n        const searchButton = (\n            <button\n                type='button'\n                className='navbar-toggle navbar-right__icon navbar-search pull-right'\n                onClick={this.showSearch}\n            >\n                <span\n                    className='icon icon__search'\n                    dangerouslySetInnerHTML={{__html: searchIcon}}\n                    aria-hidden='true'\n                />\n            </button>\n        );\n\n        var channelMenuDropdown = this.createDropdown(channel, channelTitle, isSystemAdmin, isTeamAdmin, isChannelAdmin, isDirect, isGroup);\n\n        return (\n            <div>\n                <nav\n                    className='navbar navbar-default navbar-fixed-top'\n                    role='navigation'\n                >\n                    <div className='container-fluid theme'>\n                        <div className='navbar-header'>\n                            {collapseButtons}\n                            {searchButton}\n                            <NavbarInfoButton\n                                ref='headerOverlay'\n                                channel={channel}\n                                showEditChannelHeaderModal={this.showEditChannelHeaderModal}\n                            />\n                            {channelMenuDropdown}\n                        </div>\n                    </div>\n                </nav>\n                {editChannelHeaderModal}\n                {editChannelPurposeModal}\n                {renameChannelModal}\n                {channelMembersModal}\n                {quickSwitchModal}\n            </div>\n        );\n    }\n}\n\nNavbar.defaultProps = {\n    teamDisplayName: ''\n};\nNavbar.propTypes = {\n    teamDisplayName: PropTypes.string\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/navbar/index.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\n\nimport ChannelStore from 'stores/channel_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\n\nimport {getCountsStateFromStores} from 'utils/channel_utils.jsx';\nimport * as utils from 'utils/utils.jsx';\n\nexport default class NotifyCounts extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onListenerChange = this.onListenerChange.bind(this);\n\n        this.state = getCountsStateFromStores();\n        this.mounted = false;\n    }\n    componentDidMount() {\n        this.mounted = true;\n        ChannelStore.addChangeListener(this.onListenerChange);\n        TeamStore.addChangeListener(this.onListenerChange);\n    }\n    componentWillUnmount() {\n        this.mounted = false;\n        ChannelStore.removeChangeListener(this.onListenerChange);\n        TeamStore.removeChangeListener(this.onListenerChange);\n    }\n    onListenerChange() {\n        if (this.mounted) {\n            var newState = getCountsStateFromStores();\n            if (!utils.areObjectsEqual(newState, this.state)) {\n                this.setState(newState);\n            }\n        }\n    }\n    render() {\n        if (this.state.mentionCount) {\n            return <span className='badge badge-notify'>{this.state.mentionCount}</span>;\n        } else if (this.state.messageCount) {\n            return <span className='badge badge-notify'>{'•'}</span>;\n        }\n        return null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/notify_counts.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport QuickSwitchModal from './quick_switch_modal.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps,\n        showTeamSwitcher: false\n    };\n}\n\nexport default connect(mapStateToProps)(QuickSwitchModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/quick_switch_modal/index.js","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\nimport {browserHistory} from 'react-router/es6';\n\nimport {getChannel} from 'mattermost-redux/selectors/entities/channels';\n\nimport {goToChannel, openDirectChannelToUser} from 'actions/channel_actions.jsx';\nimport store from 'stores/redux_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\nimport * as UserAgent from 'utils/user_agent.jsx';\n\nimport SuggestionBox from 'components/suggestion/suggestion_box.jsx';\nimport SuggestionList from 'components/suggestion/suggestion_list.jsx';\nimport SwitchChannelProvider from 'components/suggestion/switch_channel_provider.jsx';\nimport SwitchTeamProvider from 'components/suggestion/switch_team_provider.jsx';\n\nconst getState = store.getState;\n\nconst CHANNEL_MODE = 'channel';\nconst TEAM_MODE = 'team';\n\nexport default class QuickSwitchModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * The mode to start in when showing the modal, either 'channel' or 'team'\n         */\n        initialMode: PropTypes.string.isRequired,\n\n        /**\n         * Set to show the modal\n         */\n        show: PropTypes.bool.isRequired,\n\n        /**\n         * The function called to hide the modal\n         */\n        onHide: PropTypes.func.isRequired,\n\n        /**\n         * Set to show team switcher\n         */\n        showTeamSwitcher: PropTypes.bool\n    }\n\n    static defaultProps = {\n        initialMode: CHANNEL_MODE\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.onChange = this.onChange.bind(this);\n        this.onShow = this.onShow.bind(this);\n        this.onHide = this.onHide.bind(this);\n        this.onExited = this.onExited.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.switchToChannel = this.switchToChannel.bind(this);\n        this.switchMode = this.switchMode.bind(this);\n        this.focusTextbox = this.focusTextbox.bind(this);\n\n        this.enableChannelProvider = this.enableChannelProvider.bind(this);\n        this.enableTeamProvider = this.enableTeamProvider.bind(this);\n        this.channelProviders = [new SwitchChannelProvider()];\n        this.teamProviders = [new SwitchTeamProvider()];\n\n        this.state = {\n            text: '',\n            mode: props.initialMode\n        };\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.show && !prevProps.show) {\n            this.focusTextbox();\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (!this.props.show && nextProps.show) {\n            this.setState({mode: nextProps.initialMode, text: ''});\n        }\n    }\n\n    focusTextbox() {\n        if (this.refs.switchbox == null) {\n            return;\n        }\n\n        const textbox = this.refs.switchbox.getTextbox();\n        textbox.focus();\n        Utils.placeCaretAtEnd(textbox);\n    }\n\n    onShow() {\n        this.setState({\n            text: ''\n        });\n    }\n\n    onHide() {\n        this.setState({\n            text: ''\n        });\n        this.props.onHide();\n    }\n\n    onExited() {\n        if (!UserAgent.isMobile()) {\n            setTimeout(() => {\n                document.querySelector('#post_textbox').focus();\n            });\n        }\n    }\n\n    onChange(e) {\n        this.setState({text: e.target.value});\n    }\n\n    handleKeyDown(e) {\n        if (e.keyCode === Constants.KeyCodes.TAB) {\n            e.preventDefault();\n            this.switchMode();\n        }\n    }\n\n    handleSubmit(selected) {\n        let channel = null;\n\n        if (!selected) {\n            return;\n        }\n\n        if (this.state.mode === CHANNEL_MODE) {\n            const selectedChannel = selected.channel;\n            if (selectedChannel.type === Constants.DM_CHANNEL) {\n                openDirectChannelToUser(\n                    selectedChannel.id,\n                    (ch) => {\n                        channel = ch;\n                        this.switchToChannel(channel);\n                    },\n                    () => {\n                        channel = null;\n                        this.switchToChannel(channel);\n                    }\n                );\n            } else if (selectedChannel.type === Constants.GM_CHANNEL) {\n                channel = getChannel(getState(), selectedChannel.id);\n                this.switchToChannel(channel);\n            } else {\n                this.switchToChannel(selectedChannel);\n            }\n        } else {\n            browserHistory.push('/' + selected.name);\n            this.onHide();\n        }\n    }\n\n    switchToChannel(channel) {\n        if (channel != null) {\n            goToChannel(channel);\n            this.onHide();\n        }\n    }\n\n    enableChannelProvider() {\n        this.channelProviders[0].disableDispatches = false;\n        this.teamProviders[0].disableDispatches = true;\n    }\n\n    enableTeamProvider() {\n        this.teamProviders[0].disableDispatches = false;\n        this.channelProviders[0].disableDispatches = true;\n    }\n\n    switchMode() {\n        if (this.state.mode === CHANNEL_MODE && this.props.showTeamSwitcher) {\n            this.enableTeamProvider();\n            this.setState({mode: TEAM_MODE});\n        } else if (this.state.mode === TEAM_MODE) {\n            this.enableChannelProvider();\n            this.setState({mode: CHANNEL_MODE});\n        }\n    }\n\n    render() {\n        let providers = this.channelProviders;\n        let header;\n        let renderDividers = true;\n\n        let channelShortcut = 'quick_switch_modal.channelsShortcut.windows';\n        let defaultChannelShortcut = 'CTRL+K';\n        if (Utils.isMac()) {\n            channelShortcut = 'quick_switch_modal.channelsShortcut.mac';\n            defaultChannelShortcut = 'CMD+K';\n        }\n\n        let teamShortcut = 'quick_switch_modal.teamsShortcut.windows';\n        let defaultTeamShortcut = 'CTRL+ALT+K';\n        if (Utils.isMac()) {\n            teamShortcut = 'quick_switch_modal.teamsShortcut.mac';\n            defaultTeamShortcut = 'CMD+ALT+K';\n        }\n\n        if (this.props.showTeamSwitcher) {\n            let channelsActiveClass = '';\n            let teamsActiveClass = '';\n            if (this.state.mode === TEAM_MODE) {\n                providers = this.teamProviders;\n                renderDividers = false;\n                teamsActiveClass = 'active';\n            } else {\n                channelsActiveClass = 'active';\n            }\n\n            header = (\n                <div className='nav nav-tabs'>\n                    <li className={channelsActiveClass}>\n                        <a\n                            href='#'\n                            onClick={(e) => {\n                                e.preventDefault();\n                                this.enableChannelProvider();\n                                this.setState({mode: 'channel'});\n                                this.focusTextbox();\n                            }}\n                        >\n                            <FormattedMessage\n                                id='quick_switch_modal.channels'\n                                defaultMessage='Channels'\n                            />\n                            <span className='small'>\n                                <FormattedMessage\n                                    id={channelShortcut}\n                                    defaultMessage={defaultChannelShortcut}\n                                />\n                            </span>\n                        </a>\n                    </li>\n                    <li className={teamsActiveClass}>\n                        <a\n                            href='#'\n                            onClick={(e) => {\n                                e.preventDefault();\n                                this.enableTeamProvider();\n                                this.setState({mode: 'team'});\n                                this.focusTextbox();\n                            }}\n                        >\n                            <FormattedMessage\n                                id='quick_switch_modal.teams'\n                                defaultMessage='Teams'\n                            />\n                            <span className='small'>\n                                <FormattedMessage\n                                    id={teamShortcut}\n                                    defaultMessage={defaultTeamShortcut}\n                                />\n                            </span>\n                        </a>\n                    </li>\n                </div>\n            );\n        }\n\n        let help;\n        if (Utils.isMobile()) {\n            help = (\n                <FormattedMessage\n                    id='quick_switch_modal.help_mobile'\n                    defaultMessage='Type to find a channel.'\n                />\n            );\n        } else if (this.props.showTeamSwitcher) {\n            help = (\n                <FormattedMessage\n                    id='quick_switch_modal.help'\n                    defaultMessage='Start typing then use TAB to toggle channels/teams, ↑↓ to browse, ↵ to select, and ESC to dismiss.'\n                />\n            );\n        } else {\n            help = (\n                <FormattedMessage\n                    id='quick_switch_modal.help_no_team'\n                    defaultMessage='Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.'\n                />\n            );\n        }\n\n        return (\n            <Modal\n                dialogClassName='channel-switch-modal modal--overflow'\n                ref='modal'\n                show={this.props.show}\n                onHide={this.onHide}\n                onExited={this.onExited}\n            >\n                <Modal.Header closeButton={true}/>\n                <Modal.Body>\n                    {header}\n                    <div className='modal__hint'>\n                        {help}\n                    </div>\n                    <SuggestionBox\n                        ref='switchbox'\n                        className='form-control focused'\n                        type='input'\n                        onChange={this.onChange}\n                        value={this.state.text}\n                        onKeyDown={this.handleKeyDown}\n                        onItemSelected={this.handleSubmit}\n                        listComponent={SuggestionList}\n                        maxLength='64'\n                        providers={providers}\n                        listStyle='bottom'\n                        completeOnTab={false}\n                        renderDividers={renderDividers}\n                    />\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/quick_switch_modal/quick_switch_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\n\nimport {Client4} from 'mattermost-redux/client';\nimport {Preferences} from 'mattermost-redux/constants';\nimport {getChannelsInCurrentTeam, getGroupChannels, getMyChannelMemberships} from 'mattermost-redux/selectors/entities/channels';\nimport {getBool} from 'mattermost-redux/selectors/entities/preferences';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUserId, searchProfiles} from 'mattermost-redux/selectors/entities/users';\n\nimport AppDispatcher from 'dispatcher/app_dispatcher.jsx';\nimport store from 'stores/redux_store.jsx';\n\nimport {getChannelDisplayName, sortChannelsByDisplayName} from 'utils/channel_utils.jsx';\nimport {ActionTypes, Constants} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport Provider from './provider.jsx';\nimport Suggestion from './suggestion.jsx';\n\nconst getState = store.getState;\n\nclass SwitchChannelSuggestion extends Suggestion {\n    render() {\n        const {item, isSelection} = this.props;\n        const channel = item.channel;\n        const globeIcon = Constants.GLOBE_ICON_SVG;\n        const lockIcon = Constants.LOCK_ICON_SVG;\n\n        let className = 'mentions__name';\n        if (isSelection) {\n            className += ' suggestion--selected';\n        }\n\n        let displayName = channel.display_name;\n        let icon = null;\n        if (channel.type === Constants.OPEN_CHANNEL) {\n            icon = (\n                <span\n                    className='icon icon__globe icon--body'\n                    dangerouslySetInnerHTML={{__html: globeIcon}}\n                />\n            );\n        } else if (channel.type === Constants.PRIVATE_CHANNEL) {\n            icon = (\n                <span\n                    className='icon icon__lock icon--body'\n                    dangerouslySetInnerHTML={{__html: lockIcon}}\n                />\n            );\n        } else if (channel.type === Constants.GM_CHANNEL) {\n            displayName = getChannelDisplayName(channel);\n            icon = <div className='status status--group'>{'G'}</div>;\n        } else {\n            icon = (\n                <div className='pull-left'>\n                    <img\n                        className='mention__image'\n                        src={Utils.imageURLForUser(channel)}\n                    />\n                </div>\n            );\n        }\n\n        return (\n            <div\n                onClick={this.handleClick}\n                className={className}\n            >\n                {icon}\n                {displayName}\n            </div>\n        );\n    }\n}\n\nlet prefix = '';\n\nfunction quickSwitchSorter(wrappedA, wrappedB) {\n    if (wrappedA.type === Constants.MENTION_CHANNELS && wrappedB.type === Constants.MENTION_MORE_CHANNELS) {\n        return -1;\n    } else if (wrappedB.type === Constants.MENTION_CHANNELS && wrappedA.type === Constants.MENTION_MORE_CHANNELS) {\n        return 1;\n    }\n\n    const a = wrappedA.channel;\n    const b = wrappedB.channel;\n\n    let aDisplayName = getChannelDisplayName(a).toLowerCase();\n    let bDisplayName = getChannelDisplayName(b).toLowerCase();\n\n    if (a.type === Constants.DM_CHANNEL) {\n        aDisplayName = aDisplayName.substring(1);\n    }\n\n    if (b.type === Constants.DM_CHANNEL) {\n        bDisplayName = bDisplayName.substring(1);\n    }\n\n    const aStartsWith = aDisplayName.startsWith(prefix);\n    const bStartsWith = bDisplayName.startsWith(prefix);\n    if (aStartsWith && bStartsWith) {\n        return sortChannelsByDisplayName(a, b);\n    } else if (!aStartsWith && !bStartsWith) {\n        return sortChannelsByDisplayName(a, b);\n    } else if (aStartsWith) {\n        return -1;\n    }\n\n    return 1;\n}\n\nexport default class SwitchChannelProvider extends Provider {\n    handlePretextChanged(suggestionId, channelPrefix) {\n        if (channelPrefix) {\n            prefix = channelPrefix;\n            this.startNewRequest(suggestionId, channelPrefix);\n\n            // Dispatch suggestions for local data\n            const channels = getChannelsInCurrentTeam(getState()).concat(getGroupChannels(getState()));\n            const users = Object.assign([], searchProfiles(getState(), channelPrefix, true));\n            this.formatChannelsAndDispatch(channelPrefix, suggestionId, channels, users, true);\n\n            // Fetch data from the server and dispatch\n            this.fetchUsersAndChannels(channelPrefix, suggestionId);\n\n            return true;\n        }\n\n        return false;\n    }\n\n    async fetchUsersAndChannels(channelPrefix, suggestionId) {\n        let teamId = '';\n        if (global.window.mm_config.RestrictDirectMessage === 'team') {\n            teamId = store.getState().entities.teams.currentTeamId;\n        }\n        const usersAsync = Client4.autocompleteUsers(channelPrefix, teamId, '');\n        const channelsAsync = Client4.searchChannels(getCurrentTeamId(getState()), channelPrefix);\n\n        let usersFromServer = [];\n        let channelsFromServer = [];\n        try {\n            usersFromServer = await usersAsync;\n            channelsFromServer = await channelsAsync;\n        } catch (err) {\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.RECEIVED_ERROR,\n                err\n            });\n        }\n\n        if (this.shouldCancelDispatch(channelPrefix)) {\n            return;\n        }\n\n        const users = Object.assign([], searchProfiles(getState(), channelPrefix, true), usersFromServer.users);\n        const channels = getChannelsInCurrentTeam(getState()).concat(getGroupChannels(getState())).concat(channelsFromServer);\n        this.formatChannelsAndDispatch(channelPrefix, suggestionId, channels, users);\n    }\n\n    formatChannelsAndDispatch(channelPrefix, suggestionId, allChannels, users, skipNotInChannel = false) {\n        const channels = [];\n        const members = getMyChannelMemberships(getState());\n\n        if (this.shouldCancelDispatch(channelPrefix)) {\n            return;\n        }\n\n        const currentId = getCurrentUserId(getState());\n\n        const completedChannels = {};\n\n        for (const id of Object.keys(allChannels)) {\n            const channel = allChannels[id];\n\n            if (completedChannels[channel.id]) {\n                continue;\n            }\n\n            const member = members[channel.id];\n\n            if (channel.display_name.toLowerCase().indexOf(channelPrefix.toLowerCase()) !== -1) {\n                const newChannel = Object.assign({}, channel);\n                const wrappedChannel = {channel: newChannel, name: newChannel.name};\n                if (newChannel.type === Constants.GM_CHANNEL) {\n                    newChannel.name = getChannelDisplayName(newChannel);\n                    wrappedChannel.name = newChannel.name;\n                    const isGMVisible = getBool(getState(), Preferences.CATEGORY_GROUP_CHANNEL_SHOW, newChannel.id, false);\n                    if (isGMVisible) {\n                        wrappedChannel.type = Constants.MENTION_CHANNELS;\n                    } else {\n                        wrappedChannel.type = Constants.MENTION_MORE_CHANNELS;\n                        if (skipNotInChannel) {\n                            continue;\n                        }\n                    }\n                } else if (member) {\n                    wrappedChannel.type = Constants.MENTION_CHANNELS;\n                } else {\n                    wrappedChannel.type = Constants.MENTION_MORE_CHANNELS;\n                    if (skipNotInChannel || !newChannel.display_name.toLowerCase().startsWith(channelPrefix)) {\n                        continue;\n                    }\n                }\n\n                completedChannels[channel.id] = true;\n                channels.push(wrappedChannel);\n            }\n        }\n\n        for (let i = 0; i < users.length; i++) {\n            const user = users[i];\n\n            if (completedChannels[user.id]) {\n                continue;\n            }\n\n            const isDMVisible = getBool(getState(), Preferences.CATEGORY_DIRECT_CHANNEL_SHOW, user.id, false);\n            let displayName = `@${user.username} `;\n\n            if (user.id === currentId) {\n                continue;\n            }\n\n            if ((user.first_name || user.last_name) && user.nickname) {\n                displayName += `- ${Utils.getFullName(user)} (${user.nickname})`;\n            } else if (user.nickname) {\n                displayName += `- (${user.nickname})`;\n            } else if (user.first_name || user.last_name) {\n                displayName += `- ${Utils.getFullName(user)}`;\n            }\n\n            const wrappedChannel = {\n                channel: {\n                    display_name: displayName,\n                    name: user.username,\n                    id: user.id,\n                    update_at: user.update_at,\n                    type: Constants.DM_CHANNEL,\n                    last_picture_update: user.last_picture_update || 0\n                },\n                name: user.username\n            };\n\n            if (isDMVisible) {\n                wrappedChannel.type = Constants.MENTION_CHANNELS;\n            } else {\n                wrappedChannel.type = Constants.MENTION_MORE_CHANNELS;\n                if (skipNotInChannel) {\n                    continue;\n                }\n            }\n\n            completedChannels[user.id] = true;\n            channels.push(wrappedChannel);\n        }\n\n        const channelNames = channels.\n            sort(quickSwitchSorter).\n            map((wrappedChannel) => wrappedChannel.channel.name);\n\n        if (skipNotInChannel) {\n            channels.push({\n                type: Constants.MENTION_MORE_CHANNELS,\n                loading: true\n            });\n        }\n\n        setTimeout(() => {\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,\n                id: suggestionId,\n                matchedPretext: channelPrefix,\n                terms: channelNames,\n                items: channels,\n                component: SwitchChannelSuggestion\n            });\n        }, 0);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/suggestion/switch_channel_provider.jsx","// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\n\nimport * as Selectors from 'mattermost-redux/selectors/entities/teams';\n\nimport AppDispatcher from 'dispatcher/app_dispatcher.jsx';\nimport LocalizationStore from 'stores/localization_store.jsx';\nimport store from 'stores/redux_store.jsx';\n\nimport {ActionTypes} from 'utils/constants.jsx';\n\nimport Provider from './provider.jsx';\nimport Suggestion from './suggestion.jsx';\n\nconst getState = store.getState;\n\nclass SwitchTeamSuggestion extends Suggestion {\n    render() {\n        const {item, isSelection} = this.props;\n\n        let className = 'mentions__name';\n        if (isSelection) {\n            className += ' suggestion--selected';\n        }\n\n        return (\n            <div\n                onClick={this.handleClick}\n                className={className}\n            >\n                <div className='status'><i className='fa fa-group'/></div>\n                {item.display_name}\n            </div>\n        );\n    }\n}\n\nlet prefix = '';\n\nfunction quickSwitchSorter(a, b) {\n    const aDisplayName = a.display_name.toLowerCase();\n    const bDisplayName = b.display_name.toLowerCase();\n    const aStartsWith = aDisplayName.startsWith(prefix);\n    const bStartsWith = bDisplayName.startsWith(prefix);\n\n    if (aStartsWith && bStartsWith) {\n        const locale = LocalizationStore.getLocale();\n\n        if (aDisplayName !== bDisplayName) {\n            return aDisplayName.localeCompare(bDisplayName, locale, {numeric: true});\n        }\n\n        return a.name.localeCompare(b.name, locale, {numeric: true});\n    } else if (aStartsWith) {\n        return -1;\n    }\n\n    return 1;\n}\n\nexport default class SwitchTeamProvider extends Provider {\n    handlePretextChanged(suggestionId, teamPrefix) {\n        if (teamPrefix) {\n            prefix = teamPrefix;\n            this.startNewRequest(suggestionId, teamPrefix);\n\n            const allTeams = Selectors.getMyTeams(getState());\n\n            const teams = allTeams.filter((team) => {\n                return team.display_name.toLowerCase().indexOf(teamPrefix) !== -1 ||\n                    team.name.indexOf(teamPrefix) !== -1;\n            });\n\n            const teamNames = teams.\n                sort(quickSwitchSorter).\n                map((team) => team.name);\n\n            setTimeout(() => {\n                AppDispatcher.handleServerAction({\n                    type: ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,\n                    id: suggestionId,\n                    matchedPretext: teamPrefix,\n                    terms: teamNames,\n                    items: teams,\n                    component: SwitchTeamSuggestion\n                });\n            }, 0);\n\n            return true;\n        }\n\n        return false;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/suggestion/switch_team_provider.jsx","// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Popover} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport Constants from 'utils/constants.jsx';\n\nimport MessageWrapper from 'components/message_wrapper.jsx';\n\nexport default class NavbarInfoButton extends React.PureComponent {\n    static propTypes = {\n        channel: PropTypes.object,\n        showEditChannelHeaderModal: PropTypes.func.isRequired\n    };\n\n    showEditChannelHeaderModal = () => {\n        this.refs.headerOverlay.hide();\n\n        this.props.showEditChannelHeaderModal();\n    }\n\n    hide = () => {\n        this.refs.headerOverlay.hide();\n    }\n\n    render() {\n        let popoverContent = null;\n        if (this.props.channel) {\n            if (this.props.channel.header) {\n                popoverContent = (\n                    <MessageWrapper\n                        message={this.props.channel.header}\n                        options={{singleline: true, mentionHighlight: false}}\n                    />\n                );\n            } else {\n                const link = (\n                    <a\n                        href='#'\n                        onClick={this.showEditChannelHeaderModal}\n                    >\n                        <FormattedMessage\n                            id='navbar.click'\n                            defaultMessage='Click here'\n                        />\n                    </a>\n                );\n\n                popoverContent = (\n                    <div>\n                        <FormattedMessage\n                            id='navbar.noHeader'\n                            defaultMessage='No channel header yet.{newline}{link} to add one.'\n                            values={{\n                                newline: (<br/>),\n                                link\n                            }}\n                        />\n                    </div>\n                );\n            }\n        }\n\n        const popover = (\n            <Popover\n                bsStyle='info'\n                placement='bottom'\n                id='header-popover'\n            >\n                {popoverContent}\n                <div\n                    className='close visible-xs-block'\n                    onClick={this.hide}\n                >\n                    {'×'}\n                </div>\n            </Popover>\n        );\n\n        return (\n            <OverlayTrigger\n                ref='headerOverlay'\n                trigger='click'\n                placement='bottom'\n                overlay={popover}\n                className='description'\n                rootClose={true}\n            >\n                <div className='navbar-toggle navbar-right__icon navbar-info-button pull-right'>\n                    <span\n                        className='icon icon__info'\n                        dangerouslySetInnerHTML={{__html: Constants.INFO_ICON_SVG}}\n                        aria-hidden='true'\n                    />\n                </div>\n            </OverlayTrigger>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/navbar/navbar_info_button.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\nimport {browserHistory} from 'react-router/es6';\n\nimport BrowserStore from 'stores/browser_store.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nexport default class RemovedFromChannelModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleShow = this.handleShow.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n\n        this.state = {\n            channelName: '',\n            remover: ''\n        };\n    }\n\n    handleShow() {\n        var newState = {};\n        if (BrowserStore.getItem('channel-removed-state')) {\n            newState = BrowserStore.getItem('channel-removed-state');\n            BrowserStore.removeItem('channel-removed-state');\n        }\n\n        var townSquare = ChannelStore.getByName('town-square');\n        setTimeout(\n            () => {\n                browserHistory.push(TeamStore.getCurrentTeamRelativeUrl() + '/channels/' + townSquare.name);\n            },\n        1);\n\n        this.setState(newState);\n    }\n\n    handleClose() {\n        this.setState({channelName: '', remover: ''});\n    }\n\n    componentDidMount() {\n        $(ReactDOM.findDOMNode(this)).on('show.bs.modal', this.handleShow);\n        $(ReactDOM.findDOMNode(this)).on('hidden.bs.modal', this.handleClose);\n    }\n\n    componentWillUnmount() {\n        $(ReactDOM.findDOMNode(this)).off('show.bs.modal', this.handleShow);\n        $(ReactDOM.findDOMNode(this)).off('hidden.bs.modal', this.handleClose);\n    }\n\n    render() {\n        var currentUser = UserStore.getCurrentUser();\n\n        var channelName = (\n            <FormattedMessage\n                id='removed_channel.channelName'\n                defaultMessage='the channel'\n            />\n        );\n        if (this.state.channelName) {\n            channelName = this.state.channelName;\n        }\n\n        var remover = (\n            <FormattedMessage\n                id='removed_channel.someone'\n                defaultMessage='Someone'\n            />\n        );\n        if (this.state.remover) {\n            remover = this.state.remover;\n        }\n\n        if (currentUser != null) {\n            return (\n                <div\n                    className='modal fade'\n                    ref='modal'\n                    id='removed_from_channel'\n                    tabIndex='-1'\n                    role='dialog'\n                    aria-hidden='true'\n                >\n                    <div className='modal-dialog'>\n                        <div className='modal-content'>\n                            <div className='modal-header'>\n                                <button\n                                    type='button'\n                                    className='close'\n                                    data-dismiss='modal'\n                                    aria-label='Close'\n                                >\n                                    <span aria-hidden='true'>\n                                        {'×'}\n                                    </span>\n                                </button>\n                                <h4 className='modal-title'>\n                                    <FormattedMessage\n                                        id='removed_channel.from'\n                                        defaultMessage='Removed from '\n                                    />\n                                    <span className='name'>{channelName}</span></h4>\n                            </div>\n                            <div className='modal-body'>\n                                <p>\n                                    <FormattedMessage\n                                        id='removed_channel.remover'\n                                        defaultMessage='{remover} removed you from {channel}'\n                                        values={{\n                                            remover,\n                                            channel: (channelName)\n                                        }}\n                                    />\n                                </p>\n                            </div>\n                            <div className='modal-footer'>\n                                <button\n                                    type='button'\n                                    className='btn btn-primary'\n                                    data-dismiss='modal'\n                                >\n                                    <FormattedMessage\n                                        id='removed_channel.okay'\n                                        defaultMessage='Okay'\n                                    />\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n\n        return <div/>;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/removed_from_channel_modal.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {savePreferences} from 'mattermost-redux/actions/preferences';\nimport {setStatus} from 'mattermost-redux/actions/users';\nimport {Preferences} from 'mattermost-redux/constants';\nimport {get} from 'mattermost-redux/selectors/entities/preferences';\n\nimport {autoResetStatus} from 'actions/user_actions.jsx';\n\nimport ResetStatusModal from './reset_status_modal.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const {currentUserId} = state.entities.users;\n    return {\n        ...ownProps,\n        autoResetPref: get(state, Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS, currentUserId, '')\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            autoResetStatus,\n            setStatus,\n            savePreferences\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResetStatusModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/reset_status_modal/index.js","// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {Preferences} from 'mattermost-redux/constants';\n\nimport {toTitleCase} from 'utils/utils.jsx';\n\nimport ConfirmModal from 'components/confirm_modal.jsx';\n\nexport default class ResetStatusModal extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * The user's preference for whether their status is automatically reset\n         */\n        autoResetPref: PropTypes.string,\n        actions: PropTypes.shape({\n\n            /*\n             * Function to get and then reset the user's status if needed\n             */\n            autoResetStatus: PropTypes.func.isRequired,\n\n            /*\n             * Function to set the status for a user\n             */\n            setStatus: PropTypes.func.isRequired,\n\n            /*\n             * Function to save user preferences\n             */\n            savePreferences: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: false,\n            currentUserStatus: {}\n        };\n    }\n\n    componentDidMount() {\n        this.props.actions.autoResetStatus().then(\n            (status) => {\n                const statusIsManual = status.manual;\n                const autoResetPrefNotSet = this.props.autoResetPref === '';\n\n                this.setState({\n                    currentUserStatus: status, // Set in state until status refactor where we store 'manual' field in redux\n                    show: Boolean(statusIsManual && autoResetPrefNotSet)\n                });\n            }\n        );\n    }\n\n    onConfirm = (checked) => {\n        this.setState({show: false});\n\n        const newStatus = {...this.state.currentUserStatus};\n        newStatus.status = 'online';\n        this.props.actions.setStatus(newStatus);\n\n        if (checked) {\n            const pref = {category: Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS, user_id: newStatus.user_id, name: newStatus.user_id, value: 'true'};\n            this.props.actions.savePreferences(pref.user_id, [pref]);\n        }\n    }\n\n    onCancel = (checked) => {\n        this.setState({show: false});\n\n        if (checked) {\n            const status = {...this.state.currentUserStatus};\n            const pref = {category: Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS, user_id: status.user_id, name: status.user_id, value: 'false'};\n            this.props.actions.savePreferences(pref.user_id, [pref]);\n        }\n    }\n\n    render() {\n        const userStatus = toTitleCase(this.state.currentUserStatus.status || '');\n        const manualStatusTitle = (\n            <FormattedMessage\n                id='modal.manaul_status.title'\n                defaultMessage='Your status is set to \"{status}\"'\n                values={{\n                    status: userStatus\n                }}\n            />\n        );\n\n        const manualStatusMessage = (\n            <FormattedMessage\n                id='modal.manaul_status.message'\n                defaultMessage='Would you like to switch your status to \"Online\"?'\n            />\n        );\n\n        const manualStatusButton = (\n            <FormattedMessage\n                id='modal.manaul_status.button'\n                defaultMessage='Yes, set my status to \"Online\"'\n            />\n        );\n\n        const manualStatusCancel = (\n            <FormattedMessage\n                id='modal.manaul_status.cancel'\n                defaultMessage='No, keep it as \"{status}\"'\n                values={{\n                    status: userStatus\n                }}\n            />\n        );\n\n        const manualStatusCheckbox = (\n            <FormattedMessage\n                id='modal.manaul_status.ask'\n                defaultMessage='Do not ask me again'\n            />\n        );\n\n        return (\n            <ConfirmModal\n                show={this.state.show}\n                title={manualStatusTitle}\n                message={manualStatusMessage}\n                confirmButtonText={manualStatusButton}\n                onConfirm={this.onConfirm}\n                cancelButtonText={manualStatusCancel}\n                onCancel={this.onCancel}\n                showCheckbox={true}\n                checkboxText={manualStatusCheckbox}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/reset_status_modal/reset_status_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {defineMessages, injectIntl, intlShape} from 'react-intl';\n\nimport ModalStore from 'stores/modal_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\n\nconst allShortcuts = defineMessages({\n    mainHeader: {\n        default: {\n            id: 'shortcuts.header',\n            defaultMessage: 'Keyboard Shortcuts\\tCtrl|/'\n        },\n        mac: {\n            id: 'shortcuts.header.mac',\n            defaultMessage: 'Keyboard Shortcuts\\t⌘|/'\n        }\n    },\n    navHeader: {\n        id: 'shortcuts.nav.header',\n        defaultMessage: 'Navigation'\n    },\n    navPrev: {\n        default: {\n            id: 'shortcuts.nav.prev',\n            defaultMessage: 'Previous channel:\\tAlt|Up'\n        },\n        mac: {\n            id: 'shortcuts.nav.prev.mac',\n            defaultMessage: 'Previous channel:\\t⌥|Up'\n        }\n    },\n    navNext: {\n        default: {\n            id: 'shortcuts.nav.next',\n            defaultMessage: 'Next channel:\\tAlt|Down'\n        },\n        mac: {\n            id: 'shortcuts.nav.next.mac',\n            defaultMessage: 'Next channel:\\t⌥|Down'\n        }\n    },\n    navUnreadPrev: {\n        default: {\n            id: 'shortcuts.nav.unread_prev',\n            defaultMessage: 'Previous unread channel:\\tAlt|Shift|Up'\n        },\n        mac: {\n            id: 'shortcuts.nav.unread_prev.mac',\n            defaultMessage: 'Previous unread channel:\\t⌥|Shift|Up'\n        }\n    },\n    navUnreadNext: {\n        default: {\n            id: 'shortcuts.nav.unread_next',\n            defaultMessage: 'Next unread channel:\\tAlt|Shift|Down'\n        },\n        mac: {\n            id: 'shortcuts.nav.unread_next.mac',\n            defaultMessage: 'Next unread channel:\\t⌥|Shift|Down'\n        }\n    },\n    navSwitcher: {\n        default: {\n            id: 'shortcuts.nav.switcher',\n            defaultMessage: 'Quick channel switcher:\\tCtrl|K'\n        },\n        mac: {\n            id: 'shortcuts.nav.switcher.mac',\n            defaultMessage: 'Quick channel switcher:\\t⌘|K'\n        }\n    },\n    navDMMenu: {\n        default: {\n            id: 'shortcuts.nav.direct_messages_menu',\n            defaultMessage: 'Direct messages menu:\\tCtrl|Shift|K'\n        },\n        mac: {\n            id: 'shortcuts.nav.direct_messages_menu.mac',\n            defaultMessage: 'Direct messages menu:\\t⌘|Shift|K'\n        }\n    },\n    navSettings: {\n        default: {\n            id: 'shortcuts.nav.settings',\n            defaultMessage: 'Account settings:\\tCtrl|Shift|A'\n        },\n        mac: {\n            id: 'shortcuts.nav.settings.mac',\n            defaultMessage: 'Account settings:\\t⌘|Shift|A'\n        }\n    },\n    navMentions: {\n        default: {\n            id: 'shortcuts.nav.recent_mentions',\n            defaultMessage: 'Recent mentions:\\tCtrl|Shift|M'\n        },\n        mac: {\n            id: 'shortcuts.nav.recent_mentions.mac',\n            defaultMessage: 'Recent mentions:\\t⌘|Shift|M'\n        }\n    },\n    msgHeader: {\n        id: 'shortcuts.msgs.header',\n        defaultMessage: 'Messages'\n    },\n    msgInputHeader: {\n        id: 'shortcuts.msgs.input.header',\n        defaultMessage: 'Works inside an empty input field'\n    },\n    msgEdit: {\n        id: 'shortcuts.msgs.edit',\n        defaultMessage: 'Edit last message in channel:\\tUp'\n    },\n    msgReply: {\n        id: 'shortcuts.msgs.reply',\n        defaultMessage: 'Reply to last message in channel:\\tShift|Up'\n    },\n    msgReprintPrev: {\n        default: {\n            id: 'shortcuts.msgs.reprint_prev',\n            defaultMessage: 'Reprint previous message:\\tCtrl|Up'\n        },\n        mac: {\n            id: 'shortcuts.msgs.reprint_prev.mac',\n            defaultMessage: 'Reprint previous message:\\t⌘|Up'\n        }\n    },\n    msgReprintNext: {\n        default: {\n            id: 'shortcuts.msgs.reprint_next',\n            defaultMessage: 'Reprint next message:\\tCtrl|Down'\n        },\n        mac: {\n            id: 'shortcuts.msgs.reprint_next.mac',\n            defaultMessage: 'Reprint next message:\\t⌘|Down'\n        }\n    },\n    msgCompHeader: {\n        id: 'shortcuts.msgs.comp.header',\n        defaultMessage: 'Autocomplete'\n    },\n    msgCompUsername: {\n        id: 'shortcuts.msgs.comp.username',\n        defaultMessage: 'Username:\\t@|[a-z]|Tab'\n    },\n    msgCompChannel: {\n        id: 'shortcuts.msgs.comp.channel',\n        defaultMessage: 'Channel:\\t~|[a-z]|Tab'\n    },\n    msgCompEmoji: {\n        id: 'shortcuts.msgs.comp.emoji',\n        defaultMessage: 'Emoji:\\t:|[a-z]|Tab'\n    },\n    filesHeader: {\n        id: 'shortcuts.files.header',\n        defaultMessage: 'Files'\n    },\n    filesUpload: {\n        default: {\n            id: 'shortcuts.files.upload',\n            defaultMessage: 'Upload files:\\tCtrl|U'\n        },\n        mac: {\n            id: 'shortcuts.files.upload.mac',\n            defaultMessage: 'Upload files:\\t⌘|U'\n        }\n    },\n    browserHeader: {\n        id: 'shortcuts.browser.header',\n        defaultMessage: 'Built-in Browser Commands'\n    },\n    browserChannelPrev: {\n        default: {\n            id: 'shortcuts.browser.channel_prev',\n            defaultMessage: 'Back in history:\\tAlt|Left'\n        },\n        mac: {\n            id: 'shortcuts.browser.channel_prev.mac',\n            defaultMessage: 'Back in history:\\t⌘|['\n        }\n    },\n    browserChannelNext: {\n        default: {\n            id: 'shortcuts.browser.channel_next',\n            defaultMessage: 'Forward in history:\\tAlt|Right'\n        },\n        mac: {\n            id: 'shortcuts.browser.channel_next.mac',\n            defaultMessage: 'Forward in history:\\t⌘|]'\n        }\n    },\n    browserFontIncrease: {\n        default: {\n            id: 'shortcuts.browser.font_increase',\n            defaultMessage: 'Zoom in:\\tCtrl|+'\n        },\n        mac: {\n            id: 'shortcuts.browser.font_increase.mac',\n            defaultMessage: 'Zoom in:\\t⌘|+'\n        }\n    },\n    browserFontDecrease: {\n        default: {\n            id: 'shortcuts.browser.font_decrease',\n            defaultMessage: 'Zoom out:\\tCtrl|-'\n        },\n        mac: {\n            id: 'shortcuts.browser.font_decrease.mac',\n            defaultMessage: 'Zoom out:\\t⌘|-'\n        }\n    },\n    browserInputHeader: {\n        id: 'shortcuts.browser.input.header',\n        defaultMessage: 'Works inside an input field'\n    },\n    browserHighlightPrev: {\n        id: 'shortcuts.browser.highlight_prev',\n        defaultMessage: 'Highlight text to the previous line:\\tShift|Up'\n    },\n    browserHighlightNext: {\n        id: 'shortcuts.browser.highlight_next',\n        defaultMessage: 'Highlight text to the next line:\\tShift|Down'\n    },\n    browserNewline: {\n        id: 'shortcuts.browser.newline',\n        defaultMessage: 'Create a new line:\\tShift|Enter'\n    },\n    info: {\n        id: 'shortcuts.info',\n        defaultMessage: 'Begin a message with / for a list of all the commands at your disposal.'\n    }\n});\n\nclass ShortcutsModal extends React.PureComponent {\n    static propTypes = {\n        intl: intlShape.isRequired,\n        isMac: PropTypes.bool.isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: false\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_SHORTCUTS_MODAL, this.handleToggle);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_SHORTCUTS_MODAL, this.handleToggle);\n    }\n\n    handleToggle = (value) => {\n        this.setState({\n            show: value\n        });\n    }\n\n    handleHide = () => {\n        this.setState({show: false});\n    }\n\n    getShortcuts() {\n        const {isMac} = this.props;\n        const shortcuts = {};\n        Object.keys(allShortcuts).forEach((s) => {\n            if (isMac && allShortcuts[s].mac) {\n                shortcuts[s] = allShortcuts[s].mac;\n            } else if (!isMac && allShortcuts[s].default) {\n                shortcuts[s] = allShortcuts[s].default;\n            } else {\n                shortcuts[s] = allShortcuts[s];\n            }\n        });\n\n        return shortcuts;\n    }\n\n    render() {\n        const shortcuts = this.getShortcuts();\n        const {formatMessage} = this.props.intl;\n\n        return (\n            <Modal\n                dialogClassName='shortcuts-modal'\n                show={this.state.show}\n                onHide={this.handleHide}\n                onExited={this.handleHide}\n            >\n                <div className='shortcuts-content'>\n                    <Modal.Header closeButton={true}>\n                        <Modal.Title>\n                            <strong>{renderShortcut(formatMessage(shortcuts.mainHeader))}</strong>\n                        </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body ref='modalBody'>\n                        <div className='row'>\n                            <div className='col-sm-4'>\n                                <div className='section'>\n                                    <div>\n                                        <h4 className='section-title'><strong>{formatMessage(shortcuts.navHeader)}</strong></h4>\n                                        {renderShortcut(formatMessage(shortcuts.navPrev))}\n                                        {renderShortcut(formatMessage(shortcuts.navNext))}\n                                        {renderShortcut(formatMessage(shortcuts.navUnreadPrev))}\n                                        {renderShortcut(formatMessage(shortcuts.navUnreadNext))}\n                                        {renderShortcut(formatMessage(shortcuts.navSwitcher))}\n                                        {renderShortcut(formatMessage(shortcuts.navDMMenu))}\n                                        {renderShortcut(formatMessage(shortcuts.navSettings))}\n                                        {renderShortcut(formatMessage(shortcuts.navMentions))}\n                                    </div>\n                                </div>\n                            </div>\n                            <div className='col-sm-4'>\n                                <div className='section'>\n                                    <div>\n                                        <h4 className='section-title'><strong>{formatMessage(shortcuts.msgHeader)}</strong></h4>\n                                        <span><strong>{formatMessage(shortcuts.msgInputHeader)}</strong></span>\n                                        <div className='subsection'>\n                                            {renderShortcut(formatMessage(shortcuts.msgEdit))}\n                                            {renderShortcut(formatMessage(shortcuts.msgReply))}\n                                            {renderShortcut(formatMessage(shortcuts.msgReprintPrev))}\n                                            {renderShortcut(formatMessage(shortcuts.msgReprintNext))}\n                                        </div>\n                                        <span><strong>{formatMessage(shortcuts.msgCompHeader)}</strong></span>\n                                        <div className='subsection'>\n                                            {renderShortcut(formatMessage(shortcuts.msgCompUsername))}\n                                            {renderShortcut(formatMessage(shortcuts.msgCompChannel))}\n                                            {renderShortcut(formatMessage(shortcuts.msgCompEmoji))}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className='col-sm-4'>\n                                <div className='section'>\n                                    <div>\n                                        <h4 className='section-title'><strong>{formatMessage(shortcuts.filesHeader)}</strong></h4>\n                                        {renderShortcut(formatMessage(shortcuts.filesUpload))}\n                                    </div>\n                                    <div className='section--lower'>\n                                        <h4 className='section-title'><strong>{formatMessage(shortcuts.browserHeader)}</strong></h4>\n                                        {renderShortcut(formatMessage(shortcuts.browserChannelPrev))}\n                                        {renderShortcut(formatMessage(shortcuts.browserChannelNext))}\n                                        {renderShortcut(formatMessage(shortcuts.browserFontIncrease))}\n                                        {renderShortcut(formatMessage(shortcuts.browserFontDecrease))}\n                                        <span><strong>{formatMessage(shortcuts.browserInputHeader)}</strong></span>\n                                        <div className='subsection'>\n                                            {renderShortcut(formatMessage(shortcuts.browserHighlightPrev))}\n                                            {renderShortcut(formatMessage(shortcuts.browserHighlightNext))}\n                                            {renderShortcut(formatMessage(shortcuts.browserNewline))}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className='info__label'>{formatMessage(shortcuts.info)}</div>\n                    </Modal.Body>\n                </div>\n            </Modal>\n        );\n    }\n}\n\nfunction renderShortcut(text) {\n    if (!text) {\n        return null;\n    }\n\n    const shortcut = text.split('\\t');\n    const description = <span>{shortcut[0]}</span>;\n\n    let keys = null;\n    if (shortcut.length > 1) {\n        keys = shortcut[1].split('|').map((key) =>\n            <span\n                className='shortcut-key'\n                key={key}\n            >\n                {key}\n            </span>\n        );\n    }\n\n    return (\n        <div className='shortcut-line'>\n            {description}\n            {keys}\n        </div>\n    );\n}\n\nexport default injectIntl(ShortcutsModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/shortcuts_modal.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport SidebarRight from './sidebar_right.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps,\n        postRightVisible: Boolean(state.views.rhs.selectedPostId),\n        fromSearch: state.views.rhs.fromSearch,\n        fromFlaggedPosts: state.views.rhs.fromFlaggedPosts,\n        fromPinnedPosts: state.views.rhs.fromPinnedPosts\n    };\n}\n\nexport default connect(mapStateToProps)(SidebarRight);\n\n\n\n// WEBPACK FOOTER //\n// ./components/sidebar_right/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport {postListScrollChange} from 'actions/global_actions.jsx';\nimport {getFlaggedPosts, getPinnedPosts} from 'actions/post_actions.jsx';\nimport PostStore from 'stores/post_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport SearchStore from 'stores/search_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport FileUploadOverlay from 'components/file_upload_overlay.jsx';\nimport RhsThread from 'components/rhs_thread';\nimport SearchBox from 'components/search_bar.jsx';\nimport SearchResults from 'components/search_results.jsx';\n\nexport default class SidebarRight extends React.Component {\n    static propTypes = {\n        channel: PropTypes.object,\n        postRightVisible: PropTypes.bool,\n        fromSearch: PropTypes.string,\n        fromFlaggedPosts: PropTypes.bool,\n        fromPinnedPosts: PropTypes.bool\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.plScrolledToBottom = true;\n\n        this.onPreferenceChange = this.onPreferenceChange.bind(this);\n        this.onPostPinnedChange = this.onPostPinnedChange.bind(this);\n        this.onSearchChange = this.onSearchChange.bind(this);\n        this.onUserChange = this.onUserChange.bind(this);\n        this.onShowSearch = this.onShowSearch.bind(this);\n        this.onShrink = this.onShrink.bind(this);\n        this.toggleSize = this.toggleSize.bind(this);\n\n        this.doStrangeThings = this.doStrangeThings.bind(this);\n\n        this.state = {\n            searchVisible: SearchStore.getSearchResults() !== null,\n            isMentionSearch: SearchStore.getIsMentionSearch(),\n            isFlaggedPosts: SearchStore.getIsFlaggedPosts(),\n            isPinnedPosts: SearchStore.getIsPinnedPosts(),\n            expanded: false,\n            fromSearch: false,\n            currentUser: UserStore.getCurrentUser(),\n            useMilitaryTime: PreferenceStore.getBool(Constants.Preferences.CATEGORY_DISPLAY_SETTINGS, Constants.Preferences.USE_MILITARY_TIME, false)\n        };\n    }\n\n    componentDidMount() {\n        SearchStore.addSearchChangeListener(this.onSearchChange);\n        PostStore.addPostPinnedChangeListener(this.onPostPinnedChange);\n        SearchStore.addShowSearchListener(this.onShowSearch);\n        UserStore.addChangeListener(this.onUserChange);\n        PreferenceStore.addChangeListener(this.onPreferenceChange);\n        this.doStrangeThings();\n    }\n\n    componentWillUnmount() {\n        SearchStore.removeSearchChangeListener(this.onSearchChange);\n        PostStore.removePostPinnedChangeListener(this.onPostPinnedChange);\n        SearchStore.removeShowSearchListener(this.onShowSearch);\n        UserStore.removeChangeListener(this.onUserChange);\n        PreferenceStore.removeChangeListener(this.onPreferenceChange);\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        return !Utils.areObjectsEqual(nextState, this.state) || this.props.postRightVisible !== nextProps.postRightVisible;\n    }\n\n    componentWillUpdate(nextProps, nextState) {\n        const isOpen = this.state.searchVisible || this.props.postRightVisible;\n        const willOpen = nextState.searchVisible || nextProps.postRightVisible;\n\n        if (!isOpen && willOpen) {\n            trackEvent('ui', 'ui_rhs_opened');\n        }\n\n        if (!isOpen && willOpen) {\n            this.setState({\n                expanded: false\n            });\n        }\n    }\n\n    doStrangeThings() {\n        // We should have a better way to do this stuff\n        // Hence the function name.\n        $('.app__body .inner-wrap').removeClass('.move--right');\n        $('.app__body .inner-wrap').addClass('move--left');\n        $('.app__body .sidebar--left').removeClass('move--right');\n        $('.multi-teams .team-sidebar').removeClass('move--right');\n        $('.app__body .sidebar--right').addClass('move--left');\n\n        //$('.sidebar--right').prepend('<div class=\"sidebar__overlay\"></div>');\n        if (!this.state.searchVisible && !this.props.postRightVisible) {\n            $('.app__body .inner-wrap').removeClass('move--left').removeClass('move--right');\n            $('.app__body .sidebar--right').removeClass('move--left');\n            return (\n                <div/>\n            );\n        }\n\n        /*setTimeout(() => {\n            $('.sidebar__overlay').fadeOut('200', () => {\n                $('.sidebar__overlay').remove();\n            });\n            }, 500);*/\n        return null;\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const isOpen = this.state.searchVisible || this.props.postRightVisible;\n        WebrtcStore.emitRhsChanged(isOpen);\n        this.doStrangeThings();\n\n        const wasOpen = prevState.searchVisible || prevProps.postRightVisible;\n\n        if (isOpen && !wasOpen) {\n            setTimeout(() => postListScrollChange(), 0);\n        }\n    }\n\n    onPreferenceChange() {\n        if (this.state.isFlaggedPosts) {\n            getFlaggedPosts();\n        }\n\n        this.setState({\n            useMilitaryTime: PreferenceStore.getBool(Constants.Preferences.CATEGORY_DISPLAY_SETTINGS, Constants.Preferences.USE_MILITARY_TIME, false)\n        });\n    }\n\n    onPostPinnedChange() {\n        if (this.props.channel && this.state.isPinnedPosts) {\n            getPinnedPosts(this.props.channel.id);\n        }\n    }\n\n    onShrink() {\n        this.setState({\n            expanded: false\n        });\n    }\n\n    onSearchChange() {\n        this.setState({\n            searchVisible: SearchStore.getSearchResults() !== null || SearchStore.isLoading(),\n            isMentionSearch: SearchStore.getIsMentionSearch(),\n            isFlaggedPosts: SearchStore.getIsFlaggedPosts(),\n            isPinnedPosts: SearchStore.getIsPinnedPosts()\n        });\n    }\n\n    onUserChange() {\n        this.setState({\n            currentUser: UserStore.getCurrentUser()\n        });\n    }\n\n    onShowSearch() {\n        if (!this.state.searchVisible) {\n            this.setState({\n                searchVisible: true\n            });\n        }\n    }\n\n    toggleSize() {\n        this.setState({expanded: !this.state.expanded});\n    }\n\n    render() {\n        let content = null;\n        let expandedClass = '';\n\n        if (this.state.expanded) {\n            expandedClass = 'sidebar--right--expanded';\n        }\n\n        var currentId = UserStore.getCurrentId();\n        var searchForm = null;\n        if (currentId) {\n            searchForm = <SearchBox isFocus={this.state.searchVisible && Utils.isMobile()}/>;\n        }\n\n        const channel = this.props.channel;\n\n        let channelDisplayName = '';\n        if (channel) {\n            if (channel.type === Constants.DM_CHANNEL || channel.type === Constants.GM_CHANNEL) {\n                channelDisplayName = Utils.localizeMessage('rhs_root.direct', 'Direct Message');\n            } else {\n                channelDisplayName = channel.display_name;\n            }\n        }\n\n        if (this.state.searchVisible) {\n            content = (\n                <div className='sidebar--right__content'>\n                    <div className='search-bar__container channel-header alt'>{searchForm}</div>\n                    <SearchResults\n                        isMentionSearch={this.state.isMentionSearch}\n                        isFlaggedPosts={this.state.isFlaggedPosts}\n                        isPinnedPosts={this.state.isPinnedPosts}\n                        useMilitaryTime={this.state.useMilitaryTime}\n                        toggleSize={this.toggleSize}\n                        shrink={this.onShrink}\n                        channelDisplayName={channelDisplayName}\n                    />\n                </div>\n            );\n        } else if (this.props.postRightVisible) {\n            content = (\n                <div className='post-right__container'>\n                    <FileUploadOverlay overlayType='right'/>\n                    <div className='search-bar__container channel-header alt'>{searchForm}</div>\n                    <RhsThread\n                        fromFlaggedPosts={this.props.fromFlaggedPosts}\n                        fromSearch={this.props.fromSearch}\n                        fromPinnedPosts={this.props.fromPinnedPosts}\n                        isWebrtc={WebrtcStore.isBusy()}\n                        isMentionSearch={this.state.isMentionSearch}\n                        currentUser={this.state.currentUser}\n                        useMilitaryTime={this.state.useMilitaryTime}\n                        toggleSize={this.toggleSize}\n                        shrink={this.onShrink}\n                    />\n                </div>\n            );\n        }\n\n        if (!content) {\n            expandedClass = '';\n        }\n\n        return (\n            <div\n                className={'sidebar--right ' + expandedClass}\n                id='sidebar-right'\n            >\n                <div\n                    onClick={this.onShrink}\n                    className='sidebar--right__bg'\n                />\n                <div className='sidebar-right-container'>\n                    {content}\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/sidebar_right/sidebar_right.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {makeGetPostsForThread} from 'mattermost-redux/selectors/entities/posts';\nimport {get, getBool} from 'mattermost-redux/selectors/entities/preferences';\n\nimport {removePost} from 'mattermost-redux/actions/posts';\n\nimport {Preferences} from 'utils/constants.jsx';\nimport {getSelectedPost} from 'selectors/rhs.jsx';\n\nimport RhsThread from './rhs_thread.jsx';\n\nfunction makeMapStateToProps() {\n    const getPostsForThread = makeGetPostsForThread();\n\n    return function mapStateToProps(state, ownProps) {\n        const selected = getSelectedPost(state);\n\n        let posts = [];\n        if (selected) {\n            posts = getPostsForThread(state, {rootId: selected.id, channelId: selected.channel_id});\n        }\n\n        return {\n            ...ownProps,\n            selected,\n            posts,\n            previewCollapsed: get(state, Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.COLLAPSE_DISPLAY, 'false'),\n            previewEnabled: getBool(state, Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.LINK_PREVIEW_DISPLAY, true)\n        };\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            removePost\n        }, dispatch)\n    };\n}\n\nexport default connect(makeMapStateToProps, mapDispatchToProps)(RhsThread);\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_thread/index.js","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {createSelector} from 'reselect';\n\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\n\nimport {PostTypes} from 'utils/constants.jsx';\nimport {localizeMessage} from 'utils/utils.jsx';\n\nexport function getSelectedPostId(state) {\n    return state.views.rhs.selectedPostId;\n}\n\nfunction getSelectedPostChannelId(state) {\n    return state.views.rhs.selectedPostChannelId;\n}\n\nfunction getRealSelectedPost(state) {\n    return state.entities.posts.posts[state.views.rhs.selectedPostId];\n}\n\nexport const getSelectedPost = createSelector(\n    getSelectedPostId,\n    getRealSelectedPost,\n    getSelectedPostChannelId,\n    getCurrentUserId,\n    (selectedPostId, selectedPost, selectedPostChannelId, currentUserId) => {\n        if (selectedPost) {\n            return selectedPost;\n        }\n\n        // If there is no root post found, assume it has been deleted by data retention policy, and create a fake one.\n        return {\n            id: selectedPostId,\n            exists: false,\n            type: PostTypes.FAKE_PARENT_DELETED,\n            message: localizeMessage('rhs_thread.rootPostDeletedMessage.body', 'Part of this thread has been deleted due to a data retention policy. You can no longer reply to this thread.'),\n            channel_id: selectedPostChannelId,\n            user_id: currentUserId\n        };\n    }\n);\n\n\n\n// WEBPACK FOOTER //\n// ./selectors/rhs.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Scrollbars from 'react-custom-scrollbars';\n\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport DelayedAction from 'utils/delayed_action.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport CreateComment from 'components/create_comment';\nimport DateSeparator from 'components/post_view/date_separator.jsx';\nimport FloatingTimestamp from 'components/post_view/floating_timestamp.jsx';\nimport Comment from 'components/rhs_comment.jsx';\nimport RhsHeaderPost from 'components/rhs_header_post.jsx';\nimport RootPost from 'components/rhs_root_post.jsx';\n\nconst Preferences = Constants.Preferences;\n\nexport function renderView(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--view'\n        />);\n}\n\nexport function renderThumbHorizontal(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--horizontal'\n        />);\n}\n\nexport function renderThumbVertical(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--vertical'\n        />);\n}\n\nexport default class RhsThread extends React.Component {\n    static propTypes = {\n        posts: PropTypes.arrayOf(PropTypes.object).isRequired,\n        selected: PropTypes.object.isRequired,\n        fromSearch: PropTypes.string,\n        fromFlaggedPosts: PropTypes.bool,\n        fromPinnedPosts: PropTypes.bool,\n        isWebrtc: PropTypes.bool,\n        isMentionSearch: PropTypes.bool,\n        currentUser: PropTypes.object.isRequired,\n        useMilitaryTime: PropTypes.bool.isRequired,\n        toggleSize: PropTypes.func,\n        shrink: PropTypes.func,\n        previewCollapsed: PropTypes.string.isRequired,\n        previewEnabled: PropTypes.bool.isRequired,\n        actions: PropTypes.shape({\n            removePost: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    static defaultProps = {\n        fromSearch: '',\n        isMentionSearch: false\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.mounted = false;\n\n        this.onUserChange = this.onUserChange.bind(this);\n        this.forceUpdateInfo = this.forceUpdateInfo.bind(this);\n        this.onPreferenceChange = this.onPreferenceChange.bind(this);\n        this.onStatusChange = this.onStatusChange.bind(this);\n        this.onBusy = this.onBusy.bind(this);\n        this.handleResize = this.handleResize.bind(this);\n        this.handleScroll = this.handleScroll.bind(this);\n        this.handleScrollStop = this.handleScrollStop.bind(this);\n        this.scrollStopAction = new DelayedAction(this.handleScrollStop);\n\n        const openTime = (new Date()).getTime();\n        const state = {};\n        state.windowWidth = Utils.windowWidth();\n        state.windowHeight = Utils.windowHeight();\n        state.profiles = JSON.parse(JSON.stringify(UserStore.getProfiles()));\n        state.compactDisplay = PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT;\n        state.flaggedPosts = PreferenceStore.getCategory(Constants.Preferences.CATEGORY_FLAGGED_POST);\n        state.statuses = Object.assign({}, UserStore.getStatuses());\n        state.previewsCollapsed = PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.COLLAPSE_DISPLAY, 'false');\n        state.isBusy = WebrtcStore.isBusy();\n\n        this.state = {\n            ...state,\n            isScrolling: false,\n            topRhsPostCreateAt: 0,\n            openTime\n        };\n    }\n\n    componentDidMount() {\n        PreferenceStore.addChangeListener(this.onPreferenceChange);\n        UserStore.addChangeListener(this.onUserChange);\n        UserStore.addStatusesChangeListener(this.onStatusChange);\n        WebrtcStore.addBusyListener(this.onBusy);\n\n        this.scrollToBottom();\n        window.addEventListener('resize', this.handleResize);\n\n        this.mounted = true;\n    }\n\n    componentWillUnmount() {\n        PreferenceStore.removeChangeListener(this.onPreferenceChange);\n        UserStore.removeChangeListener(this.onUserChange);\n        UserStore.removeStatusesChangeListener(this.onStatusChange);\n        WebrtcStore.removeBusyListener(this.onBusy);\n\n        window.removeEventListener('resize', this.handleResize);\n\n        this.mounted = false;\n    }\n\n    componentDidUpdate(prevProps) {\n        const prevPostsArray = prevProps.posts || [];\n        const curPostsArray = this.props.posts || [];\n\n        if (prevPostsArray.length >= curPostsArray.length) {\n            return;\n        }\n\n        const curLastPost = curPostsArray[curPostsArray.length - 1];\n\n        if (curLastPost.user_id === UserStore.getCurrentId()) {\n            this.scrollToBottom();\n        }\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (!Utils.areObjectsEqual(nextState.statuses, this.state.statuses)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextState.postsArray, this.props.posts)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextState.selected, this.props.selected)) {\n            return true;\n        }\n\n        if (nextState.compactDisplay !== this.state.compactDisplay) {\n            return true;\n        }\n\n        if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n            return true;\n        }\n\n        if (nextState.previewsCollapsed !== this.state.previewsCollapsed) {\n            return true;\n        }\n\n        if (nextProps.previewEnabled !== this.props.previewEnabled) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextState.flaggedPosts, this.state.flaggedPosts)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextState.profiles, this.state.profiles)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n            return true;\n        }\n\n        if (nextState.isBusy !== this.state.isBusy) {\n            return true;\n        }\n\n        if (nextState.isScrolling !== this.state.isScrolling) {\n            return true;\n        }\n\n        if (nextState.topRhsPostCreateAt !== this.state.topRhsPostCreateAt) {\n            return true;\n        }\n        if (nextProps.previewCollapsed !== this.props.previewCollapsed) {\n            return true;\n        }\n\n        return false;\n    }\n\n    forceUpdateInfo() {\n        if (this.state.postList) {\n            for (var postId in this.state.postList.posts) {\n                if (this.refs[postId]) {\n                    this.refs[postId].forceUpdate();\n                }\n            }\n        }\n    }\n\n    handleResize() {\n        this.setState({\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight()\n        });\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (!this.props.selected || !nextProps.selected) {\n            return;\n        }\n\n        if (this.props.selected.id !== nextProps.selected.id) {\n            this.setState({\n                openTime: (new Date()).getTime()\n            });\n        }\n    }\n\n    onPreferenceChange(category) {\n        let previewSuffix = '';\n        if (category === Preferences.CATEGORY_DISPLAY_SETTINGS) {\n            previewSuffix = '_' + Utils.generateId();\n        }\n\n        this.setState({\n            compactDisplay: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT,\n            flaggedPosts: PreferenceStore.getCategory(Constants.Preferences.CATEGORY_FLAGGED_POST),\n            previewsCollapsed: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.COLLAPSE_DISPLAY, 'false') + previewSuffix\n        });\n        this.forceUpdateInfo();\n    }\n\n    onStatusChange() {\n        this.setState({statuses: Object.assign({}, UserStore.getStatuses())});\n    }\n\n    onBusy(isBusy) {\n        this.setState({isBusy});\n    }\n\n    filterPosts(posts, selected, openTime) {\n        const postsArray = [];\n\n        posts.forEach((cpost) => {\n            // Do not show empherals created before sidebar has been opened\n            if (cpost.type === 'system_ephemeral' && cpost.create_at < openTime) {\n                return;\n            }\n\n            if (cpost.root_id === selected.id) {\n                postsArray.unshift(cpost);\n            }\n        });\n\n        return postsArray;\n    }\n\n    onUserChange() {\n        const profiles = JSON.parse(JSON.stringify(UserStore.getProfiles()));\n        this.setState({profiles});\n    }\n\n    scrollToBottom() {\n        if ($('.post-right__scroll')[0]) {\n            $('.post-right__scroll').parent().scrollTop($('.post-right__scroll')[0].scrollHeight);\n        }\n    }\n\n    updateFloatingTimestamp() {\n        // skip this in non-mobile view since that's when the timestamp is visible\n        if (!Utils.isMobile()) {\n            return;\n        }\n\n        if (this.props.posts) {\n            const childNodes = this.refs.rhspostlist.childNodes;\n            const viewPort = this.refs.rhspostlist.getBoundingClientRect();\n            let topRhsPostCreateAt = 0;\n            const offset = 100;\n\n            // determine the top rhs comment assuming that childNodes and postsArray are of same length\n            for (let i = 0; i < childNodes.length; i++) {\n                if ((childNodes[i].offsetTop + viewPort.top) - offset > 0) {\n                    topRhsPostCreateAt = this.props.posts[i].create_at;\n                    break;\n                }\n            }\n\n            if (topRhsPostCreateAt !== this.state.topRhsPostCreateAt) {\n                this.setState({\n                    topRhsPostCreateAt\n                });\n            }\n        }\n    }\n\n    handleScroll() {\n        this.updateFloatingTimestamp();\n\n        if (!this.state.isScrolling) {\n            this.setState({\n                isScrolling: true\n            });\n        }\n\n        this.scrollStopAction.fireAfter(Constants.SCROLL_DELAY);\n    }\n\n    handleScrollStop() {\n        this.setState({\n            isScrolling: false\n        });\n    }\n\n    getSidebarBody = () => {\n        return this.refs.sidebarbody;\n    }\n\n    render() {\n        if (this.props.posts == null || this.props.selected == null) {\n            return (\n                <div/>\n            );\n        }\n\n        const postsArray = this.filterPosts(this.props.posts, this.props.selected, this.state.openTime);\n        const selected = this.props.selected;\n        const profiles = this.state.profiles || {};\n\n        let profile;\n        if (UserStore.getCurrentId() === selected.user_id) {\n            profile = this.props.currentUser;\n        } else {\n            profile = profiles[selected.user_id];\n        }\n\n        let isRootFlagged = false;\n        if (this.state.flaggedPosts) {\n            isRootFlagged = this.state.flaggedPosts.get(selected.id) != null;\n        }\n\n        let rootStatus = 'offline';\n        if (this.state.statuses) {\n            rootStatus = this.state.statuses[selected.user_id] || 'offline';\n        }\n\n        let createAt = selected.create_at;\n        if (!createAt) {\n            createAt = this.props.posts[0].create_at;\n        }\n        const rootPostDay = Utils.getDateForUnixTicks(createAt);\n        let previousPostDay = rootPostDay;\n\n        const commentsLists = [];\n        const postsLength = postsArray.length;\n        for (let i = 0; i < postsLength; i++) {\n            const comPost = postsArray[i];\n            let p;\n            if (UserStore.getCurrentId() === comPost.user_id) {\n                p = UserStore.getCurrentUser();\n            } else {\n                p = profiles[comPost.user_id];\n            }\n\n            let isFlagged = false;\n            if (this.state.flaggedPosts) {\n                isFlagged = this.state.flaggedPosts.get(comPost.id) != null;\n            }\n\n            let status = 'offline';\n            if (this.state.statuses && p && p.id) {\n                status = this.state.statuses[p.id] || 'offline';\n            }\n\n            const currentPostDay = Utils.getDateForUnixTicks(comPost.create_at);\n            if (currentPostDay.toDateString() !== previousPostDay.toDateString()) {\n                previousPostDay = currentPostDay;\n                commentsLists.push(\n                    <DateSeparator\n                        date={currentPostDay}\n                    />);\n            }\n\n            const keyPrefix = comPost.id ? comPost.id : comPost.pending_post_id;\n            const reverseCount = postsLength - i - 1;\n            commentsLists.push(\n                <div key={keyPrefix + 'commentKey'}>\n                    <Comment\n                        ref={comPost.id}\n                        post={comPost}\n                        lastPostCount={(reverseCount >= 0 && reverseCount < Constants.TEST_ID_COUNT) ? reverseCount : -1}\n                        user={p}\n                        currentUser={this.props.currentUser}\n                        compactDisplay={this.state.compactDisplay}\n                        useMilitaryTime={this.props.useMilitaryTime}\n                        isFlagged={isFlagged}\n                        status={status}\n                        isBusy={this.state.isBusy}\n                        removePost={this.props.actions.removePost}\n                        previewCollapsed={this.props.previewCollapsed}\n                    />\n                </div>\n            );\n        }\n\n        let createComment;\n        if (selected.type !== Constants.PostTypes.FAKE_PARENT_DELETED) {\n            createComment = (\n                <div className='post-create__container'>\n                    <CreateComment\n                        channelId={selected.channel_id}\n                        rootId={selected.id}\n                        latestPostId={postsLength > 0 ? postsArray[postsLength - 1].id : selected.id}\n                        getSidebarBody={this.getSidebarBody}\n                    />\n                </div>\n            );\n        }\n\n        return (\n            <div\n                className='sidebar-right__body'\n                ref='sidebarbody'\n            >\n                <FloatingTimestamp\n                    isScrolling={this.state.isScrolling}\n                    isMobile={Utils.isMobile()}\n                    createAt={this.state.topRhsPostCreateAt}\n                    isRhsPost={true}\n                />\n                <RhsHeaderPost\n                    fromFlaggedPosts={this.props.fromFlaggedPosts}\n                    fromSearch={this.props.fromSearch}\n                    fromPinnedPosts={this.props.fromPinnedPosts}\n                    isWebrtc={this.props.isWebrtc}\n                    isMentionSearch={this.props.isMentionSearch}\n                    toggleSize={this.props.toggleSize}\n                    shrink={this.props.shrink}\n                />\n                <Scrollbars\n                    autoHide={true}\n                    autoHideTimeout={500}\n                    autoHideDuration={500}\n                    renderThumbHorizontal={renderThumbHorizontal}\n                    renderThumbVertical={renderThumbVertical}\n                    renderView={renderView}\n                    onScroll={this.handleScroll}\n                >\n                    <div className='post-right__scroll'>\n                        <DateSeparator\n                            date={rootPostDay}\n                        />\n                        <RootPost\n                            ref={selected.id}\n                            post={selected}\n                            commentCount={postsLength}\n                            user={profile}\n                            currentUser={this.props.currentUser}\n                            compactDisplay={this.state.compactDisplay}\n                            useMilitaryTime={this.props.useMilitaryTime}\n                            isFlagged={isRootFlagged}\n                            status={rootStatus}\n                            previewCollapsed={this.state.previewsCollapsed}\n                            previewEnabled={this.props.previewEnabled}\n                            isBusy={this.state.isBusy}\n                        />\n                        <div\n                            ref='rhspostlist'\n                            className='post-right-comments-container'\n                        >\n                            {commentsLists}\n                        </div>\n                        {createComment}\n                    </div>\n                </Scrollbars>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_thread/rhs_thread.jsx","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Scrollbars = undefined;\n\nvar _Scrollbars = require('./Scrollbars');\n\nvar _Scrollbars2 = _interopRequireDefault(_Scrollbars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nexports[\"default\"] = _Scrollbars2[\"default\"];\nexports.Scrollbars = _Scrollbars2[\"default\"];\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/index.js\n// module id = 2410\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _raf2 = require('raf');\n\nvar _raf3 = _interopRequireDefault(_raf2);\n\nvar _domCss = require('dom-css');\n\nvar _domCss2 = _interopRequireDefault(_domCss);\n\nvar _react = require('react');\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _isString = require('../utils/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _getScrollbarWidth = require('../utils/getScrollbarWidth');\n\nvar _getScrollbarWidth2 = _interopRequireDefault(_getScrollbarWidth);\n\nvar _returnFalse = require('../utils/returnFalse');\n\nvar _returnFalse2 = _interopRequireDefault(_returnFalse);\n\nvar _getInnerWidth = require('../utils/getInnerWidth');\n\nvar _getInnerWidth2 = _interopRequireDefault(_getInnerWidth);\n\nvar _getInnerHeight = require('../utils/getInnerHeight');\n\nvar _getInnerHeight2 = _interopRequireDefault(_getInnerHeight);\n\nvar _styles = require('./styles');\n\nvar _defaultRenderElements = require('./defaultRenderElements');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Scrollbars = function (_Component) {\n    _inherits(Scrollbars, _Component);\n\n    function Scrollbars(props) {\n        var _ref;\n\n        _classCallCheck(this, Scrollbars);\n\n        for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            rest[_key - 1] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = Scrollbars.__proto__ || Object.getPrototypeOf(Scrollbars)).call.apply(_ref, [this, props].concat(rest)));\n\n        _this.getScrollLeft = _this.getScrollLeft.bind(_this);\n        _this.getScrollTop = _this.getScrollTop.bind(_this);\n        _this.getScrollWidth = _this.getScrollWidth.bind(_this);\n        _this.getScrollHeight = _this.getScrollHeight.bind(_this);\n        _this.getClientWidth = _this.getClientWidth.bind(_this);\n        _this.getClientHeight = _this.getClientHeight.bind(_this);\n        _this.getValues = _this.getValues.bind(_this);\n        _this.getThumbHorizontalWidth = _this.getThumbHorizontalWidth.bind(_this);\n        _this.getThumbVerticalHeight = _this.getThumbVerticalHeight.bind(_this);\n        _this.getScrollLeftForOffset = _this.getScrollLeftForOffset.bind(_this);\n        _this.getScrollTopForOffset = _this.getScrollTopForOffset.bind(_this);\n\n        _this.scrollLeft = _this.scrollLeft.bind(_this);\n        _this.scrollTop = _this.scrollTop.bind(_this);\n        _this.scrollToLeft = _this.scrollToLeft.bind(_this);\n        _this.scrollToTop = _this.scrollToTop.bind(_this);\n        _this.scrollToRight = _this.scrollToRight.bind(_this);\n        _this.scrollToBottom = _this.scrollToBottom.bind(_this);\n\n        _this.handleTrackMouseEnter = _this.handleTrackMouseEnter.bind(_this);\n        _this.handleTrackMouseLeave = _this.handleTrackMouseLeave.bind(_this);\n        _this.handleHorizontalTrackMouseDown = _this.handleHorizontalTrackMouseDown.bind(_this);\n        _this.handleVerticalTrackMouseDown = _this.handleVerticalTrackMouseDown.bind(_this);\n        _this.handleHorizontalThumbMouseDown = _this.handleHorizontalThumbMouseDown.bind(_this);\n        _this.handleVerticalThumbMouseDown = _this.handleVerticalThumbMouseDown.bind(_this);\n        _this.handleWindowResize = _this.handleWindowResize.bind(_this);\n        _this.handleScroll = _this.handleScroll.bind(_this);\n        _this.handleDrag = _this.handleDrag.bind(_this);\n        _this.handleDragEnd = _this.handleDragEnd.bind(_this);\n\n        _this.state = {\n            didMountUniversal: false\n        };\n        return _this;\n    }\n\n    _createClass(Scrollbars, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.addListeners();\n            this.update();\n            this.componentDidMountUniversal();\n        }\n    }, {\n        key: 'componentDidMountUniversal',\n        value: function componentDidMountUniversal() {\n            // eslint-disable-line react/sort-comp\n            var universal = this.props.universal;\n\n            if (!universal) return;\n            this.setState({ didMountUniversal: true });\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            this.update();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.removeListeners();\n            (0, _raf2.cancel)(this.requestFrame);\n            clearTimeout(this.hideTracksTimeout);\n            clearInterval(this.detectScrollingInterval);\n        }\n    }, {\n        key: 'getScrollLeft',\n        value: function getScrollLeft() {\n            return this.view.scrollLeft;\n        }\n    }, {\n        key: 'getScrollTop',\n        value: function getScrollTop() {\n            return this.view.scrollTop;\n        }\n    }, {\n        key: 'getScrollWidth',\n        value: function getScrollWidth() {\n            return this.view.scrollWidth;\n        }\n    }, {\n        key: 'getScrollHeight',\n        value: function getScrollHeight() {\n            return this.view.scrollHeight;\n        }\n    }, {\n        key: 'getClientWidth',\n        value: function getClientWidth() {\n            return this.view.clientWidth;\n        }\n    }, {\n        key: 'getClientHeight',\n        value: function getClientHeight() {\n            return this.view.clientHeight;\n        }\n    }, {\n        key: 'getValues',\n        value: function getValues() {\n            var _view = this.view,\n                scrollLeft = _view.scrollLeft,\n                scrollTop = _view.scrollTop,\n                scrollWidth = _view.scrollWidth,\n                scrollHeight = _view.scrollHeight,\n                clientWidth = _view.clientWidth,\n                clientHeight = _view.clientHeight;\n\n\n            return {\n                left: scrollLeft / (scrollWidth - clientWidth) || 0,\n                top: scrollTop / (scrollHeight - clientHeight) || 0,\n                scrollLeft: scrollLeft,\n                scrollTop: scrollTop,\n                scrollWidth: scrollWidth,\n                scrollHeight: scrollHeight,\n                clientWidth: clientWidth,\n                clientHeight: clientHeight\n            };\n        }\n    }, {\n        key: 'getThumbHorizontalWidth',\n        value: function getThumbHorizontalWidth() {\n            var _props = this.props,\n                thumbSize = _props.thumbSize,\n                thumbMinSize = _props.thumbMinSize;\n            var _view2 = this.view,\n                scrollWidth = _view2.scrollWidth,\n                clientWidth = _view2.clientWidth;\n\n            var trackWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n            var width = Math.ceil(clientWidth / scrollWidth * trackWidth);\n            if (trackWidth === width) return 0;\n            if (thumbSize) return thumbSize;\n            return Math.max(width, thumbMinSize);\n        }\n    }, {\n        key: 'getThumbVerticalHeight',\n        value: function getThumbVerticalHeight() {\n            var _props2 = this.props,\n                thumbSize = _props2.thumbSize,\n                thumbMinSize = _props2.thumbMinSize;\n            var _view3 = this.view,\n                scrollHeight = _view3.scrollHeight,\n                clientHeight = _view3.clientHeight;\n\n            var trackHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n            var height = Math.ceil(clientHeight / scrollHeight * trackHeight);\n            if (trackHeight === height) return 0;\n            if (thumbSize) return thumbSize;\n            return Math.max(height, thumbMinSize);\n        }\n    }, {\n        key: 'getScrollLeftForOffset',\n        value: function getScrollLeftForOffset(offset) {\n            var _view4 = this.view,\n                scrollWidth = _view4.scrollWidth,\n                clientWidth = _view4.clientWidth;\n\n            var trackWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n            var thumbWidth = this.getThumbHorizontalWidth();\n            return offset / (trackWidth - thumbWidth) * (scrollWidth - clientWidth);\n        }\n    }, {\n        key: 'getScrollTopForOffset',\n        value: function getScrollTopForOffset(offset) {\n            var _view5 = this.view,\n                scrollHeight = _view5.scrollHeight,\n                clientHeight = _view5.clientHeight;\n\n            var trackHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n            var thumbHeight = this.getThumbVerticalHeight();\n            return offset / (trackHeight - thumbHeight) * (scrollHeight - clientHeight);\n        }\n    }, {\n        key: 'scrollLeft',\n        value: function scrollLeft() {\n            var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n            this.view.scrollLeft = left;\n        }\n    }, {\n        key: 'scrollTop',\n        value: function scrollTop() {\n            var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n            this.view.scrollTop = top;\n        }\n    }, {\n        key: 'scrollToLeft',\n        value: function scrollToLeft() {\n            this.view.scrollLeft = 0;\n        }\n    }, {\n        key: 'scrollToTop',\n        value: function scrollToTop() {\n            this.view.scrollTop = 0;\n        }\n    }, {\n        key: 'scrollToRight',\n        value: function scrollToRight() {\n            this.view.scrollLeft = this.view.scrollWidth;\n        }\n    }, {\n        key: 'scrollToBottom',\n        value: function scrollToBottom() {\n            this.view.scrollTop = this.view.scrollHeight;\n        }\n    }, {\n        key: 'addListeners',\n        value: function addListeners() {\n            /* istanbul ignore if */\n            if (typeof document === 'undefined') return;\n            var view = this.view,\n                trackHorizontal = this.trackHorizontal,\n                trackVertical = this.trackVertical,\n                thumbHorizontal = this.thumbHorizontal,\n                thumbVertical = this.thumbVertical;\n\n            view.addEventListener('scroll', this.handleScroll);\n            if (!(0, _getScrollbarWidth2[\"default\"])()) return;\n            trackHorizontal.addEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackHorizontal.addEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackHorizontal.addEventListener('mousedown', this.handleHorizontalTrackMouseDown);\n            trackVertical.addEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackVertical.addEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackVertical.addEventListener('mousedown', this.handleVerticalTrackMouseDown);\n            thumbHorizontal.addEventListener('mousedown', this.handleHorizontalThumbMouseDown);\n            thumbVertical.addEventListener('mousedown', this.handleVerticalThumbMouseDown);\n            window.addEventListener('resize', this.handleWindowResize);\n        }\n    }, {\n        key: 'removeListeners',\n        value: function removeListeners() {\n            /* istanbul ignore if */\n            if (typeof document === 'undefined') return;\n            var view = this.view,\n                trackHorizontal = this.trackHorizontal,\n                trackVertical = this.trackVertical,\n                thumbHorizontal = this.thumbHorizontal,\n                thumbVertical = this.thumbVertical;\n\n            view.removeEventListener('scroll', this.handleScroll);\n            if (!(0, _getScrollbarWidth2[\"default\"])()) return;\n            trackHorizontal.removeEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackHorizontal.removeEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackHorizontal.removeEventListener('mousedown', this.handleHorizontalTrackMouseDown);\n            trackVertical.removeEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackVertical.removeEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackVertical.removeEventListener('mousedown', this.handleVerticalTrackMouseDown);\n            thumbHorizontal.removeEventListener('mousedown', this.handleHorizontalThumbMouseDown);\n            thumbVertical.removeEventListener('mousedown', this.handleVerticalThumbMouseDown);\n            window.removeEventListener('resize', this.handleWindowResize);\n            // Possibly setup by `handleDragStart`\n            this.teardownDragging();\n        }\n    }, {\n        key: 'handleScroll',\n        value: function handleScroll(event) {\n            var _this2 = this;\n\n            var _props3 = this.props,\n                onScroll = _props3.onScroll,\n                onScrollFrame = _props3.onScrollFrame;\n\n            if (onScroll) onScroll(event);\n            this.update(function (values) {\n                var scrollLeft = values.scrollLeft,\n                    scrollTop = values.scrollTop;\n\n                _this2.viewScrollLeft = scrollLeft;\n                _this2.viewScrollTop = scrollTop;\n                if (onScrollFrame) onScrollFrame(values);\n            });\n            this.detectScrolling();\n        }\n    }, {\n        key: 'handleScrollStart',\n        value: function handleScrollStart() {\n            var onScrollStart = this.props.onScrollStart;\n\n            if (onScrollStart) onScrollStart();\n            this.handleScrollStartAutoHide();\n        }\n    }, {\n        key: 'handleScrollStartAutoHide',\n        value: function handleScrollStartAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.showTracks();\n        }\n    }, {\n        key: 'handleScrollStop',\n        value: function handleScrollStop() {\n            var onScrollStop = this.props.onScrollStop;\n\n            if (onScrollStop) onScrollStop();\n            this.handleScrollStopAutoHide();\n        }\n    }, {\n        key: 'handleScrollStopAutoHide',\n        value: function handleScrollStopAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.hideTracks();\n        }\n    }, {\n        key: 'handleWindowResize',\n        value: function handleWindowResize() {\n            this.update();\n        }\n    }, {\n        key: 'handleHorizontalTrackMouseDown',\n        value: function handleHorizontalTrackMouseDown(event) {\n            event.preventDefault();\n            var target = event.target,\n                clientX = event.clientX;\n\n            var _target$getBoundingCl = target.getBoundingClientRect(),\n                targetLeft = _target$getBoundingCl.left;\n\n            var thumbWidth = this.getThumbHorizontalWidth();\n            var offset = Math.abs(targetLeft - clientX) - thumbWidth / 2;\n            this.view.scrollLeft = this.getScrollLeftForOffset(offset);\n        }\n    }, {\n        key: 'handleVerticalTrackMouseDown',\n        value: function handleVerticalTrackMouseDown(event) {\n            event.preventDefault();\n            var target = event.target,\n                clientY = event.clientY;\n\n            var _target$getBoundingCl2 = target.getBoundingClientRect(),\n                targetTop = _target$getBoundingCl2.top;\n\n            var thumbHeight = this.getThumbVerticalHeight();\n            var offset = Math.abs(targetTop - clientY) - thumbHeight / 2;\n            this.view.scrollTop = this.getScrollTopForOffset(offset);\n        }\n    }, {\n        key: 'handleHorizontalThumbMouseDown',\n        value: function handleHorizontalThumbMouseDown(event) {\n            event.preventDefault();\n            this.handleDragStart(event);\n            var target = event.target,\n                clientX = event.clientX;\n            var offsetWidth = target.offsetWidth;\n\n            var _target$getBoundingCl3 = target.getBoundingClientRect(),\n                left = _target$getBoundingCl3.left;\n\n            this.prevPageX = offsetWidth - (clientX - left);\n        }\n    }, {\n        key: 'handleVerticalThumbMouseDown',\n        value: function handleVerticalThumbMouseDown(event) {\n            event.preventDefault();\n            this.handleDragStart(event);\n            var target = event.target,\n                clientY = event.clientY;\n            var offsetHeight = target.offsetHeight;\n\n            var _target$getBoundingCl4 = target.getBoundingClientRect(),\n                top = _target$getBoundingCl4.top;\n\n            this.prevPageY = offsetHeight - (clientY - top);\n        }\n    }, {\n        key: 'setupDragging',\n        value: function setupDragging() {\n            (0, _domCss2[\"default\"])(document.body, _styles.disableSelectStyle);\n            document.addEventListener('mousemove', this.handleDrag);\n            document.addEventListener('mouseup', this.handleDragEnd);\n            document.onselectstart = _returnFalse2[\"default\"];\n        }\n    }, {\n        key: 'teardownDragging',\n        value: function teardownDragging() {\n            (0, _domCss2[\"default\"])(document.body, _styles.disableSelectStyleReset);\n            document.removeEventListener('mousemove', this.handleDrag);\n            document.removeEventListener('mouseup', this.handleDragEnd);\n            document.onselectstart = undefined;\n        }\n    }, {\n        key: 'handleDragStart',\n        value: function handleDragStart(event) {\n            this.dragging = true;\n            event.stopImmediatePropagation();\n            this.setupDragging();\n        }\n    }, {\n        key: 'handleDrag',\n        value: function handleDrag(event) {\n            if (this.prevPageX) {\n                var clientX = event.clientX;\n\n                var _trackHorizontal$getB = this.trackHorizontal.getBoundingClientRect(),\n                    trackLeft = _trackHorizontal$getB.left;\n\n                var thumbWidth = this.getThumbHorizontalWidth();\n                var clickPosition = thumbWidth - this.prevPageX;\n                var offset = -trackLeft + clientX - clickPosition;\n                this.view.scrollLeft = this.getScrollLeftForOffset(offset);\n            }\n            if (this.prevPageY) {\n                var clientY = event.clientY;\n\n                var _trackVertical$getBou = this.trackVertical.getBoundingClientRect(),\n                    trackTop = _trackVertical$getBou.top;\n\n                var thumbHeight = this.getThumbVerticalHeight();\n                var _clickPosition = thumbHeight - this.prevPageY;\n                var _offset = -trackTop + clientY - _clickPosition;\n                this.view.scrollTop = this.getScrollTopForOffset(_offset);\n            }\n            return false;\n        }\n    }, {\n        key: 'handleDragEnd',\n        value: function handleDragEnd() {\n            this.dragging = false;\n            this.prevPageX = this.prevPageY = 0;\n            this.teardownDragging();\n            this.handleDragEndAutoHide();\n        }\n    }, {\n        key: 'handleDragEndAutoHide',\n        value: function handleDragEndAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.hideTracks();\n        }\n    }, {\n        key: 'handleTrackMouseEnter',\n        value: function handleTrackMouseEnter() {\n            this.trackMouseOver = true;\n            this.handleTrackMouseEnterAutoHide();\n        }\n    }, {\n        key: 'handleTrackMouseEnterAutoHide',\n        value: function handleTrackMouseEnterAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.showTracks();\n        }\n    }, {\n        key: 'handleTrackMouseLeave',\n        value: function handleTrackMouseLeave() {\n            this.trackMouseOver = false;\n            this.handleTrackMouseLeaveAutoHide();\n        }\n    }, {\n        key: 'handleTrackMouseLeaveAutoHide',\n        value: function handleTrackMouseLeaveAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.hideTracks();\n        }\n    }, {\n        key: 'showTracks',\n        value: function showTracks() {\n            clearTimeout(this.hideTracksTimeout);\n            (0, _domCss2[\"default\"])(this.trackHorizontal, { opacity: 1 });\n            (0, _domCss2[\"default\"])(this.trackVertical, { opacity: 1 });\n        }\n    }, {\n        key: 'hideTracks',\n        value: function hideTracks() {\n            var _this3 = this;\n\n            if (this.dragging) return;\n            if (this.scrolling) return;\n            if (this.trackMouseOver) return;\n            var autoHideTimeout = this.props.autoHideTimeout;\n\n            clearTimeout(this.hideTracksTimeout);\n            this.hideTracksTimeout = setTimeout(function () {\n                (0, _domCss2[\"default\"])(_this3.trackHorizontal, { opacity: 0 });\n                (0, _domCss2[\"default\"])(_this3.trackVertical, { opacity: 0 });\n            }, autoHideTimeout);\n        }\n    }, {\n        key: 'detectScrolling',\n        value: function detectScrolling() {\n            var _this4 = this;\n\n            if (this.scrolling) return;\n            this.scrolling = true;\n            this.handleScrollStart();\n            this.detectScrollingInterval = setInterval(function () {\n                if (_this4.lastViewScrollLeft === _this4.viewScrollLeft && _this4.lastViewScrollTop === _this4.viewScrollTop) {\n                    clearInterval(_this4.detectScrollingInterval);\n                    _this4.scrolling = false;\n                    _this4.handleScrollStop();\n                }\n                _this4.lastViewScrollLeft = _this4.viewScrollLeft;\n                _this4.lastViewScrollTop = _this4.viewScrollTop;\n            }, 100);\n        }\n    }, {\n        key: 'raf',\n        value: function raf(callback) {\n            var _this5 = this;\n\n            if (this.requestFrame) _raf3[\"default\"].cancel(this.requestFrame);\n            this.requestFrame = (0, _raf3[\"default\"])(function () {\n                _this5.requestFrame = undefined;\n                callback();\n            });\n        }\n    }, {\n        key: 'update',\n        value: function update(callback) {\n            var _this6 = this;\n\n            this.raf(function () {\n                return _this6._update(callback);\n            });\n        }\n    }, {\n        key: '_update',\n        value: function _update(callback) {\n            var _props4 = this.props,\n                onUpdate = _props4.onUpdate,\n                hideTracksWhenNotNeeded = _props4.hideTracksWhenNotNeeded;\n\n            var values = this.getValues();\n            if ((0, _getScrollbarWidth2[\"default\"])()) {\n                var scrollLeft = values.scrollLeft,\n                    clientWidth = values.clientWidth,\n                    scrollWidth = values.scrollWidth;\n\n                var trackHorizontalWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n                var thumbHorizontalWidth = this.getThumbHorizontalWidth();\n                var thumbHorizontalX = scrollLeft / (scrollWidth - clientWidth) * (trackHorizontalWidth - thumbHorizontalWidth);\n                var thumbHorizontalStyle = {\n                    width: thumbHorizontalWidth,\n                    transform: 'translateX(' + thumbHorizontalX + 'px)'\n                };\n                var scrollTop = values.scrollTop,\n                    clientHeight = values.clientHeight,\n                    scrollHeight = values.scrollHeight;\n\n                var trackVerticalHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n                var thumbVerticalHeight = this.getThumbVerticalHeight();\n                var thumbVerticalY = scrollTop / (scrollHeight - clientHeight) * (trackVerticalHeight - thumbVerticalHeight);\n                var thumbVerticalStyle = {\n                    height: thumbVerticalHeight,\n                    transform: 'translateY(' + thumbVerticalY + 'px)'\n                };\n                if (hideTracksWhenNotNeeded) {\n                    var trackHorizontalStyle = {\n                        visibility: scrollWidth > clientWidth ? 'visible' : 'hidden'\n                    };\n                    var trackVerticalStyle = {\n                        visibility: scrollHeight > clientHeight ? 'visible' : 'hidden'\n                    };\n                    (0, _domCss2[\"default\"])(this.trackHorizontal, trackHorizontalStyle);\n                    (0, _domCss2[\"default\"])(this.trackVertical, trackVerticalStyle);\n                }\n                (0, _domCss2[\"default\"])(this.thumbHorizontal, thumbHorizontalStyle);\n                (0, _domCss2[\"default\"])(this.thumbVertical, thumbVerticalStyle);\n            }\n            if (onUpdate) onUpdate(values);\n            if (typeof callback !== 'function') return;\n            callback(values);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this7 = this;\n\n            var scrollbarWidth = (0, _getScrollbarWidth2[\"default\"])();\n            /* eslint-disable no-unused-vars */\n\n            var _props5 = this.props,\n                onScroll = _props5.onScroll,\n                onScrollFrame = _props5.onScrollFrame,\n                onScrollStart = _props5.onScrollStart,\n                onScrollStop = _props5.onScrollStop,\n                onUpdate = _props5.onUpdate,\n                renderView = _props5.renderView,\n                renderTrackHorizontal = _props5.renderTrackHorizontal,\n                renderTrackVertical = _props5.renderTrackVertical,\n                renderThumbHorizontal = _props5.renderThumbHorizontal,\n                renderThumbVertical = _props5.renderThumbVertical,\n                tagName = _props5.tagName,\n                hideTracksWhenNotNeeded = _props5.hideTracksWhenNotNeeded,\n                autoHide = _props5.autoHide,\n                autoHideTimeout = _props5.autoHideTimeout,\n                autoHideDuration = _props5.autoHideDuration,\n                thumbSize = _props5.thumbSize,\n                thumbMinSize = _props5.thumbMinSize,\n                universal = _props5.universal,\n                autoHeight = _props5.autoHeight,\n                autoHeightMin = _props5.autoHeightMin,\n                autoHeightMax = _props5.autoHeightMax,\n                style = _props5.style,\n                children = _props5.children,\n                props = _objectWithoutProperties(_props5, ['onScroll', 'onScrollFrame', 'onScrollStart', 'onScrollStop', 'onUpdate', 'renderView', 'renderTrackHorizontal', 'renderTrackVertical', 'renderThumbHorizontal', 'renderThumbVertical', 'tagName', 'hideTracksWhenNotNeeded', 'autoHide', 'autoHideTimeout', 'autoHideDuration', 'thumbSize', 'thumbMinSize', 'universal', 'autoHeight', 'autoHeightMin', 'autoHeightMax', 'style', 'children']);\n            /* eslint-enable no-unused-vars */\n\n            var didMountUniversal = this.state.didMountUniversal;\n\n\n            var containerStyle = _extends({}, _styles.containerStyleDefault, autoHeight && _extends({}, _styles.containerStyleAutoHeight, {\n                minHeight: autoHeightMin,\n                maxHeight: autoHeightMax\n            }), style);\n\n            var viewStyle = _extends({}, _styles.viewStyleDefault, {\n                // Hide scrollbars by setting a negative margin\n                marginRight: scrollbarWidth ? -scrollbarWidth : 0,\n                marginBottom: scrollbarWidth ? -scrollbarWidth : 0\n            }, autoHeight && _extends({}, _styles.viewStyleAutoHeight, {\n                // Add scrollbarWidth to autoHeight in order to compensate negative margins\n                minHeight: (0, _isString2[\"default\"])(autoHeightMin) ? 'calc(' + autoHeightMin + ' + ' + scrollbarWidth + 'px)' : autoHeightMin + scrollbarWidth,\n                maxHeight: (0, _isString2[\"default\"])(autoHeightMax) ? 'calc(' + autoHeightMax + ' + ' + scrollbarWidth + 'px)' : autoHeightMax + scrollbarWidth\n            }), autoHeight && universal && !didMountUniversal && {\n                minHeight: autoHeightMin,\n                maxHeight: autoHeightMax\n            }, universal && !didMountUniversal && _styles.viewStyleUniversalInitial);\n\n            var trackAutoHeightStyle = {\n                transition: 'opacity ' + autoHideDuration + 'ms',\n                opacity: 0\n            };\n\n            var trackHorizontalStyle = _extends({}, _styles.trackHorizontalStyleDefault, autoHide && trackAutoHeightStyle, (!scrollbarWidth || universal && !didMountUniversal) && {\n                display: 'none'\n            });\n\n            var trackVerticalStyle = _extends({}, _styles.trackVerticalStyleDefault, autoHide && trackAutoHeightStyle, (!scrollbarWidth || universal && !didMountUniversal) && {\n                display: 'none'\n            });\n\n            return (0, _react.createElement)(tagName, _extends({}, props, { style: containerStyle, ref: function ref(_ref2) {\n                    _this7.container = _ref2;\n                } }), [(0, _react.cloneElement)(renderView({ style: viewStyle }), { key: 'view', ref: function ref(_ref3) {\n                    _this7.view = _ref3;\n                } }, children), (0, _react.cloneElement)(renderTrackHorizontal({ style: trackHorizontalStyle }), { key: 'trackHorizontal', ref: function ref(_ref4) {\n                    _this7.trackHorizontal = _ref4;\n                } }, (0, _react.cloneElement)(renderThumbHorizontal({ style: _styles.thumbHorizontalStyleDefault }), { ref: function ref(_ref5) {\n                    _this7.thumbHorizontal = _ref5;\n                } })), (0, _react.cloneElement)(renderTrackVertical({ style: trackVerticalStyle }), { key: 'trackVertical', ref: function ref(_ref6) {\n                    _this7.trackVertical = _ref6;\n                } }, (0, _react.cloneElement)(renderThumbVertical({ style: _styles.thumbVerticalStyleDefault }), { ref: function ref(_ref7) {\n                    _this7.thumbVertical = _ref7;\n                } }))]);\n        }\n    }]);\n\n    return Scrollbars;\n}(_react.Component);\n\nexports[\"default\"] = Scrollbars;\n\n\nScrollbars.propTypes = {\n    onScroll: _propTypes2[\"default\"].func,\n    onScrollFrame: _propTypes2[\"default\"].func,\n    onScrollStart: _propTypes2[\"default\"].func,\n    onScrollStop: _propTypes2[\"default\"].func,\n    onUpdate: _propTypes2[\"default\"].func,\n    renderView: _propTypes2[\"default\"].func,\n    renderTrackHorizontal: _propTypes2[\"default\"].func,\n    renderTrackVertical: _propTypes2[\"default\"].func,\n    renderThumbHorizontal: _propTypes2[\"default\"].func,\n    renderThumbVertical: _propTypes2[\"default\"].func,\n    tagName: _propTypes2[\"default\"].string,\n    thumbSize: _propTypes2[\"default\"].number,\n    thumbMinSize: _propTypes2[\"default\"].number,\n    hideTracksWhenNotNeeded: _propTypes2[\"default\"].bool,\n    autoHide: _propTypes2[\"default\"].bool,\n    autoHideTimeout: _propTypes2[\"default\"].number,\n    autoHideDuration: _propTypes2[\"default\"].number,\n    autoHeight: _propTypes2[\"default\"].bool,\n    autoHeightMin: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].number, _propTypes2[\"default\"].string]),\n    autoHeightMax: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].number, _propTypes2[\"default\"].string]),\n    universal: _propTypes2[\"default\"].bool,\n    style: _propTypes2[\"default\"].object,\n    children: _propTypes2[\"default\"].node\n};\n\nScrollbars.defaultProps = {\n    renderView: _defaultRenderElements.renderViewDefault,\n    renderTrackHorizontal: _defaultRenderElements.renderTrackHorizontalDefault,\n    renderTrackVertical: _defaultRenderElements.renderTrackVerticalDefault,\n    renderThumbHorizontal: _defaultRenderElements.renderThumbHorizontalDefault,\n    renderThumbVertical: _defaultRenderElements.renderThumbVerticalDefault,\n    tagName: 'div',\n    thumbMinSize: 30,\n    hideTracksWhenNotNeeded: false,\n    autoHide: false,\n    autoHideTimeout: 1000,\n    autoHideDuration: 200,\n    autoHeight: false,\n    autoHeightMin: 0,\n    autoHeightMax: 200,\n    universal: false\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/Scrollbars/index.js\n// module id = 2411\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\nvar now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function() {\n  root.requestAnimationFrame = raf\n  root.cancelAnimationFrame = caf\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/raf/index.js\n// module id = 2412\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/performance-now/lib/performance-now.js\n// module id = 2413\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\nvar div = null\nvar prefixes = [ 'Webkit', 'Moz', 'O', 'ms' ]\n\nmodule.exports = function prefixStyle (prop) {\n  // re-use a dummy div\n  if (!div) {\n    div = document.createElement('div')\n  }\n\n  var style = div.style\n\n  // prop exists without prefix\n  if (prop in style) {\n    return prop\n  }\n\n  // borderRadius -> BorderRadius\n  var titleCase = prop.charAt(0).toUpperCase() + prop.slice(1)\n\n  // find the vendor-prefixed prop\n  for (var i = prefixes.length; i >= 0; i--) {\n    var name = prefixes[i] + titleCase\n    // e.g. WebkitBorderRadius or webkitBorderRadius\n    if (name in style) {\n      return name\n    }\n  }\n\n  return false\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/prefix-style/index.js\n// module id = 2414\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\nvar space = require('to-space-case')\n\n/**\n * Export.\n */\n\nmodule.exports = toCamelCase\n\n/**\n * Convert a `string` to camel case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toCamelCase(string) {\n  return space(string).replace(/\\s(\\w)/g, function (matches, letter) {\n    return letter.toUpperCase()\n  })\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/to-camel-case/index.js\n// module id = 2415\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\nvar clean = require('to-no-case')\n\n/**\n * Export.\n */\n\nmodule.exports = toSpaceCase\n\n/**\n * Convert a `string` to space case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toSpaceCase(string) {\n  return clean(string).replace(/[\\W_]+(.|$)/g, function (matches, match) {\n    return match ? ' ' + match : ''\n  }).trim()\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/to-space-case/index.js\n// module id = 2416\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\n/**\n * Export.\n */\n\nmodule.exports = toNoCase\n\n/**\n * Test whether a string is camel-case.\n */\n\nvar hasSpace = /\\s/\nvar hasSeparator = /(_|-|\\.|:)/\nvar hasCamel = /([a-z][A-Z]|[A-Z][a-z])/\n\n/**\n * Remove any starting case from a `string`, like camel or snake, but keep\n * spaces and punctuation that may be important otherwise.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toNoCase(string) {\n  if (hasSpace.test(string)) return string.toLowerCase()\n  if (hasSeparator.test(string)) return (unseparate(string) || string).toLowerCase()\n  if (hasCamel.test(string)) return uncamelize(string).toLowerCase()\n  return string.toLowerCase()\n}\n\n/**\n * Separator splitter.\n */\n\nvar separatorSplitter = /[\\W_]+(.|$)/g\n\n/**\n * Un-separate a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction unseparate(string) {\n  return string.replace(separatorSplitter, function (m, next) {\n    return next ? ' ' + next : ''\n  })\n}\n\n/**\n * Camelcase splitter.\n */\n\nvar camelSplitter = /(.)([A-Z]+)/g\n\n/**\n * Un-camelcase a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction uncamelize(string) {\n  return string.replace(camelSplitter, function (m, previous, uppers) {\n    return previous + ' ' + uppers.toLowerCase().split('').join(' ')\n  })\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/to-no-case/index.js\n// module id = 2417\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/* The following list is defined in React's core */\nvar IS_UNITLESS = {\n  animationIterationCount: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridColumn: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n\n  // SVG-related properties\n  fillOpacity: true,\n  stopOpacity: true,\n  strokeDashoffset: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nmodule.exports = function(name, value) {\n  if(typeof value === 'number' && !IS_UNITLESS[ name ]) {\n    return value + 'px';\n  } else {\n    return value;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/add-px-to-style/index.js\n// module id = 2418\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = isString;\nfunction isString(maybe) {\n    return typeof maybe === 'string';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/utils/isString.js\n// module id = 2419\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getScrollbarWidth;\n\nvar _domCss = require('dom-css');\n\nvar _domCss2 = _interopRequireDefault(_domCss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar scrollbarWidth = false;\n\nfunction getScrollbarWidth() {\n    if (scrollbarWidth !== false) return scrollbarWidth;\n    /* istanbul ignore else */\n    if (typeof document !== 'undefined') {\n        var div = document.createElement('div');\n        (0, _domCss2[\"default\"])(div, {\n            width: 100,\n            height: 100,\n            position: 'absolute',\n            top: -9999,\n            overflow: 'scroll',\n            MsOverflowStyle: 'scrollbar'\n        });\n        document.body.appendChild(div);\n        scrollbarWidth = div.offsetWidth - div.clientWidth;\n        document.body.removeChild(div);\n    } else {\n        scrollbarWidth = 0;\n    }\n    return scrollbarWidth || 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/utils/getScrollbarWidth.js\n// module id = 2420\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = returnFalse;\nfunction returnFalse() {\n    return false;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/utils/returnFalse.js\n// module id = 2421\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getInnerWidth;\nfunction getInnerWidth(el) {\n    var clientWidth = el.clientWidth;\n\n    var _getComputedStyle = getComputedStyle(el),\n        paddingLeft = _getComputedStyle.paddingLeft,\n        paddingRight = _getComputedStyle.paddingRight;\n\n    return clientWidth - parseFloat(paddingLeft) - parseFloat(paddingRight);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/utils/getInnerWidth.js\n// module id = 2422\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getInnerHeight;\nfunction getInnerHeight(el) {\n    var clientHeight = el.clientHeight;\n\n    var _getComputedStyle = getComputedStyle(el),\n        paddingTop = _getComputedStyle.paddingTop,\n        paddingBottom = _getComputedStyle.paddingBottom;\n\n    return clientHeight - parseFloat(paddingTop) - parseFloat(paddingBottom);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/utils/getInnerHeight.js\n// module id = 2423\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar containerStyleDefault = exports.containerStyleDefault = {\n    position: 'relative',\n    overflow: 'hidden',\n    width: '100%',\n    height: '100%'\n};\n\n// Overrides containerStyleDefault properties\nvar containerStyleAutoHeight = exports.containerStyleAutoHeight = {\n    height: 'auto'\n};\n\nvar viewStyleDefault = exports.viewStyleDefault = {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflow: 'scroll',\n    WebkitOverflowScrolling: 'touch'\n};\n\n// Overrides viewStyleDefault properties\nvar viewStyleAutoHeight = exports.viewStyleAutoHeight = {\n    position: 'relative',\n    top: undefined,\n    left: undefined,\n    right: undefined,\n    bottom: undefined\n};\n\nvar viewStyleUniversalInitial = exports.viewStyleUniversalInitial = {\n    overflow: 'hidden',\n    marginRight: 0,\n    marginBottom: 0\n};\n\nvar trackHorizontalStyleDefault = exports.trackHorizontalStyleDefault = {\n    position: 'absolute',\n    height: 6\n};\n\nvar trackVerticalStyleDefault = exports.trackVerticalStyleDefault = {\n    position: 'absolute',\n    width: 6\n};\n\nvar thumbHorizontalStyleDefault = exports.thumbHorizontalStyleDefault = {\n    position: 'relative',\n    display: 'block',\n    height: '100%'\n};\n\nvar thumbVerticalStyleDefault = exports.thumbVerticalStyleDefault = {\n    position: 'relative',\n    display: 'block',\n    width: '100%'\n};\n\nvar disableSelectStyle = exports.disableSelectStyle = {\n    userSelect: 'none'\n};\n\nvar disableSelectStyleReset = exports.disableSelectStyleReset = {\n    userSelect: ''\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/Scrollbars/styles.js\n// module id = 2424\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.renderViewDefault = renderViewDefault;\nexports.renderTrackHorizontalDefault = renderTrackHorizontalDefault;\nexports.renderTrackVerticalDefault = renderTrackVerticalDefault;\nexports.renderThumbHorizontalDefault = renderThumbHorizontalDefault;\nexports.renderThumbVerticalDefault = renderThumbVerticalDefault;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n/* eslint-disable react/prop-types */\n\nfunction renderViewDefault(props) {\n    return _react2[\"default\"].createElement('div', props);\n}\n\nfunction renderTrackHorizontalDefault(_ref) {\n    var style = _ref.style,\n        props = _objectWithoutProperties(_ref, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        right: 2,\n        bottom: 2,\n        left: 2,\n        borderRadius: 3\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderTrackVerticalDefault(_ref2) {\n    var style = _ref2.style,\n        props = _objectWithoutProperties(_ref2, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        right: 2,\n        bottom: 2,\n        top: 2,\n        borderRadius: 3\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderThumbHorizontalDefault(_ref3) {\n    var style = _ref3.style,\n        props = _objectWithoutProperties(_ref3, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        cursor: 'pointer',\n        borderRadius: 'inherit',\n        backgroundColor: 'rgba(0,0,0,.2)'\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderThumbVerticalDefault(_ref4) {\n    var style = _ref4.style,\n        props = _objectWithoutProperties(_ref4, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        cursor: 'pointer',\n        borderRadius: 'inherit',\n        backgroundColor: 'rgba(0,0,0,.2)'\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-custom-scrollbars/lib/Scrollbars/defaultRenderElements.js\n// module id = 2425\n// module chunks = 7","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport CreateComment from './create_comment.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const err = state.requests.posts.createPost.error || {};\n    return {\n        ...ownProps,\n        createPostErrorId: err.server_error_id\n    };\n}\n\nexport default connect(mapStateToProps)(CreateComment);\n\n\n\n// WEBPACK FOOTER //\n// ./components/create_comment/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nimport * as ChannelActions from 'actions/channel_actions.jsx';\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport * as PostActions from 'actions/post_actions.jsx';\nimport AppDispatcher from 'dispatcher/app_dispatcher.jsx';\nimport EmojiStore from 'stores/emoji_store.jsx';\nimport MessageHistoryStore from 'stores/message_history_store.jsx';\nimport PostStore from 'stores/post_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as UserAgent from 'utils/user_agent.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport {REACTION_PATTERN} from 'components/create_post.jsx';\nimport EmojiPickerOverlay from 'components/emoji_picker/emoji_picker_overlay.jsx';\nimport FilePreview from 'components/file_preview.jsx';\nimport FileUpload from 'components/file_upload.jsx';\nimport MsgTyping from 'components/msg_typing.jsx';\nimport PostDeletedModal from 'components/post_deleted_modal.jsx';\nimport Textbox from 'components/textbox.jsx';\n\nconst ActionTypes = Constants.ActionTypes;\nconst KeyCodes = Constants.KeyCodes;\n\nexport default class CreateComment extends React.Component {\n    static propTypes = {\n        channelId: PropTypes.string.isRequired,\n        rootId: PropTypes.string.isRequired,\n        latestPostId: PropTypes.string,\n        getSidebarBody: PropTypes.func,\n        createPostErrorId: PropTypes.string\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.lastTime = 0;\n\n        PostStore.clearCommentDraftUploads();\n        MessageHistoryStore.resetHistoryIndex('comment');\n\n        const draft = PostStore.getCommentDraft(this.props.rootId);\n        const enableAddButton = this.handleEnableAddButton(draft.message, draft.fileInfos);\n        this.state = {\n            message: draft.message,\n            uploadsInProgress: draft.uploadsInProgress,\n            fileInfos: draft.fileInfos,\n            submitting: false,\n            ctrlSend: PreferenceStore.getBool(Constants.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n            showPostDeletedModal: false,\n            enableAddButton,\n            showEmojiPicker: false\n        };\n\n        this.lastBlurAt = 0;\n    }\n\n    toggleEmojiPicker = () => {\n        this.setState({showEmojiPicker: !this.state.showEmojiPicker});\n    }\n\n    hideEmojiPicker = () => {\n        this.setState({showEmojiPicker: false});\n    }\n\n    handleEmojiClick = (emoji) => {\n        const emojiAlias = emoji.name || emoji.aliases[0];\n\n        if (!emojiAlias) {\n            //Oops.. There went something wrong\n            return;\n        }\n\n        if (this.state.message === '') {\n            this.setState({message: ':' + emojiAlias + ': '});\n        } else {\n            // Check whether there is already a blank at the end of the current message\n            let newMessage;\n            if ((/\\s+$/).test(this.state.message)) {\n                newMessage = this.state.message + ':' + emojiAlias + ': ';\n            } else {\n                newMessage = this.state.message + ' :' + emojiAlias + ': ';\n            }\n\n            this.setState({message: newMessage});\n        }\n\n        this.setState({showEmojiPicker: false});\n\n        this.focusTextbox();\n    }\n\n    componentDidMount() {\n        PreferenceStore.addChangeListener(this.onPreferenceChange);\n\n        this.focusTextbox();\n    }\n\n    componentWillUnmount() {\n        PreferenceStore.removeChangeListener(this.onPreferenceChange);\n    }\n\n    onPreferenceChange = () => {\n        this.setState({\n            ctrlSend: PreferenceStore.getBool(Constants.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter')\n        });\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.uploadsInProgress < this.state.uploadsInProgress) {\n            $('.post-right__scroll').scrollTop($('.post-right__scroll')[0].scrollHeight);\n        }\n\n        if (prevProps.rootId !== this.props.rootId) {\n            this.focusTextbox();\n        }\n    }\n\n    handlePostError = (postError) => {\n        this.setState({postError});\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n\n        if (this.state.uploadsInProgress.length > 0 || this.state.submitting) {\n            return;\n        }\n\n        const message = this.state.message;\n\n        if (this.state.postError) {\n            this.setState({errorClass: 'animation--highlight'});\n            setTimeout(() => {\n                this.setState({errorClass: null});\n            }, Constants.ANIMATION_TIMEOUT);\n            return;\n        }\n\n        MessageHistoryStore.storeMessageInHistory(message);\n        if (message.trim().length === 0 && this.state.fileInfos.length === 0) {\n            return;\n        }\n\n        const isReaction = REACTION_PATTERN.exec(message);\n        if (isReaction && EmojiStore.has(isReaction[2])) {\n            this.handleSubmitReaction(isReaction);\n        } else if (message.indexOf('/') === 0) {\n            this.handleSubmitCommand(message);\n        } else {\n            this.handleSubmitPost(message);\n        }\n\n        this.setState({\n            message: '',\n            submitting: false,\n            postError: null,\n            fileInfos: [],\n            serverError: null,\n            enableAddButton: false\n        });\n\n        const fasterThanHumanWillClick = 150;\n        const forceFocus = (Date.now() - this.lastBlurAt < fasterThanHumanWillClick);\n        this.focusTextbox(forceFocus);\n    }\n\n    handleSubmitCommand = (message) => {\n        PostStore.storeCommentDraft(this.props.rootId, null);\n        this.setState({\n            message: '',\n            postError: null,\n            fileInfos: [],\n            enableAddButton: false\n        });\n\n        const args = {};\n        args.channel_id = this.props.channelId;\n        args.team_id = TeamStore.getCurrentId();\n        args.root_id = this.props.rootId;\n        args.parent_id = this.props.rootId;\n        ChannelActions.executeCommand(\n            message,\n            args,\n            () => {\n                this.setState({submitting: false});\n            },\n            (err) => {\n                if (err.sendMessage) {\n                    this.handleSubmitPost(message);\n                } else {\n                    const state = {};\n                    state.serverError = err.message;\n                    state.submitting = false;\n                    this.setState(state);\n                }\n            }\n        );\n    }\n\n    handleSubmitPost = (message) => {\n        const userId = UserStore.getCurrentId();\n        const time = Utils.getTimestamp();\n\n        const post = {};\n        post.file_ids = [];\n        post.message = message;\n        post.channel_id = this.props.channelId;\n        post.root_id = this.props.rootId;\n        post.parent_id = this.props.rootId;\n        post.pending_post_id = `${userId}:${time}`;\n        post.user_id = userId;\n        post.create_at = time;\n\n        GlobalActions.emitUserCommentedEvent(post);\n\n        PostActions.createPost(post, this.state.fileInfos);\n\n        this.setState({\n            message: '',\n            submitting: false,\n            postError: null,\n            fileInfos: [],\n            serverError: null,\n            enableAddButton: false\n        });\n\n        const fasterThanHumanWillClick = 150;\n        const forceFocus = (Date.now() - this.state.lastBlurAt < fasterThanHumanWillClick);\n        this.focusTextbox(forceFocus);\n    }\n\n    handleSubmitReaction = (isReaction) => {\n        const action = isReaction[1];\n\n        const emojiName = isReaction[2];\n        const postId = this.props.latestPostId;\n\n        if (action === '+') {\n            PostActions.addReaction(this.props.channelId, postId, emojiName);\n        } else if (action === '-') {\n            PostActions.removeReaction(this.props.channelId, postId, emojiName);\n        }\n\n        PostStore.storeCommentDraft(this.props.rootId, null);\n    }\n\n    commentMsgKeyPress = (e) => {\n        if (!UserAgent.isMobile() && ((this.state.ctrlSend && e.ctrlKey) || !this.state.ctrlSend)) {\n            if (e.which === KeyCodes.ENTER && !e.shiftKey && !e.altKey) {\n                e.preventDefault();\n                ReactDOM.findDOMNode(this.refs.textbox).blur();\n                this.handleSubmit(e);\n            }\n        }\n\n        GlobalActions.emitLocalUserTypingEvent(this.props.channelId, this.props.rootId);\n    }\n\n    handleChange = (e) => {\n        const message = e.target.value;\n\n        const draft = PostStore.getCommentDraft(this.props.rootId);\n        draft.message = message;\n        PostStore.storeCommentDraft(this.props.rootId, draft);\n\n        $('.post-right__scroll').parent().scrollTop($('.post-right__scroll')[0].scrollHeight);\n\n        const enableAddButton = this.handleEnableAddButton(message, this.state.fileInfos);\n\n        this.setState({\n            message,\n            enableAddButton\n        });\n    }\n\n    handleKeyDown = (e) => {\n        if (this.state.ctrlSend && e.keyCode === KeyCodes.ENTER && e.ctrlKey === true) {\n            this.commentMsgKeyPress(e);\n            return;\n        }\n\n        if (!e.ctrlKey && !e.metaKey && !e.altKey && !e.shiftKey && e.keyCode === KeyCodes.UP && this.state.message === '') {\n            e.preventDefault();\n\n            const lastPost = PostStore.getCurrentUsersLatestPost(this.props.channelId, this.props.rootId);\n            if (!lastPost) {\n                return;\n            }\n\n            AppDispatcher.handleViewAction({\n                type: ActionTypes.RECEIVED_EDIT_POST,\n                refocusId: '#reply_textbox',\n                title: Utils.localizeMessage('create_comment.commentTitle', 'Comment'),\n                message: lastPost.message,\n                postId: lastPost.id,\n                channelId: lastPost.channel_id,\n                comments: PostStore.getCommentCount(lastPost)\n            });\n        }\n\n        if ((e.ctrlKey || e.metaKey) && !e.altKey && !e.shiftKey && (e.keyCode === Constants.KeyCodes.UP || e.keyCode === Constants.KeyCodes.DOWN)) {\n            const lastMessage = MessageHistoryStore.nextMessageInHistory(e.keyCode, this.state.message, 'comment');\n            if (lastMessage !== null) {\n                e.preventDefault();\n                this.setState({\n                    message: lastMessage,\n                    enableAddButton: true\n                });\n            }\n        }\n    }\n\n    handleFileUploadChange = () => {\n        this.focusTextbox();\n    }\n\n    handleUploadStart = (clientIds) => {\n        const draft = PostStore.getCommentDraft(this.props.rootId);\n\n        draft.uploadsInProgress = draft.uploadsInProgress.concat(clientIds);\n        PostStore.storeCommentDraft(this.props.rootId, draft);\n\n        this.setState({uploadsInProgress: draft.uploadsInProgress});\n\n        // this is a bit redundant with the code that sets focus when the file input is clicked,\n        // but this also resets the focus after a drag and drop\n        this.focusTextbox();\n    }\n\n    handleFileUploadComplete = (fileInfos, clientIds) => {\n        const draft = PostStore.getCommentDraft(this.props.rootId);\n\n        // remove each finished file from uploads\n        for (let i = 0; i < clientIds.length; i++) {\n            const index = draft.uploadsInProgress.indexOf(clientIds[i]);\n\n            if (index !== -1) {\n                draft.uploadsInProgress.splice(index, 1);\n            }\n        }\n\n        draft.fileInfos = draft.fileInfos.concat(fileInfos);\n        PostStore.storeCommentDraft(this.props.rootId, draft);\n\n        // Focus on preview if needed/possible - if user has switched teams since starting the file upload,\n        // the preview will be undefined and the switch will fail\n        if (typeof this.refs.preview != 'undefined' && this.refs.preview) {\n            this.refs.preview.refs.container.scrollIntoView();\n        }\n\n        const enableAddButton = this.handleEnableAddButton(draft.message, draft.fileInfos);\n\n        this.setState({\n            uploadsInProgress: draft.uploadsInProgress,\n            fileInfos: draft.fileInfos,\n            enableAddButton\n        });\n    }\n\n    handleUploadError = (err, clientId) => {\n        if (clientId === -1) {\n            this.setState({serverError: err});\n        } else {\n            const draft = PostStore.getCommentDraft(this.props.rootId);\n\n            const index = draft.uploadsInProgress.indexOf(clientId);\n            if (index !== -1) {\n                draft.uploadsInProgress.splice(index, 1);\n            }\n\n            PostStore.storeCommentDraft(this.props.rootId, draft);\n\n            this.setState({uploadsInProgress: draft.uploadsInProgress, serverError: err});\n        }\n    }\n\n    removePreview = (id) => {\n        const fileInfos = this.state.fileInfos;\n        const uploadsInProgress = this.state.uploadsInProgress;\n\n        // Clear previous errors\n        this.handleUploadError(null);\n\n        // id can either be the id of an uploaded file or the client id of an in progress upload\n        let index = fileInfos.findIndex((info) => info.id === id);\n        if (index === -1) {\n            index = uploadsInProgress.indexOf(id);\n\n            if (index !== -1) {\n                uploadsInProgress.splice(index, 1);\n                this.refs.fileUpload.getWrappedInstance().cancelUpload(id);\n            }\n        } else {\n            fileInfos.splice(index, 1);\n        }\n\n        const draft = PostStore.getCommentDraft(this.props.rootId);\n        draft.fileInfos = fileInfos;\n        draft.uploadsInProgress = uploadsInProgress;\n        PostStore.storeCommentDraft(this.props.rootId, draft);\n\n        this.setState({fileInfos, uploadsInProgress});\n\n        this.handleFileUploadChange();\n    }\n\n    componentWillReceiveProps(newProps) {\n        if (newProps.rootId !== this.props.rootId) {\n            const draft = PostStore.getCommentDraft(newProps.rootId);\n            const enableAddButton = this.handleEnableAddButton(draft.message, draft.fileInfos);\n            this.setState({\n                message: draft.message,\n                uploadsInProgress: draft.uploadsInProgress,\n                fileInfos: draft.fileInfos,\n                enableAddButton\n            });\n        }\n\n        if (newProps.createPostErrorId === 'api.post.create_post.root_id.app_error' && newProps.createPostErrorId !== this.props.createPostErrorId) {\n            this.showPostDeletedModal();\n        }\n    }\n\n    getFileCount = () => {\n        return this.state.fileInfos.length + this.state.uploadsInProgress.length;\n    }\n\n    getFileUploadTarget = () => {\n        return this.refs.textbox;\n    }\n\n    getCreateCommentControls = () => {\n        return this.refs.createCommentControls;\n    }\n\n    focusTextbox = (keepFocus = false) => {\n        if (keepFocus || !UserAgent.isMobile()) {\n            this.refs.textbox.focus();\n        }\n    }\n\n    showPostDeletedModal = () => {\n        this.setState({\n            showPostDeletedModal: true\n        });\n    }\n\n    hidePostDeletedModal = () => {\n        this.setState({\n            showPostDeletedModal: false\n        });\n    }\n\n    handleBlur = () => {\n        this.lastBlurAt = Date.now();\n    }\n\n    handleEnableAddButton = (message, fileInfos) => {\n        return message.trim().length !== 0 || fileInfos.length !== 0;\n    }\n\n    render() {\n        let serverError = null;\n        if (this.state.serverError) {\n            serverError = (\n                <div className='form-group has-error'>\n                    <label className='control-label'>{this.state.serverError}</label>\n                </div>\n            );\n        }\n\n        let postError = null;\n        if (this.state.postError) {\n            const postErrorClass = 'post-error' + (this.state.errorClass ? (' ' + this.state.errorClass) : '');\n            postError = <label className={postErrorClass}>{this.state.postError}</label>;\n        }\n\n        let preview = null;\n        if (this.state.fileInfos.length > 0 || this.state.uploadsInProgress.length > 0) {\n            preview = (\n                <FilePreview\n                    fileInfos={this.state.fileInfos}\n                    onRemove={this.removePreview}\n                    uploadsInProgress={this.state.uploadsInProgress}\n                    ref='preview'\n                />\n            );\n        }\n\n        let uploadsInProgressText = null;\n        if (this.state.uploadsInProgress.length > 0) {\n            uploadsInProgressText = (\n                <span className='pull-right post-right-comments-upload-in-progress'>\n                    {this.state.uploadsInProgress.length === 1 ? (\n                        <FormattedMessage\n                            id='create_comment.file'\n                            defaultMessage='File uploading'\n                        />\n                    ) : (\n                        <FormattedMessage\n                            id='create_comment.files'\n                            defaultMessage='Files uploading'\n                        />\n                    )}\n                </span>\n            );\n        }\n\n        let addButtonClass = 'btn btn-primary comment-btn pull-right';\n        if (!this.state.enableAddButton) {\n            addButtonClass += ' disabled';\n        }\n\n        const fileUpload = (\n            <FileUpload\n                ref='fileUpload'\n                getFileCount={this.getFileCount}\n                getTarget={this.getFileUploadTarget}\n                onFileUploadChange={this.handleFileUploadChange}\n                onUploadStart={this.handleUploadStart}\n                onFileUpload={this.handleFileUploadComplete}\n                onUploadError={this.handleUploadError}\n                postType='comment'\n                channelId={this.props.channelId}\n            />\n        );\n\n        let emojiPicker = null;\n        if (window.mm_config.EnableEmojiPicker === 'true') {\n            emojiPicker = (\n                <span className='emoji-picker__container'>\n                    <EmojiPickerOverlay\n                        show={this.state.showEmojiPicker}\n                        container={this.props.getSidebarBody}\n                        target={this.getCreateCommentControls}\n                        onHide={this.hideEmojiPicker}\n                        onEmojiClick={this.handleEmojiClick}\n                        rightOffset={15}\n                        topOffset={55}\n                    />\n                    <span\n                        className={'icon icon--emoji emoji-rhs ' + (this.state.showEmojiPicker ? 'active' : '')}\n                        dangerouslySetInnerHTML={{__html: Constants.EMOJI_ICON_SVG}}\n                        onClick={this.toggleEmojiPicker}\n                    />\n                </span>\n            );\n        }\n\n        return (\n            <form onSubmit={this.handleSubmit}>\n                <div className='post-create'>\n                    <div\n                        id={this.props.rootId}\n                        className='post-create-body comment-create-body'\n                    >\n                        <div className='post-body__cell'>\n                            <Textbox\n                                onChange={this.handleChange}\n                                onKeyPress={this.commentMsgKeyPress}\n                                onKeyDown={this.handleKeyDown}\n                                handlePostError={this.handlePostError}\n                                value={this.state.message}\n                                onBlur={this.handleBlur}\n                                createMessage={Utils.localizeMessage('create_comment.addComment', 'Add a comment...')}\n                                emojiEnabled={window.mm_config.EnableEmojiPicker === 'true'}\n                                initialText=''\n                                channelId={this.props.channelId}\n                                isRHS={true}\n                                popoverMentionKeyClick={true}\n                                id='reply_textbox'\n                                ref='textbox'\n                            />\n                            <span\n                                ref='createCommentControls'\n                                className='post-body__actions'\n                            >\n                                {fileUpload}\n                                {emojiPicker}\n                            </span>\n                        </div>\n                    </div>\n                    <MsgTyping\n                        channelId={this.props.channelId}\n                        parentId={this.props.rootId}\n                    />\n                    <div className='post-create-footer'>\n                        <input\n                            type='button'\n                            className={addButtonClass}\n                            value={Utils.localizeMessage('create_comment.comment', 'Add Comment')}\n                            onClick={this.handleSubmit}\n                        />\n                        {uploadsInProgressText}\n                        {postError}\n                        {preview}\n                        {serverError}\n                    </div>\n                </div>\n                <PostDeletedModal\n                    show={this.state.showPostDeletedModal}\n                    onHide={this.hidePostDeletedModal}\n                />\n            </form>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/create_comment/create_comment.jsx","// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedDate} from 'react-intl';\n\nexport default class DateSeparator extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * The date to display in the separator\n         */\n        date: PropTypes.instanceOf(Date)\n    }\n\n    render() {\n        return (\n            <div\n                className='date-separator'\n            >\n                <hr className='separator__hr'/>\n                <div className='separator__text'>\n                    <FormattedDate\n                        value={this.props.date}\n                        weekday='short'\n                        month='short'\n                        day='2-digit'\n                        year='numeric'\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/post_view/date_separator.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router/es6';\n\nimport {addReaction, emitEmojiPosted} from 'actions/post_actions.jsx';\nimport TeamStore from 'stores/team_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as PostUtils from 'utils/post_utils.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport DotMenu from 'components/dot_menu';\nimport EmojiPickerOverlay from 'components/emoji_picker/emoji_picker_overlay.jsx';\nimport FileAttachmentListContainer from 'components/file_attachment_list';\nimport FailedPostOptions from 'components/post_view/failed_post_options';\nimport PostBodyAdditionalContent from 'components/post_view/post_body_additional_content.jsx';\nimport PostFlagIcon from 'components/post_view/post_flag_icon.jsx';\nimport PostMessageContainer from 'components/post_view/post_message_view';\nimport ReactionListContainer from 'components/post_view/reaction_list';\nimport ProfilePicture from 'components/profile_picture.jsx';\n\nimport UserProfile from './user_profile.jsx';\n\nexport default class RhsComment extends React.Component {\n    static propTypes = {\n        post: PropTypes.object,\n        lastPostCount: PropTypes.number,\n        user: PropTypes.object.isRequired,\n        currentUser: PropTypes.object.isRequired,\n        compactDisplay: PropTypes.bool,\n        useMilitaryTime: PropTypes.bool.isRequired,\n        isFlagged: PropTypes.bool,\n        status: PropTypes.string,\n        isBusy: PropTypes.bool,\n        removePost: PropTypes.func.isRequired,\n        previewCollapsed: PropTypes.string.isRequired\n    };\n\n    constructor(props) {\n        super(props);\n        this.removePost = this.removePost.bind(this);\n        this.reactEmojiClick = this.reactEmojiClick.bind(this);\n        this.handleDropdownOpened = this.handleDropdownOpened.bind(this);\n\n        this.state = {\n            currentTeamDisplayName: TeamStore.getCurrent().name,\n            width: '',\n            height: '',\n            showEmojiPicker: false,\n            dropdownOpened: false\n        };\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', () => {\n            Utils.updateWindowDimensions(this);\n        });\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', () => {\n            Utils.updateWindowDimensions(this);\n        });\n    }\n\n    removePost() {\n        this.props.removePost(this.props.post);\n    }\n\n    createRemovePostButton() {\n        return (\n            <button\n                className='post__remove theme color--link style--none'\n                type='button'\n                onClick={this.removePost}\n            >\n                {'×'}\n            </button>\n        );\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (nextProps.status !== this.props.status) {\n            return true;\n        }\n\n        if (nextProps.isBusy !== this.props.isBusy) {\n            return true;\n        }\n\n        if (nextProps.compactDisplay !== this.props.compactDisplay) {\n            return true;\n        }\n\n        if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n            return true;\n        }\n\n        if (nextProps.isFlagged !== this.props.isFlagged) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.post, this.props.post)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n            return true;\n        }\n\n        if (this.state.showEmojiPicker !== nextState.showEmojiPicker) {\n            return true;\n        }\n\n        if (nextProps.lastPostCount !== this.props.lastPostCount) {\n            return true;\n        }\n\n        if (this.state.dropdownOpened !== nextState.dropdownOpened) {\n            return true;\n        }\n\n        if (this.props.previewCollapsed !== nextProps.previewCollapsed) {\n            return true;\n        }\n\n        return false;\n    }\n\n    timeTag(post, timeOptions) {\n        const date = Utils.getDateForUnixTicks(post.create_at);\n\n        return (\n            <time\n                className='post__time'\n                dateTime={date.toISOString()}\n                title={date}\n            >\n                {date.toLocaleString('en', timeOptions)}\n            </time>\n        );\n    }\n\n    renderTimeTag(post, timeOptions) {\n        return Utils.isMobile() ?\n            this.timeTag(post, timeOptions) :\n            (\n                <Link\n                    to={`/${this.state.currentTeamDisplayName}/pl/${post.id}`}\n                    target='_blank'\n                    className='post__permalink'\n                >\n                    {this.timeTag(post, timeOptions)}\n                </Link>\n            );\n    }\n\n    toggleEmojiPicker = () => {\n        const showEmojiPicker = !this.state.showEmojiPicker;\n\n        this.setState({\n            showEmojiPicker,\n            dropdownOpened: showEmojiPicker\n        });\n    }\n\n    reactEmojiClick(emoji) {\n        this.setState({showEmojiPicker: false});\n        const emojiName = emoji.name || emoji.aliases[0];\n        addReaction(this.props.post.channel_id, this.props.post.id, emojiName);\n        emitEmojiPosted(emojiName);\n        this.handleDropdownOpened(false);\n    }\n\n    getClassName = (post, isSystemMessage) => {\n        let className = 'post post--thread';\n\n        if (this.props.currentUser.id === post.user_id) {\n            className += ' current--user';\n        }\n\n        if (isSystemMessage) {\n            className += ' post--system';\n        }\n\n        if (this.props.compactDisplay) {\n            className += ' post--compact';\n        }\n\n        if (post.is_pinned) {\n            className += ' post--pinned';\n        }\n\n        if (this.state.dropdownOpened) {\n            className += ' post--hovered';\n        }\n\n        return className;\n    }\n\n    handleDropdownOpened(isOpened) {\n        this.setState({\n            dropdownOpened: isOpened\n        });\n    }\n\n    render() {\n        const post = this.props.post;\n        const mattermostLogo = Constants.MATTERMOST_ICON_SVG;\n\n        let idCount = -1;\n        if (this.props.lastPostCount >= 0 && this.props.lastPostCount < Constants.TEST_ID_COUNT) {\n            idCount = this.props.lastPostCount;\n        }\n\n        const isEphemeral = Utils.isPostEphemeral(post);\n        const isSystemMessage = PostUtils.isSystemMessage(post);\n\n        let status = this.props.status;\n        if (post.props && post.props.from_webhook === 'true') {\n            status = null;\n        }\n\n        let botIndicator;\n        let userProfile = (\n            <UserProfile\n                user={this.props.user}\n                status={status}\n                isBusy={this.props.isBusy}\n                isRHS={true}\n                hasMention={true}\n            />\n        );\n\n        let visibleMessage;\n        if (post.props && post.props.from_webhook) {\n            if (post.props.override_username && global.window.mm_config.EnablePostUsernameOverride === 'true') {\n                userProfile = (\n                    <UserProfile\n                        user={this.props.user}\n                        overwriteName={post.props.override_username}\n                        disablePopover={true}\n                    />\n                );\n            } else {\n                userProfile = (\n                    <UserProfile\n                        user={this.props.user}\n                        disablePopover={true}\n                    />\n                );\n            }\n\n            botIndicator = <div className='col col__name bot-indicator'>{'BOT'}</div>;\n        } else if (isSystemMessage) {\n            userProfile = (\n                <UserProfile\n                    user={{}}\n                    overwriteName={\n                        <FormattedMessage\n                            id='post_info.system'\n                            defaultMessage='System'\n                        />\n                    }\n                    overwriteImage={Constants.SYSTEM_MESSAGE_PROFILE_IMAGE}\n                    disablePopover={true}\n                />\n            );\n\n            visibleMessage = (\n                <span className='post__visibility'>\n                    <FormattedMessage\n                        id='post_info.message.visible'\n                        defaultMessage='(Only visible to you)'\n                    />\n                </span>\n            );\n        }\n\n        let failedPostOptions;\n        let postClass = '';\n\n        if (post.failed) {\n            postClass += ' post-failed';\n            failedPostOptions = <FailedPostOptions post={this.props.post}/>;\n        }\n\n        if (PostUtils.isEdited(this.props.post)) {\n            postClass += ' post--edited';\n        }\n\n        let profilePic = (\n            <ProfilePicture\n                src={PostUtils.getProfilePicSrcForPost(post, this.props.user)}\n                status={status}\n                width='36'\n                height='36'\n                user={this.props.user}\n                isBusy={this.props.isBusy}\n                isRHS={true}\n                hasMention={true}\n            />\n        );\n\n        if (post.props && post.props.from_webhook) {\n            profilePic = (\n                <ProfilePicture\n                    src={PostUtils.getProfilePicSrcForPost(post, this.props.user)}\n                    width='36'\n                    height='36'\n                />\n            );\n        }\n\n        if (isSystemMessage) {\n            profilePic = (\n                <span\n                    className='icon'\n                    dangerouslySetInnerHTML={{__html: mattermostLogo}}\n                />\n            );\n        }\n\n        if (this.props.compactDisplay) {\n            if (post.props && post.props.from_webhook) {\n                profilePic = (\n                    <ProfilePicture\n                        src=''\n                    />\n                );\n            } else {\n                profilePic = (\n                    <ProfilePicture\n                        src=''\n                        status={status}\n                        user={this.props.user}\n                        isBusy={this.props.isBusy}\n                        isRHS={true}\n                        hasMention={true}\n                    />\n                );\n            }\n        }\n\n        const profilePicContainer = (<div className='post__img'>{profilePic}</div>);\n\n        let fileAttachment = null;\n        if (post.file_ids && post.file_ids.length > 0) {\n            fileAttachment = (\n                <FileAttachmentListContainer\n                    post={post}\n                    compactDisplay={this.props.compactDisplay}\n                />\n            );\n        }\n\n        let react;\n\n        if (!isEphemeral && !post.failed && !isSystemMessage && window.mm_config.EnableEmojiPicker === 'true') {\n            react = (\n                <span>\n                    <EmojiPickerOverlay\n                        show={this.state.showEmojiPicker}\n                        onHide={this.toggleEmojiPicker}\n                        target={() => this.refs.dotMenu}\n                        onEmojiClick={this.reactEmojiClick}\n                        rightOffset={15}\n                        spaceRequiredAbove={342}\n                        spaceRequiredBelow={342}\n                    />\n                    <button\n                        className='reacticon__container reaction color--link style--none'\n                        onClick={this.toggleEmojiPicker}\n                        ref={'rhs_reacticon_' + post.id}\n                    >\n                        <span\n                            className='icon icon--emoji'\n                            dangerouslySetInnerHTML={{__html: Constants.EMOJI_ICON_SVG}}\n                        />\n                    </button>\n                </span>\n\n            );\n        }\n\n        let options;\n        if (isEphemeral) {\n            options = (\n                <div className='col col__remove'>\n                    {this.createRemovePostButton()}\n                </div>\n            );\n        } else if (!isSystemMessage) {\n            const dotMenu = (\n                <DotMenu\n                    idPrefix={Constants.RHS}\n                    idCount={idCount}\n                    post={this.props.post}\n                    isFlagged={this.props.isFlagged}\n                    handleDropdownOpened={this.handleDropdownOpened}\n                />\n            );\n\n            options = (\n                <div\n                    ref='dotMenu'\n                    className='col col__reply'\n                >\n                    {dotMenu}\n                    {react}\n                </div>\n            );\n        }\n\n        let pinnedBadge;\n        if (post.is_pinned) {\n            pinnedBadge = (\n                <span className='post__pinned-badge'>\n                    <FormattedMessage\n                        id='post_info.pinned'\n                        defaultMessage='Pinned'\n                    />\n                </span>\n            );\n        }\n\n        const timeOptions = {\n            hour: '2-digit',\n            minute: '2-digit',\n            hour12: !this.props.useMilitaryTime\n        };\n\n        return (\n            <div\n                ref={'post_body_' + post.id}\n                className={this.getClassName(post, isSystemMessage)}\n            >\n                <div className='post__content'>\n                    {profilePicContainer}\n                    <div>\n                        <div className='post__header'>\n                            <div className='col col__name'>\n                                <strong>{userProfile}</strong>\n                            </div>\n                            {botIndicator}\n                            <div className='col'>\n                                {this.renderTimeTag(post, timeOptions)}\n                                {pinnedBadge}\n                                <PostFlagIcon\n                                    idPrefix={'rhsCommentFlag'}\n                                    idCount={idCount}\n                                    postId={post.id}\n                                    isFlagged={this.props.isFlagged}\n                                    isEphemeral={isEphemeral}\n                                />\n                                {visibleMessage}\n                            </div>\n                            {options}\n                        </div>\n                        <div className='post__body' >\n                            <div className={postClass}>\n                                {failedPostOptions}\n                                <PostBodyAdditionalContent\n                                    post={post}\n                                    previewCollapsed={this.props.previewCollapsed}\n                                >\n                                    <PostMessageContainer\n                                        post={post}\n                                        isRHS={true}\n                                        hasMention={true}\n                                    />\n                                </PostBodyAdditionalContent>\n                            </div>\n                            {fileAttachment}\n                            <ReactionListContainer post={post}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_comment.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {getFlaggedPosts, getPinnedPosts} from 'actions/post_actions.jsx';\n\nimport Constants from 'utils/constants.jsx';\n\nimport AppDispatcher from '../dispatcher/app_dispatcher.jsx';\n\nconst ActionTypes = Constants.ActionTypes;\n\nexport default class RhsHeaderPost extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleClose = this.handleClose.bind(this);\n        this.toggleSize = this.toggleSize.bind(this);\n        this.handleBack = this.handleBack.bind(this);\n\n        this.state = {};\n    }\n\n    handleClose(e) {\n        e.preventDefault();\n        GlobalActions.emitCloseRightHandSide();\n        this.props.shrink();\n    }\n\n    toggleSize(e) {\n        e.preventDefault();\n        this.props.toggleSize();\n    }\n\n    handleBack(e) {\n        e.preventDefault();\n\n        if (this.props.fromSearch || this.props.isWebrtc) {\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.RECEIVED_SEARCH_TERM,\n                term: this.props.fromSearch,\n                do_search: true,\n                is_mention_search: this.props.isMentionSearch\n            });\n\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.RECEIVED_POST_SELECTED,\n                postId: null,\n                channelId: null\n            });\n        } else if (this.props.fromFlaggedPosts) {\n            getFlaggedPosts();\n        } else if (this.props.fromPinnedPosts) {\n            getPinnedPosts();\n        }\n    }\n\n    render() {\n        let back;\n        const closeSidebarTooltip = (\n            <Tooltip id='closeSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.closeSidebarTooltip'\n                    defaultMessage='Close Sidebar'\n                />\n            </Tooltip>\n        );\n\n        let backToResultsTooltip;\n        if (this.props.fromSearch) {\n            backToResultsTooltip = (\n                <Tooltip id='backToResultsTooltip'>\n                    <FormattedMessage\n                        id='rhs_header.backToResultsTooltip'\n                        defaultMessage='Back to Search Results'\n                    />\n                </Tooltip>\n            );\n        } else if (this.props.fromFlaggedPosts) {\n            backToResultsTooltip = (\n                <Tooltip id='backToResultsTooltip'>\n                    <FormattedMessage\n                        id='rhs_header.backToFlaggedTooltip'\n                        defaultMessage='Back to Flagged Posts'\n                    />\n                </Tooltip>\n            );\n        } else if (this.props.isWebrtc) {\n            backToResultsTooltip = (\n                <Tooltip id='backToResultsTooltip'>\n                    <FormattedMessage\n                        id='rhs_header.backToCallTooltip'\n                        defaultMessage='Back to Call'\n                    />\n                </Tooltip>\n            );\n        } else if (this.props.fromPinnedPosts) {\n            backToResultsTooltip = (\n                <Tooltip id='backToResultsTooltip'>\n                    <FormattedMessage\n                        id='rhs_header.backToPinnedTooltip'\n                        defaultMessage='Back to Pinned Posts'\n                    />\n                </Tooltip>\n            );\n        }\n\n        const expandSidebarTooltip = (\n            <Tooltip id='expandSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.expandSidebarTooltip'\n                    defaultMessage='Expand Sidebar'\n                />\n            </Tooltip>\n        );\n\n        const shrinkSidebarTooltip = (\n            <Tooltip id='shrinkSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.shrinkSidebarTooltip'\n                    defaultMessage='Shrink Sidebar'\n                />\n            </Tooltip>\n        );\n\n        if (this.props.fromSearch || this.props.fromFlaggedPosts || this.props.isWebrtc || this.props.fromPinnedPosts) {\n            back = (\n                <a\n                    href='#'\n                    onClick={this.handleBack}\n                    className='sidebar--right__back'\n                >\n                    <OverlayTrigger\n                        trigger={['hover', 'focus']}\n                        delayShow={Constants.OVERLAY_TIME_DELAY}\n                        placement='top'\n                        overlay={backToResultsTooltip}\n                    >\n                        <i className='fa fa-angle-left'/>\n                    </OverlayTrigger>\n                </a>\n            );\n        }\n\n        return (\n            <div className='sidebar--right__header'>\n                <span className='sidebar--right__title'>\n                    {back}\n                    <FormattedMessage\n                        id='rhs_header.details'\n                        defaultMessage='Message Details'\n                    />\n                </span>\n                <div className='pull-right'>\n                    <button\n                        type='button'\n                        className='sidebar--right__expand'\n                        aria-label='Expand'\n                        onClick={this.toggleSize}\n                    >\n                        <OverlayTrigger\n                            trigger={['hover', 'focus']}\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={expandSidebarTooltip}\n                        >\n                            <i className='fa fa-expand'/>\n                        </OverlayTrigger>\n                        <OverlayTrigger\n                            trigger={['hover', 'focus']}\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={shrinkSidebarTooltip}\n                        >\n                            <i className='fa fa-compress'/>\n                        </OverlayTrigger>\n                    </button>\n                    <button\n                        type='button'\n                        className='sidebar--right__close'\n                        aria-label='Close'\n                        onClick={this.handleClose}\n                    >\n\n                        <OverlayTrigger\n                            trigger={['hover', 'focus']}\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={closeSidebarTooltip}\n                        >\n                            <i className='fa fa-sign-out'/>\n                        </OverlayTrigger>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nRhsHeaderPost.defaultProps = {\n    isMentionSearch: false,\n    fromSearch: ''\n};\nRhsHeaderPost.propTypes = {\n    isMentionSearch: PropTypes.bool,\n    isWebrtc: PropTypes.bool,\n    fromSearch: PropTypes.string,\n    fromFlaggedPosts: PropTypes.bool,\n    fromPinnedPosts: PropTypes.bool,\n    toggleSize: PropTypes.func,\n    shrink: PropTypes.func\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_header_post.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router/es6';\n\nimport {addReaction, emitEmojiPosted} from 'actions/post_actions.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as PostUtils from 'utils/post_utils.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport DotMenu from 'components/dot_menu';\nimport EmojiPickerOverlay from 'components/emoji_picker/emoji_picker_overlay.jsx';\nimport FileAttachmentListContainer from 'components/file_attachment_list';\nimport PostBodyAdditionalContent from 'components/post_view/post_body_additional_content.jsx';\nimport PostFlagIcon from 'components/post_view/post_flag_icon.jsx';\nimport PostMessageContainer from 'components/post_view/post_message_view';\nimport ReactionListContainer from 'components/post_view/reaction_list';\nimport ProfilePicture from 'components/profile_picture.jsx';\n\nimport UserProfile from './user_profile.jsx';\n\nexport default class RhsRootPost extends React.Component {\n    static propTypes = {\n        post: PropTypes.object.isRequired,\n        user: PropTypes.object.isRequired,\n        currentUser: PropTypes.object.isRequired,\n        compactDisplay: PropTypes.bool,\n        useMilitaryTime: PropTypes.bool.isRequired,\n        commentCount: PropTypes.number.isRequired,\n        isFlagged: PropTypes.bool,\n        status: PropTypes.string,\n        previewCollapsed: PropTypes.string,\n        previewEnabled: PropTypes.bool,\n        isBusy: PropTypes.bool\n    }\n\n    static defaultProps = {\n        commentCount: 0\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.reactEmojiClick = this.reactEmojiClick.bind(this);\n        this.handleDropdownOpened = this.handleDropdownOpened.bind(this);\n\n        this.state = {\n            currentTeamDisplayName: TeamStore.getCurrent().name,\n            width: '',\n            height: '',\n            showEmojiPicker: false,\n            testStateObj: true,\n            dropdownOpened: false\n        };\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', () => {\n            Utils.updateWindowDimensions(this);\n        });\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', () => {\n            Utils.updateWindowDimensions(this);\n        });\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (nextProps.status !== this.props.status) {\n            return true;\n        }\n\n        if (nextProps.isBusy !== this.props.isBusy) {\n            return true;\n        }\n\n        if (nextProps.compactDisplay !== this.props.compactDisplay) {\n            return true;\n        }\n\n        if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n            return true;\n        }\n\n        if (nextProps.isFlagged !== this.props.isFlagged) {\n            return true;\n        }\n\n        if (nextProps.previewCollapsed !== this.props.previewCollapsed) {\n            return true;\n        }\n\n        if (nextProps.previewEnabled !== this.props.previewEnabled) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.post, this.props.post)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.user, this.props.user)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n            return true;\n        }\n\n        if (this.state.showEmojiPicker !== nextState.showEmojiPicker) {\n            return true;\n        }\n\n        if (this.state.dropdownOpened !== nextState.dropdownOpened) {\n            return true;\n        }\n\n        return false;\n    }\n\n    timeTag(post, timeOptions) {\n        const date = Utils.getDateForUnixTicks(post.create_at);\n\n        return (\n            <time\n                className='post__time'\n                dateTime={date.toISOString()}\n                title={date}\n            >\n                {date.toLocaleString('en', timeOptions)}\n            </time>\n        );\n    }\n\n    renderTimeTag(post, timeOptions) {\n        if (post.type === Constants.PostTypes.FAKE_PARENT_DELETED) {\n            return null;\n        }\n\n        if (Utils.isMobile()) {\n            return this.timeTag(post, timeOptions);\n        }\n\n        return (\n            <Link\n                to={`/${this.state.currentTeamDisplayName}/pl/${post.id}`}\n                target='_blank'\n                className='post__permalink'\n            >\n                {this.timeTag(post, timeOptions)}\n            </Link>\n        );\n    }\n\n    toggleEmojiPicker = () => {\n        const showEmojiPicker = !this.state.showEmojiPicker;\n\n        this.setState({\n            showEmojiPicker,\n            dropdownOpened: showEmojiPicker\n        });\n    }\n\n    reactEmojiClick(emoji) {\n        this.setState({showEmojiPicker: false});\n        const emojiName = emoji.name || emoji.aliases[0];\n        addReaction(this.props.post.channel_id, this.props.post.id, emojiName);\n        emitEmojiPosted(emojiName);\n        this.handleDropdownOpened(false);\n    }\n\n    getClassName = (post, isSystemMessage) => {\n        let className = 'post post--root post--thread';\n        if (UserStore.getCurrentId() === post.user_id) {\n            className += ' current--user';\n        }\n\n        if (isSystemMessage) {\n            className += ' post--system';\n        }\n\n        if (this.props.compactDisplay) {\n            className += ' post--compact';\n        }\n\n        if (post.is_pinned) {\n            className += ' post--pinned';\n        }\n\n        if (this.state.dropdownOpened) {\n            className += ' post--hovered';\n        }\n\n        return className;\n    }\n\n    handleDropdownOpened(isOpened) {\n        this.setState({\n            dropdownOpened: isOpened\n        });\n    }\n\n    render() {\n        const post = this.props.post;\n        const user = this.props.user;\n        const mattermostLogo = Constants.MATTERMOST_ICON_SVG;\n        var channel = ChannelStore.get(post.channel_id);\n\n        const isEphemeral = Utils.isPostEphemeral(post);\n        const isSystemMessage = PostUtils.isSystemMessage(post);\n\n        var channelName;\n        if (channel) {\n            if (channel.type === 'D') {\n                channelName = (\n                    <FormattedMessage\n                        id='rhs_root.direct'\n                        defaultMessage='Direct Message'\n                    />\n                );\n            } else {\n                channelName = channel.display_name;\n            }\n        }\n\n        let react;\n\n        if (!isEphemeral && !post.failed && !isSystemMessage && window.mm_config.EnableEmojiPicker === 'true') {\n            react = (\n                <span>\n                    <EmojiPickerOverlay\n                        show={this.state.showEmojiPicker}\n                        onHide={this.toggleEmojiPicker}\n                        target={() => this.refs.dotMenu}\n                        onEmojiClick={this.reactEmojiClick}\n                        rightOffset={15}\n                        spaceRequiredAbove={342}\n                        spaceRequiredBelow={342}\n                    />\n                    <button\n                        className='reacticon__container reaction color--link style--none'\n                        onClick={this.toggleEmojiPicker}\n                        ref='rhs_root_reacticon'\n                    >\n                        <span\n                            className='icon icon--emoji'\n                            dangerouslySetInnerHTML={{__html: Constants.EMOJI_ICON_SVG}}\n                        />\n                    </button>\n                </span>\n\n            );\n        }\n\n        let fileAttachment = null;\n        if (post.file_ids && post.file_ids.length > 0) {\n            fileAttachment = (\n                <FileAttachmentListContainer\n                    post={post}\n                    compactDisplay={this.props.compactDisplay}\n                />\n            );\n        }\n\n        let userProfile;\n        let botIndicator;\n        if (isSystemMessage) {\n            userProfile = (\n                <UserProfile\n                    user={{}}\n                    overwriteName={\n                        <FormattedMessage\n                            id='post_info.system'\n                            defaultMessage='System'\n                        />\n                    }\n                    overwriteImage={Constants.SYSTEM_MESSAGE_PROFILE_IMAGE}\n                    disablePopover={true}\n                />\n            );\n        } else if (post.props && post.props.from_webhook) {\n            if (post.props.override_username && global.window.mm_config.EnablePostUsernameOverride === 'true') {\n                userProfile = (\n                    <UserProfile\n                        user={user}\n                        overwriteName={post.props.override_username}\n                        disablePopover={true}\n                    />\n                );\n            } else {\n                userProfile = (\n                    <UserProfile\n                        user={user}\n                        disablePopover={true}\n                    />\n                );\n            }\n\n            botIndicator = <div className='col col__name bot-indicator'>{'BOT'}</div>;\n        } else {\n            userProfile = (\n                <UserProfile\n                    user={user}\n                    status={this.props.status}\n                    isBusy={this.props.isBusy}\n                    isRHS={true}\n                    hasMention={true}\n                />\n            );\n        }\n\n        let status = this.props.status;\n        if (post.props && post.props.from_webhook === 'true') {\n            status = null;\n        }\n\n        let profilePic;\n        if (isSystemMessage) {\n            profilePic = (\n                <span\n                    className='icon'\n                    dangerouslySetInnerHTML={{__html: mattermostLogo}}\n                />\n            );\n        } else if (post.props && post.props.from_webhook) {\n            profilePic = (\n                <ProfilePicture\n                    src={PostUtils.getProfilePicSrcForPost(post, user)}\n                    width='36'\n                    height='36'\n                />\n            );\n        } else {\n            profilePic = (\n                <ProfilePicture\n                    src={PostUtils.getProfilePicSrcForPost(post, user)}\n                    status={status}\n                    width='36'\n                    height='36'\n                    user={this.props.user}\n                    isBusy={this.props.isBusy}\n                    isRHS={true}\n                    hasMention={true}\n                />\n            );\n        }\n\n        if (this.props.compactDisplay) {\n            if (post.props && post.props.from_webhook) {\n                profilePic = (\n                    <ProfilePicture\n                        src=''\n                    />\n                );\n            } else {\n                profilePic = (\n                    <ProfilePicture\n                        src=''\n                        status={status}\n                        user={this.props.user}\n                        isBusy={this.props.isBusy}\n                        isRHS={true}\n                        hasMention={true}\n                    />\n                );\n            }\n        }\n\n        let postClass = '';\n        if (PostUtils.isEdited(this.props.post)) {\n            postClass += ' post--edited';\n        }\n\n        const profilePicContainer = (<div className='post__img'>{profilePic}</div>);\n\n        let pinnedBadge;\n        if (post.is_pinned) {\n            pinnedBadge = (\n                <span className='post__pinned-badge'>\n                    <FormattedMessage\n                        id='post_info.pinned'\n                        defaultMessage='Pinned'\n                    />\n                </span>\n            );\n        }\n\n        const timeOptions = {\n            hour: '2-digit',\n            minute: '2-digit',\n            hour12: !this.props.useMilitaryTime\n        };\n\n        const dotMenu = (\n            <DotMenu\n                idPrefix={Constants.RHS_ROOT}\n                post={this.props.post}\n                isFlagged={this.props.isFlagged}\n                handleDropdownOpened={this.handleDropdownOpened}\n                commentCount={this.props.commentCount}\n            />\n        );\n\n        let dotMenuContainer;\n        if (this.props.post.type !== Constants.PostTypes.FAKE_PARENT_DELETED) {\n            dotMenuContainer = (\n                <div\n                    ref='dotMenu'\n                    className='col col__reply'\n                >\n                    {dotMenu}\n                    {react}\n                </div>\n            );\n        }\n\n        let postFlagIcon;\n        if (this.props.post.type !== Constants.PostTypes.FAKE_PARENT_DELETED) {\n            postFlagIcon = (\n                <PostFlagIcon\n                    idPrefix={'rhsRootPostFlag'}\n                    postId={post.id}\n                    isFlagged={this.props.isFlagged}\n                />\n            );\n        }\n\n        return (\n            <div\n                id='thread--root'\n                className={this.getClassName(post, isSystemMessage)}\n            >\n                <div className='post-right-channel__name'>{channelName}</div>\n                <div className='post__content'>\n                    {profilePicContainer}\n                    <div>\n                        <div className='post__header'>\n                            <div className='col__name'>{userProfile}</div>\n                            {botIndicator}\n                            <div className='col'>\n                                {this.renderTimeTag(post, timeOptions)}\n                                {pinnedBadge}\n                                {postFlagIcon}\n                            </div>\n                            {dotMenuContainer}\n                        </div>\n                        <div className='post__body'>\n                            <div className={postClass}>\n                                <PostBodyAdditionalContent\n                                    post={post}\n                                    previewCollapsed={this.props.previewCollapsed}\n                                    previewEnabled={this.props.previewEnabled}\n                                >\n                                    <PostMessageContainer\n                                        post={post}\n                                        isRHS={true}\n                                        hasMention={true}\n                                    />\n                                </PostBodyAdditionalContent>\n                            </div>\n                            {fileAttachment}\n                            <ReactionListContainer post={post}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_root_post.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport ChannelStore from 'stores/channel_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport SearchStore from 'stores/search_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport SearchResultsHeader from './search_results_header.jsx';\nimport SearchResultsItem from './search_results_item.jsx';\n\nconst Preferences = Constants.Preferences;\n\nfunction getStateFromStores() {\n    const results = JSON.parse(JSON.stringify(SearchStore.getSearchResults()));\n\n    const channels = new Map();\n\n    if (results && results.order) {\n        const channelIds = results.order.map((postId) => results.posts[postId].channel_id);\n        for (const id of channelIds) {\n            if (channels.has(id)) {\n                continue;\n            }\n\n            channels.set(id, ChannelStore.get(id));\n        }\n    }\n\n    return {\n        results,\n        channels,\n        searchTerm: SearchStore.getSearchTerm(),\n        flaggedPosts: PreferenceStore.getCategory(Constants.Preferences.CATEGORY_FLAGGED_POST),\n        loading: SearchStore.isLoading()\n    };\n}\n\nexport default class SearchResults extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.mounted = false;\n\n        this.onChange = this.onChange.bind(this);\n        this.onUserChange = this.onUserChange.bind(this);\n        this.onPreferenceChange = this.onPreferenceChange.bind(this);\n        this.onBusy = this.onBusy.bind(this);\n        this.resize = this.resize.bind(this);\n        this.onPreferenceChange = this.onPreferenceChange.bind(this);\n        this.onStatusChange = this.onStatusChange.bind(this);\n        this.handleResize = this.handleResize.bind(this);\n\n        const state = getStateFromStores();\n        state.windowWidth = Utils.windowWidth();\n        state.windowHeight = Utils.windowHeight();\n        state.profiles = JSON.parse(JSON.stringify(UserStore.getProfiles()));\n        state.compactDisplay = PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT;\n        state.isBusy = WebrtcStore.isBusy();\n        state.statuses = Object.assign({}, UserStore.getStatuses());\n        this.state = state;\n    }\n\n    componentDidMount() {\n        this.mounted = true;\n\n        SearchStore.addSearchTermChangeListener(this.onSearchTermChange);\n        SearchStore.addSearchChangeListener(this.onChange);\n        ChannelStore.addChangeListener(this.onChange);\n        PreferenceStore.addChangeListener(this.onPreferenceChange);\n        UserStore.addChangeListener(this.onUserChange);\n        UserStore.addStatusesChangeListener(this.onStatusChange);\n        PreferenceStore.addChangeListener(this.onPreferenceChange);\n        WebrtcStore.addBusyListener(this.onBusy);\n\n        this.resize();\n        window.addEventListener('resize', this.handleResize);\n        if (!Utils.isMobile()) {\n            $('.sidebar--right .search-items-container').perfectScrollbar();\n        }\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (!Utils.areObjectsEqual(nextState.statuses, this.state.statuses)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(this.props, nextProps)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(this.state, nextState)) {\n            return true;\n        }\n\n        if (nextState.compactDisplay !== this.state.compactDisplay) {\n            return true;\n        }\n\n        if (nextState.isBusy !== this.state.isBusy) {\n            return true;\n        }\n\n        return false;\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n\n        SearchStore.removeSearchTermChangeListener(this.onSearchTermChange);\n        SearchStore.removeSearchChangeListener(this.onChange);\n        ChannelStore.removeChangeListener(this.onChange);\n        PreferenceStore.removeChangeListener(this.onPreferenceChange);\n        UserStore.removeChangeListener(this.onUserChange);\n        UserStore.removeStatusesChangeListener(this.onStatusChange);\n        PreferenceStore.removeChangeListener(this.onPreferenceChange);\n        WebrtcStore.removeBusyListener(this.onBusy);\n\n        window.removeEventListener('resize', this.handleResize);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.searchTerm !== prevState.searchTerm) {\n            this.resize();\n        }\n    }\n\n    handleResize() {\n        this.setState({\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight()\n        });\n    }\n\n    onPreferenceChange() {\n        this.setState({\n            compactDisplay: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT,\n            flaggedPosts: PreferenceStore.getCategory(Constants.Preferences.CATEGORY_FLAGGED_POST)\n        });\n    }\n\n    onSearchTermChange(doSearch) {\n        if (this.mounted && doSearch) {\n            this.setState({\n                loading: true\n            });\n        }\n    }\n\n    onChange() {\n        if (this.mounted) {\n            this.setState(getStateFromStores());\n        }\n    }\n\n    onUserChange() {\n        this.setState({profiles: JSON.parse(JSON.stringify(UserStore.getProfiles()))});\n    }\n\n    onBusy(isBusy) {\n        this.setState({isBusy});\n    }\n\n    onStatusChange() {\n        this.setState({statuses: Object.assign({}, UserStore.getStatuses())});\n    }\n\n    resize() {\n        $('#search-items-container').scrollTop(0);\n    }\n\n    render() {\n        const results = this.state.results;\n        const noResults = (!results || !results.order || !results.order.length);\n        const searchTerm = this.state.searchTerm;\n        const profiles = this.state.profiles || {};\n        const flagIcon = Constants.FLAG_ICON_SVG;\n\n        let ctls = null;\n\n        if (this.state.loading) {\n            ctls =\n            (\n                <div className='sidebar--right__subheader'>\n                    <div className='sidebar--right__loading'>\n                        <i className='fa fa-spinner fa-spin'/>\n                        <FormattedMessage\n                            id='search_header.loading'\n                            defaultMessage='Searching...'\n                        />\n                    </div>\n                </div>\n            );\n        } else if (this.props.isFlaggedPosts && noResults) {\n            const tips = [\n                <li key='pin1'>\n                    <FormattedMessage\n                        id='search_results.usageFlag1'\n                        defaultMessage=\"You haven't flagged any messages yet.\"\n                    />\n                </li>,\n                <li key='pin2'>\n                    <FormattedMessage\n                        id='search_results.usageFlag2'\n                        defaultMessage='You can add a flag to messages and comments by clicking the '\n                    />\n                    <span\n                        className='usage__icon'\n                        dangerouslySetInnerHTML={{__html: flagIcon}}\n                    />\n                    <FormattedMessage\n                        id='search_results.usageFlag3'\n                        defaultMessage=' icon next to the timestamp.'\n                    />\n                </li>,\n                <li key='pin3'>\n                    <FormattedMessage\n                        id='search_results.usageFlag4'\n                        defaultMessage='Flags are a way to mark messages for follow up. Your flags are personal, and cannot be seen by other users.'\n                    />\n                </li>\n            ];\n\n            if (global.window.mm_config.DataRetentionEnableMessageDeletion === 'true') {\n                tips.push(\n                    <li>\n                        <FormattedMessage\n                            id='search_results.usage.dataRetention'\n                            defaultMessage='Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.'\n                            values={{\n                                days: global.window.mm_config.DataRetentionMessageRetentionDays\n                            }}\n                        />\n                    </li>\n                );\n            }\n\n            ctls = (\n                <div className='sidebar--right__subheader'>\n                    <ul>\n                        {tips}\n                    </ul>\n                </div>\n            );\n        } else if (this.props.isPinnedPosts && noResults) {\n            const tips = [\n                <li key='pin1'>\n                    <FormattedMessage\n                        id='search_results.usagePin1'\n                        defaultMessage='There are no pinned messages yet.'\n                    />\n                </li>,\n                <li key='pin2'>\n                    <FormattedMessage\n                        id='search_results.usagePin2'\n                        defaultMessage='All members of this channel can pin important or useful messages.'\n                    />\n                </li>,\n                <li key='pin3'>\n                    <FormattedMessage\n                        id='search_results.usagePin3'\n                        defaultMessage='Pinned messages are visible to all channel members.'\n                    />\n                </li>,\n                <li key='pin4'>\n                    <FormattedMessage\n                        id='search_results.usagePin4'\n                        defaultMessage={'To pin a message: Go to the message that you want to pin and click [...] > \"Pin to channel\".'}\n                    />\n                </li>\n            ];\n\n            if (global.window.mm_config.DataRetentionEnableMessageDeletion === 'true') {\n                tips.push(\n                    <li>\n                        <FormattedMessage\n                            id='search_results.usage.dataRetention'\n                            defaultMessage='Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.'\n                            values={{\n                                days: global.window.mm_config.DataRetentionMessageRetentionDays\n                            }}\n                        />\n                    </li>\n                );\n            }\n\n            ctls = (\n                <div className='sidebar--right__subheader'>\n                    <ul>\n                        {tips}\n                    </ul>\n                </div>\n            );\n        } else if (!searchTerm && noResults) {\n            const tips = [\n                <li key='quotes'>\n                    <FormattedMessage\n                        id='search_results.usage.phrasesSuggestion'\n                        defaultMessage='Use {quotationMarks} to search for phrases'\n                        values={{\n                            quotationMarks: (\n                                <b>\n                                    <FormattedMessage\n                                        id='search_results.usage.phrasesSuggestion.quotationMarks'\n                                        defaultMessage='\"quotation marks\"'\n                                    />\n                                </b>\n                            )\n                        }}\n                    />\n                </li>,\n                <li key='fromIn'>\n                    <FormattedMessage\n                        id='search_results.usage.fromInSuggestion'\n                        defaultMessage='Use {fromUser} to find posts from specific users and {inChannel} to find posts in specific channels'\n                        values={{\n                            fromUser: (\n                                <b>\n                                    <FormattedMessage\n                                        id='search_results.usage.fromInSuggestion.fromUser'\n                                        defaultMessage='from:'\n                                    />\n                                </b>\n                            ),\n                            inChannel: (\n                                <b>\n                                    <FormattedMessage\n                                        id='search_results.usage.fromInSuggestion.inChannel'\n                                        defaultMessage='in:'\n                                    />\n                                </b>\n                            )\n                        }}\n                    />\n                </li>\n            ];\n\n            ctls = (\n                <div className='sidebar--right__subheader'>\n                    <ul>\n                        {tips}\n                    </ul>\n                </div>\n            );\n        } else if (noResults) {\n            const tips = [\n                <li key='partialPhrase'>\n                    <FormattedMessage\n                        id='search_results.noResults.partialPhraseSuggestion'\n                        defaultMessage='If you&#39;re searching a partial phrase (ex. searching \"rea\", looking for \"reach\" or \"reaction\"), append a * to your search term.'\n                    />\n                </li>,\n                <li key='stopWords'>\n                    <FormattedMessage\n                        id='search_results.noResults.stopWordsSuggestion'\n                        defaultMessage='Two letter searches and common words like \"this\", \"a\" and \"is\" won&#39;t appear in search results due to the excessive results returned.'\n                    />\n                </li>\n            ];\n\n            if (global.window.mm_config.DataRetentionEnableMessageDeletion === 'true') {\n                tips.push(\n                    <li>\n                        <FormattedMessage\n                            id='search_results.usage.dataRetention'\n                            defaultMessage='Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.'\n                            values={{\n                                days: global.window.mm_config.DataRetentionMessageRetentionDays\n                            }}\n                        />\n                    </li>\n                );\n            }\n\n            ctls =\n            (\n                <div className='sidebar--right__subheader'>\n                    <h4>\n                        <FormattedMessage\n                            id='search_results.noResults'\n                            defaultMessage='No results found. Try again?'\n                        />\n                    </h4>\n                    <ul>\n                        {tips}\n                    </ul>\n                </div>\n            );\n        } else {\n            ctls = results.order.map(function searchResults(id, idx, arr) {\n                const post = results.posts[id];\n                let profile;\n                if (UserStore.getCurrentId() === post.user_id) {\n                    profile = UserStore.getCurrentUser();\n                } else {\n                    profile = profiles[post.user_id];\n                }\n\n                let status = 'offline';\n                if (this.state.statuses) {\n                    status = this.state.statuses[post.user_id] || 'offline';\n                }\n\n                let isFlagged = false;\n                if (this.state.flaggedPosts) {\n                    isFlagged = this.state.flaggedPosts.get(post.id) != null;\n                }\n\n                const reverseCount = arr.length - idx - 1;\n\n                return (\n                    <SearchResultsItem\n                        key={post.id}\n                        channel={this.state.channels.get(post.channel_id)}\n                        compactDisplay={this.state.compactDisplay}\n                        post={post}\n                        lastPostCount={(reverseCount >= 0 && reverseCount < Constants.TEST_ID_COUNT) ? reverseCount : -1}\n                        user={profile}\n                        term={searchTerm}\n                        isMentionSearch={this.props.isMentionSearch}\n                        isFlaggedSearch={this.props.isFlaggedPosts}\n                        useMilitaryTime={this.props.useMilitaryTime}\n                        shrink={this.props.shrink}\n                        isFlagged={isFlagged}\n                        isBusy={this.state.isBusy}\n                        status={status}\n                    />\n                );\n            }, this);\n        }\n\n        return (\n            <div className='sidebar-right__body'>\n                <SearchResultsHeader\n                    isMentionSearch={this.props.isMentionSearch}\n                    toggleSize={this.props.toggleSize}\n                    shrink={this.props.shrink}\n                    isFlaggedPosts={this.props.isFlaggedPosts}\n                    isPinnedPosts={this.props.isPinnedPosts}\n                    channelDisplayName={this.props.channelDisplayName}\n                    isLoading={this.state.loading}\n                />\n                <div\n                    id='search-items-container'\n                    className='search-items-container'\n                >\n                    {ctls}\n                </div>\n            </div>\n        );\n    }\n}\n\nSearchResults.propTypes = {\n    isMentionSearch: PropTypes.bool,\n    useMilitaryTime: PropTypes.bool.isRequired,\n    toggleSize: PropTypes.func,\n    shrink: PropTypes.func,\n    isFlaggedPosts: PropTypes.bool,\n    isPinnedPosts: PropTypes.bool,\n    channelDisplayName: PropTypes.string.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/search_results.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\n\nimport Constants from 'utils/constants.jsx';\n\nexport default class SearchResultsHeader extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleClose = this.handleClose.bind(this);\n        this.toggleSize = this.toggleSize.bind(this);\n    }\n\n    handleClose(e) {\n        e.preventDefault();\n\n        GlobalActions.toggleSideBarAction(false);\n\n        this.props.shrink();\n    }\n\n    toggleSize(e) {\n        e.preventDefault();\n        this.props.toggleSize();\n    }\n\n    render() {\n        var title = (\n            <FormattedMessage\n                id='search_header.results'\n                defaultMessage='Search Results'\n            />\n        );\n\n        const closeSidebarTooltip = (\n            <Tooltip id='closeSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.closeSidebarTooltip'\n                    defaultMessage='Close Sidebar'\n                />\n            </Tooltip>\n        );\n\n        const expandSidebarTooltip = (\n            <Tooltip id='expandSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.expandSidebarTooltip'\n                    defaultMessage='Expand Sidebar'\n                />\n            </Tooltip>\n        );\n\n        const shrinkSidebarTooltip = (\n            <Tooltip id='shrinkSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.shrinkSidebarTooltip'\n                    defaultMessage='Shrink Sidebar'\n                />\n            </Tooltip>\n        );\n\n        if (this.props.isMentionSearch) {\n            title = (\n                <FormattedMessage\n                    id='search_header.title2'\n                    defaultMessage='Recent Mentions'\n                />\n            );\n        } else if (this.props.isFlaggedPosts) {\n            title = (\n                <FormattedMessage\n                    id='search_header.title3'\n                    defaultMessage='Flagged Posts'\n                />\n            );\n        } else if (this.props.isPinnedPosts) {\n            title = (\n                <FormattedMessage\n                    id='search_header.title4'\n                    defaultMessage='Pinned posts in {channelDisplayName}'\n                    values={{\n                        channelDisplayName: this.props.channelDisplayName\n                    }}\n                />\n            );\n        }\n\n        return (\n            <div className='sidebar--right__header'>\n                <span className='sidebar--right__title'>{title}</span>\n                <div className='pull-right'>\n                    <button\n                        type='button'\n                        className='sidebar--right__expand'\n                        aria-label='Expand'\n                        onClick={this.toggleSize}\n                    >\n                        <OverlayTrigger\n                            trigger={['hover', 'focus']}\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={expandSidebarTooltip}\n                        >\n                            <i className='fa fa-expand'/>\n                        </OverlayTrigger>\n                        <OverlayTrigger\n                            trigger={['hover', 'focus']}\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={shrinkSidebarTooltip}\n                        >\n                            <i className='fa fa-compress'/>\n                        </OverlayTrigger>\n                    </button>\n                    <button\n                        type='button'\n                        className='sidebar--right__close'\n                        aria-label='Close'\n                        title='Close'\n                        onClick={this.handleClose}\n                    >\n                        <OverlayTrigger\n                            trigger={['hover', 'focus']}\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={closeSidebarTooltip}\n                        >\n                            <i className='fa fa-sign-out'/>\n                        </OverlayTrigger>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nSearchResultsHeader.propTypes = {\n    isMentionSearch: PropTypes.bool,\n    toggleSize: PropTypes.func,\n    shrink: PropTypes.func,\n    isFlaggedPosts: PropTypes.bool,\n    isPinnedPosts: PropTypes.bool,\n    channelDisplayName: PropTypes.string.isRequired,\n    isLoading: PropTypes.bool.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/search_results_header.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedDate, FormattedMessage} from 'react-intl';\nimport {browserHistory, Link} from 'react-router/es6';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\n\nimport PostMessageContainer from 'components/post_view/post_message_view';\nimport FileAttachmentListContainer from 'components/file_attachment_list';\n\nimport CommentIcon from 'components/common/comment_icon.jsx';\nimport DotMenu from 'components/dot_menu';\nimport PostFlagIcon from 'components/post_view/post_flag_icon.jsx';\nimport TeamStore from 'stores/team_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as PostUtils from 'utils/post_utils.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport ProfilePicture from './profile_picture.jsx';\nimport UserProfile from './user_profile.jsx';\n\nexport default class SearchResultsItem extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleFocusRHSClick = this.handleFocusRHSClick.bind(this);\n        this.handleJumpClick = this.handleJumpClick.bind(this);\n        this.handleDropdownOpened = this.handleDropdownOpened.bind(this);\n        this.shrinkSidebar = this.shrinkSidebar.bind(this);\n\n        this.state = {\n            currentTeamDisplayName: TeamStore.getCurrent().name,\n            width: '',\n            height: '',\n            dropdownOpened: false\n        };\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (!Utils.areObjectsEqual(nextState.post, this.props.post)) {\n            return true;\n        }\n\n        if (nextProps.isFlagged !== this.props.isFlagged) {\n            return true;\n        }\n\n        if (nextState.dropdownOpened !== this.state.dropdownOpened) {\n            return true;\n        }\n\n        return false;\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', () => {\n            Utils.updateWindowDimensions(this);\n        });\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', () => {\n            Utils.updateWindowDimensions(this);\n        });\n    }\n\n    shrinkSidebar() {\n        setTimeout(() => {\n            this.props.shrink();\n        });\n    }\n\n    handleFocusRHSClick(e) {\n        e.preventDefault();\n        GlobalActions.emitPostFocusRightHandSideFromSearch(this.props.post, this.props.isMentionSearch);\n    }\n\n    handleJumpClick() {\n        if (Utils.isMobile()) {\n            GlobalActions.toggleSideBarAction(false);\n        }\n\n        this.shrinkSidebar();\n        browserHistory.push(TeamStore.getCurrentTeamRelativeUrl() + '/pl/' + this.props.post.id);\n    }\n\n    handleDropdownOpened = (isOpened) => {\n        this.setState({\n            dropdownOpened: isOpened\n        });\n    }\n\n    timeTag(post) {\n        const date = Utils.getDateForUnixTicks(post.create_at);\n\n        return (\n            <time\n                className='search-item-time'\n                dateTime={date.toISOString()}\n                title={date}\n            >\n                <FormattedDate\n                    value={post.create_at}\n                    hour12={!this.props.useMilitaryTime}\n                    hour='2-digit'\n                    minute='2-digit'\n                />\n            </time>\n        );\n    }\n\n    renderTimeTag(post) {\n        return Utils.isMobile() ?\n            this.timeTag(post) :\n            (\n                <Link\n                    to={`/${this.state.currentTeamDisplayName}/pl/${post.id}`}\n                    target='_blank'\n                    className='post__permalink'\n                >\n                    {this.timeTag(post)}\n                </Link>\n            );\n    }\n\n    getClassName = () => {\n        let className = 'post post--thread';\n\n        if (this.props.compactDisplay) {\n            className += ' post--compact';\n        }\n\n        if (this.state.dropdownOpened) {\n            className += ' post--hovered';\n        }\n\n        return className;\n    }\n\n    render() {\n        let channelName = null;\n        const channel = this.props.channel;\n        const user = this.props.user || {};\n        const post = this.props.post;\n\n        let idCount = -1;\n        if (this.props.lastPostCount >= 0 && this.props.lastPostCount < Constants.TEST_ID_COUNT) {\n            idCount = this.props.lastPostCount;\n        }\n\n        if (channel) {\n            channelName = channel.display_name;\n            if (channel.type === 'D') {\n                channelName = (\n                    <FormattedMessage\n                        id='search_item.direct'\n                        defaultMessage='Direct Message (with {username})'\n                        values={{\n                            username: Utils.displayUsernameForUser(Utils.getDirectTeammate(channel.id))\n                        }}\n                    />\n                );\n            }\n        }\n\n        let overrideUsername;\n        let disableProfilePopover = false;\n        if (post.props &&\n                post.props.from_webhook &&\n                post.props.override_username &&\n                global.window.mm_config.EnablePostUsernameOverride === 'true') {\n            overrideUsername = post.props.override_username;\n            disableProfilePopover = true;\n        }\n\n        let botIndicator;\n        if (post.props && post.props.from_webhook) {\n            botIndicator = <div className='bot-indicator'>{Constants.BOT_NAME}</div>;\n        }\n\n        const profilePic = (\n            <ProfilePicture\n                src={PostUtils.getProfilePicSrcForPost(post, user)}\n                user={this.props.user}\n                status={this.props.status}\n                isBusy={this.props.isBusy}\n            />\n\n        );\n\n        const profilePicContainer = (<div className='post__img'>{profilePic}</div>);\n\n        let postClass = '';\n        if (PostUtils.isEdited(this.props.post)) {\n            postClass += ' post--edited';\n        }\n\n        let fileAttachment = null;\n        if (post.file_ids && post.file_ids.length > 0) {\n            fileAttachment = (\n                <FileAttachmentListContainer\n                    post={post}\n                    compactDisplay={this.props.compactDisplay}\n                />\n            );\n        }\n\n        let message;\n        let flagContent;\n        let rhsControls;\n        if (post.state === Constants.POST_DELETED) {\n            message = (\n                <p>\n                    <FormattedMessage\n                        id='post_body.deleted'\n                        defaultMessage='(message deleted)'\n                    />\n                </p>\n            );\n        } else {\n            flagContent = (\n                <PostFlagIcon\n                    idPrefix={'searchPostFlag'}\n                    idCount={idCount}\n                    postId={post.id}\n                    isFlagged={this.props.isFlagged}\n                />\n            );\n\n            rhsControls = (\n                <div className='col__controls'>\n                    <DotMenu\n                        idPrefix={Constants.SEARCH_POST}\n                        idCount={idCount}\n                        post={post}\n                        isFlagged={this.props.isFlagged}\n                        handleDropdownOpened={this.handleDropdownOpened}\n                    />\n                    <CommentIcon\n                        idPrefix={'searchCommentIcon'}\n                        idCount={idCount}\n                        handleCommentClick={this.handleFocusRHSClick}\n                        searchStyle={'search-item__comment'}\n                    />\n                    <a\n                        onClick={this.handleJumpClick}\n                        className='search-item__jump'\n                    >\n                        <FormattedMessage\n                            id='search_item.jump'\n                            defaultMessage='Jump'\n                        />\n                    </a>\n                </div>\n            );\n\n            message = (\n                <PostMessageContainer\n                    post={post}\n                    options={{\n                        searchTerm: this.props.term,\n                        mentionHighlight: this.props.isMentionSearch\n                    }}\n                />\n            );\n        }\n\n        let pinnedBadge;\n        if (post.is_pinned) {\n            pinnedBadge = (\n                <span className='post__pinned-badge'>\n                    <FormattedMessage\n                        id='post_info.pinned'\n                        defaultMessage='Pinned'\n                    />\n                </span>\n            );\n        }\n\n        return (\n            <div className='search-item__container'>\n                <div className='date-separator'>\n                    <hr className='separator__hr'/>\n                    <div className='separator__text'>\n                        <FormattedDate\n                            value={post.create_at}\n                            day='numeric'\n                            month='long'\n                            year='numeric'\n                        />\n                    </div>\n                </div>\n                <div className={this.getClassName()}>\n                    <div className='search-channel__name'>{channelName}</div>\n                    <div className='post__content'>\n                        {profilePicContainer}\n                        <div>\n                            <div className='post__header'>\n                                <div className='col col__name'>\n                                    <strong>\n                                        <UserProfile\n                                            user={user}\n                                            overwriteName={overrideUsername}\n                                            disablePopover={disableProfilePopover}\n                                            status={this.props.status}\n                                            isBusy={this.props.isBusy}\n                                        />\n                                    </strong>\n                                </div>\n                                {botIndicator}\n                                <div className='col'>\n                                    {this.renderTimeTag(post)}\n                                    {pinnedBadge}\n                                    {flagContent}\n                                </div>\n                                {rhsControls}\n                            </div>\n                            <div className='search-item-snippet post__body'>\n                                <div className={postClass}>\n                                    {message}\n                                    {fileAttachment}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nSearchResultsItem.propTypes = {\n    post: PropTypes.object,\n    lastPostCount: PropTypes.number,\n    user: PropTypes.object,\n    channel: PropTypes.object,\n    compactDisplay: PropTypes.bool,\n    isMentionSearch: PropTypes.bool,\n    isFlaggedSearch: PropTypes.bool,\n    term: PropTypes.string,\n    useMilitaryTime: PropTypes.bool.isRequired,\n    shrink: PropTypes.func,\n    isFlagged: PropTypes.bool,\n    isBusy: PropTypes.bool,\n    status: PropTypes.string\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/search_results_item.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router/es6';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {getFlaggedPosts} from 'actions/post_actions.jsx';\n\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport SearchStore from 'stores/search_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport {Constants, WebrtcActionTypes} from 'utils/constants.jsx';\nimport {useSafeUrl} from 'utils/url.jsx';\nimport * as UserAgent from 'utils/user_agent.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport AboutBuildModal from 'components/about_build_modal';\nimport AddUsersToTeam from 'components/add_users_to_team';\nimport {createMenuTip} from 'components/tutorial/tutorial_tip.jsx';\n\nimport TeamMembersModal from './team_members_modal.jsx';\nimport ToggleModalButton from './toggle_modal_button.jsx';\n\nconst Preferences = Constants.Preferences;\nconst TutorialSteps = Constants.TutorialSteps;\n\nexport default class SidebarRightMenu extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onChange = this.onChange.bind(this);\n        this.handleClick = this.handleClick.bind(this);\n        this.handleAboutModal = this.handleAboutModal.bind(this);\n        this.showAddUsersToTeamModal = this.showAddUsersToTeamModal.bind(this);\n        this.hideAddUsersToTeamModal = this.hideAddUsersToTeamModal.bind(this);\n        this.searchMentions = this.searchMentions.bind(this);\n        this.aboutModalDismissed = this.aboutModalDismissed.bind(this);\n        this.getFlagged = this.getFlagged.bind(this);\n\n        const state = this.getStateFromStores();\n        state.showAboutModal = false;\n        state.showAddUsersToTeamModal = false;\n\n        this.state = state;\n    }\n\n    handleClick(e) {\n        if (WebrtcStore.isBusy()) {\n            WebrtcStore.emitChanged({action: WebrtcActionTypes.IN_PROGRESS});\n            e.preventDefault();\n        }\n    }\n\n    handleAboutModal() {\n        this.setState({showAboutModal: true});\n    }\n\n    aboutModalDismissed() {\n        this.setState({showAboutModal: false});\n    }\n\n    showAddUsersToTeamModal(e) {\n        e.preventDefault();\n\n        this.setState({\n            showAddUsersToTeamModal: true,\n            showDropdown: false\n        });\n    }\n\n    hideAddUsersToTeamModal() {\n        this.setState({\n            showAddUsersToTeamModal: false\n        });\n    }\n\n    getFlagged(e) {\n        e.preventDefault();\n        getFlaggedPosts();\n        this.closeRightSidebar();\n    }\n\n    componentDidMount() {\n        TeamStore.addChangeListener(this.onChange);\n        PreferenceStore.addChangeListener(this.onChange);\n    }\n\n    componentWillUnmount() {\n        TeamStore.removeChangeListener(this.onChange);\n        PreferenceStore.removeChangeListener(this.onChange);\n    }\n\n    getStateFromStores() {\n        const tutorialStep = PreferenceStore.getInt(Preferences.TUTORIAL_STEP, UserStore.getCurrentId(), 999);\n\n        return {\n            currentUser: UserStore.getCurrentUser(),\n            teamMembers: TeamStore.getMyTeamMembers(),\n            teamListings: TeamStore.getTeamListings(),\n            showTutorialTip: tutorialStep === TutorialSteps.MENU_POPOVER && Utils.isMobile()\n        };\n    }\n\n    onChange() {\n        this.setState(this.getStateFromStores());\n    }\n\n    searchMentions(e) {\n        e.preventDefault();\n        const user = this.state.currentUser;\n\n        if (SearchStore.isMentionSearch) {\n            GlobalActions.toggleSideBarAction(false);\n        } else {\n            this.closeRightSidebar();\n            GlobalActions.emitSearchMentionsEvent(user);\n        }\n    }\n\n    closeLeftSidebar() {\n        if (Utils.isMobile()) {\n            setTimeout(() => {\n                document.querySelector('.app__body .inner-wrap').classList.remove('move--right');\n                document.querySelector('.app__body .sidebar--left').classList.remove('move--right');\n            });\n        }\n    }\n\n    openRightSidebar() {\n        if (Utils.isMobile()) {\n            setTimeout(() => {\n                document.querySelector('.app__body .inner-wrap').classList.add('move--left-small');\n                document.querySelector('.app__body .sidebar--menu').classList.add('move--left');\n            });\n        }\n    }\n\n    closeRightSidebar() {\n        if (Utils.isMobile()) {\n            setTimeout(() => {\n                document.querySelector('.app__body .inner-wrap').classList.remove('move--left-small');\n                document.querySelector('.app__body .sidebar--menu').classList.remove('move--left');\n            });\n        }\n    }\n\n    render() {\n        const currentUser = UserStore.getCurrentUser();\n        let teamLink;\n        let inviteLink;\n        let addUserToTeamLink;\n        let teamSettingsLink;\n        let manageLink;\n        let consoleLink;\n        let joinAnotherTeamLink;\n        let isAdmin = false;\n        let isSystemAdmin = false;\n        let createTeam = null;\n\n        if (currentUser != null) {\n            isAdmin = TeamStore.isTeamAdminForCurrentTeam() || UserStore.isSystemAdminForCurrentUser();\n            isSystemAdmin = UserStore.isSystemAdminForCurrentUser();\n\n            inviteLink = (\n                <li>\n                    <a\n                        href='#'\n                        onClick={GlobalActions.showInviteMemberModal}\n                    >\n                        <i className='icon fa fa-user-plus'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.inviteNew'\n                            defaultMessage='Send Email Invite'\n                        />\n                    </a>\n                </li>\n            );\n\n            addUserToTeamLink = (\n                <li>\n                    <a\n                        id='addUsersToTeam'\n                        href='#'\n                        onClick={this.showAddUsersToTeamModal}\n                    >\n                        <i className='icon fa fa-user-plus'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.addMemberToTeam'\n                            defaultMessage='Add Members to Team'\n                        />\n                    </a>\n                </li>\n            );\n\n            if (this.props.teamType === Constants.OPEN_TEAM && global.mm_config.EnableUserCreation === 'true') {\n                teamLink = (\n                    <li>\n                        <a\n                            href='#'\n                            onClick={GlobalActions.showGetTeamInviteLinkModal}\n                        >\n                            <i className='icon fa fa-link'/>\n                            <FormattedMessage\n                                id='sidebar_right_menu.teamLink'\n                                defaultMessage='Get Team Invite Link'\n                            />\n                        </a>\n                    </li>\n                );\n            }\n\n            if (global.window.mm_license.IsLicensed === 'true') {\n                if (global.window.mm_config.RestrictTeamInvite === Constants.PERMISSIONS_SYSTEM_ADMIN && !isSystemAdmin) {\n                    teamLink = null;\n                    inviteLink = null;\n                    addUserToTeamLink = null;\n                } else if (global.window.mm_config.RestrictTeamInvite === Constants.PERMISSIONS_TEAM_ADMIN && !isAdmin) {\n                    teamLink = null;\n                    inviteLink = null;\n                    addUserToTeamLink = null;\n                }\n            }\n\n            let moreTeams = false;\n            const isAlreadyMember = this.state.teamMembers.reduce((result, item) => {\n                result[item.team_id] = true;\n                return result;\n            }, {});\n\n            for (const id in this.state.teamListings) {\n                if (this.state.teamListings.hasOwnProperty(id) && !isAlreadyMember[id]) {\n                    moreTeams = true;\n                    break;\n                }\n            }\n\n            if (moreTeams) {\n                joinAnotherTeamLink = (\n                    <li key='joinTeam_li'>\n                        <Link to='/select_team'>\n                            <i className='icon fa fa-plus-square'/>\n                            <FormattedMessage\n                                id='navbar_dropdown.join'\n                                defaultMessage='Join Another Team'\n                            />\n                        </Link>\n                    </li>\n                );\n            }\n\n            if (global.window.mm_config.EnableTeamCreation === 'true' || isSystemAdmin) {\n                createTeam = (\n                    <li key='newTeam_li'>\n                        <Link\n                            id='createTeam'\n                            key='newTeam_a'\n                            to='/create_team'\n                            onClick={this.handleClick}\n                        >\n                            <i className='icon fa fa-plus-square'/>\n                            <FormattedMessage\n                                id='navbar_dropdown.create'\n                                defaultMessage='Create a New Team'\n                            />\n                        </Link>\n                    </li>\n                );\n            }\n        }\n\n        manageLink = (\n            <li>\n                <ToggleModalButton dialogType={TeamMembersModal}>\n                    <i className='icon fa fa-users'/>\n                    <FormattedMessage\n                        id='sidebar_right_menu.viewMembers'\n                        defaultMessage='View Members'\n                    />\n                </ToggleModalButton>\n            </li>\n        );\n\n        const leaveTeam = (\n            <li key='leaveTeam_li'>\n                <a\n                    id='leaveTeam'\n                    href='#'\n                    onClick={GlobalActions.showLeaveTeamModal}\n                >\n                    <span\n                        className='icon'\n                        dangerouslySetInnerHTML={{__html: Constants.LEAVE_TEAM_SVG}}\n                    />\n                    <FormattedMessage\n                        id='navbar_dropdown.leave'\n                        defaultMessage='Leave Team'\n                    />\n                </a>\n            </li>\n        );\n\n        if (isAdmin) {\n            teamSettingsLink = (\n                <li>\n                    <a\n                        href='#'\n                        data-toggle='modal'\n                        data-target='#team_settings'\n                    >\n                        <i className='icon fa fa-globe'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.teamSettings'\n                            defaultMessage='Team Settings'\n                        />\n                    </a>\n                </li>\n            );\n            manageLink = (\n                <li>\n                    <ToggleModalButton\n                        dialogType={TeamMembersModal}\n                        dialogProps={{isAdmin}}\n                    >\n                        <i className='icon fa fa-users'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.manageMembers'\n                            defaultMessage='Manage Members'\n                        />\n                    </ToggleModalButton>\n                </li>\n            );\n        }\n\n        if (isSystemAdmin && !Utils.isMobile()) {\n            consoleLink = (\n                <li>\n                    <Link\n                        to={'/admin_console'}\n                        onClick={this.handleClick}\n                    >\n                        <i className='icon fa fa-wrench'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.console'\n                            defaultMessage='System Console'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        var siteName = '';\n        if (global.window.mm_config.SiteName != null) {\n            siteName = global.window.mm_config.SiteName;\n        }\n        var teamDisplayName = siteName;\n        if (this.props.teamDisplayName) {\n            teamDisplayName = this.props.teamDisplayName;\n        }\n\n        let helpLink = null;\n        if (global.window.mm_config.HelpLink) {\n            helpLink = (\n                <li>\n                    <Link\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        to={global.window.mm_config.HelpLink}\n                    >\n                        <i className='icon fa fa-question'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.help'\n                            defaultMessage='Help'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        let reportLink = null;\n        if (global.window.mm_config.ReportAProblemLink) {\n            reportLink = (\n                <li>\n                    <Link\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        to={global.window.mm_config.ReportAProblemLink}\n                    >\n                        <i className='icon fa fa-phone'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.report'\n                            defaultMessage='Report a Problem'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        let tutorialTip = null;\n        if (this.state.showTutorialTip) {\n            tutorialTip = createMenuTip((e) => e.preventDefault(), true);\n            this.closeLeftSidebar();\n            this.openRightSidebar();\n        }\n\n        let nativeAppLink = null;\n        if (global.window.mm_config.AppDownloadLink && !UserAgent.isMobileApp()) {\n            nativeAppLink = (\n                <li>\n                    <Link\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        to={useSafeUrl(global.window.mm_config.AppDownloadLink)}\n                    >\n                        <i className='icon fa fa-mobile'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.nativeApps'\n                            defaultMessage='Download Apps'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        let addUsersToTeamModal;\n        if (this.state.showAddUsersToTeamModal) {\n            addUsersToTeamModal = (\n                <AddUsersToTeam\n                    onModalDismissed={this.hideAddUsersToTeamModal}\n                />\n            );\n        }\n\n        let teamDivider = null;\n        if (teamSettingsLink || manageLink || joinAnotherTeamLink || createTeam || leaveTeam) {\n            teamDivider = <li className='divider'/>;\n        }\n\n        let consoleDivider = null;\n        if (consoleLink) {\n            consoleDivider = <li className='divider'/>;\n        }\n\n        return (\n            <div\n                className='sidebar--menu'\n                id='sidebar-menu'\n            >\n                <div className='team__header theme'>\n                    <Link\n                        className='team__name'\n                        to='/channels/town-square'\n                    >\n                        {teamDisplayName}\n                    </Link>\n                </div>\n\n                <div className='nav-pills__container'>\n                    {tutorialTip}\n                    <ul className='nav nav-pills nav-stacked'>\n                        <li>\n                            <a\n                                href='#'\n                                onClick={this.searchMentions}\n                            >\n                                <i className='icon mentions'>{'@'}</i>\n                                <FormattedMessage\n                                    id='sidebar_right_menu.recentMentions'\n                                    defaultMessage='Recent Mentions'\n                                />\n                            </a>\n                        </li>\n                        <li>\n                            <a\n                                href='#'\n                                onClick={this.getFlagged}\n                            >\n                                <i className='icon fa fa-flag'/>\n                                <FormattedMessage\n                                    id='sidebar_right_menu.flagged'\n                                    defaultMessage='Flagged Posts'\n                                />\n                            </a>\n                        </li>\n                        <li className='divider'/>\n                        <li>\n                            <a\n                                href='#'\n                                onClick={() => GlobalActions.showAccountSettingsModal()}\n                            >\n                                <i className='icon fa fa-cog'/>\n                                <FormattedMessage\n                                    id='sidebar_right_menu.accountSettings'\n                                    defaultMessage='Account Settings'\n                                />\n                            </a>\n                        </li>\n                        <li className='divider'/>\n                        {inviteLink}\n                        {teamLink}\n                        {addUserToTeamLink}\n                        {teamDivider}\n                        {teamSettingsLink}\n                        {manageLink}\n                        {createTeam}\n                        {joinAnotherTeamLink}\n                        {leaveTeam}\n                        {consoleDivider}\n                        {consoleLink}\n                        <li className='divider'/>\n                        {helpLink}\n                        {reportLink}\n                        {nativeAppLink}\n                        <li>\n                            <a\n                                href='#'\n                                onClick={this.handleAboutModal}\n                            >\n                                <i className='icon fa fa-info'/>\n                                <FormattedMessage\n                                    id='navbar_dropdown.about'\n                                    defaultMessage='About Mattermost'\n                                />\n                            </a>\n                        </li>\n                        <li className='divider'/>\n                        <li>\n                            <a\n                                href='#'\n                                onClick={() => GlobalActions.emitUserLoggedOutEvent()}\n                            >\n                                <i className='icon fa fa-sign-out'/>\n                                <FormattedMessage\n                                    id='sidebar_right_menu.logout'\n                                    defaultMessage='Logout'\n                                />\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n                <AboutBuildModal\n                    show={this.state.showAboutModal}\n                    onModalDismissed={this.aboutModalDismissed}\n                />\n                {addUsersToTeamModal}\n            </div>\n        );\n    }\n}\n\nSidebarRightMenu.propTypes = {\n    teamType: PropTypes.string,\n    teamDisplayName: PropTypes.string\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/sidebar_right_menu.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {defineMessages, FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport * as Utils from 'utils/utils.jsx';\n\nimport SettingsSidebar from './settings_sidebar.jsx';\nimport TeamSettings from './team_settings.jsx';\n\nconst holders = defineMessages({\n    generalTab: {\n        id: 'team_settings_modal.generalTab',\n        defaultMessage: 'General'\n    },\n    importTab: {\n        id: 'team_settings_modal.importTab',\n        defaultMessage: 'Import'\n    }\n});\n\nclass TeamSettingsModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.updateTab = this.updateTab.bind(this);\n        this.updateSection = this.updateSection.bind(this);\n\n        this.state = {\n            activeTab: 'general',\n            activeSection: ''\n        };\n    }\n    componentDidMount() {\n        const modal = $(ReactDOM.findDOMNode(this.refs.modal));\n\n        modal.on('click', '.modal-back', function handleBackClick() {\n            $(this).closest('.modal-dialog').removeClass('display--content');\n            $(this).closest('.modal-dialog').find('.settings-table .nav li.active').removeClass('active');\n        });\n        modal.on('click', '.modal-header .close', () => {\n            setTimeout(() => {\n                $('.modal-dialog.display--content').removeClass('display--content');\n            }, 500);\n        });\n\n        if (!Utils.isMobile()) {\n            $('.settings-modal .settings-content').perfectScrollbar();\n        }\n    }\n    updateTab(tab) {\n        this.setState({activeTab: tab, activeSection: ''});\n        if (!Utils.isMobile()) {\n            $('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n        }\n    }\n    updateSection(section) {\n        if ($('.section-max').length) {\n            $('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n        }\n        this.setState({activeSection: section});\n    }\n    render() {\n        const {formatMessage} = this.props.intl;\n        const tabs = [];\n        tabs.push({name: 'general', uiName: formatMessage(holders.generalTab), icon: 'icon fa fa-cog'});\n        tabs.push({name: 'import', uiName: formatMessage(holders.importTab), icon: 'icon fa fa-upload'});\n\n        return (\n            <div\n                className='modal fade'\n                ref='modal'\n                id='team_settings'\n                role='dialog'\n                tabIndex='-1'\n                aria-hidden='true'\n            >\n                <div className='modal-dialog settings-modal'>\n                    <div className='modal-content'>\n                        <div className='modal-header'>\n                            <button\n                                type='button'\n                                className='close'\n                                data-dismiss='modal'\n                                aria-label='Close'\n                            >\n                                <span aria-hidden='true'>\n                                    {'×'}\n                                </span>\n                            </button>\n                            <h4\n                                className='modal-title'\n                                ref='title'\n                            >\n                                <FormattedMessage\n                                    id='team_settings_modal.title'\n                                    defaultMessage='Team Settings'\n                                />\n                            </h4>\n                        </div>\n                        <div className='modal-body settings-modal__body'>\n                            <div className='settings-table'>\n                                <div className='settings-links'>\n                                    <SettingsSidebar\n                                        tabs={tabs}\n                                        activeTab={this.state.activeTab}\n                                        updateTab={this.updateTab}\n                                    />\n                                </div>\n                                <div className='settings-content minimize-settings'>\n                                    <TeamSettings\n                                        activeTab={this.state.activeTab}\n                                        activeSection={this.state.activeSection}\n                                        updateSection={this.updateSection}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nTeamSettingsModal.propTypes = {\n    intl: intlShape.isRequired\n};\n\nexport default injectIntl(TeamSettingsModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/team_settings_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport TeamStore from 'stores/team_store.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\n\nimport GeneralTab from './team_general_tab.jsx';\nimport ImportTab from './team_import_tab.jsx';\n\nexport default class TeamSettings extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onChange = this.onChange.bind(this);\n\n        this.state = {team: TeamStore.getCurrent()};\n    }\n    componentDidMount() {\n        TeamStore.addChangeListener(this.onChange);\n    }\n    componentWillUnmount() {\n        TeamStore.removeChangeListener(this.onChange);\n    }\n    onChange() {\n        var team = TeamStore.getCurrent();\n\n        if (!Utils.areObjectsEqual(this.state.team, team)) {\n            this.setState({team});\n        }\n    }\n    render() {\n        if (!this.state.team) {\n            return null;\n        }\n        var result;\n        switch (this.props.activeTab) {\n        case 'general':\n            result = (\n                <div>\n                    <GeneralTab\n                        team={this.state.team}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                    />\n                </div>\n            );\n            break;\n        case 'import':\n            result = (\n                <div>\n                    <ImportTab\n                        team={this.state.team}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                    />\n                </div>\n            );\n            break;\n        default:\n            result = (\n                <div/>\n            );\n            break;\n        }\n        return result;\n    }\n}\n\nTeamSettings.defaultProps = {\n    activeTab: '',\n    activeSection: ''\n};\n\nTeamSettings.propTypes = {\n    activeTab: PropTypes.string.isRequired,\n    activeSection: PropTypes.string.isRequired,\n    updateSection: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/team_settings.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {updateTeam} from 'actions/team_actions.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport SettingItemMax from './setting_item_max.jsx';\nimport SettingItemMin from './setting_item_min.jsx';\n\nclass GeneralTab extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.updateSection = this.updateSection.bind(this);\n        this.handleNameSubmit = this.handleNameSubmit.bind(this);\n        this.handleInviteIdSubmit = this.handleInviteIdSubmit.bind(this);\n        this.handleOpenInviteSubmit = this.handleOpenInviteSubmit.bind(this);\n        this.handleDescriptionSubmit = this.handleDescriptionSubmit.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.onUpdateNameSection = this.onUpdateNameSection.bind(this);\n        this.updateName = this.updateName.bind(this);\n        this.updateDescription = this.updateDescription.bind(this);\n        this.onUpdateDescriptionSection = this.onUpdateDescriptionSection.bind(this);\n        this.onUpdateInviteIdSection = this.onUpdateInviteIdSection.bind(this);\n        this.updateInviteId = this.updateInviteId.bind(this);\n        this.onUpdateOpenInviteSection = this.onUpdateOpenInviteSection.bind(this);\n        this.handleOpenInviteRadio = this.handleOpenInviteRadio.bind(this);\n        this.handleGenerateInviteId = this.handleGenerateInviteId.bind(this);\n\n        this.state = this.setupInitialState(props);\n    }\n\n    updateSection(section) {\n        if ($('.section-max').length) {\n            $('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n        }\n        this.setState(this.setupInitialState(this.props));\n        this.props.updateSection(section);\n    }\n\n    setupInitialState(props) {\n        const team = props.team;\n\n        return {\n            name: team.display_name,\n            invite_id: team.invite_id,\n            allow_open_invite: team.allow_open_invite,\n            description: team.description,\n            serverError: '',\n            clientError: ''\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            name: nextProps.team.display_name,\n            description: nextProps.team.description,\n            invite_id: nextProps.team.invite_id,\n            allow_open_invite: nextProps.team.allow_open_invite\n        });\n    }\n\n    handleGenerateInviteId(e) {\n        e.preventDefault();\n\n        var newId = '';\n        for (var i = 0; i < 32; i++) {\n            newId += Math.floor(Math.random() * 16).toString(16);\n        }\n\n        this.setState({invite_id: newId});\n    }\n\n    handleOpenInviteRadio(openInvite) {\n        this.setState({allow_open_invite: openInvite});\n    }\n\n    handleOpenInviteSubmit(e) {\n        e.preventDefault();\n\n        var state = {serverError: '', clientError: ''};\n\n        var data = {...this.props.team};\n        data.allow_open_invite = this.state.allow_open_invite;\n        updateTeam(data,\n            () => {\n                this.updateSection('');\n            },\n            (err) => {\n                state.serverError = err.message;\n                this.setState(state);\n            }\n        );\n    }\n\n    handleNameSubmit(e) {\n        e.preventDefault();\n\n        var state = {serverError: '', clientError: ''};\n        let valid = true;\n\n        const name = this.state.name.trim();\n        if (name) {\n            state.clientError = '';\n        } else {\n            state.clientError = Utils.localizeMessage('general_tab.required', 'This field is required');\n            valid = false;\n        }\n\n        this.setState(state);\n\n        if (!valid) {\n            return;\n        }\n\n        var data = {...this.props.team};\n        data.display_name = this.state.name;\n        updateTeam(data,\n            () => {\n                this.updateSection('');\n            },\n            (err) => {\n                state.serverError = err.message;\n                this.setState(state);\n            }\n        );\n    }\n\n    handleInviteIdSubmit(e) {\n        e.preventDefault();\n\n        var state = {serverError: '', clientError: ''};\n        let valid = true;\n\n        const inviteId = this.state.invite_id.trim();\n        if (inviteId) {\n            state.clientError = '';\n        } else {\n            state.clientError = Utils.localizeMessage('general_tab.required', 'This field is required');\n            valid = false;\n        }\n\n        this.setState(state);\n\n        if (!valid) {\n            return;\n        }\n\n        var data = {...this.props.team};\n        data.invite_id = this.state.invite_id;\n        updateTeam(data,\n            () => {\n                this.updateSection('');\n            },\n            (err) => {\n                state.serverError = err.message;\n                this.setState(state);\n            }\n        );\n    }\n\n    handleClose() {\n        this.updateSection('');\n    }\n\n    handleDescriptionSubmit(e) {\n        e.preventDefault();\n\n        var state = {serverError: '', clientError: ''};\n        let valid = true;\n\n        const description = this.state.description.trim();\n        if (description === this.props.team.description) {\n            state.clientError = Utils.localizeMessage('general_tab.chooseDescription', 'Please choose a new description for your team');\n            valid = false;\n        } else {\n            state.clientError = '';\n        }\n\n        this.setState(state);\n\n        if (!valid) {\n            return;\n        }\n\n        var data = {...this.props.team};\n        data.description = this.state.description;\n        updateTeam(data,\n            () => {\n                this.updateSection('');\n            },\n            (err) => {\n                state.serverError = err.message;\n                this.setState(state);\n            }\n        );\n    }\n\n    componentDidMount() {\n        $('#team_settings').on('hidden.bs.modal', this.handleClose);\n    }\n\n    componentWillUnmount() {\n        $('#team_settings').off('hidden.bs.modal', this.handleClose);\n    }\n\n    onUpdateNameSection(e) {\n        e.preventDefault();\n        if (this.props.activeSection === 'name') {\n            this.updateSection('');\n        } else {\n            this.updateSection('name');\n        }\n    }\n\n    onUpdateDescriptionSection(e) {\n        e.preventDefault();\n        if (this.props.activeSection === 'description') {\n            this.updateSection('');\n        } else {\n            this.updateSection('description');\n        }\n    }\n\n    onUpdateInviteIdSection(e) {\n        e.preventDefault();\n        if (this.props.activeSection === 'invite_id') {\n            this.updateSection('');\n        } else {\n            this.updateSection('invite_id');\n        }\n    }\n\n    onUpdateOpenInviteSection(e) {\n        e.preventDefault();\n        if (this.props.activeSection === 'open_invite') {\n            this.updateSection('');\n        } else {\n            this.updateSection('open_invite');\n        }\n    }\n\n    updateName(e) {\n        this.setState({name: e.target.value});\n    }\n\n    updateDescription(e) {\n        this.setState({description: e.target.value});\n    }\n\n    updateInviteId(e) {\n        this.setState({invite_id: e.target.value});\n    }\n\n    render() {\n        let clientError = null;\n        let serverError = null;\n        if (this.state.clientError) {\n            clientError = this.state.clientError;\n        }\n        if (this.state.serverError) {\n            serverError = this.state.serverError;\n        }\n\n        let openInviteSection;\n        if (this.props.activeSection === 'open_invite') {\n            const inputs = [\n                <div key='userOpenInviteOptions'>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='teamOpenInvite'\n                                name='userOpenInviteOptions'\n                                type='radio'\n                                defaultChecked={this.state.allow_open_invite}\n                                onChange={this.handleOpenInviteRadio.bind(this, true)}\n                            />\n                            <FormattedMessage\n                                id='general_tab.yes'\n                                defaultMessage='Yes'\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='teamOpenInviteNo'\n                                name='userOpenInviteOptions'\n                                type='radio'\n                                defaultChecked={!this.state.allow_open_invite}\n                                onChange={this.handleOpenInviteRadio.bind(this, false)}\n                            />\n                            <FormattedMessage\n                                id='general_tab.no'\n                                defaultMessage='No'\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div>\n                        <br/>\n                        <FormattedMessage\n                            id='general_tab.openInviteDesc'\n                            defaultMessage='When allowed, a link to this team will be included on the landing page allowing anyone with an account to join this team.'\n                        />\n                    </div>\n                </div>\n            ];\n\n            openInviteSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.openInviteTitle', 'Allow any user with an account on this server to join this team')}\n                    inputs={inputs}\n                    submit={this.handleOpenInviteSubmit}\n                    server_error={serverError}\n                    updateSection={this.onUpdateOpenInviteSection}\n                />\n            );\n        } else {\n            let describe = '';\n            if (this.state.allow_open_invite === true) {\n                describe = Utils.localizeMessage('general_tab.yes', 'Yes');\n            } else {\n                describe = Utils.localizeMessage('general_tab.no', 'No');\n            }\n\n            openInviteSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.openInviteTitle', 'Allow any user with an account on this server to join this team')}\n                    describe={describe}\n                    updateSection={this.onUpdateOpenInviteSection}\n                />\n            );\n        }\n\n        let inviteSection;\n\n        if (this.props.activeSection === 'invite_id') {\n            const inputs = [];\n\n            inputs.push(\n                <div key='teamInviteSetting'>\n                    <div className='row'>\n                        <label className='col-sm-5 control-label visible-xs-block'/>\n                        <div className='col-sm-12'>\n                            <input\n                                id='teamInviteId'\n                                className='form-control'\n                                type='text'\n                                onChange={this.updateInviteId}\n                                value={this.state.invite_id}\n                                maxLength='32'\n                            />\n                            <div className='padding-top x2'>\n                                <button\n                                    id='teamInviteIdRegenerate'\n                                    className='color--link style--none'\n                                    onClick={this.handleGenerateInviteId}\n                                >\n                                    <FormattedMessage\n                                        id='general_tab.regenerate'\n                                        defaultMessage='Regenerate'\n                                    />\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className='setting-list__hint'>\n                        <FormattedMessage\n                            id='general_tab.codeLongDesc'\n                            defaultMessage='The Invite Code is used as part of the URL in the team invitation link created by {getTeamInviteLink} in the main menu. Regenerating creates a new team invitation link and invalidates the previous link.'\n                            values={{\n                                getTeamInviteLink: (\n                                    <strong>\n                                        <FormattedMessage\n                                            id='general_tab.getTeamInviteLink'\n                                            defaultMessage='Get Team Invite Link'\n                                        />\n                                    </strong>\n                                )\n                            }}\n                        />\n                    </div>\n                </div>\n            );\n\n            inviteSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.codeTitle', 'Invite Code')}\n                    inputs={inputs}\n                    submit={this.handleInviteIdSubmit}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={this.onUpdateInviteIdSection}\n                />\n            );\n        } else {\n            inviteSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.codeTitle', 'Invite Code')}\n                    describe={Utils.localizeMessage('general_tab.codeDesc', \"Click 'Edit' to regenerate Invite Code.\")}\n                    updateSection={this.onUpdateInviteIdSection}\n                />\n            );\n        }\n\n        let nameSection;\n\n        if (this.props.activeSection === 'name') {\n            const inputs = [];\n\n            let teamNameLabel = (\n                <FormattedMessage\n                    id='general_tab.teamName'\n                    defaultMessage='Team Name'\n                />\n            );\n            if (Utils.isMobile()) {\n                teamNameLabel = '';\n            }\n\n            inputs.push(\n                <div\n                    key='teamNameSetting'\n                    className='form-group'\n                >\n                    <label className='col-sm-5 control-label'>{teamNameLabel}</label>\n                    <div className='col-sm-7'>\n                        <input\n                            id='teamName'\n                            className='form-control'\n                            type='text'\n                            maxLength={Constants.MAX_TEAMNAME_LENGTH.toString()}\n                            onChange={this.updateName}\n                            value={this.state.name}\n                        />\n                    </div>\n                </div>\n            );\n\n            const nameExtraInfo = <span>{Utils.localizeMessage('general_tab.teamNameInfo', 'Set the name of the team as it appears on your sign-in screen and at the top of the left-hand sidebar.')}</span>;\n\n            nameSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.teamName', 'Team Name')}\n                    inputs={inputs}\n                    submit={this.handleNameSubmit}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={this.onUpdateNameSection}\n                    extraInfo={nameExtraInfo}\n                />\n            );\n        } else {\n            var describe = this.state.name;\n\n            nameSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.teamName', 'Team Name')}\n                    describe={describe}\n                    updateSection={this.onUpdateNameSection}\n                />\n            );\n        }\n\n        let descriptionSection;\n\n        if (this.props.activeSection === 'description') {\n            const inputs = [];\n\n            let teamDescriptionLabel = (\n                <FormattedMessage\n                    id='general_tab.teamDescription'\n                    defaultMessage='Team Description'\n                />\n            );\n            if (Utils.isMobile()) {\n                teamDescriptionLabel = '';\n            }\n\n            inputs.push(\n                <div\n                    key='teamDescriptionSetting'\n                    className='form-group'\n                >\n                    <label className='col-sm-5 control-label'>{teamDescriptionLabel}</label>\n                    <div className='col-sm-7'>\n                        <input\n                            id='teamDescription'\n                            className='form-control'\n                            type='text'\n                            maxLength={Constants.MAX_TEAMDESCRIPTION_LENGTH.toString()}\n                            onChange={this.updateDescription}\n                            value={this.state.description}\n                        />\n                    </div>\n                </div>\n            );\n\n            const descriptionExtraInfo = <span>{Utils.localizeMessage('general_tab.teamDescriptionInfo', 'Team description provides additional information to help users select the right team. Maximum of 50 characters.')}</span>;\n\n            descriptionSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.teamDescription', 'Team Description')}\n                    inputs={inputs}\n                    submit={this.handleDescriptionSubmit}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={this.onUpdateDescriptionSection}\n                    extraInfo={descriptionExtraInfo}\n                />\n            );\n        } else {\n            let describemsg = '';\n            if (this.state.description) {\n                describemsg = this.state.description;\n            } else {\n                describemsg = (\n                    <FormattedMessage\n                        id='general_tab.emptyDescription'\n                        defaultMessage=\"Click 'Edit' to add a team description.\"\n                    />\n                );\n            }\n\n            descriptionSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.teamDescription', 'Team Description')}\n                    describe={describemsg}\n                    updateSection={this.onUpdateDescriptionSection}\n                />\n            );\n        }\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        id='closeButton'\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label='Close'\n                    >\n                        <span aria-hidden='true'>\n                            {'×'}\n                        </span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i className='fa fa-angle-left'/>\n                        </div>\n                        <FormattedMessage\n                            id='general_tab.title'\n                            defaultMessage='General Settings'\n                        />\n                    </h4>\n                </div>\n                <div\n                    ref='wrapper'\n                    className='user-settings'\n                >\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='general_tab.title'\n                            defaultMessage='General Settings'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {nameSection}\n                    <div className='divider-light'/>\n                    {descriptionSection}\n                    <div className='divider-light'/>\n                    {openInviteSection}\n                    <div className='divider-light'/>\n                    {inviteSection}\n                    <div className='divider-dark'/>\n                </div>\n            </div>\n        );\n    }\n}\n\nGeneralTab.propTypes = {\n    updateSection: PropTypes.func.isRequired,\n    team: PropTypes.object.isRequired,\n    activeSection: PropTypes.string.isRequired\n};\n\nexport default GeneralTab;\n\n\n\n// WEBPACK FOOTER //\n// ./components/team_general_tab.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport {defineMessages, FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport * as utils from 'utils/utils.jsx';\n\nimport SettingUpload from './setting_upload.jsx';\n\nconst holders = defineMessages({\n    importSlack: {\n        id: 'team_import_tab.importSlack',\n        defaultMessage: 'Import from Slack (Beta)'\n    }\n});\n\nclass TeamImportTab extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onImportFailure = this.onImportFailure.bind(this);\n        this.onImportSuccess = this.onImportSuccess.bind(this);\n        this.doImportSlack = this.doImportSlack.bind(this);\n\n        this.state = {\n            status: 'ready',\n            link: ''\n        };\n    }\n\n    onImportFailure() {\n        this.setState({status: 'fail'});\n    }\n\n    onImportSuccess(data) {\n        this.setState({status: 'done', link: 'data:application/octet-stream;charset=utf-8,' + encodeURIComponent(atob(data.results))});\n    }\n\n    doImportSlack(file) {\n        this.setState({status: 'in-progress', link: ''});\n        utils.importSlack(file, this.onImportSuccess, this.onImportFailure);\n    }\n\n    render() {\n        const {formatMessage} = this.props.intl;\n        var uploadDocsLink = (\n            <a\n                href='https://docs.mattermost.com/administration/migrating.html#migrating-from-slack'\n                target='_blank'\n                rel='noopener noreferrer'\n            >\n                <FormattedMessage\n                    id='team_import_tab.importHelpDocsLink'\n                    defaultMessage='documentation'\n                />\n            </a>\n        );\n\n        var uploadExportInstructions = (\n            <strong>\n                <FormattedMessage\n                    id='team_import_tab.importHelpExportInstructions'\n                    defaultMessage='Slack > Team Settings > Import/Export Data > Export > Start Export'\n                />\n            </strong>\n        );\n\n        var uploadExporterLink = (\n            <a\n                href='https://github.com/grundleborg/slack-advanced-exporter'\n                target='_blank'\n                rel='noopener noreferrer'\n            >\n                <FormattedMessage\n                    id='team_import_tab.importHelpExporterLink'\n                    defaultMessage='Slack Advanced Exporter'\n                />\n            </a>\n        );\n\n        var uploadHelpText = (\n            <div>\n                <p>\n                    <FormattedMessage\n                        id='team_import_tab.importHelpLine1'\n                        defaultMessage=\"Slack import to Mattermost supports importing of messages in your Slack team's public channels.\"\n                    />\n                </p>\n                <p>\n                    <FormattedMessage\n                        id='team_import_tab.importHelpLine2'\n                        defaultMessage='To import a team from Slack, go to {exportInstructions}. See {uploadDocsLink} to learn more.'\n                        values={{\n                            exportInstructions: uploadExportInstructions,\n                            uploadDocsLink\n                        }}\n                    />\n                </p>\n                <p>\n                    <FormattedMessage\n                        id='team_import_tab.importHelpLine3'\n                        defaultMessage='To import posts with attached files, see {slackAdvancedExporterLink} for details.'\n                        values={{\n                            slackAdvancedExporterLink: uploadExporterLink\n                        }}\n                    />\n                </p>\n            </div>\n        );\n\n        var uploadSection = (\n            <SettingUpload\n                title={formatMessage(holders.importSlack)}\n                submit={this.doImportSlack}\n                helpText={uploadHelpText}\n                fileTypesAccepted='.zip'\n            />\n        );\n\n        var messageSection;\n        switch (this.state.status) {\n\n        case 'ready':\n            messageSection = '';\n            break;\n        case 'in-progress':\n            messageSection = (\n                <p className='confirm-import alert alert-warning'><i className='fa fa-spinner fa-pulse'/>\n                    <FormattedMessage\n                        id='team_import_tab.importing'\n                        defaultMessage=' Importing...'\n                    />\n                </p>\n            );\n            break;\n        case 'done':\n            messageSection = (\n                <p className='confirm-import alert alert-success'>\n                    <i className='fa fa-check'/>\n                    <FormattedMessage\n                        id='team_import_tab.successful'\n                        defaultMessage=' Import successful: '\n                    />\n                    <a\n                        href={this.state.link}\n                        download='MattermostImportSummary.txt'\n                    >\n                        <FormattedMessage\n                            id='team_import_tab.summary'\n                            defaultMessage='View Summary'\n                        />\n                    </a>\n                </p>\n        );\n            break;\n        case 'fail':\n            messageSection = (\n                <p className='confirm-import alert alert-warning'>\n                    <i className='fa fa-warning'/>\n                    <FormattedMessage\n                        id='team_import_tab.failure'\n                        defaultMessage=' Import failure: '\n                    />\n                    <a\n                        href={this.state.link}\n                        download='MattermostImportSummary.txt'\n                    >\n                        <FormattedMessage\n                            id='team_import_tab.summary'\n                            defaultMessage='View Summary'\n                        />\n                    </a>\n                </p>\n            );\n            break;\n        }\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label='Close'\n                    >\n                        <span aria-hidden='true'>{'×'}</span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i className='fa fa-angle-left'/>\n                        </div>\n                        <FormattedMessage\n                            id='team_import_tab.import'\n                            defaultMessage='Import'\n                        />\n                    </h4>\n                </div>\n                <div\n                    ref='wrapper'\n                    className='user-settings'\n                >\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='team_import_tab.import'\n                            defaultMessage='Import'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {uploadSection}\n                    <div className='divider-dark'/>\n                    {messageSection}\n                </div>\n            </div>\n        );\n    }\n}\n\nTeamImportTab.propTypes = {\n    intl: intlShape.isRequired\n};\n\nexport default injectIntl(TeamImportTab);\n\n\n\n// WEBPACK FOOTER //\n// ./components/team_import_tab.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class SettingsUpload extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.doFileSelect = this.doFileSelect.bind(this);\n        this.doSubmit = this.doSubmit.bind(this);\n\n        this.state = {\n            clientError: this.props.clientError,\n            serverError: this.props.serverError,\n            filename: ''\n        };\n    }\n\n    componentWillReceiveProps() {\n        this.setState({\n            clientError: this.props.clientError,\n            serverError: this.props.serverError\n        });\n    }\n\n    doFileSelect(e) {\n        e.preventDefault();\n        var filename = $(e.target).val();\n        if (filename.substring(3, 11) === 'fakepath') {\n            filename = filename.substring(12);\n        }\n        this.setState({\n            clientError: '',\n            serverError: '',\n            filename\n        });\n    }\n\n    doSubmit(e) {\n        e.preventDefault();\n        var inputnode = ReactDOM.findDOMNode(this.refs.uploadinput);\n        if (inputnode.files && inputnode.files[0]) {\n            this.props.submit(inputnode.files[0]);\n        } else {\n            this.setState({clientError: true});\n        }\n    }\n\n    render() {\n        let clientError = null;\n        if (this.state.clientError) {\n            clientError = (\n                <div className='file-status'>\n                    <FormattedMessage\n                        id='setting_upload.noFile'\n                        defaultMessage='No file selected.'\n                    />\n                </div>\n            );\n        }\n        let serverError = null;\n        if (this.state.serverError) {\n            serverError = (\n                <div className='file-status'>{this.state.serverError}</div>\n            );\n        }\n        let fileNameText = null;\n        let submitButtonClass = 'btn btn-sm btn-primary disabled';\n        if (this.state.filename) {\n            fileNameText = (\n                <div className='file-status file-name'>{this.state.filename}</div>\n            );\n            submitButtonClass = 'btn btn-sm btn-primary';\n        }\n\n        return (\n            <ul className='section-max'>\n                <li className='col-sm-12 section-title'>{this.props.title}</li>\n                <li className='col-sm-offset-3 col-sm-9'>{this.props.helpText}</li>\n                <li className='col-sm-offset-3 col-sm-9'>\n                    <ul className='setting-list'>\n                        <li className='setting-list-item'>\n                            <span className='btn btn-sm btn-primary btn-file sel-btn'>\n                                <FormattedMessage\n                                    id='setting_upload.select'\n                                    defaultMessage='Select file'\n                                />\n                                <input\n                                    ref='uploadinput'\n                                    accept={this.props.fileTypesAccepted}\n                                    type='file'\n                                    onChange={this.doFileSelect}\n                                />\n                            </span>\n                            <a\n                                className={submitButtonClass}\n                                onClick={this.doSubmit}\n                            >\n                                <FormattedMessage\n                                    id='setting_upload.import'\n                                    defaultMessage='Import'\n                                />\n                            </a>\n                            {fileNameText}\n                            {serverError}\n                            {clientError}\n                        </li>\n                    </ul>\n                </li>\n            </ul>\n        );\n    }\n}\n\nSettingsUpload.propTypes = {\n    title: PropTypes.string.isRequired,\n    submit: PropTypes.func.isRequired,\n    fileTypesAccepted: PropTypes.string.isRequired,\n    clientError: PropTypes.string,\n    serverError: PropTypes.string,\n    helpText: PropTypes.object\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/setting_upload.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport ModalStore from 'stores/modal_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\n\nconst ActionTypes = Constants.ActionTypes;\n\nexport default class ImportThemeModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.updateShow = this.updateShow.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n\n        this.state = {\n            value: '',\n            inputError: '',\n            show: false,\n            callback: null\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(ActionTypes.TOGGLE_IMPORT_THEME_MODAL, this.updateShow);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(ActionTypes.TOGGLE_IMPORT_THEME_MODAL, this.updateShow);\n    }\n\n    updateShow(show, args) {\n        this.setState({\n            show,\n            callback: args.callback\n        });\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n\n        const text = this.state.value;\n\n        if (!this.isInputValid(text)) {\n            this.setState({\n                inputError: (\n                    <FormattedMessage\n                        id='user.settings.import_theme.submitError'\n                        defaultMessage='Invalid format, please try copying and pasting in again.'\n                    />\n                )\n            });\n            return;\n        }\n\n        const colors = text.split(',');\n        const theme = {type: 'custom'};\n\n        theme.sidebarBg = colors[0];\n        theme.sidebarText = colors[5];\n        theme.sidebarUnreadText = colors[5];\n        theme.sidebarTextHoverBg = colors[4];\n        theme.sidebarTextActiveBorder = colors[2];\n        theme.sidebarTextActiveColor = colors[3];\n        theme.sidebarHeaderBg = colors[1];\n        theme.sidebarHeaderTextColor = colors[5];\n        theme.onlineIndicator = colors[6];\n        theme.awayIndicator = '#E0B333';\n        theme.mentionBj = colors[7];\n        theme.mentionColor = '#ffffff';\n        theme.centerChannelBg = '#ffffff';\n        theme.centerChannelColor = '#333333';\n        theme.newMessageSeparator = '#F80';\n        theme.linkColor = '#2389d7';\n        theme.buttonBg = '#26a970';\n        theme.buttonColor = '#ffffff';\n        theme.mentionHighlightBg = '#fff2bb';\n        theme.mentionHighlightLink = '#2f81b7';\n        theme.codeTheme = 'github';\n\n        this.state.callback(theme);\n        this.setState({\n            show: false,\n            callback: null\n        });\n    }\n\n    isInputValid(text) {\n        if (text.length === 0) {\n            return false;\n        }\n\n        if (text.indexOf(' ') !== -1) {\n            return false;\n        }\n\n        if (text.length > 0 && text.indexOf(',') === -1) {\n            return false;\n        }\n\n        if (text.length > 0) {\n            const colors = text.split(',');\n\n            if (colors.length !== 8) {\n                return false;\n            }\n\n            for (let i = 0; i < colors.length; i++) {\n                if (colors[i].length !== 7 && colors[i].length !== 4) {\n                    return false;\n                }\n\n                if (colors[i].charAt(0) !== '#') {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    handleChange(e) {\n        const value = e.target.value;\n        this.setState({value});\n\n        if (this.isInputValid(value)) {\n            this.setState({inputError: null});\n        } else {\n            this.setState({\n                inputError: (\n                    <FormattedMessage\n                        id='user.settings.import_theme.submitError'\n                        defaultMessage='Invalid format, please try copying and pasting in again.'\n                    />\n                )\n            });\n        }\n    }\n\n    render() {\n        return (\n            <span>\n                <Modal\n                    show={this.state.show}\n                    onHide={() => this.setState({show: false})}\n                >\n                    <Modal.Header closeButton={true}>\n                        <Modal.Title>\n                            <FormattedMessage\n                                id='user.settings.import_theme.importHeader'\n                                defaultMessage='Import Slack Theme'\n                            />\n                        </Modal.Title>\n                    </Modal.Header>\n                    <form\n                        role='form'\n                        className='form-horizontal'\n                    >\n                        <Modal.Body>\n                            <p>\n                                <FormattedMessage\n                                    id='user.settings.import_theme.importBody'\n                                    defaultMessage='To import a theme, go to a Slack team and look for \"Preferences -> Sidebar Theme\". Open the custom theme option, copy the theme color values and paste them here:'\n                                />\n                            </p>\n                            <div className='form-group less'>\n                                <div className='col-sm-12'>\n                                    <input\n                                        id='themeVector'\n                                        type='text'\n                                        className='form-control'\n                                        value={this.state.value}\n                                        onChange={this.handleChange}\n                                    />\n                                    <div className='input__help'>\n                                        {this.state.inputError}\n                                    </div>\n                                </div>\n                            </div>\n                        </Modal.Body>\n                        <Modal.Footer>\n                            <button\n                                id='cancelButton'\n                                type='button'\n                                className='btn btn-default'\n                                onClick={() => this.setState({show: false})}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.import_theme.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </button>\n                            <button\n                                id='submitButton'\n                                onClick={this.handleSubmit}\n                                type='submit'\n                                className='btn btn-primary'\n                                tabIndex='3'\n                            >\n                                <FormattedMessage\n                                    id='user.settings.import_theme.submit'\n                                    defaultMessage='Submit'\n                                />\n                            </button>\n                        </Modal.Footer>\n                    </form>\n                </Modal>\n            </span>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/import_theme_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport ReactDOM from 'react-dom';\nimport {defineMessages, FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport ModalStore from 'stores/modal_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport ConfirmModal from '../confirm_modal.jsx';\nimport SettingsSidebar from '../settings_sidebar.jsx';\n\nimport UserSettings from './user_settings.jsx';\n\nconst holders = defineMessages({\n    general: {\n        id: 'user.settings.modal.general',\n        defaultMessage: 'General'\n    },\n    security: {\n        id: 'user.settings.modal.security',\n        defaultMessage: 'Security'\n    },\n    notifications: {\n        id: 'user.settings.modal.notifications',\n        defaultMessage: 'Notifications'\n    },\n    display: {\n        id: 'user.settings.modal.display',\n        defaultMessage: 'Display'\n    },\n    advanced: {\n        id: 'user.settings.modal.advanced',\n        defaultMessage: 'Advanced'\n    },\n    confirmTitle: {\n        id: 'user.settings.modal.confirmTitle',\n        defaultMessage: 'Discard Changes?'\n    },\n    confirmMsg: {\n        id: 'user.settings.modal.confirmMsg',\n        defaultMessage: 'You have unsaved changes, are you sure you want to discard them?'\n    },\n    confirmBtns: {\n        id: 'user.settings.modal.confirmBtns',\n        defaultMessage: 'Yes, Discard'\n    }\n});\n\nclass UserSettingsModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleHide = this.handleHide.bind(this);\n        this.handleHidden = this.handleHidden.bind(this);\n        this.handleCollapse = this.handleCollapse.bind(this);\n        this.handleConfirm = this.handleConfirm.bind(this);\n        this.handleCancelConfirmation = this.handleCancelConfirmation.bind(this);\n        this.handleToggle = this.handleToggle.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n\n        this.closeModal = this.closeModal.bind(this);\n        this.collapseModal = this.collapseModal.bind(this);\n\n        this.updateTab = this.updateTab.bind(this);\n        this.updateSection = this.updateSection.bind(this);\n        this.onUserChanged = this.onUserChanged.bind(this);\n\n        this.state = {\n            active_tab: 'general',\n            active_section: '',\n            showConfirmModal: false,\n            enforceFocus: true,\n            currentUser: UserStore.getCurrentUser(),\n            show: false\n        };\n\n        this.requireConfirm = false;\n        this.mounted = false;\n    }\n\n    onUserChanged() {\n        if (this.mounted) {\n            this.setState({currentUser: UserStore.getCurrentUser()});\n        }\n    }\n\n    componentDidMount() {\n        this.mounted = true;\n        UserStore.addChangeListener(this.onUserChanged);\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_ACCOUNT_SETTINGS_MODAL, this.handleToggle);\n        document.addEventListener('keydown', this.handleKeyDown);\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_ACCOUNT_SETTINGS_MODAL, this.handleToggle);\n        document.removeEventListener('keydown', this.handleKeyDown);\n    }\n\n    componentDidUpdate() {\n        UserStore.removeChangeListener(this.onUserChanged);\n        if (!Utils.isMobile()) {\n            $('.settings-content .minimize-settings').perfectScrollbar('update');\n        }\n    }\n\n    handleKeyDown(e) {\n        if (Utils.cmdOrCtrlPressed(e) && e.shiftKey && e.keyCode === Constants.KeyCodes.A) {\n            this.setState({\n                show: !this.state.show\n            });\n        }\n    }\n\n    handleToggle(value) {\n        this.setState({\n            show: value\n        });\n    }\n\n    // Called when the close button is pressed on the main modal\n    handleHide() {\n        if (this.requireConfirm) {\n            this.afterConfirm = () => this.handleHide();\n            this.showConfirmModal();\n\n            return;\n        }\n\n        this.setState({\n            show: false\n        });\n    }\n\n    // called after the dialog is fully hidden and faded out\n    handleHidden() {\n        this.setState({\n            active_tab: 'general',\n            active_section: ''\n        });\n    }\n\n    // Called to hide the settings pane when on mobile\n    handleCollapse() {\n        $(ReactDOM.findDOMNode(this.refs.modalBody)).closest('.modal-dialog').removeClass('display--content');\n\n        this.setState({\n            active_tab: '',\n            active_section: ''\n        });\n    }\n\n    handleConfirm() {\n        this.setState({\n            showConfirmModal: false,\n            enforceFocus: true\n        });\n\n        this.requireConfirm = false;\n\n        if (this.afterConfirm) {\n            this.afterConfirm();\n            this.afterConfirm = null;\n        }\n    }\n\n    handleCancelConfirmation() {\n        this.setState({\n            showConfirmModal: false,\n            enforceFocus: true\n        });\n\n        this.afterConfirm = null;\n    }\n\n    showConfirmModal(afterConfirm) {\n        this.setState({\n            showConfirmModal: true,\n            enforceFocus: false\n        });\n\n        if (afterConfirm) {\n            this.afterConfirm = afterConfirm;\n        }\n    }\n\n    // Called by settings tabs when their close button is pressed\n    closeModal() {\n        if (this.requireConfirm) {\n            this.showConfirmModal(this.closeModal);\n        } else {\n            this.handleHide();\n        }\n    }\n\n    // Called by settings tabs when their back button is pressed\n    collapseModal() {\n        if (this.requireConfirm) {\n            this.showConfirmModal(this.collapseModal);\n        } else {\n            this.handleCollapse();\n        }\n    }\n\n    updateTab(tab, skipConfirm) {\n        if (!skipConfirm && this.requireConfirm) {\n            this.showConfirmModal(() => this.updateTab(tab, true));\n        } else {\n            this.setState({\n                active_tab: tab,\n                active_section: ''\n            });\n        }\n    }\n\n    updateSection(section, skipConfirm) {\n        if (!skipConfirm && this.requireConfirm) {\n            this.showConfirmModal(() => this.updateSection(section, true));\n        } else {\n            this.setState({active_section: section});\n        }\n    }\n\n    render() {\n        const {formatMessage} = this.props.intl;\n        if (this.state.currentUser == null) {\n            return (<div/>);\n        }\n        var tabs = [];\n\n        tabs.push({name: 'general', uiName: formatMessage(holders.general), icon: 'icon fa fa-gear'});\n        tabs.push({name: 'security', uiName: formatMessage(holders.security), icon: 'icon fa fa-lock'});\n        tabs.push({name: 'notifications', uiName: formatMessage(holders.notifications), icon: 'icon fa fa-exclamation-circle'});\n        tabs.push({name: 'display', uiName: formatMessage(holders.display), icon: 'icon fa fa-eye'});\n        tabs.push({name: 'advanced', uiName: formatMessage(holders.advanced), icon: 'icon fa fa-list-alt'});\n\n        return (\n            <Modal\n                id='accountSettingsModal'\n                dialogClassName='settings-modal'\n                show={this.state.show}\n                onHide={this.handleHide}\n                onExited={this.handleHidden}\n                enforceFocus={this.state.enforceFocus}\n            >\n                <Modal.Header\n                    id='accountSettingsHeader'\n                    closeButton={true}\n                >\n                    <Modal.Title id='accountSettingsTitle'>\n                        <FormattedMessage\n                            id='user.settings.modal.title'\n                            defaultMessage='Account Settings'\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body ref='modalBody'>\n                    <div className='settings-table'>\n                        <div className='settings-links'>\n                            <SettingsSidebar\n                                tabs={tabs}\n                                activeTab={this.state.active_tab}\n                                updateTab={this.updateTab}\n                            />\n                        </div>\n                        <div className='settings-content minimize-settings'>\n                            <UserSettings\n                                ref='userSettings'\n                                activeTab={this.state.active_tab}\n                                activeSection={this.state.active_section}\n                                updateSection={this.updateSection}\n                                updateTab={this.updateTab}\n                                closeModal={this.closeModal}\n                                collapseModal={this.collapseModal}\n                                setEnforceFocus={(enforceFocus) => this.setState({enforceFocus})}\n                                setRequireConfirm={\n                                    (requireConfirm) => {\n                                        this.requireConfirm = requireConfirm;\n                                    }\n                                }\n                            />\n                        </div>\n                    </div>\n                </Modal.Body>\n                <ConfirmModal\n                    title={formatMessage(holders.confirmTitle)}\n                    message={formatMessage(holders.confirmMsg)}\n                    confirmButtonText={formatMessage(holders.confirmBtns)}\n                    show={this.state.showConfirmModal}\n                    onConfirm={this.handleConfirm}\n                    onCancel={this.handleCancelConfirmation}\n                />\n            </Modal>\n        );\n    }\n}\n\nUserSettingsModal.propTypes = {\n    intl: intlShape.isRequired\n};\n\nexport default injectIntl(UserSettingsModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_modal.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport UserStore from 'stores/user_store.jsx';\n\nimport * as utils from 'utils/utils.jsx';\n\nimport AdvancedTab from './user_settings_advanced.jsx';\nimport DisplayTab from './user_settings_display.jsx';\nimport GeneralTab from './user_settings_general';\nimport NotificationsTab from './user_settings_notifications.jsx';\nimport SecurityTab from './user_settings_security';\n\nexport default class UserSettings extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onListenerChange = this.onListenerChange.bind(this);\n\n        this.state = {user: UserStore.getCurrentUser()};\n    }\n\n    componentDidMount() {\n        UserStore.addChangeListener(this.onListenerChange);\n    }\n\n    componentWillUnmount() {\n        UserStore.removeChangeListener(this.onListenerChange);\n    }\n\n    onListenerChange() {\n        var user = UserStore.getCurrentUser();\n        if (!utils.areObjectsEqual(this.state.user, user)) {\n            this.setState({user});\n        }\n    }\n\n    render() {\n        if (this.props.activeTab === 'general') {\n            return (\n                <div>\n                    <GeneralTab\n                        user={this.state.user}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                        updateTab={this.props.updateTab}\n                        closeModal={this.props.closeModal}\n                        collapseModal={this.props.collapseModal}\n                    />\n                </div>\n            );\n        } else if (this.props.activeTab === 'security') {\n            return (\n                <div>\n                    <SecurityTab\n                        user={this.state.user}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                        updateTab={this.props.updateTab}\n                        closeModal={this.props.closeModal}\n                        collapseModal={this.props.collapseModal}\n                        setEnforceFocus={this.props.setEnforceFocus}\n                    />\n                </div>\n            );\n        } else if (this.props.activeTab === 'notifications') {\n            return (\n                <div>\n                    <NotificationsTab\n                        user={this.state.user}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                        updateTab={this.props.updateTab}\n                        closeModal={this.props.closeModal}\n                        collapseModal={this.props.collapseModal}\n                    />\n                </div>\n            );\n        } else if (this.props.activeTab === 'display') {\n            return (\n                <div>\n                    <DisplayTab\n                        user={this.state.user}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                        updateTab={this.props.updateTab}\n                        closeModal={this.props.closeModal}\n                        collapseModal={this.props.collapseModal}\n                        setEnforceFocus={this.props.setEnforceFocus}\n                        setRequireConfirm={this.props.setRequireConfirm}\n                    />\n                </div>\n            );\n        } else if (this.props.activeTab === 'advanced') {\n            return (\n                <div>\n                    <AdvancedTab\n                        user={this.state.user}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                        updateTab={this.props.updateTab}\n                        closeModal={this.props.closeModal}\n                        collapseModal={this.props.collapseModal}\n                    />\n                </div>\n            );\n        }\n\n        return <div/>;\n    }\n}\n\nUserSettings.propTypes = {\n    activeTab: PropTypes.string,\n    activeSection: PropTypes.string,\n    updateSection: PropTypes.func,\n    updateTab: PropTypes.func,\n    closeModal: PropTypes.func.isRequired,\n    collapseModal: PropTypes.func.isRequired,\n    setEnforceFocus: PropTypes.func.isRequired,\n    setRequireConfirm: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {savePreferences} from 'actions/user_actions.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport SettingItemMax from '../setting_item_max.jsx';\nimport SettingItemMin from '../setting_item_min.jsx';\n\nconst PreReleaseFeatures = Constants.PRE_RELEASE_FEATURES;\n\nexport default class AdvancedSettingsDisplay extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.getStateFromStores = this.getStateFromStores.bind(this);\n        this.updateSection = this.updateSection.bind(this);\n        this.updateSetting = this.updateSetting.bind(this);\n        this.toggleFeature = this.toggleFeature.bind(this);\n        this.saveEnabledFeatures = this.saveEnabledFeatures.bind(this);\n\n        this.renderFormattingSection = this.renderFormattingSection.bind(this);\n        this.renderJoinLeaveSection = this.renderJoinLeaveSection.bind(this);\n\n        this.state = this.getStateFromStores();\n    }\n\n    getStateFromStores() {\n        let preReleaseFeaturesKeys = Object.keys(PreReleaseFeatures);\n        const advancedSettings = PreferenceStore.getCategory(Constants.Preferences.CATEGORY_ADVANCED_SETTINGS);\n        const settings = {\n            send_on_ctrl_enter: PreferenceStore.get(\n                Constants.Preferences.CATEGORY_ADVANCED_SETTINGS,\n                'send_on_ctrl_enter',\n                'false'\n            ),\n            formatting: PreferenceStore.get(\n                Constants.Preferences.CATEGORY_ADVANCED_SETTINGS,\n                'formatting',\n                'true'\n            ),\n            join_leave: PreferenceStore.get(\n                Constants.Preferences.CATEGORY_ADVANCED_SETTINGS,\n                'join_leave',\n                'true'\n            )\n        };\n\n        const webrtcEnabled = global.mm_config.EnableWebrtc === 'true';\n\n        if (!webrtcEnabled) {\n            preReleaseFeaturesKeys = preReleaseFeaturesKeys.filter((f) => f !== 'WEBRTC_PREVIEW');\n        }\n\n        let enabledFeatures = 0;\n        for (const [name, value] of advancedSettings) {\n            for (const key of preReleaseFeaturesKeys) {\n                const feature = PreReleaseFeatures[key];\n\n                if (name === Constants.FeatureTogglePrefix + feature.label) {\n                    settings[name] = value;\n\n                    if (value === 'true') {\n                        enabledFeatures += 1;\n                    }\n                }\n            }\n        }\n\n        const isSaving = false;\n\n        return {preReleaseFeatures: PreReleaseFeatures,\n            settings,\n            preReleaseFeaturesKeys,\n            enabledFeatures,\n            isSaving\n        };\n    }\n\n    updateSetting(setting, value) {\n        const settings = this.state.settings;\n        settings[setting] = value;\n        this.setState(settings);\n    }\n\n    toggleFeature(feature, checked) {\n        const settings = this.state.settings;\n        settings[Constants.FeatureTogglePrefix + feature] = String(checked);\n\n        let enabledFeatures = 0;\n        Object.keys(this.state.settings).forEach((setting) => {\n            if (setting.lastIndexOf(Constants.FeatureTogglePrefix) === 0 && this.state.settings[setting] === 'true') {\n                enabledFeatures++;\n            }\n        });\n\n        this.setState({settings, enabledFeatures});\n    }\n\n    saveEnabledFeatures() {\n        const features = [];\n        Object.keys(this.state.settings).forEach((setting) => {\n            if (setting.lastIndexOf(Constants.FeatureTogglePrefix) === 0) {\n                features.push(setting);\n            }\n        });\n\n        this.handleSubmit(features);\n    }\n\n    handleSubmit(settings) {\n        const preferences = [];\n        const userId = UserStore.getCurrentId();\n\n        // this should be refactored so we can actually be certain about what type everything is\n        (Array.isArray(settings) ? settings : [settings]).forEach((setting) => {\n            preferences.push({\n                user_id: userId,\n                category: Constants.Preferences.CATEGORY_ADVANCED_SETTINGS,\n                name: setting,\n                value: this.state.settings[setting]\n            });\n        });\n\n        this.setState({isSaving: true});\n\n        savePreferences(\n            preferences,\n            () => {\n                this.updateSection('');\n            }\n        );\n    }\n\n    updateSection(section) {\n        if (!section) {\n            this.setState(this.getStateFromStores());\n        }\n        this.setState({isSaving: false});\n        this.props.updateSection(section);\n    }\n\n    renderOnOffLabel(enabled) {\n        if (enabled === 'false') {\n            return (\n                <FormattedMessage\n                    id='user.settings.advance.off'\n                    defaultMessage='Off'\n                />\n            );\n        }\n\n        return (\n            <FormattedMessage\n                id='user.settings.advance.on'\n                defaultMessage='On'\n            />\n        );\n    }\n\n    renderFormattingSection() {\n        if (this.props.activeSection === 'formatting') {\n            return (\n                <SettingItemMax\n                    title={\n                        <FormattedMessage\n                            id='user.settings.advance.formattingTitle'\n                            defaultMessage='Enable Post Formatting'\n                        />\n                    }\n                    inputs={[\n                        <div key='formattingSetting'>\n                            <div className='radio'>\n                                <label>\n                                    <input\n                                        id='postFormattingOn'\n                                        type='radio'\n                                        name='formatting'\n                                        checked={this.state.settings.formatting !== 'false'}\n                                        onChange={this.updateSetting.bind(this, 'formatting', 'true')}\n                                    />\n                                    <FormattedMessage\n                                        id='user.settings.advance.on'\n                                        defaultMessage='On'\n                                    />\n                                </label>\n                                <br/>\n                            </div>\n                            <div className='radio'>\n                                <label>\n                                    <input\n                                        id='postFormattingOff'\n                                        type='radio'\n                                        name='formatting'\n                                        checked={this.state.settings.formatting === 'false'}\n                                        onChange={this.updateSetting.bind(this, 'formatting', 'false')}\n                                    />\n                                    <FormattedMessage\n                                        id='user.settings.advance.off'\n                                        defaultMessage='Off'\n                                    />\n                                </label>\n                                <br/>\n                            </div>\n                            <div>\n                                <br/>\n                                <FormattedMessage\n                                    id='user.settings.advance.formattingDesc'\n                                    defaultMessage='If enabled, posts will be formatted to create links, show emoji, style the text, and add line breaks. By default, this setting is enabled. Changing this setting requires the page to be refreshed.'\n                                />\n                            </div>\n                        </div>\n                    ]}\n                    submit={() => this.handleSubmit('formatting')}\n                    saving={this.state.isSaving}\n                    server_error={this.state.serverError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                />\n            );\n        }\n\n        return (\n            <SettingItemMin\n                title={\n                    <FormattedMessage\n                        id='user.settings.advance.formattingTitle'\n                        defaultMessage='Enable Post Formatting'\n                    />\n                }\n                describe={this.renderOnOffLabel(this.state.settings.formatting)}\n                updateSection={() => this.props.updateSection('formatting')}\n            />\n        );\n    }\n\n    renderJoinLeaveSection() {\n        if (window.mm_config.BuildEnterpriseReady === 'true' && window.mm_license && window.mm_license.IsLicensed === 'true') {\n            if (this.props.activeSection === 'join_leave') {\n                return (\n                    <SettingItemMax\n                        title={\n                            <FormattedMessage\n                                id='user.settings.advance.joinLeaveTitle'\n                                defaultMessage='Enable Join/Leave Messages'\n                            />\n                        }\n                        inputs={[\n                            <div key='joinLeaveSetting'>\n                                <div className='radio'>\n                                    <label>\n                                        <input\n                                            id='joinLeaveOn'\n                                            type='radio'\n                                            name='join_leave'\n                                            checked={this.state.settings.join_leave !== 'false'}\n                                            onChange={this.updateSetting.bind(this, 'join_leave', 'true')}\n                                        />\n                                        <FormattedMessage\n                                            id='user.settings.advance.on'\n                                            defaultMessage='On'\n                                        />\n                                    </label>\n                                    <br/>\n                                </div>\n                                <div className='radio'>\n                                    <label>\n                                        <input\n                                            id='joinLeaveOff'\n                                            type='radio'\n                                            name='join_leave'\n                                            checked={this.state.settings.join_leave === 'false'}\n                                            onChange={this.updateSetting.bind(this, 'join_leave', 'false')}\n                                        />\n                                        <FormattedMessage\n                                            id='user.settings.advance.off'\n                                            defaultMessage='Off'\n                                        />\n                                    </label>\n                                    <br/>\n                                </div>\n                                <div>\n                                    <br/>\n                                    <FormattedMessage\n                                        id='user.settings.advance.joinLeaveDesc'\n                                        defaultMessage='When \"On\", System Messages saying a user has joined or left a channel will be visible. When \"Off\", the System Messages about joining or leaving a channel will be hidden. A message will still show up when you are added to a channel, so you can receive a notification.'\n                                    />\n                                </div>\n                            </div>\n                        ]}\n                        submit={() => this.handleSubmit('join_leave')}\n                        saving={this.state.isSaving}\n                        server_error={this.state.serverError}\n                        updateSection={(e) => {\n                            this.updateSection('');\n                            e.preventDefault();\n                        }}\n                    />\n                );\n            }\n\n            return (\n                <SettingItemMin\n                    title={\n                        <FormattedMessage\n                            id='user.settings.advance.joinLeaveTitle'\n                            defaultMessage='Enable Join/Leave Messages'\n                        />\n                    }\n                    describe={this.renderOnOffLabel(this.state.settings.join_leave)}\n                    updateSection={() => this.props.updateSection('join_leave')}\n                />\n            );\n        }\n\n        return null;\n    }\n\n    renderFeatureLabel(feature) {\n        switch (feature) {\n        case 'MARKDOWN_PREVIEW':\n            return (\n                <FormattedMessage\n                    id='user.settings.advance.markdown_preview'\n                    defaultMessage='Show markdown preview option in message input box'\n                />\n            );\n        case 'WEBRTC_PREVIEW':\n            return (\n                <FormattedMessage\n                    id='user.settings.advance.webrtc_preview'\n                    defaultMessage='Enable the ability to make and receive one-on-one WebRTC calls'\n                />\n            );\n        default:\n            return null;\n        }\n    }\n\n    render() {\n        const serverError = this.state.serverError || null;\n        let ctrlSendSection;\n\n        if (this.props.activeSection === 'advancedCtrlSend') {\n            const ctrlSendActive = [\n                this.state.settings.send_on_ctrl_enter === 'true',\n                this.state.settings.send_on_ctrl_enter === 'false'\n            ];\n\n            const inputs = [\n                <div key='ctrlSendSetting'>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='ctrlSendOn'\n                                type='radio'\n                                name='sendOnCtrlEnter'\n                                checked={ctrlSendActive[0]}\n                                onChange={this.updateSetting.bind(this, 'send_on_ctrl_enter', 'true')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.advance.on'\n                                defaultMessage='On'\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='ctrlSendOff'\n                                type='radio'\n                                name='sendOnCtrlEnter'\n                                checked={ctrlSendActive[1]}\n                                onChange={this.updateSetting.bind(this, 'send_on_ctrl_enter', 'false')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.advance.off'\n                                defaultMessage='Off'\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div>\n                        <br/>\n                        <FormattedMessage\n                            id='user.settings.advance.sendDesc'\n                            defaultMessage='If enabled ENTER inserts a new line and CTRL+ENTER submits the message.'\n                        />\n                    </div>\n                </div>\n            ];\n            ctrlSendSection = (\n                <SettingItemMax\n                    title={\n                        <FormattedMessage\n                            id='user.settings.advance.sendTitle'\n                            defaultMessage='Send messages on CTRL+ENTER'\n                        />\n                    }\n                    inputs={inputs}\n                    submit={() => this.handleSubmit('send_on_ctrl_enter')}\n                    saving={this.state.isSaving}\n                    server_error={serverError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                />\n            );\n        } else {\n            ctrlSendSection = (\n                <SettingItemMin\n                    title={\n                        <FormattedMessage\n                            id='user.settings.advance.sendTitle'\n                            defaultMessage='Send messages on CTRL+ENTER'\n                        />\n                    }\n                    describe={this.renderOnOffLabel(this.state.settings.send_on_ctrl_enter)}\n                    updateSection={() => this.props.updateSection('advancedCtrlSend')}\n                />\n            );\n        }\n\n        const formattingSection = this.renderFormattingSection();\n        let formattingSectionDivider = null;\n        if (formattingSection) {\n            formattingSectionDivider = <div className='divider-light'/>;\n        }\n\n        const displayJoinLeaveSection = this.renderJoinLeaveSection();\n        let displayJoinLeaveSectionDivider = null;\n        if (displayJoinLeaveSection) {\n            displayJoinLeaveSectionDivider = <div className='divider-light'/>;\n        }\n\n        let previewFeaturesSection;\n        let previewFeaturesSectionDivider;\n        if (this.state.preReleaseFeaturesKeys.length > 0) {\n            previewFeaturesSectionDivider = (\n                <div className='divider-light'/>\n            );\n\n            if (this.props.activeSection === 'advancedPreviewFeatures') {\n                const inputs = [];\n\n                this.state.preReleaseFeaturesKeys.forEach((key) => {\n                    const feature = this.state.preReleaseFeatures[key];\n                    inputs.push(\n                        <div key={'advancedPreviewFeatures_' + feature.label}>\n                            <div className='checkbox'>\n                                <label>\n                                    <input\n                                        id={'advancedPreviewFeatures' + feature.label}\n                                        type='checkbox'\n                                        checked={this.state.settings[Constants.FeatureTogglePrefix + feature.label] === 'true'}\n                                        onChange={(e) => {\n                                            this.toggleFeature(feature.label, e.target.checked);\n                                        }}\n                                    />\n                                    {this.renderFeatureLabel(key)}\n                                </label>\n                            </div>\n                        </div>\n                    );\n                });\n\n                inputs.push(\n                    <div key='advancedPreviewFeatures_helptext'>\n                        <br/>\n                        <FormattedMessage\n                            id='user.settings.advance.preReleaseDesc'\n                            defaultMessage=\"Check any pre-released features you'd like to preview.  You may also need to refresh the page before the setting will take effect.\"\n                        />\n                    </div>\n                );\n                previewFeaturesSection = (\n                    <SettingItemMax\n                        title={\n                            <FormattedMessage\n                                id='user.settings.advance.preReleaseTitle'\n                                defaultMessage='Preview pre-release features'\n                            />\n                        }\n                        inputs={inputs}\n                        submit={this.saveEnabledFeatures}\n                        saving={this.state.isSaving}\n                        server_error={serverError}\n                        updateSection={(e) => {\n                            this.updateSection('');\n                            e.preventDefault();\n                        }}\n                    />\n                );\n            } else {\n                previewFeaturesSection = (\n                    <SettingItemMin\n                        title={Utils.localizeMessage('user.settings.advance.preReleaseTitle', 'Preview pre-release features')}\n                        describe={\n                            <FormattedMessage\n                                id='user.settings.advance.enabledFeatures'\n                                defaultMessage='{count, number} {count, plural, one {Feature} other {Features}} Enabled'\n                                values={{count: this.state.enabledFeatures}}\n                            />\n                        }\n                        updateSection={() => this.props.updateSection('advancedPreviewFeatures')}\n                    />\n                );\n            }\n        }\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        id='closeButton'\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label='Close'\n                        onClick={this.props.closeModal}\n                    >\n                        <span aria-hidden='true'>{'×'}</span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i\n                                className='fa fa-angle-left'\n                                onClick={this.props.collapseModal}\n                            />\n                        </div>\n                        <FormattedMessage\n                            id='user.settings.advance.title'\n                            defaultMessage='Advanced Settings'\n                        />\n                    </h4>\n                </div>\n                <div className='user-settings'>\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='user.settings.advance.title'\n                            defaultMessage='Advanced Settings'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {ctrlSendSection}\n                    {formattingSectionDivider}\n                    {formattingSection}\n                    {displayJoinLeaveSectionDivider}\n                    {displayJoinLeaveSection}\n                    {previewFeaturesSectionDivider}\n                    {previewFeaturesSection}\n                    <div className='divider-dark'/>\n                </div>\n            </div>\n        );\n    }\n}\n\nAdvancedSettingsDisplay.propTypes = {\n    user: PropTypes.object,\n    updateSection: PropTypes.func,\n    updateTab: PropTypes.func,\n    activeSection: PropTypes.string,\n    closeModal: PropTypes.func.isRequired,\n    collapseModal: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_advanced.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {savePreferences} from 'actions/user_actions.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport * as I18n from 'i18n/i18n.jsx';\n\nimport SettingItemMax from '../setting_item_max.jsx';\nimport SettingItemMin from '../setting_item_min.jsx';\n\nimport ManageLanguages from './manage_languages.jsx';\nimport ThemeSetting from './user_settings_theme.jsx';\n\nconst Preferences = Constants.Preferences;\n\nfunction getDisplayStateFromStores() {\n    return {\n        militaryTime: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, 'use_military_time', 'false'),\n        channelDisplayMode: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.CHANNEL_DISPLAY_MODE, Preferences.CHANNEL_DISPLAY_MODE_DEFAULT),\n        messageDisplay: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT),\n        collapseDisplay: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.COLLAPSE_DISPLAY, Preferences.COLLAPSE_DISPLAY_DEFAULT),\n        linkPreviewDisplay: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.LINK_PREVIEW_DISPLAY, Preferences.LINK_PREVIEW_DISPLAY_DEFAULT)\n    };\n}\n\nexport default class UserSettingsDisplay extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleClockRadio = this.handleClockRadio.bind(this);\n        this.updateSection = this.updateSection.bind(this);\n        this.updateState = this.updateState.bind(this);\n\n        this.state = getDisplayStateFromStores();\n        this.setState({isSaving: false});\n    }\n\n    handleSubmit() {\n        const userId = UserStore.getCurrentId();\n\n        const timePreference = {\n            user_id: userId,\n            category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n            name: 'use_military_time',\n            value: this.state.militaryTime\n        };\n\n        const channelDisplayModePreference = {\n            user_id: userId,\n            category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n            name: Preferences.CHANNEL_DISPLAY_MODE,\n            value: this.state.channelDisplayMode\n        };\n        const messageDisplayPreference = {\n            user_id: userId,\n            category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n            name: Preferences.MESSAGE_DISPLAY,\n            value: this.state.messageDisplay\n        };\n        const collapseDisplayPreference = {\n            user_id: userId,\n            category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n            name: Preferences.COLLAPSE_DISPLAY,\n            value: this.state.collapseDisplay\n        };\n        const linkPreviewDisplayPreference = {\n            user_id: userId,\n            category: Preferences.CATEGORY_DISPLAY_SETTINGS,\n            name: Preferences.LINK_PREVIEW_DISPLAY,\n            value: this.state.linkPreviewDisplay\n        };\n\n        this.setState({isSaving: true});\n\n        savePreferences([timePreference, channelDisplayModePreference, messageDisplayPreference, collapseDisplayPreference, linkPreviewDisplayPreference],\n            () => {\n                this.updateSection('');\n            }\n        );\n    }\n\n    handleClockRadio(militaryTime) {\n        this.setState({militaryTime});\n    }\n\n    handleChannelDisplayModeRadio(channelDisplayMode) {\n        this.setState({channelDisplayMode});\n    }\n\n    handlemessageDisplayRadio(messageDisplay) {\n        this.setState({messageDisplay});\n    }\n\n    handleCollapseRadio(collapseDisplay) {\n        this.setState({collapseDisplay});\n    }\n\n    handleLinkPreviewRadio(linkPreviewDisplay) {\n        this.setState({linkPreviewDisplay});\n    }\n\n    handleOnChange(display) {\n        this.setState({...display});\n    }\n\n    updateSection(section) {\n        this.updateState();\n        this.props.updateSection(section);\n    }\n\n    updateState() {\n        const newState = getDisplayStateFromStores();\n        if (!Utils.areObjectsEqual(newState, this.state)) {\n            this.setState(newState);\n        }\n\n        this.setState({isSaving: false});\n    }\n\n    createSection(props) {\n        const {\n            section,\n            display,\n            value,\n            title,\n            firstOption,\n            secondOption,\n            description\n        } = props;\n\n        const firstMessage = (\n            <FormattedMessage\n                id={firstOption.radionButtonText.id}\n                defaultMessage={firstOption.radionButtonText.message}\n            />\n        );\n\n        let moreColon;\n        let firstMessageMore;\n        if (firstOption.radionButtonText.moreId) {\n            moreColon = ': ';\n            firstMessageMore = (\n                <span className='font-weight--normal'>\n                    <FormattedMessage\n                        id={firstOption.radionButtonText.moreId}\n                        defaultMessage={firstOption.radionButtonText.moreMessage}\n                    />\n                </span>\n            );\n        }\n\n        let secondMessageMore;\n        if (secondOption.radionButtonText.moreId) {\n            secondMessageMore = (\n                <span className='font-weight--normal'>\n                    <FormattedMessage\n                        id={secondOption.radionButtonText.moreId}\n                        defaultMessage={secondOption.radionButtonText.moreMessage}\n                    />\n                </span>\n            );\n        }\n\n        const secondMessage = (\n            <FormattedMessage\n                id={secondOption.radionButtonText.id}\n                defaultMessage={secondOption.radionButtonText.message}\n            />\n        );\n\n        const messageTitle = (\n            <FormattedMessage\n                id={title.id}\n                defaultMessage={title.message}\n            />\n        );\n\n        const messageDesc = (\n            <FormattedMessage\n                id={description.id}\n                defaultMessage={description.message}\n            />\n        );\n\n        if (this.props.activeSection === section) {\n            const format = [false, false];\n            if (value === firstOption.value) {\n                format[0] = true;\n            } else {\n                format[1] = true;\n            }\n\n            const handleUpdateSection = (e) => {\n                this.updateSection('');\n                e.preventDefault();\n            };\n\n            const name = section + 'Format';\n            const key = section + 'UserDisplay';\n\n            const firstDisplay = {};\n            firstDisplay[display] = firstOption.value;\n\n            const secondDisplay = {};\n            secondDisplay[display] = secondOption.value;\n\n            const inputs = [\n                <div key={key}>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id={name + 'A'}\n                                type='radio'\n                                name={name}\n                                checked={format[0]}\n                                onChange={() => this.handleOnChange(firstDisplay)}\n                            />\n                            {firstMessage}\n                            {moreColon}\n                            {firstMessageMore}\n                        </label>\n                        <br/>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id={name + 'B'}\n                                type='radio'\n                                name={name}\n                                checked={format[1]}\n                                onChange={() => this.handleOnChange(secondDisplay)}\n                            />\n                            {secondMessage}\n                            {moreColon}\n                            {secondMessageMore}\n                        </label>\n                        <br/>\n                    </div>\n                    <div>\n                        <br/>\n                        {messageDesc}\n                    </div>\n                </div>\n            ];\n\n            return (\n                <SettingItemMax\n                    title={messageTitle}\n                    inputs={inputs}\n                    submit={this.handleSubmit}\n                    saving={this.state.isSaving}\n                    server_error={this.state.serverError}\n                    updateSection={handleUpdateSection}\n                />\n            );\n        }\n\n        let describe;\n        if (value === firstOption.value) {\n            describe = firstMessage;\n        } else {\n            describe = secondMessage;\n        }\n\n        const handleUpdateSection = () => {\n            this.props.updateSection(section);\n        };\n\n        return (\n            <SettingItemMin\n                title={messageTitle}\n                describe={describe}\n                updateSection={handleUpdateSection}\n            />\n        );\n    }\n\n    render() {\n        const collapseSection = this.createSection({\n            section: 'collapse',\n            display: 'collapseDisplay',\n            value: this.state.collapseDisplay,\n            defaultDisplay: 'false',\n            title: {\n                id: 'user.settings.display.collapseDisplay',\n                message: 'Default appearance of image link previews'\n            },\n            firstOption: {\n                value: 'false',\n                radionButtonText: {\n                    id: 'user.settings.display.collapseOn',\n                    message: 'On'\n                }\n            },\n            secondOption: {\n                value: 'true',\n                radionButtonText: {\n                    id: 'user.settings.display.collapseOff',\n                    message: 'Off'\n                }\n            },\n            description: {\n                id: 'user.settings.display.collapseDesc',\n                message: 'Set whether previews of image links show as expanded or collapsed by default. This setting can also be controlled using the slash commands /expand and /collapse.'\n            }\n        });\n\n        const isEnableLinkPreviews = global.window.mm_config.EnableLinkPreviews === 'true';\n        let linkPreviewSection = null;\n        let divider = null;\n        if (isEnableLinkPreviews) {\n            linkPreviewSection = this.createSection({\n                section: 'linkpreview',\n                display: 'linkPreviewDisplay',\n                value: this.state.linkPreviewDisplay,\n                defaultDisplay: 'true',\n                title: {\n                    id: 'user.settings.display.linkPreviewDisplay',\n                    message: 'Website Link Previews'\n                },\n                firstOption: {\n                    value: 'true',\n                    radionButtonText: {\n                        id: 'user.settings.display.linkPreviewOn',\n                        message: 'On'\n                    }\n                },\n                secondOption: {\n                    value: 'false',\n                    radionButtonText: {\n                        id: 'user.settings.display.linkPreviewOff',\n                        message: 'Off'\n                    }\n                },\n                description: {\n                    id: 'user.settings.display.linkPreviewDesc',\n                    message: 'When available, the first web link in a message will show a preview of the website content below the message.'\n                }\n            });\n            divider = <div className='divider-dark'/>;\n        }\n\n        const clockSection = this.createSection({\n            section: 'clock',\n            display: 'militaryTime',\n            value: this.state.militaryTime,\n            defaultDisplay: 'false',\n            title: {\n                id: 'user.settings.display.clockDisplay',\n                message: 'Clock Display'\n            },\n            firstOption: {\n                value: 'false',\n                radionButtonText: {\n                    id: 'user.settings.display.normalClock',\n                    message: '12-hour clock (example: 4:00 PM)'\n                }\n            },\n            secondOption: {\n                value: 'true',\n                radionButtonText: {\n                    id: 'user.settings.display.militaryClock',\n                    message: '24-hour clock (example: 16:00)'\n                }\n            },\n            description: {\n                id: 'user.settings.display.preferTime',\n                message: 'Select how you prefer time displayed.'\n            }\n        });\n\n        const messageDisplaySection = this.createSection({\n            section: Preferences.MESSAGE_DISPLAY,\n            display: 'messageDisplay',\n            value: this.state.messageDisplay,\n            defaultDisplay: Preferences.MESSAGE_DISPLAY_CLEAN,\n            title: {\n                id: 'user.settings.display.messageDisplayTitle',\n                message: 'Message Display'\n            },\n            firstOption: {\n                value: Preferences.MESSAGE_DISPLAY_CLEAN,\n                radionButtonText: {\n                    id: 'user.settings.display.messageDisplayClean',\n                    message: 'Standard',\n                    moreId: 'user.settings.display.messageDisplayCleanDes',\n                    moreMessage: 'Easy to scan and read.'\n                }\n            },\n            secondOption: {\n                value: Preferences.MESSAGE_DISPLAY_COMPACT,\n                radionButtonText: {\n                    id: 'user.settings.display.messageDisplayCompact',\n                    message: 'Compact',\n                    moreId: 'user.settings.display.messageDisplayCompactDes',\n                    moreMessage: 'Fit as many messages on the screen as we can.'\n                }\n            },\n            description: {\n                id: 'user.settings.display.messageDisplayDescription',\n                message: 'Select how messages in a channel should be displayed.'\n            }\n        });\n\n        const channelDisplayModeSection = this.createSection({\n            section: Preferences.CHANNEL_DISPLAY_MODE,\n            display: 'channelDisplayMode',\n            value: this.state.channelDisplayMode,\n            defaultDisplay: Preferences.CHANNEL_DISPLAY_MODE_FULL_SCREEN,\n            title: {\n                id: 'user.settings.display.channelDisplayTitle',\n                message: 'Channel Display Mode'\n            },\n            firstOption: {\n                value: Preferences.CHANNEL_DISPLAY_MODE_FULL_SCREEN,\n                radionButtonText: {\n                    id: 'user.settings.display.fullScreen',\n                    message: 'Full width'\n                }\n            },\n            secondOption: {\n                value: Preferences.CHANNEL_DISPLAY_MODE_CENTERED,\n                radionButtonText: {\n                    id: 'user.settings.display.fixedWidthCentered',\n                    message: 'Fixed width, centered'\n                }\n            },\n            description: {\n                id: 'user.settings.display.channeldisplaymode',\n                message: 'Select the width of the center channel.'\n            }\n        });\n\n        let languagesSection;\n        let userLocale = this.props.user.locale;\n        if (this.props.activeSection === 'languages') {\n            if (!I18n.isLanguageAvailable(userLocale)) {\n                userLocale = global.window.mm_config.DefaultClientLocale;\n            }\n            languagesSection = (\n                <ManageLanguages\n                    user={this.props.user}\n                    locale={userLocale}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                />\n            );\n        } else {\n            let locale;\n            if (I18n.isLanguageAvailable(userLocale)) {\n                locale = I18n.getLanguageInfo(userLocale).name;\n            } else {\n                locale = I18n.getLanguageInfo(global.window.mm_config.DefaultClientLocale).name;\n            }\n\n            languagesSection = (\n                <SettingItemMin\n                    title={\n                        <FormattedMessage\n                            id='user.settings.display.language'\n                            defaultMessage='Language'\n                        />\n                    }\n                    width='medium'\n                    describe={locale}\n                    updateSection={() => {\n                        this.updateSection('languages');\n                    }}\n                />\n            );\n        }\n\n        let themeSection;\n        if (global.mm_config.EnableThemeSelection !== 'false') {\n            themeSection = (\n                <ThemeSetting\n                    selected={this.props.activeSection === 'theme'}\n                    updateSection={this.updateSection}\n                    setRequireConfirm={this.props.setRequireConfirm}\n                    setEnforceFocus={this.props.setEnforceFocus}\n                />\n            );\n        }\n\n        return (\n            <div id='displaySettings'>\n                <div className='modal-header'>\n                    <button\n                        id='closeButton'\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label='Close'\n                        onClick={this.props.closeModal}\n                    >\n                        <span aria-hidden='true'>{'×'}</span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i\n                                className='fa fa-angle-left'\n                                onClick={this.props.collapseModal}\n                            />\n                        </div>\n                        <FormattedMessage\n                            id='user.settings.display.title'\n                            defaultMessage='Display Settings'\n                        />\n                    </h4>\n                </div>\n                <div className='user-settings'>\n                    <h3\n                        id='displaySettingsTitle'\n                        className='tab-header'\n                    >\n                        <FormattedMessage\n                            id='user.settings.display.title'\n                            defaultMessage='Display Settings'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {themeSection}\n                    <div className='divider-dark'/>\n                    {clockSection}\n                    {divider}\n                    {linkPreviewSection}\n                    <div className='divider-dark'/>\n                    {collapseSection}\n                    <div className='divider-dark'/>\n                    {messageDisplaySection}\n                    <div className='divider-dark'/>\n                    {channelDisplayModeSection}\n                    <div className='divider-dark'/>\n                    {languagesSection}\n                </div>\n            </div>\n        );\n    }\n}\n\nUserSettingsDisplay.propTypes = {\n    user: PropTypes.object,\n    updateSection: PropTypes.func,\n    updateTab: PropTypes.func,\n    activeSection: PropTypes.string,\n    closeModal: PropTypes.func.isRequired,\n    collapseModal: PropTypes.func.isRequired,\n    setRequireConfirm: PropTypes.func.isRequired,\n    setEnforceFocus: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_display.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedHTMLMessage, FormattedMessage} from 'react-intl';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {updateUser} from 'actions/user_actions.jsx';\n\nimport Constants from 'utils/constants.jsx';\n\nimport * as I18n from 'i18n/i18n.jsx';\n\nimport SettingItemMax from '../setting_item_max.jsx';\n\nexport default class ManageLanguage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.setLanguage = this.setLanguage.bind(this);\n        this.changeLanguage = this.changeLanguage.bind(this);\n        this.submitUser = this.submitUser.bind(this);\n        this.state = {\n            locale: props.locale,\n            isSaving: false\n        };\n    }\n\n    setLanguage(e) {\n        this.setState({locale: e.target.value});\n    }\n    changeLanguage(e) {\n        e.preventDefault();\n\n        this.submitUser({\n            ...this.props.user,\n            locale: this.state.locale\n        });\n    }\n    submitUser(user) {\n        this.setState({isSaving: true});\n\n        updateUser(user, Constants.UserUpdateEvents.LANGUAGE,\n            () => {\n                GlobalActions.newLocalizationSelected(user.locale);\n                this.setState({isSaving: false});\n            },\n            (err) => {\n                let serverError;\n                if (err.message) {\n                    serverError = err.message;\n                } else {\n                    serverError = err;\n                }\n                this.setState({serverError, isSaving: false});\n            }\n        );\n    }\n    render() {\n        let serverError;\n        if (this.state.serverError) {\n            serverError = <label className='has-error'>{this.state.serverError}</label>;\n        }\n\n        const options = [];\n        const locales = I18n.getLanguages();\n\n        const languages = Object.keys(locales).map((l) => {\n            return {\n                value: locales[l].value,\n                name: locales[l].name,\n                order: locales[l].order\n            };\n        }).\n        sort((a, b) => a.order - b.order);\n\n        languages.forEach((lang) => {\n            options.push(\n                <option\n                    key={lang.value}\n                    value={lang.value}\n                >\n                    {lang.name}\n                </option>\n            );\n        });\n\n        const input = (\n            <div key='changeLanguage'>\n                <br/>\n                <label className='control-label'>\n                    <FormattedMessage\n                        id='user.settings.languages.change'\n                        defaultMessage='Change interface language'\n                    />\n                </label>\n                <div className='padding-top'>\n                    <select\n                        id='displayLanguage'\n                        ref='language'\n                        className='form-control'\n                        value={this.state.locale}\n                        onChange={this.setLanguage}\n                    >\n                        {options}\n                    </select>\n                    {serverError}\n                </div>\n                <div>\n                    <br/>\n                    <FormattedHTMLMessage\n                        id='user.settings.languages.promote'\n                        defaultMessage='Select which language Mattermost displays in the user interface.<br /><br />Would like to help with translations? Join the <a href=\"http://translate.mattermost.com/\" target=\"_blank\">Mattermost Translation Server</a> to contribute.'\n                    />\n                </div>\n            </div>\n        );\n\n        return (\n            <SettingItemMax\n                title={\n                    <FormattedMessage\n                        id='user.settings.display.language'\n                        defaultMessage='Language'\n                    />\n                }\n                width='medium'\n                submit={this.changeLanguage}\n                saving={this.state.isSaving}\n                inputs={[input]}\n                updateSection={this.props.updateSection}\n            />\n        );\n    }\n}\n\nManageLanguage.propTypes = {\n    user: PropTypes.object.isRequired,\n    locale: PropTypes.string.isRequired,\n    updateSection: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/manage_languages.jsx","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nimport * as UserActions from 'actions/user_actions.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport {ActionTypes, Constants, Preferences} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport AppDispatcher from '../../dispatcher/app_dispatcher.jsx';\nimport SettingItemMax from '../setting_item_max.jsx';\nimport SettingItemMin from '../setting_item_min.jsx';\n\nimport CustomThemeChooser from './custom_theme_chooser.jsx';\nimport PremadeThemeChooser from './premade_theme_chooser.jsx';\n\nexport default class ThemeSetting extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onChange = this.onChange.bind(this);\n        this.submitTheme = this.submitTheme.bind(this);\n        this.updateTheme = this.updateTheme.bind(this);\n        this.resetFields = this.resetFields.bind(this);\n        this.handleImportModal = this.handleImportModal.bind(this);\n\n        this.state = this.getStateFromStores();\n        this.setState({isSaving: false});\n\n        this.originalTheme = Object.assign({}, this.state.theme);\n    }\n\n    componentDidMount() {\n        UserStore.addChangeListener(this.onChange);\n\n        if (this.props.selected) {\n            $(ReactDOM.findDOMNode(this.refs[this.state.theme])).addClass('active-border');\n        }\n    }\n\n    componentDidUpdate() {\n        if (this.props.selected) {\n            $('.color-btn').removeClass('active-border');\n            $(ReactDOM.findDOMNode(this.refs[this.state.theme])).addClass('active-border');\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (this.props.selected && !nextProps.selected) {\n            this.resetFields();\n        }\n    }\n\n    componentWillUnmount() {\n        UserStore.removeChangeListener(this.onChange);\n\n        if (this.props.selected) {\n            const state = this.getStateFromStores();\n            Utils.applyTheme(state.theme);\n        }\n    }\n\n    getStateFromStores() {\n        const teamId = TeamStore.getCurrentId();\n\n        const theme = PreferenceStore.getTheme(teamId);\n        if (!theme.codeTheme) {\n            theme.codeTheme = Constants.DEFAULT_CODE_THEME;\n        }\n\n        let showAllTeamsCheckbox = false;\n        let applyToAllTeams = true;\n\n        if (global.window.mm_license.IsLicensed === 'true' && global.window.mm_license.LDAP === 'true') {\n            // show the \"apply to all teams\" checkbox if the user is on more than one team\n            showAllTeamsCheckbox = Object.keys(TeamStore.getAll()).length > 1;\n\n            // check the \"apply to all teams\" checkbox by default if the user has any team-specific themes\n            applyToAllTeams = PreferenceStore.getCategory(Preferences.CATEGORY_THEME).size <= 1;\n        }\n\n        return {\n            teamId: TeamStore.getCurrentId(),\n            theme,\n            type: theme.type || 'premade',\n            showAllTeamsCheckbox,\n            applyToAllTeams\n        };\n    }\n\n    onChange() {\n        const newState = this.getStateFromStores();\n\n        if (!Utils.areObjectsEqual(this.state, newState)) {\n            this.setState(newState);\n        }\n\n        this.props.setEnforceFocus(true);\n    }\n\n    scrollToTop() {\n        $('.ps-container.modal-body').scrollTop(0);\n    }\n\n    submitTheme(e) {\n        e.preventDefault();\n\n        const teamId = this.state.applyToAllTeams ? '' : this.state.teamId;\n\n        this.setState({isSaving: true});\n\n        UserActions.saveTheme(\n            teamId,\n            this.state.theme,\n            () => {\n                this.props.setRequireConfirm(false);\n                this.originalTheme = Object.assign({}, this.state.theme);\n                this.scrollToTop();\n                this.props.updateSection('');\n                this.setState({isSaving: false});\n            }\n        );\n    }\n\n    updateTheme(theme) {\n        let themeChanged = this.state.theme.length === theme.length;\n        if (!themeChanged) {\n            for (const field in theme) {\n                if (theme.hasOwnProperty(field)) {\n                    if (this.state.theme[field] !== theme[field]) {\n                        themeChanged = true;\n                        break;\n                    }\n                }\n            }\n        }\n\n        this.props.setRequireConfirm(themeChanged);\n\n        this.setState({theme});\n        Utils.applyTheme(theme);\n    }\n\n    updateType(type) {\n        this.setState({type});\n    }\n\n    resetFields() {\n        const state = this.getStateFromStores();\n        state.serverError = null;\n        this.setState(state);\n        this.scrollToTop();\n\n        Utils.applyTheme(state.theme);\n\n        this.props.setRequireConfirm(false);\n    }\n\n    handleImportModal() {\n        AppDispatcher.handleViewAction({\n            type: ActionTypes.TOGGLE_IMPORT_THEME_MODAL,\n            value: true,\n            callback: this.updateTheme\n        });\n\n        this.props.setEnforceFocus(false);\n    }\n\n    render() {\n        var serverError;\n        if (this.state.serverError) {\n            serverError = this.state.serverError;\n        }\n\n        const displayCustom = this.state.type === 'custom';\n        const allowCustomThemes = global.mm_config.AllowCustomThemes !== 'false';\n\n        let custom;\n        let premade;\n        if (displayCustom && allowCustomThemes) {\n            custom = (\n                <div key='customThemeChooser'>\n                    <CustomThemeChooser\n                        theme={this.state.theme}\n                        updateTheme={this.updateTheme}\n                    />\n                </div>\n            );\n        } else {\n            premade = (\n                <div key='premadeThemeChooser'>\n                    <br/>\n                    <PremadeThemeChooser\n                        theme={this.state.theme}\n                        updateTheme={this.updateTheme}\n                    />\n                </div>\n            );\n        }\n\n        let themeUI;\n        if (this.props.selected) {\n            const inputs = [];\n\n            if (allowCustomThemes) {\n                inputs.push(\n                    <div\n                        className='radio'\n                        key='premadeThemeColorLabel'\n                    >\n                        <label>\n                            <input\n                                id='standardThemes'\n                                type='radio'\n                                name='theme'\n                                checked={!displayCustom}\n                                onChange={this.updateType.bind(this, 'premade')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.display.theme.themeColors'\n                                defaultMessage='Theme Colors'\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                );\n            }\n\n            inputs.push(premade);\n\n            if (allowCustomThemes) {\n                inputs.push(\n                    <div\n                        className='radio'\n                        key='customThemeColorLabel'\n                    >\n                        <label>\n                            <input\n                                id='customThemes'\n                                type='radio'\n                                name='theme'\n                                checked={displayCustom}\n                                onChange={this.updateType.bind(this, 'custom')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.display.theme.customTheme'\n                                defaultMessage='Custom Theme'\n                            />\n                        </label>\n                    </div>\n                );\n\n                inputs.push(custom);\n\n                inputs.push(\n                    <div key='otherThemes'>\n                        <br/>\n                        <a\n                            id='otherThemes'\n                            href='http://docs.mattermost.com/help/settings/theme-colors.html#custom-theme-examples'\n                            target='_blank'\n                            rel='noopener noreferrer'\n                        >\n                            <FormattedMessage\n                                id='user.settings.display.theme.otherThemes'\n                                defaultMessage='See other themes'\n                            />\n                        </a>\n                    </div>\n                );\n\n                inputs.push(\n                    <div\n                        key='importSlackThemeButton'\n                        className='padding-top'\n                    >\n                        <a\n                            id='slackImportTheme'\n                            className='theme'\n                            onClick={this.handleImportModal}\n                        >\n                            <FormattedMessage\n                                id='user.settings.display.theme.import'\n                                defaultMessage='Import theme colors from Slack'\n                            />\n                        </a>\n                    </div>\n                );\n            }\n\n            let allTeamsCheckbox = null;\n            if (this.state.showAllTeamsCheckbox) {\n                allTeamsCheckbox = (\n                    <div className='checkbox user-settings__submit-checkbox'>\n                        <label>\n                            <input\n                                id='applyThemeToAllTeams'\n                                type='checkbox'\n                                checked={this.state.applyToAllTeams}\n                                onChange={(e) => this.setState({applyToAllTeams: e.target.checked})}\n                            />\n                            <FormattedMessage\n                                id='user.settings.display.theme.applyToAllTeams'\n                                defaultMessage='Apply new theme to all my teams'\n                            />\n                        </label>\n                    </div>\n                );\n            }\n\n            themeUI = (\n                <SettingItemMax\n                    inputs={inputs}\n                    submitExtra={allTeamsCheckbox}\n                    submit={this.submitTheme}\n                    saving={this.state.isSaving}\n                    server_error={serverError}\n                    width='full'\n                    updateSection={(e) => {\n                        this.props.updateSection('');\n                        e.preventDefault();\n                    }}\n                />\n            );\n        } else {\n            themeUI = (\n                <SettingItemMin\n                    title={\n                        <FormattedMessage\n                            id='user.settings.display.theme.title'\n                            defaultMessage='Theme'\n                        />\n                    }\n                    describe={\n                        <FormattedMessage\n                            id='user.settings.display.theme.describe'\n                            defaultMessage='Open to manage your theme'\n                        />\n                    }\n                    updateSection={() => {\n                        this.props.updateSection('theme');\n                    }}\n                />\n            );\n        }\n\n        return themeUI;\n    }\n}\n\nThemeSetting.propTypes = {\n    selected: PropTypes.bool.isRequired,\n    updateSection: PropTypes.func.isRequired,\n    setRequireConfirm: PropTypes.func.isRequired,\n    setEnforceFocus: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_theme.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Popover} from 'react-bootstrap';\nimport {defineMessages, FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport 'bootstrap-colorpicker';\n\nimport Constants from 'utils/constants.jsx';\nimport * as UserAgent from 'utils/user_agent.jsx';\n\nimport ColorChooser from './color_chooser.jsx';\n\nconst messages = defineMessages({\n    sidebarBg: {\n        id: 'user.settings.custom_theme.sidebarBg',\n        defaultMessage: 'Sidebar BG'\n    },\n    sidebarText: {\n        id: 'user.settings.custom_theme.sidebarText',\n        defaultMessage: 'Sidebar Text'\n    },\n    sidebarHeaderBg: {\n        id: 'user.settings.custom_theme.sidebarHeaderBg',\n        defaultMessage: 'Sidebar Header BG'\n    },\n    sidebarHeaderTextColor: {\n        id: 'user.settings.custom_theme.sidebarHeaderTextColor',\n        defaultMessage: 'Sidebar Header Text'\n    },\n    sidebarUnreadText: {\n        id: 'user.settings.custom_theme.sidebarUnreadText',\n        defaultMessage: 'Sidebar Unread Text'\n    },\n    sidebarTextHoverBg: {\n        id: 'user.settings.custom_theme.sidebarTextHoverBg',\n        defaultMessage: 'Sidebar Text Hover BG'\n    },\n    sidebarTextActiveBorder: {\n        id: 'user.settings.custom_theme.sidebarTextActiveBorder',\n        defaultMessage: 'Sidebar Text Active Border'\n    },\n    sidebarTextActiveColor: {\n        id: 'user.settings.custom_theme.sidebarTextActiveColor',\n        defaultMessage: 'Sidebar Text Active Color'\n    },\n    onlineIndicator: {\n        id: 'user.settings.custom_theme.onlineIndicator',\n        defaultMessage: 'Online Indicator'\n    },\n    awayIndicator: {\n        id: 'user.settings.custom_theme.awayIndicator',\n        defaultMessage: 'Away Indicator'\n    },\n    mentionBj: {\n        id: 'user.settings.custom_theme.mentionBj',\n        defaultMessage: 'Mention Jewel BG'\n    },\n    mentionColor: {\n        id: 'user.settings.custom_theme.mentionColor',\n        defaultMessage: 'Mention Jewel Text'\n    },\n    centerChannelBg: {\n        id: 'user.settings.custom_theme.centerChannelBg',\n        defaultMessage: 'Center Channel BG'\n    },\n    centerChannelColor: {\n        id: 'user.settings.custom_theme.centerChannelColor',\n        defaultMessage: 'Center Channel Text'\n    },\n    newMessageSeparator: {\n        id: 'user.settings.custom_theme.newMessageSeparator',\n        defaultMessage: 'New Message Separator'\n    },\n    linkColor: {\n        id: 'user.settings.custom_theme.linkColor',\n        defaultMessage: 'Link Color'\n    },\n    buttonBg: {\n        id: 'user.settings.custom_theme.buttonBg',\n        defaultMessage: 'Button BG'\n    },\n    buttonColor: {\n        id: 'user.settings.custom_theme.buttonColor',\n        defaultMessage: 'Button Text'\n    },\n    errorTextColor: {\n        id: 'user.settings.custom_theme.errorTextColor',\n        defaultMessage: 'Error Text Color'\n    },\n    mentionHighlightBg: {\n        id: 'user.settings.custom_theme.mentionHighlightBg',\n        defaultMessage: 'Mention Highlight BG'\n    },\n    mentionHighlightLink: {\n        id: 'user.settings.custom_theme.mentionHighlightLink',\n        defaultMessage: 'Mention Highlight Link'\n    },\n    codeTheme: {\n        id: 'user.settings.custom_theme.codeTheme',\n        defaultMessage: 'Code Theme'\n    }\n});\n\nclass CustomThemeChooser extends React.Component {\n    constructor(props) {\n        super(props);\n        this.selectTheme = this.selectTheme.bind(this);\n\n        const copyTheme = Object.assign({}, this.props.theme);\n        delete copyTheme.type;\n        delete copyTheme.image;\n\n        this.state = {\n            copyTheme: JSON.stringify(copyTheme)\n        };\n    }\n\n    componentDidMount() {\n        $('.group--code').on('change', this.onCodeThemeChange);\n    }\n\n    componentWillUnmount() {\n        $('.group--code').off('change', this.onCodeThemeChange);\n    }\n\n    handleColorChange = (settingId, color) => {\n        const {updateTheme, theme} = this.props;\n        if (theme[settingId] !== color) {\n            updateTheme({\n                ...theme,\n                type: 'custom',\n                [settingId]: color\n            });\n        }\n    }\n\n    pasteBoxChange = (e) => {\n        let text = '';\n\n        if (window.clipboardData && window.clipboardData.getData) { // IE\n            text = window.clipboardData.getData('Text');\n        } else {\n            text = e.clipboardData.getData('Text');//e.clipboardData.getData('text/plain');\n        }\n\n        if (text.length === 0) {\n            return;\n        }\n\n        let theme;\n        try {\n            theme = JSON.parse(text);\n        } catch (err) {\n            return;\n        }\n\n        this.setState({\n            copyTheme: JSON.stringify(theme)\n        });\n\n        theme.type = 'custom';\n        this.props.updateTheme(theme);\n    }\n\n    onChangeHandle = (e) => {\n        e.stopPropagation();\n    }\n\n    selectTheme() {\n        const textarea = this.refs.textarea;\n        textarea.focus();\n        textarea.setSelectionRange(0, this.state.copyTheme.length);\n    }\n\n    toggleSidebarStyles = (e) => {\n        e.preventDefault();\n\n        $(this.refs.sidebarStylesHeader).toggleClass('open');\n        this.toggleSection(this.refs.sidebarStyles);\n    }\n\n    toggleCenterChannelStyles = (e) => {\n        e.preventDefault();\n\n        $(this.refs.centerChannelStylesHeader).toggleClass('open');\n        this.toggleSection(this.refs.centerChannelStyles);\n    }\n\n    toggleLinkAndButtonStyles = (e) => {\n        e.preventDefault();\n\n        $(this.refs.linkAndButtonStylesHeader).toggleClass('open');\n        this.toggleSection(this.refs.linkAndButtonStyles);\n    }\n\n    toggleSection(node) {\n        if (UserAgent.isIos()) {\n            // iOS doesn't support jQuery animations\n            $(node).toggleClass('open');\n        } else {\n            $(node).slideToggle();\n        }\n    }\n\n    onCodeThemeChange = (e) => {\n        const theme = this.props.theme;\n        theme.codeTheme = e.target.value;\n        this.props.updateTheme(theme);\n    }\n\n    render() {\n        const {formatMessage} = this.props.intl;\n        const theme = this.props.theme;\n\n        const sidebarElements = [];\n        const centerChannelElements = [];\n        const linkAndButtonElements = [];\n        Constants.THEME_ELEMENTS.forEach((element, index) => {\n            if (element.id === 'codeTheme') {\n                const codeThemeOptions = [];\n                let codeThemeURL = '';\n\n                element.themes.forEach((codeTheme, codeThemeIndex) => {\n                    if (codeTheme.id === theme[element.id]) {\n                        codeThemeURL = codeTheme.iconURL;\n                    }\n                    codeThemeOptions.push(\n                        <option\n                            key={'code-theme-key' + codeThemeIndex}\n                            value={codeTheme.id}\n                        >\n                            {codeTheme.uiName}\n                        </option>\n                    );\n                });\n\n                var popoverContent = (\n                    <Popover\n                        bsStyle='info'\n                        id='code-popover'\n                        className='code-popover'\n                    >\n                        <img\n                            width='200'\n                            src={codeThemeURL}\n                        />\n                    </Popover>\n                );\n\n                centerChannelElements.push(\n                    <div\n                        className='col-sm-6 form-group'\n                        key={'custom-theme-key' + index}\n                    >\n                        <label className='custom-label'>{formatMessage(messages[element.id])}</label>\n                        <div\n                            className='input-group theme-group group--code dropdown'\n                            id={element.id}\n                        >\n                            <select\n                                className='form-control'\n                                type='text'\n                                defaultValue={theme[element.id]}\n                            >\n                                {codeThemeOptions}\n                            </select>\n                            <OverlayTrigger\n                                trigger={['hover', 'focus']}\n                                placement='top'\n                                overlay={popoverContent}\n                                ref='headerOverlay'\n                            >\n                                <span className='input-group-addon'>\n                                    <img\n                                        src={codeThemeURL}\n                                    />\n                                </span>\n                            </OverlayTrigger>\n                        </div>\n                    </div>\n                );\n            } else if (element.group === 'centerChannelElements') {\n                centerChannelElements.push(\n                    <div\n                        className='col-sm-6 form-group element'\n                        key={'custom-theme-key' + index}\n                    >\n                        <ColorChooser\n                            id={element.id}\n                            label={formatMessage(messages[element.id])}\n                            color={theme[element.id]}\n                            onChange={this.handleColorChange}\n                        />\n                    </div>\n                );\n            } else if (element.group === 'sidebarElements') {\n                sidebarElements.push(\n                    <div\n                        className='col-sm-6 form-group element'\n                        key={'custom-theme-key' + index}\n                    >\n                        <ColorChooser\n                            id={element.id}\n                            label={formatMessage(messages[element.id])}\n                            color={theme[element.id]}\n                            onChange={this.handleColorChange}\n                        />\n                    </div>\n                );\n            } else {\n                linkAndButtonElements.push(\n                    <div\n                        className='col-sm-6 form-group element'\n                        key={'custom-theme-key' + index}\n                    >\n                        <ColorChooser\n                            id={element.id}\n                            label={formatMessage(messages[element.id])}\n                            color={theme[element.id]}\n                            onChange={this.handleColorChange}\n                        />\n                    </div>\n                );\n            }\n        });\n\n        const pasteBox = (\n            <div className='col-sm-12'>\n                <label className='custom-label'>\n                    <FormattedMessage\n                        id='user.settings.custom_theme.copyPaste'\n                        defaultMessage='Copy and paste to share theme colors:'\n                    />\n                </label>\n                <textarea\n                    ref='textarea'\n                    className='form-control'\n                    value={this.state.copyTheme}\n                    onPaste={this.pasteBoxChange}\n                    onChange={this.onChangeHandle}\n                    onClick={this.selectTheme}\n                />\n            </div>\n        );\n\n        return (\n            <div className='appearance-section padding-top'>\n                <div className='theme-elements row'>\n                    <div\n                        ref='sidebarStylesHeader'\n                        className='theme-elements__header'\n                        onClick={this.toggleSidebarStyles}\n                    >\n                        <FormattedMessage\n                            id='user.settings.custom_theme.sidebarTitle'\n                            defaultMessage='Sidebar Styles'\n                        />\n                        <div className='header__icon'>\n                            <i className='fa fa-plus'/>\n                            <i className='fa fa-minus'/>\n                        </div>\n                    </div>\n                    <div\n                        ref='sidebarStyles'\n                        className='theme-elements__body'\n                    >\n                        {sidebarElements}\n                    </div>\n                </div>\n                <div className='theme-elements row'>\n                    <div\n                        ref='centerChannelStylesHeader'\n                        className='theme-elements__header'\n                        onClick={this.toggleCenterChannelStyles}\n                    >\n                        <FormattedMessage\n                            id='user.settings.custom_theme.centerChannelTitle'\n                            defaultMessage='Center Channel Styles'\n                        />\n                        <div className='header__icon'>\n                            <i className='fa fa-plus'/>\n                            <i className='fa fa-minus'/>\n                        </div>\n                    </div>\n                    <div\n                        ref='centerChannelStyles'\n                        className='theme-elements__body'\n                    >\n                        {centerChannelElements}\n                    </div>\n                </div>\n                <div className='theme-elements row form-group'>\n                    <div\n                        ref='linkAndButtonStylesHeader'\n                        className='theme-elements__header'\n                        onClick={this.toggleLinkAndButtonStyles}\n                    >\n                        <FormattedMessage\n                            id='user.settings.custom_theme.linkButtonTitle'\n                            defaultMessage='Link and Button Styles'\n                        />\n                        <div className='header__icon'>\n                            <i className='fa fa-plus'/>\n                            <i className='fa fa-minus'/>\n                        </div>\n                    </div>\n                    <div\n                        ref='linkAndButtonStyles'\n                        className='theme-elements__body'\n                    >\n                        {linkAndButtonElements}\n                    </div>\n                </div>\n                <div className='row'>\n                    {pasteBox}\n                </div>\n            </div>\n        );\n    }\n}\n\nCustomThemeChooser.propTypes = {\n    intl: intlShape.isRequired,\n    theme: PropTypes.object.isRequired,\n    updateTheme: PropTypes.func.isRequired\n};\n\nexport default injectIntl(CustomThemeChooser);\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/custom_theme_chooser.jsx","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*!\n * Bootstrap Colorpicker v2.5.2\n * https://itsjavi.com/bootstrap-colorpicker/\n *\n * Originally written by (c) 2012 Stefan Petre\n * Licensed under the Apache License v2.0\n * http://www.apache.org/licenses/LICENSE-2.0.txt\n *\n */\n\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define([\"jquery\"], function(jq) {\n      return (factory(jq));\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require(\"jquery\"));\n  } else if (jQuery && !jQuery.fn.colorpicker) {\n    factory(jQuery);\n  }\n}(this, function($) {\n  'use strict';\n  /**\n   * Color manipulation helper class\n   *\n   * @param {Object|String} [val]\n   * @param {Object} [predefinedColors]\n   * @param {String|null} [fallbackColor]\n   * @param {String|null} [fallbackFormat]\n   * @param {Boolean} [hexNumberSignPrefix]\n   * @constructor\n   */\n  var Color = function(\n    val, predefinedColors, fallbackColor, fallbackFormat, hexNumberSignPrefix) {\n    this.fallbackValue = fallbackColor ?\n      (\n        fallbackColor && (typeof fallbackColor.h !== 'undefined') ?\n        fallbackColor :\n        this.value = {\n          h: 0,\n          s: 0,\n          b: 0,\n          a: 1\n        }\n      ) :\n      null;\n\n    this.fallbackFormat = fallbackFormat ? fallbackFormat : 'rgba';\n\n    this.hexNumberSignPrefix = hexNumberSignPrefix === true;\n\n    this.value = this.fallbackValue;\n\n    this.origFormat = null; // original string format\n\n    this.predefinedColors = predefinedColors ? predefinedColors : {};\n\n    // We don't want to share aliases across instances so we extend new object\n    this.colors = $.extend({}, Color.webColors, this.predefinedColors);\n\n    if (val) {\n      if (typeof val.h !== 'undefined') {\n        this.value = val;\n      } else {\n        this.setColor(String(val));\n      }\n    }\n\n    if (!this.value) {\n      // Initial value is always black if no arguments are passed or val is empty\n      this.value = {\n        h: 0,\n        s: 0,\n        b: 0,\n        a: 1\n      };\n    }\n  };\n\n  Color.webColors = { // 140 predefined colors from the HTML Colors spec\n    \"aliceblue\": \"f0f8ff\",\n    \"antiquewhite\": \"faebd7\",\n    \"aqua\": \"00ffff\",\n    \"aquamarine\": \"7fffd4\",\n    \"azure\": \"f0ffff\",\n    \"beige\": \"f5f5dc\",\n    \"bisque\": \"ffe4c4\",\n    \"black\": \"000000\",\n    \"blanchedalmond\": \"ffebcd\",\n    \"blue\": \"0000ff\",\n    \"blueviolet\": \"8a2be2\",\n    \"brown\": \"a52a2a\",\n    \"burlywood\": \"deb887\",\n    \"cadetblue\": \"5f9ea0\",\n    \"chartreuse\": \"7fff00\",\n    \"chocolate\": \"d2691e\",\n    \"coral\": \"ff7f50\",\n    \"cornflowerblue\": \"6495ed\",\n    \"cornsilk\": \"fff8dc\",\n    \"crimson\": \"dc143c\",\n    \"cyan\": \"00ffff\",\n    \"darkblue\": \"00008b\",\n    \"darkcyan\": \"008b8b\",\n    \"darkgoldenrod\": \"b8860b\",\n    \"darkgray\": \"a9a9a9\",\n    \"darkgreen\": \"006400\",\n    \"darkkhaki\": \"bdb76b\",\n    \"darkmagenta\": \"8b008b\",\n    \"darkolivegreen\": \"556b2f\",\n    \"darkorange\": \"ff8c00\",\n    \"darkorchid\": \"9932cc\",\n    \"darkred\": \"8b0000\",\n    \"darksalmon\": \"e9967a\",\n    \"darkseagreen\": \"8fbc8f\",\n    \"darkslateblue\": \"483d8b\",\n    \"darkslategray\": \"2f4f4f\",\n    \"darkturquoise\": \"00ced1\",\n    \"darkviolet\": \"9400d3\",\n    \"deeppink\": \"ff1493\",\n    \"deepskyblue\": \"00bfff\",\n    \"dimgray\": \"696969\",\n    \"dodgerblue\": \"1e90ff\",\n    \"firebrick\": \"b22222\",\n    \"floralwhite\": \"fffaf0\",\n    \"forestgreen\": \"228b22\",\n    \"fuchsia\": \"ff00ff\",\n    \"gainsboro\": \"dcdcdc\",\n    \"ghostwhite\": \"f8f8ff\",\n    \"gold\": \"ffd700\",\n    \"goldenrod\": \"daa520\",\n    \"gray\": \"808080\",\n    \"green\": \"008000\",\n    \"greenyellow\": \"adff2f\",\n    \"honeydew\": \"f0fff0\",\n    \"hotpink\": \"ff69b4\",\n    \"indianred\": \"cd5c5c\",\n    \"indigo\": \"4b0082\",\n    \"ivory\": \"fffff0\",\n    \"khaki\": \"f0e68c\",\n    \"lavender\": \"e6e6fa\",\n    \"lavenderblush\": \"fff0f5\",\n    \"lawngreen\": \"7cfc00\",\n    \"lemonchiffon\": \"fffacd\",\n    \"lightblue\": \"add8e6\",\n    \"lightcoral\": \"f08080\",\n    \"lightcyan\": \"e0ffff\",\n    \"lightgoldenrodyellow\": \"fafad2\",\n    \"lightgrey\": \"d3d3d3\",\n    \"lightgreen\": \"90ee90\",\n    \"lightpink\": \"ffb6c1\",\n    \"lightsalmon\": \"ffa07a\",\n    \"lightseagreen\": \"20b2aa\",\n    \"lightskyblue\": \"87cefa\",\n    \"lightslategray\": \"778899\",\n    \"lightsteelblue\": \"b0c4de\",\n    \"lightyellow\": \"ffffe0\",\n    \"lime\": \"00ff00\",\n    \"limegreen\": \"32cd32\",\n    \"linen\": \"faf0e6\",\n    \"magenta\": \"ff00ff\",\n    \"maroon\": \"800000\",\n    \"mediumaquamarine\": \"66cdaa\",\n    \"mediumblue\": \"0000cd\",\n    \"mediumorchid\": \"ba55d3\",\n    \"mediumpurple\": \"9370d8\",\n    \"mediumseagreen\": \"3cb371\",\n    \"mediumslateblue\": \"7b68ee\",\n    \"mediumspringgreen\": \"00fa9a\",\n    \"mediumturquoise\": \"48d1cc\",\n    \"mediumvioletred\": \"c71585\",\n    \"midnightblue\": \"191970\",\n    \"mintcream\": \"f5fffa\",\n    \"mistyrose\": \"ffe4e1\",\n    \"moccasin\": \"ffe4b5\",\n    \"navajowhite\": \"ffdead\",\n    \"navy\": \"000080\",\n    \"oldlace\": \"fdf5e6\",\n    \"olive\": \"808000\",\n    \"olivedrab\": \"6b8e23\",\n    \"orange\": \"ffa500\",\n    \"orangered\": \"ff4500\",\n    \"orchid\": \"da70d6\",\n    \"palegoldenrod\": \"eee8aa\",\n    \"palegreen\": \"98fb98\",\n    \"paleturquoise\": \"afeeee\",\n    \"palevioletred\": \"d87093\",\n    \"papayawhip\": \"ffefd5\",\n    \"peachpuff\": \"ffdab9\",\n    \"peru\": \"cd853f\",\n    \"pink\": \"ffc0cb\",\n    \"plum\": \"dda0dd\",\n    \"powderblue\": \"b0e0e6\",\n    \"purple\": \"800080\",\n    \"red\": \"ff0000\",\n    \"rosybrown\": \"bc8f8f\",\n    \"royalblue\": \"4169e1\",\n    \"saddlebrown\": \"8b4513\",\n    \"salmon\": \"fa8072\",\n    \"sandybrown\": \"f4a460\",\n    \"seagreen\": \"2e8b57\",\n    \"seashell\": \"fff5ee\",\n    \"sienna\": \"a0522d\",\n    \"silver\": \"c0c0c0\",\n    \"skyblue\": \"87ceeb\",\n    \"slateblue\": \"6a5acd\",\n    \"slategray\": \"708090\",\n    \"snow\": \"fffafa\",\n    \"springgreen\": \"00ff7f\",\n    \"steelblue\": \"4682b4\",\n    \"tan\": \"d2b48c\",\n    \"teal\": \"008080\",\n    \"thistle\": \"d8bfd8\",\n    \"tomato\": \"ff6347\",\n    \"turquoise\": \"40e0d0\",\n    \"violet\": \"ee82ee\",\n    \"wheat\": \"f5deb3\",\n    \"white\": \"ffffff\",\n    \"whitesmoke\": \"f5f5f5\",\n    \"yellow\": \"ffff00\",\n    \"yellowgreen\": \"9acd32\",\n    \"transparent\": \"transparent\"\n  };\n\n  Color.prototype = {\n    constructor: Color,\n    colors: {}, // merged web and predefined colors\n    predefinedColors: {},\n    /**\n     * @return {Object}\n     */\n    getValue: function() {\n      return this.value;\n    },\n    /**\n     * @param {Object} val\n     */\n    setValue: function(val) {\n      this.value = val;\n    },\n    _sanitizeNumber: function(val) {\n      if (typeof val === 'number') {\n        return val;\n      }\n      if (isNaN(val) || (val === null) || (val === '') || (val === undefined)) {\n        return 1;\n      }\n      if (val === '') {\n        return 0;\n      }\n      if (typeof val.toLowerCase !== 'undefined') {\n        if (val.match(/^\\./)) {\n          val = \"0\" + val;\n        }\n        return Math.ceil(parseFloat(val) * 100) / 100;\n      }\n      return 1;\n    },\n    isTransparent: function(strVal) {\n      if (!strVal || !(typeof strVal === 'string' || strVal instanceof String)) {\n        return false;\n      }\n      strVal = strVal.toLowerCase().trim();\n      return (strVal === 'transparent') || (strVal.match(/#?00000000/)) || (strVal.match(/(rgba|hsla)\\(0,0,0,0?\\.?0\\)/));\n    },\n    rgbaIsTransparent: function(rgba) {\n      return ((rgba.r === 0) && (rgba.g === 0) && (rgba.b === 0) && (rgba.a === 0));\n    },\n    // parse a string to HSB\n    /**\n     * @protected\n     * @param {String} strVal\n     * @returns {boolean} Returns true if it could be parsed, false otherwise\n     */\n    setColor: function(strVal) {\n      strVal = strVal.toLowerCase().trim();\n      if (strVal) {\n        if (this.isTransparent(strVal)) {\n          this.value = {\n            h: 0,\n            s: 0,\n            b: 0,\n            a: 0\n          };\n          return true;\n        } else {\n          var parsedColor = this.parse(strVal);\n          if (parsedColor) {\n            this.value = this.value = {\n              h: parsedColor.h,\n              s: parsedColor.s,\n              b: parsedColor.b,\n              a: parsedColor.a\n            };\n            if (!this.origFormat) {\n              this.origFormat = parsedColor.format;\n            }\n          } else if (this.fallbackValue) {\n            // if parser fails, defaults to fallbackValue if defined, otherwise the value won't be changed\n            this.value = this.fallbackValue;\n          }\n        }\n      }\n      return false;\n    },\n    setHue: function(h) {\n      this.value.h = 1 - h;\n    },\n    setSaturation: function(s) {\n      this.value.s = s;\n    },\n    setBrightness: function(b) {\n      this.value.b = 1 - b;\n    },\n    setAlpha: function(a) {\n      this.value.a = Math.round((parseInt((1 - a) * 100, 10) / 100) * 100) / 100;\n    },\n    toRGB: function(h, s, b, a) {\n      if (arguments.length === 0) {\n        h = this.value.h;\n        s = this.value.s;\n        b = this.value.b;\n        a = this.value.a;\n      }\n\n      h *= 360;\n      var R, G, B, X, C;\n      h = (h % 360) / 60;\n      C = b * s;\n      X = C * (1 - Math.abs(h % 2 - 1));\n      R = G = B = b - C;\n\n      h = ~~h;\n      R += [C, X, 0, 0, X, C][h];\n      G += [X, C, C, X, 0, 0][h];\n      B += [0, 0, X, C, C, X][h];\n\n      return {\n        r: Math.round(R * 255),\n        g: Math.round(G * 255),\n        b: Math.round(B * 255),\n        a: a\n      };\n    },\n    toHex: function(ignoreFormat, h, s, b, a) {\n      if (arguments.length <= 1) {\n        h = this.value.h;\n        s = this.value.s;\n        b = this.value.b;\n        a = this.value.a;\n      }\n\n      var prefix = '#';\n      var rgb = this.toRGB(h, s, b, a);\n\n      if (this.rgbaIsTransparent(rgb)) {\n        return 'transparent';\n      }\n\n      if (!ignoreFormat) {\n        prefix = (this.hexNumberSignPrefix ? '#' : '');\n      }\n\n      var hexStr = prefix + (\n          (1 << 24) +\n          (parseInt(rgb.r) << 16) +\n          (parseInt(rgb.g) << 8) +\n          parseInt(rgb.b))\n        .toString(16)\n        .slice(1);\n\n      return hexStr;\n    },\n    toHSL: function(h, s, b, a) {\n      if (arguments.length === 0) {\n        h = this.value.h;\n        s = this.value.s;\n        b = this.value.b;\n        a = this.value.a;\n      }\n\n      var H = h,\n        L = (2 - s) * b,\n        S = s * b;\n      if (L > 0 && L <= 1) {\n        S /= L;\n      } else {\n        S /= 2 - L;\n      }\n      L /= 2;\n      if (S > 1) {\n        S = 1;\n      }\n      return {\n        h: isNaN(H) ? 0 : H,\n        s: isNaN(S) ? 0 : S,\n        l: isNaN(L) ? 0 : L,\n        a: isNaN(a) ? 0 : a\n      };\n    },\n    toAlias: function(r, g, b, a) {\n      var c, rgb = (arguments.length === 0) ? this.toHex(true) : this.toHex(true, r, g, b, a);\n\n      // support predef. colors in non-hex format too, as defined in the alias itself\n      var original = this.origFormat === 'alias' ? rgb : this.toString(false, this.origFormat);\n\n      for (var alias in this.colors) {\n        c = this.colors[alias].toLowerCase().trim();\n        if ((c === rgb) || (c === original)) {\n          return alias;\n        }\n      }\n      return false;\n    },\n    RGBtoHSB: function(r, g, b, a) {\n      r /= 255;\n      g /= 255;\n      b /= 255;\n\n      var H, S, V, C;\n      V = Math.max(r, g, b);\n      C = V - Math.min(r, g, b);\n      H = (C === 0 ? null :\n        V === r ? (g - b) / C :\n        V === g ? (b - r) / C + 2 :\n        (r - g) / C + 4\n      );\n      H = ((H + 360) % 6) * 60 / 360;\n      S = C === 0 ? 0 : C / V;\n      return {\n        h: this._sanitizeNumber(H),\n        s: S,\n        b: V,\n        a: this._sanitizeNumber(a)\n      };\n    },\n    HueToRGB: function(p, q, h) {\n      if (h < 0) {\n        h += 1;\n      } else if (h > 1) {\n        h -= 1;\n      }\n      if ((h * 6) < 1) {\n        return p + (q - p) * h * 6;\n      } else if ((h * 2) < 1) {\n        return q;\n      } else if ((h * 3) < 2) {\n        return p + (q - p) * ((2 / 3) - h) * 6;\n      } else {\n        return p;\n      }\n    },\n    HSLtoRGB: function(h, s, l, a) {\n      if (s < 0) {\n        s = 0;\n      }\n      var q;\n      if (l <= 0.5) {\n        q = l * (1 + s);\n      } else {\n        q = l + s - (l * s);\n      }\n\n      var p = 2 * l - q;\n\n      var tr = h + (1 / 3);\n      var tg = h;\n      var tb = h - (1 / 3);\n\n      var r = Math.round(this.HueToRGB(p, q, tr) * 255);\n      var g = Math.round(this.HueToRGB(p, q, tg) * 255);\n      var b = Math.round(this.HueToRGB(p, q, tb) * 255);\n      return [r, g, b, this._sanitizeNumber(a)];\n    },\n    /**\n     * @param {String} strVal\n     * @returns {Object} Object containing h,s,b,a,format properties or FALSE if failed to parse\n     */\n    parse: function(strVal) {\n      if (arguments.length === 0) {\n        return false;\n      }\n\n      var that = this,\n        result = false,\n        isAlias = (typeof this.colors[strVal] !== 'undefined'),\n        values, format;\n\n      if (isAlias) {\n        strVal = this.colors[strVal].toLowerCase().trim();\n      }\n\n      $.each(this.stringParsers, function(i, parser) {\n        var match = parser.re.exec(strVal);\n        values = match && parser.parse.apply(that, [match]);\n        if (values) {\n          result = {};\n          format = (isAlias ? 'alias' : (parser.format ? parser.format : that.getValidFallbackFormat()));\n          if (format.match(/hsla?/)) {\n            result = that.RGBtoHSB.apply(that, that.HSLtoRGB.apply(that, values));\n          } else {\n            result = that.RGBtoHSB.apply(that, values);\n          }\n          if (result instanceof Object) {\n            result.format = format;\n          }\n          return false; // stop iterating\n        }\n        return true;\n      });\n      return result;\n    },\n    getValidFallbackFormat: function() {\n      var formats = [\n        'rgba', 'rgb', 'hex', 'hsla', 'hsl'\n      ];\n      if (this.origFormat && (formats.indexOf(this.origFormat) !== -1)) {\n        return this.origFormat;\n      }\n      if (this.fallbackFormat && (formats.indexOf(this.fallbackFormat) !== -1)) {\n        return this.fallbackFormat;\n      }\n\n      return 'rgba'; // By default, return a format that will not lose the alpha info\n    },\n    /**\n     *\n     * @param {string} [format] (default: rgba)\n     * @param {boolean} [translateAlias] Return real color for pre-defined (non-standard) aliases (default: false)\n     * @param {boolean} [forceRawValue] Forces hashtag prefix when getting hex color (default: false)\n     * @returns {String}\n     */\n    toString: function(forceRawValue, format, translateAlias) {\n      format = format || this.origFormat || this.fallbackFormat;\n      translateAlias = translateAlias || false;\n\n      var c = false;\n\n      switch (format) {\n        case 'rgb':\n          {\n            c = this.toRGB();\n            if (this.rgbaIsTransparent(c)) {\n              return 'transparent';\n            }\n            return 'rgb(' + c.r + ',' + c.g + ',' + c.b + ')';\n          }\n          break;\n        case 'rgba':\n          {\n            c = this.toRGB();\n            return 'rgba(' + c.r + ',' + c.g + ',' + c.b + ',' + c.a + ')';\n          }\n          break;\n        case 'hsl':\n          {\n            c = this.toHSL();\n            return 'hsl(' + Math.round(c.h * 360) + ',' + Math.round(c.s * 100) + '%,' + Math.round(c.l * 100) + '%)';\n          }\n          break;\n        case 'hsla':\n          {\n            c = this.toHSL();\n            return 'hsla(' + Math.round(c.h * 360) + ',' + Math.round(c.s * 100) + '%,' + Math.round(c.l * 100) + '%,' + c.a + ')';\n          }\n          break;\n        case 'hex':\n          {\n            return this.toHex(forceRawValue);\n          }\n          break;\n        case 'alias':\n          {\n            c = this.toAlias();\n\n            if (c === false) {\n              return this.toString(forceRawValue, this.getValidFallbackFormat());\n            }\n\n            if (translateAlias && !(c in Color.webColors) && (c in this.predefinedColors)) {\n              return this.predefinedColors[c];\n            }\n\n            return c;\n          }\n        default:\n          {\n            return c;\n          }\n          break;\n      }\n    },\n    // a set of RE's that can match strings and generate color tuples.\n    // from John Resig color plugin\n    // https://github.com/jquery/jquery-color/\n    stringParsers: [{\n      re: /rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*?\\)/,\n      format: 'rgb',\n      parse: function(execResult) {\n        return [\n          execResult[1],\n          execResult[2],\n          execResult[3],\n          1\n        ];\n      }\n    }, {\n      re: /rgb\\(\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*?\\)/,\n      format: 'rgb',\n      parse: function(execResult) {\n        return [\n          2.55 * execResult[1],\n          2.55 * execResult[2],\n          2.55 * execResult[3],\n          1\n        ];\n      }\n    }, {\n      re: /rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(\\d*(?:\\.\\d+)?)\\s*)?\\)/,\n      format: 'rgba',\n      parse: function(execResult) {\n        return [\n          execResult[1],\n          execResult[2],\n          execResult[3],\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /rgba\\(\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d*(?:\\.\\d+)?)\\s*)?\\)/,\n      format: 'rgba',\n      parse: function(execResult) {\n        return [\n          2.55 * execResult[1],\n          2.55 * execResult[2],\n          2.55 * execResult[3],\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /hsl\\(\\s*(\\d*(?:\\.\\d+)?)\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*?\\)/,\n      format: 'hsl',\n      parse: function(execResult) {\n        return [\n          execResult[1] / 360,\n          execResult[2] / 100,\n          execResult[3] / 100,\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /hsla\\(\\s*(\\d*(?:\\.\\d+)?)\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*,\\s*(\\d*(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d*(?:\\.\\d+)?)\\s*)?\\)/,\n      format: 'hsla',\n      parse: function(execResult) {\n        return [\n          execResult[1] / 360,\n          execResult[2] / 100,\n          execResult[3] / 100,\n          execResult[4]\n        ];\n      }\n    }, {\n      re: /#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,\n      format: 'hex',\n      parse: function(execResult) {\n        return [\n          parseInt(execResult[1], 16),\n          parseInt(execResult[2], 16),\n          parseInt(execResult[3], 16),\n          1\n        ];\n      }\n    }, {\n      re: /#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,\n      format: 'hex',\n      parse: function(execResult) {\n        return [\n          parseInt(execResult[1] + execResult[1], 16),\n          parseInt(execResult[2] + execResult[2], 16),\n          parseInt(execResult[3] + execResult[3], 16),\n          1\n        ];\n      }\n    }],\n    colorNameToHex: function(name) {\n      if (typeof this.colors[name.toLowerCase()] !== 'undefined') {\n        return this.colors[name.toLowerCase()];\n      }\n      return false;\n    }\n  };\n\n  /*\n   * Default plugin options\n   */\n  var defaults = {\n    horizontal: false, // horizontal mode layout ?\n    inline: false, //forces to show the colorpicker as an inline element\n    color: false, //forces a color\n    format: false, //forces a format\n    input: 'input', // children input selector\n    container: false, // container selector\n    component: '.add-on, .input-group-addon', // children component selector\n    fallbackColor: false, // fallback color value. null = keeps current color.\n    fallbackFormat: 'hex', // fallback color format\n    hexNumberSignPrefix: true, // put a '#' (number sign) before hex strings\n    sliders: {\n      saturation: {\n        maxLeft: 100,\n        maxTop: 100,\n        callLeft: 'setSaturation',\n        callTop: 'setBrightness'\n      },\n      hue: {\n        maxLeft: 0,\n        maxTop: 100,\n        callLeft: false,\n        callTop: 'setHue'\n      },\n      alpha: {\n        maxLeft: 0,\n        maxTop: 100,\n        callLeft: false,\n        callTop: 'setAlpha'\n      }\n    },\n    slidersHorz: {\n      saturation: {\n        maxLeft: 100,\n        maxTop: 100,\n        callLeft: 'setSaturation',\n        callTop: 'setBrightness'\n      },\n      hue: {\n        maxLeft: 100,\n        maxTop: 0,\n        callLeft: 'setHue',\n        callTop: false\n      },\n      alpha: {\n        maxLeft: 100,\n        maxTop: 0,\n        callLeft: 'setAlpha',\n        callTop: false\n      }\n    },\n    template: '<div class=\"colorpicker dropdown-menu\">' +\n      '<div class=\"colorpicker-saturation\"><i><b></b></i></div>' +\n      '<div class=\"colorpicker-hue\"><i></i></div>' +\n      '<div class=\"colorpicker-alpha\"><i></i></div>' +\n      '<div class=\"colorpicker-color\"><div /></div>' +\n      '<div class=\"colorpicker-selectors\"></div>' +\n      '</div>',\n    align: 'right',\n    customClass: null, // custom class added to the colorpicker element\n    colorSelectors: null // custom color aliases\n  };\n\n  /**\n   * Colorpicker component class\n   *\n   * @param {Object|String} element\n   * @param {Object} options\n   * @constructor\n   */\n  var Colorpicker = function(element, options) {\n    this.element = $(element).addClass('colorpicker-element');\n    this.options = $.extend(true, {}, defaults, this.element.data(), options);\n    this.component = this.options.component;\n    this.component = (this.component !== false) ? this.element.find(this.component) : false;\n    if (this.component && (this.component.length === 0)) {\n      this.component = false;\n    }\n    this.container = (this.options.container === true) ? this.element : this.options.container;\n    this.container = (this.container !== false) ? $(this.container) : false;\n\n    // Is the element an input? Should we search inside for any input?\n    this.input = this.element.is('input') ? this.element : (this.options.input ?\n      this.element.find(this.options.input) : false);\n    if (this.input && (this.input.length === 0)) {\n      this.input = false;\n    }\n    // Set HSB color\n    this.color = this.createColor(this.options.color !== false ? this.options.color : this.getValue());\n\n    this.format = this.options.format !== false ? this.options.format : this.color.origFormat;\n\n    if (this.options.color !== false) {\n      this.updateInput(this.color);\n      this.updateData(this.color);\n    }\n\n    this.disabled = false;\n\n    // Setup picker\n    var $picker = this.picker = $(this.options.template);\n    if (this.options.customClass) {\n      $picker.addClass(this.options.customClass);\n    }\n    if (this.options.inline) {\n      $picker.addClass('colorpicker-inline colorpicker-visible');\n    } else {\n      $picker.addClass('colorpicker-hidden');\n    }\n    if (this.options.horizontal) {\n      $picker.addClass('colorpicker-horizontal');\n    }\n    if (\n      (['rgba', 'hsla', 'alias'].indexOf(this.format) !== -1) ||\n      this.options.format === false ||\n      this.getValue() === 'transparent'\n    ) {\n      $picker.addClass('colorpicker-with-alpha');\n    }\n    if (this.options.align === 'right') {\n      $picker.addClass('colorpicker-right');\n    }\n    if (this.options.inline === true) {\n      $picker.addClass('colorpicker-no-arrow');\n    }\n    if (this.options.colorSelectors) {\n      var colorpicker = this,\n        selectorsContainer = colorpicker.picker.find('.colorpicker-selectors');\n\n      if (selectorsContainer.length > 0) {\n        $.each(this.options.colorSelectors, function(name, color) {\n          var $btn = $('<i />')\n            .addClass('colorpicker-selectors-color')\n            .css('background-color', color)\n            .data('class', name).data('alias', name);\n\n          $btn.on('mousedown.colorpicker touchstart.colorpicker', function(event) {\n            event.preventDefault();\n            colorpicker.setValue(\n              colorpicker.format === 'alias' ? $(this).data('alias') : $(this).css('background-color')\n            );\n          });\n          selectorsContainer.append($btn);\n        });\n        selectorsContainer.show().addClass('colorpicker-visible');\n      }\n    }\n\n    // Prevent closing the colorpicker when clicking on itself\n    $picker.on('mousedown.colorpicker touchstart.colorpicker', $.proxy(function(e) {\n      if (e.target === e.currentTarget) {\n        e.preventDefault();\n      }\n    }, this));\n\n    // Bind click/tap events on the sliders\n    $picker.find('.colorpicker-saturation, .colorpicker-hue, .colorpicker-alpha')\n      .on('mousedown.colorpicker touchstart.colorpicker', $.proxy(this.mousedown, this));\n\n    $picker.appendTo(this.container ? this.container : $('body'));\n\n    // Bind other events\n    if (this.input !== false) {\n      this.input.on({\n        'keyup.colorpicker': $.proxy(this.keyup, this)\n      });\n      this.input.on({\n        'change.colorpicker': $.proxy(this.change, this)\n      });\n      if (this.component === false) {\n        this.element.on({\n          'focus.colorpicker': $.proxy(this.show, this)\n        });\n      }\n      if (this.options.inline === false) {\n        this.element.on({\n          'focusout.colorpicker': $.proxy(this.hide, this)\n        });\n      }\n    }\n\n    if (this.component !== false) {\n      this.component.on({\n        'click.colorpicker': $.proxy(this.show, this)\n      });\n    }\n\n    if ((this.input === false) && (this.component === false)) {\n      this.element.on({\n        'click.colorpicker': $.proxy(this.show, this)\n      });\n    }\n\n    // for HTML5 input[type='color']\n    if ((this.input !== false) && (this.component !== false) && (this.input.attr('type') === 'color')) {\n\n      this.input.on({\n        'click.colorpicker': $.proxy(this.show, this),\n        'focus.colorpicker': $.proxy(this.show, this)\n      });\n    }\n    this.update();\n\n    $($.proxy(function() {\n      this.element.trigger('create');\n    }, this));\n  };\n\n  Colorpicker.Color = Color;\n\n  Colorpicker.prototype = {\n    constructor: Colorpicker,\n    destroy: function() {\n      this.picker.remove();\n      this.element.removeData('colorpicker', 'color').off('.colorpicker');\n      if (this.input !== false) {\n        this.input.off('.colorpicker');\n      }\n      if (this.component !== false) {\n        this.component.off('.colorpicker');\n      }\n      this.element.removeClass('colorpicker-element');\n      this.element.trigger({\n        type: 'destroy'\n      });\n    },\n    reposition: function() {\n      if (this.options.inline !== false || this.options.container) {\n        return false;\n      }\n      var type = this.container && this.container[0] !== window.document.body ? 'position' : 'offset';\n      var element = this.component || this.element;\n      var offset = element[type]();\n      if (this.options.align === 'right') {\n        offset.left -= this.picker.outerWidth() - element.outerWidth();\n      }\n      this.picker.css({\n        top: offset.top + element.outerHeight(),\n        left: offset.left\n      });\n    },\n    show: function(e) {\n      if (this.isDisabled()) {\n        // Don't show the widget if it's disabled (the input)\n        return;\n      }\n      this.picker.addClass('colorpicker-visible').removeClass('colorpicker-hidden');\n      this.reposition();\n      $(window).on('resize.colorpicker', $.proxy(this.reposition, this));\n      if (e && (!this.hasInput() || this.input.attr('type') === 'color')) {\n        if (e.stopPropagation && e.preventDefault) {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      }\n      if ((this.component || !this.input) && (this.options.inline === false)) {\n        $(window.document).on({\n          'mousedown.colorpicker': $.proxy(this.hide, this)\n        });\n      }\n      this.element.trigger({\n        type: 'showPicker',\n        color: this.color\n      });\n    },\n    hide: function(e) {\n      if ((typeof e !== 'undefined') && e.target) {\n        // Prevent hide if triggered by an event and an element inside the colorpicker has been clicked/touched\n        if (\n          $(e.currentTarget).parents('.colorpicker').length > 0 ||\n          $(e.target).parents('.colorpicker').length > 0\n        ) {\n          return false;\n        }\n      }\n      this.picker.addClass('colorpicker-hidden').removeClass('colorpicker-visible');\n      $(window).off('resize.colorpicker', this.reposition);\n      $(window.document).off({\n        'mousedown.colorpicker': this.hide\n      });\n      this.update();\n      this.element.trigger({\n        type: 'hidePicker',\n        color: this.color\n      });\n    },\n    updateData: function(val) {\n      val = val || this.color.toString(false, this.format);\n      this.element.data('color', val);\n      return val;\n    },\n    updateInput: function(val) {\n      val = val || this.color.toString(false, this.format);\n      if (this.input !== false) {\n        this.input.prop('value', val);\n        this.input.trigger('change');\n      }\n      return val;\n    },\n    updatePicker: function(val) {\n      if (typeof val !== 'undefined') {\n        this.color = this.createColor(val);\n      }\n      var sl = (this.options.horizontal === false) ? this.options.sliders : this.options.slidersHorz;\n      var icns = this.picker.find('i');\n      if (icns.length === 0) {\n        return;\n      }\n      if (this.options.horizontal === false) {\n        sl = this.options.sliders;\n        icns.eq(1).css('top', sl.hue.maxTop * (1 - this.color.value.h)).end()\n          .eq(2).css('top', sl.alpha.maxTop * (1 - this.color.value.a));\n      } else {\n        sl = this.options.slidersHorz;\n        icns.eq(1).css('left', sl.hue.maxLeft * (1 - this.color.value.h)).end()\n          .eq(2).css('left', sl.alpha.maxLeft * (1 - this.color.value.a));\n      }\n      icns.eq(0).css({\n        'top': sl.saturation.maxTop - this.color.value.b * sl.saturation.maxTop,\n        'left': this.color.value.s * sl.saturation.maxLeft\n      });\n\n      this.picker.find('.colorpicker-saturation')\n        .css('backgroundColor', this.color.toHex(true, this.color.value.h, 1, 1, 1));\n\n      this.picker.find('.colorpicker-alpha')\n        .css('backgroundColor', this.color.toHex(true));\n\n      this.picker.find('.colorpicker-color, .colorpicker-color div')\n        .css('backgroundColor', this.color.toString(true, this.format));\n\n      return val;\n    },\n    updateComponent: function(val) {\n      var color;\n\n      if (typeof val !== 'undefined') {\n        color = this.createColor(val);\n      } else {\n        color = this.color;\n      }\n\n      if (this.component !== false) {\n        var icn = this.component.find('i').eq(0);\n        if (icn.length > 0) {\n          icn.css({\n            'backgroundColor': color.toString(true, this.format)\n          });\n        } else {\n          this.component.css({\n            'backgroundColor': color.toString(true, this.format)\n          });\n        }\n      }\n\n      return color.toString(false, this.format);\n    },\n    update: function(force) {\n      var val;\n      if ((this.getValue(false) !== false) || (force === true)) {\n        // Update input/data only if the current value is not empty\n        val = this.updateComponent();\n        this.updateInput(val);\n        this.updateData(val);\n        this.updatePicker(); // only update picker if value is not empty\n      }\n      return val;\n\n    },\n    setValue: function(val) { // set color manually\n      this.color = this.createColor(val);\n      this.update(true);\n      this.element.trigger({\n        type: 'changeColor',\n        color: this.color,\n        value: val\n      });\n    },\n    /**\n     * Creates a new color using the instance options\n     * @protected\n     * @param {String} val\n     * @returns {Color}\n     */\n    createColor: function(val) {\n      return new Color(\n        val ? val : null,\n        this.options.colorSelectors,\n        this.options.fallbackColor ? this.options.fallbackColor : this.color,\n        this.options.fallbackFormat,\n        this.options.hexNumberSignPrefix\n      );\n    },\n    getValue: function(defaultValue) {\n      defaultValue = (typeof defaultValue === 'undefined') ? this.options.fallbackColor : defaultValue;\n      var val;\n      if (this.hasInput()) {\n        val = this.input.val();\n      } else {\n        val = this.element.data('color');\n      }\n      if ((val === undefined) || (val === '') || (val === null)) {\n        // if not defined or empty, return default\n        val = defaultValue;\n      }\n      return val;\n    },\n    hasInput: function() {\n      return (this.input !== false);\n    },\n    isDisabled: function() {\n      return this.disabled;\n    },\n    disable: function() {\n      if (this.hasInput()) {\n        this.input.prop('disabled', true);\n      }\n      this.disabled = true;\n      this.element.trigger({\n        type: 'disable',\n        color: this.color,\n        value: this.getValue()\n      });\n      return true;\n    },\n    enable: function() {\n      if (this.hasInput()) {\n        this.input.prop('disabled', false);\n      }\n      this.disabled = false;\n      this.element.trigger({\n        type: 'enable',\n        color: this.color,\n        value: this.getValue()\n      });\n      return true;\n    },\n    currentSlider: null,\n    mousePointer: {\n      left: 0,\n      top: 0\n    },\n    mousedown: function(e) {\n      if (!e.pageX && !e.pageY && e.originalEvent && e.originalEvent.touches) {\n        e.pageX = e.originalEvent.touches[0].pageX;\n        e.pageY = e.originalEvent.touches[0].pageY;\n      }\n      e.stopPropagation();\n      e.preventDefault();\n\n      var target = $(e.target);\n\n      //detect the slider and set the limits and callbacks\n      var zone = target.closest('div');\n      var sl = this.options.horizontal ? this.options.slidersHorz : this.options.sliders;\n      if (!zone.is('.colorpicker')) {\n        if (zone.is('.colorpicker-saturation')) {\n          this.currentSlider = $.extend({}, sl.saturation);\n        } else if (zone.is('.colorpicker-hue')) {\n          this.currentSlider = $.extend({}, sl.hue);\n        } else if (zone.is('.colorpicker-alpha')) {\n          this.currentSlider = $.extend({}, sl.alpha);\n        } else {\n          return false;\n        }\n        var offset = zone.offset();\n        //reference to guide's style\n        this.currentSlider.guide = zone.find('i')[0].style;\n        this.currentSlider.left = e.pageX - offset.left;\n        this.currentSlider.top = e.pageY - offset.top;\n        this.mousePointer = {\n          left: e.pageX,\n          top: e.pageY\n        };\n        //trigger mousemove to move the guide to the current position\n        $(window.document).on({\n          'mousemove.colorpicker': $.proxy(this.mousemove, this),\n          'touchmove.colorpicker': $.proxy(this.mousemove, this),\n          'mouseup.colorpicker': $.proxy(this.mouseup, this),\n          'touchend.colorpicker': $.proxy(this.mouseup, this)\n        }).trigger('mousemove');\n      }\n      return false;\n    },\n    mousemove: function(e) {\n      if (!e.pageX && !e.pageY && e.originalEvent && e.originalEvent.touches) {\n        e.pageX = e.originalEvent.touches[0].pageX;\n        e.pageY = e.originalEvent.touches[0].pageY;\n      }\n      e.stopPropagation();\n      e.preventDefault();\n      var left = Math.max(\n        0,\n        Math.min(\n          this.currentSlider.maxLeft,\n          this.currentSlider.left + ((e.pageX || this.mousePointer.left) - this.mousePointer.left)\n        )\n      );\n      var top = Math.max(\n        0,\n        Math.min(\n          this.currentSlider.maxTop,\n          this.currentSlider.top + ((e.pageY || this.mousePointer.top) - this.mousePointer.top)\n        )\n      );\n      this.currentSlider.guide.left = left + 'px';\n      this.currentSlider.guide.top = top + 'px';\n      if (this.currentSlider.callLeft) {\n        this.color[this.currentSlider.callLeft].call(this.color, left / this.currentSlider.maxLeft);\n      }\n      if (this.currentSlider.callTop) {\n        this.color[this.currentSlider.callTop].call(this.color, top / this.currentSlider.maxTop);\n      }\n      // Change format dynamically\n      // Only occurs if user choose the dynamic format by\n      // setting option format to false\n      if (\n        this.options.format === false &&\n        (this.currentSlider.callTop === 'setAlpha' ||\n          this.currentSlider.callLeft === 'setAlpha')\n      ) {\n\n        // Converting from hex / rgb to rgba\n        if (this.color.value.a !== 1) {\n          this.format = 'rgba';\n          this.color.origFormat = 'rgba';\n        }\n\n        // Converting from rgba to hex\n        else {\n          this.format = 'hex';\n          this.color.origFormat = 'hex';\n        }\n      }\n      this.update(true);\n\n      this.element.trigger({\n        type: 'changeColor',\n        color: this.color\n      });\n      return false;\n    },\n    mouseup: function(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      $(window.document).off({\n        'mousemove.colorpicker': this.mousemove,\n        'touchmove.colorpicker': this.mousemove,\n        'mouseup.colorpicker': this.mouseup,\n        'touchend.colorpicker': this.mouseup\n      });\n      return false;\n    },\n    change: function(e) {\n      this.keyup(e);\n    },\n    keyup: function(e) {\n      if ((e.keyCode === 38)) {\n        if (this.color.value.a < 1) {\n          this.color.value.a = Math.round((this.color.value.a + 0.01) * 100) / 100;\n        }\n        this.update(true);\n      } else if ((e.keyCode === 40)) {\n        if (this.color.value.a > 0) {\n          this.color.value.a = Math.round((this.color.value.a - 0.01) * 100) / 100;\n        }\n        this.update(true);\n      } else {\n        this.color = this.createColor(this.input.val());\n        // Change format dynamically\n        // Only occurs if user choose the dynamic format by\n        // setting option format to false\n        if (this.color.origFormat && this.options.format === false) {\n          this.format = this.color.origFormat;\n        }\n        if (this.getValue(false) !== false) {\n          this.updateData();\n          this.updateComponent();\n          this.updatePicker();\n        }\n      }\n      this.element.trigger({\n        type: 'changeColor',\n        color: this.color,\n        value: this.input.val()\n      });\n    }\n  };\n\n  $.colorpicker = Colorpicker;\n\n  $.fn.colorpicker = function(option) {\n    var apiArgs = Array.prototype.slice.call(arguments, 1),\n      isSingleElement = (this.length === 1),\n      returnValue = null;\n\n    var $jq = this.each(function() {\n      var $this = $(this),\n        inst = $this.data('colorpicker'),\n        options = ((typeof option === 'object') ? option : {});\n\n      if (!inst) {\n        inst = new Colorpicker(this, options);\n        $this.data('colorpicker', inst);\n      }\n\n      if (typeof option === 'string') {\n        if ($.isFunction(inst[option])) {\n          returnValue = inst[option].apply(inst, apiArgs);\n        } else { // its a property ?\n          if (apiArgs.length) {\n            // set property\n            inst[option] = apiArgs[0];\n          }\n          returnValue = inst[option];\n        }\n      } else {\n        returnValue = $this;\n      }\n    });\n    return isSingleElement ? returnValue : $jq;\n  };\n\n  $.fn.colorpicker.constructor = Colorpicker;\n\n}));\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.js\n// module id = 2449\n// module chunks = 7","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ColorInput from 'components/color_input';\n\nclass ColorChooser extends React.Component {\n    static propTypes = {\n\n        /*\n         * The id of setting that we will change\n         */\n        id: PropTypes.string.isRequired,\n\n        /*\n         * The label of setting that we will choose\n         */\n        label: PropTypes.string.isRequired,\n\n        /*\n         * Selected color\n         */\n        color: PropTypes.string.isRequired,\n\n        /*\n         * Function called when color changed takes 2 arguments: Id of changing setting and new color\n         */\n        onChange: PropTypes.func\n    }\n\n    handleChange = (newColor) => {\n        const {id, onChange: handleChange} = this.props;\n        if (handleChange) {\n            handleChange(id, newColor);\n        }\n    }\n\n    render() {\n        const {label, color} = this.props;\n        return (\n            <div>\n                <label className='custom-label'>{label}</label>\n                <ColorInput\n                    color={color}\n                    onChange={this.handleChange}\n                />\n            </div>\n        );\n    }\n}\n\nexport default ColorChooser;\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/color_chooser.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport ReactDom from 'react-dom';\nimport PropTypes from 'prop-types';\nimport {ChromePicker} from 'react-color';\n\nclass ColorInput extends React.Component {\n    static propTypes = {\n\n        /*\n         * Selected color\n         */\n        color: PropTypes.string.isRequired,\n\n        /*\n         * Function called when color changed. Takes hex format of color Ex: #ffeec0\n         */\n        onChange: PropTypes.func\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            idOpened: false\n        };\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const {isOpened: prevIsOpened} = prevState;\n        const {isOpened} = this.state;\n\n        if (isOpened !== prevIsOpened) {\n            if (isOpened) {\n                document.addEventListener('click', this.checkClick);\n            } else {\n                document.removeEventListener('click', this.checkClick);\n            }\n        }\n    }\n\n    checkClick = (e) => {\n        const colorPickerDOMNode = ReactDom.findDOMNode(this.colorPicker);\n        if (!colorPickerDOMNode.contains(e.target)) {\n            this.setState({isOpened: false});\n        }\n    };\n\n    togglePicker = () => {\n        this.setState({isOpened: !this.state.isOpened});\n    };\n\n    handleChange = (newColorData) => {\n        const {hex} = newColorData;\n        const {onChange: handleChange} = this.props;\n\n        if (handleChange) {\n            handleChange(hex);\n        }\n    };\n\n    render() {\n        const {color} = this.props;\n        const {isOpened} = this.state;\n\n        return (\n            <div className='color-input input-group'>\n                <input\n                    className='form-control'\n                    type='text'\n                    value={color}\n                    style={{\n                        background: '#fff'\n                    }}\n                    readOnly={true}\n                />\n                <span\n                    className='input-group-addon'\n                    onClick={this.togglePicker}\n                >\n                    <i\n                        className='color-icon'\n                        style={{\n                            backgroundColor: color\n                        }}\n                    />\n                </span>\n                {isOpened && (\n                    <div\n                        ref={(item) => {\n                            this.colorPicker = item;\n                        }}\n                        className='color-popover'\n                    >\n                        <ChromePicker\n                            color={color}\n                            onChange={this.handleChange}\n                        />\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default ColorInput;\n\n\n\n// WEBPACK FOOTER //\n// ./components/color_input.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nexport default class PremadeThemeChooser extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n    render() {\n        const theme = this.props.theme;\n\n        const premadeThemes = [];\n        const allowedThemes = global.mm_config.AllowedThemes ? global.mm_config.AllowedThemes.split(',') : [];\n        const hasAllowedThemes = allowedThemes.length > 1 || (allowedThemes[0] && allowedThemes[0].trim().length > 0);\n\n        for (const k in Constants.THEMES) {\n            if (Constants.THEMES.hasOwnProperty(k)) {\n                if (hasAllowedThemes && allowedThemes.indexOf(k) < 0) {\n                    continue;\n                }\n\n                const premadeTheme = $.extend(true, {}, Constants.THEMES[k]);\n\n                let activeClass = '';\n                if (premadeTheme.type === theme.type) {\n                    activeClass = 'active';\n                }\n\n                premadeThemes.push(\n                    <div\n                        className='col-xs-6 col-sm-3 premade-themes'\n                        key={'premade-theme-key' + k}\n                    >\n                        <div\n                            className={activeClass}\n                            onClick={() => this.props.updateTheme(premadeTheme)}\n                        >\n                            <label>\n                                <img\n                                    className='img-responsive'\n                                    src={premadeTheme.image}\n                                />\n                                <div className='theme-label'>{Utils.toTitleCase(premadeTheme.type)}</div>\n                            </label>\n                        </div>\n                    </div>\n                );\n            }\n        }\n\n        return (\n            <div className='row appearance-section'>\n                <div className='clearfix'>\n                    {premadeThemes}\n                </div>\n            </div>\n        );\n    }\n}\n\nPremadeThemeChooser.propTypes = {\n    theme: PropTypes.object.isRequired,\n    updateTheme: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/premade_theme_chooser.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getMe} from 'mattermost-redux/actions/users';\n\nimport UserSettingsGeneralTab from './user_settings_general.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getMe\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserSettingsGeneralTab);\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_general/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {defineMessages, FormattedDate, FormattedHTMLMessage, FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport {updateUser, uploadProfileImage} from 'actions/user_actions.jsx';\nimport ErrorStore from 'stores/error_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport SettingItemMax from 'components/setting_item_max.jsx';\nimport SettingItemMin from 'components/setting_item_min.jsx';\nimport SettingPicture from 'components/setting_picture.jsx';\n\nconst holders = defineMessages({\n    usernameReserved: {\n        id: 'user.settings.general.usernameReserved',\n        defaultMessage: 'This username is reserved, please choose a new one.'\n    },\n    usernameRestrictions: {\n        id: 'user.settings.general.usernameRestrictions',\n        defaultMessage: \"Username must begin with a letter, and contain between {min} to {max} lowercase characters made up of numbers, letters, and the symbols '.', '-', and '_'.\"\n    },\n    validEmail: {\n        id: 'user.settings.general.validEmail',\n        defaultMessage: 'Please enter a valid email address.'\n    },\n    emailMatch: {\n        id: 'user.settings.general.emailMatch',\n        defaultMessage: 'The new emails you entered do not match.'\n    },\n    checkEmail: {\n        id: 'user.settings.general.checkEmail',\n        defaultMessage: 'Check your email at {email} to verify the address.'\n    },\n    validImage: {\n        id: 'user.settings.general.validImage',\n        defaultMessage: 'Only JPG or PNG images may be used for profile pictures'\n    },\n    imageTooLarge: {\n        id: 'user.settings.general.imageTooLarge',\n        defaultMessage: 'Unable to upload profile image. File is too large.'\n    },\n    uploadImage: {\n        id: 'user.settings.general.uploadImage',\n        defaultMessage: \"Click 'Edit' to upload an image.\"\n    },\n    uploadImageMobile: {\n        id: 'user.settings.general.mobile.uploadImage',\n        defaultMessage: 'Click to upload an image.'\n    },\n    fullName: {\n        id: 'user.settings.general.fullName',\n        defaultMessage: 'Full Name'\n    },\n    nickname: {\n        id: 'user.settings.general.nickname',\n        defaultMessage: 'Nickname'\n    },\n    username: {\n        id: 'user.settings.general.username',\n        defaultMessage: 'Username'\n    },\n    profilePicture: {\n        id: 'user.settings.general.profilePicture',\n        defaultMessage: 'Profile Picture'\n    },\n    close: {\n        id: 'user.settings.general.close',\n        defaultMessage: 'Close'\n    },\n    position: {\n        id: 'user.settings.general.position',\n        defaultMessage: 'Position'\n    }\n});\n\nclass UserSettingsGeneralTab extends React.Component {\n    static propTypes = {\n        intl: intlShape.isRequired,\n        user: PropTypes.object.isRequired,\n        updateSection: PropTypes.func.isRequired,\n        updateTab: PropTypes.func.isRequired,\n        activeSection: PropTypes.string.isRequired,\n        closeModal: PropTypes.func.isRequired,\n        collapseModal: PropTypes.func.isRequired,\n        actions: PropTypes.shape({\n            getMe: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n        this.submitActive = false;\n\n        this.submitUsername = this.submitUsername.bind(this);\n        this.submitNickname = this.submitNickname.bind(this);\n        this.submitName = this.submitName.bind(this);\n        this.submitEmail = this.submitEmail.bind(this);\n        this.submitUser = this.submitUser.bind(this);\n        this.submitPicture = this.submitPicture.bind(this);\n        this.submitPosition = this.submitPosition.bind(this);\n\n        this.updateUsername = this.updateUsername.bind(this);\n        this.updateFirstName = this.updateFirstName.bind(this);\n        this.updateLastName = this.updateLastName.bind(this);\n        this.updateNickname = this.updateNickname.bind(this);\n        this.updateEmail = this.updateEmail.bind(this);\n        this.updateConfirmEmail = this.updateConfirmEmail.bind(this);\n        this.updatePicture = this.updatePicture.bind(this);\n        this.updateSection = this.updateSection.bind(this);\n        this.updatePosition = this.updatePosition.bind(this);\n\n        this.state = this.setupInitialState(props);\n    }\n\n    submitUsername(e) {\n        e.preventDefault();\n\n        const user = Object.assign({}, this.props.user);\n        const username = this.state.username.trim().toLowerCase();\n\n        const {formatMessage} = this.props.intl;\n        const usernameError = Utils.isValidUsername(username);\n        if (usernameError === 'Cannot use a reserved word as a username.') {\n            this.setState({clientError: formatMessage(holders.usernameReserved), serverError: ''});\n            return;\n        } else if (usernameError) {\n            this.setState({clientError: formatMessage(holders.usernameRestrictions, {min: Constants.MIN_USERNAME_LENGTH, max: Constants.MAX_USERNAME_LENGTH}), serverError: ''});\n            return;\n        }\n\n        if (user.username === username) {\n            this.updateSection('');\n            return;\n        }\n\n        user.username = username;\n\n        trackEvent('settings', 'user_settings_update', {field: 'username'});\n\n        this.submitUser(user, Constants.UserUpdateEvents.USERNAME, false);\n    }\n\n    submitNickname(e) {\n        e.preventDefault();\n\n        const user = Object.assign({}, this.props.user);\n        const nickname = this.state.nickname.trim();\n\n        if (user.nickname === nickname) {\n            this.updateSection('');\n            return;\n        }\n\n        user.nickname = nickname;\n\n        trackEvent('settings', 'user_settings_update', {field: 'username'});\n\n        this.submitUser(user, Constants.UserUpdateEvents.NICKNAME, false);\n    }\n\n    submitName(e) {\n        e.preventDefault();\n\n        const user = Object.assign({}, this.props.user);\n        const firstName = this.state.firstName.trim();\n        const lastName = this.state.lastName.trim();\n\n        if (user.first_name === firstName && user.last_name === lastName) {\n            this.updateSection('');\n            return;\n        }\n\n        user.first_name = firstName;\n        user.last_name = lastName;\n\n        trackEvent('settings', 'user_settings_update', {field: 'fullname'});\n\n        this.submitUser(user, Constants.UserUpdateEvents.FULLNAME, false);\n    }\n\n    submitEmail(e) {\n        e.preventDefault();\n\n        const user = Object.assign({}, this.props.user);\n        const email = this.state.email.trim().toLowerCase();\n        const confirmEmail = this.state.confirmEmail.trim().toLowerCase();\n\n        const {formatMessage} = this.props.intl;\n\n        if (email === user.email && (confirmEmail === '' || confirmEmail === user.email)) {\n            this.updateSection('');\n            return;\n        }\n\n        if (email === '' || !Utils.isEmail(email)) {\n            this.setState({emailError: formatMessage(holders.validEmail), clientError: '', serverError: ''});\n            return;\n        }\n\n        if (email !== confirmEmail) {\n            this.setState({emailError: formatMessage(holders.emailMatch), clientError: '', serverError: ''});\n            return;\n        }\n\n        user.email = email;\n        trackEvent('settings', 'user_settings_update', {field: 'email'});\n        this.submitUser(user, Constants.UserUpdateEvents.EMAIL, true);\n    }\n\n    submitUser(user, type, emailUpdated) {\n        this.setState({sectionIsSaving: true});\n\n        updateUser(user, type,\n            () => {\n                this.updateSection('');\n                this.props.actions.getMe();\n                const verificationEnabled = global.window.mm_config.SendEmailNotifications === 'true' && global.window.mm_config.RequireEmailVerification === 'true' && emailUpdated;\n\n                if (verificationEnabled) {\n                    ErrorStore.storeLastError({message: this.props.intl.formatMessage(holders.checkEmail, {email: user.email})});\n                    ErrorStore.emitChange();\n                    this.setState({emailChangeInProgress: true});\n                }\n            },\n            (err) => {\n                let serverError;\n                if (err.message) {\n                    serverError = err.message;\n                } else {\n                    serverError = err;\n                }\n                this.setState({serverError, emailError: '', clientError: '', sectionIsSaving: false});\n            }\n        );\n    }\n\n    submitPicture(e) {\n        e.preventDefault();\n\n        if (!this.state.pictureFile) {\n            return;\n        }\n\n        if (!this.submitActive) {\n            return;\n        }\n\n        trackEvent('settings', 'user_settings_update', {field: 'picture'});\n\n        const {formatMessage} = this.props.intl;\n        const file = this.state.pictureFile;\n\n        if (file.type !== 'image/jpeg' && file.type !== 'image/png') {\n            this.setState({clientError: formatMessage(holders.validImage), serverError: ''});\n            return;\n        } else if (file.size > this.state.maxFileSize) {\n            this.setState({clientError: formatMessage(holders.imageTooLarge), serverError: ''});\n            return;\n        }\n\n        this.setState({loadingPicture: true});\n\n        uploadProfileImage(\n            file,\n            () => {\n                this.updateSection('');\n                this.submitActive = false;\n            },\n            (err) => {\n                var state = this.setupInitialState(this.props);\n                state.serverError = err.message;\n                this.setState(state);\n            }\n        );\n    }\n\n    submitPosition(e) {\n        e.preventDefault();\n\n        const user = Object.assign({}, this.props.user);\n        const position = this.state.position.trim();\n\n        if (user.position === position) {\n            this.updateSection('');\n            return;\n        }\n\n        user.position = position;\n\n        trackEvent('settings', 'user_settings_update', {field: 'position'});\n\n        this.submitUser(user, Constants.UserUpdateEvents.Position, false);\n    }\n\n    updateUsername(e) {\n        this.setState({username: e.target.value});\n    }\n\n    updateFirstName(e) {\n        this.setState({firstName: e.target.value});\n    }\n\n    updateLastName(e) {\n        this.setState({lastName: e.target.value});\n    }\n\n    updateNickname(e) {\n        this.setState({nickname: e.target.value});\n    }\n\n    updatePosition(e) {\n        this.setState({position: e.target.value});\n    }\n\n    updateEmail(e) {\n        this.setState({email: e.target.value});\n    }\n\n    updateConfirmEmail(e) {\n        this.setState({confirmEmail: e.target.value});\n    }\n\n    updatePicture(e) {\n        if (e.target.files && e.target.files[0]) {\n            this.setState({pictureFile: e.target.files[0]});\n\n            this.submitActive = true;\n            this.setState({clientError: null});\n        } else {\n            this.setState({pictureFile: null});\n        }\n    }\n\n    updateSection(section) {\n        const emailChangeInProgress = this.state.emailChangeInProgress;\n        this.setState(Object.assign({}, this.setupInitialState(this.props), {emailChangeInProgress, clientError: '', serverError: '', emailError: '', sectionIsSaving: false}));\n        this.submitActive = false;\n        this.props.updateSection(section);\n    }\n\n    setupInitialState(props) {\n        const user = props.user;\n\n        return {\n            username: user.username,\n            firstName: user.first_name,\n            lastName: user.last_name,\n            nickname: user.nickname,\n            position: user.position,\n            originalEmail: user.email,\n            email: '',\n            confirmEmail: '',\n            pictureFile: null,\n            loadingPicture: false,\n            emailChangeInProgress: false,\n            maxFileSize: global.window.mm_config.MaxFileSize,\n            sectionIsSaving: false\n        };\n    }\n\n    createEmailSection() {\n        let emailSection;\n\n        if (this.props.activeSection === 'email') {\n            const emailEnabled = global.window.mm_config.SendEmailNotifications === 'true';\n            const emailVerificationEnabled = global.window.mm_config.RequireEmailVerification === 'true';\n            const inputs = [];\n\n            let helpText = (\n                <FormattedMessage\n                    id='user.settings.general.emailHelp1'\n                    defaultMessage='Email is used for sign-in, notifications, and password reset. Email requires verification if changed.'\n                />\n            );\n\n            if (!emailEnabled) {\n                helpText = (\n                    <div className='setting-list__hint col-sm-12 text-danger'>\n                        <FormattedMessage\n                            id='user.settings.general.emailHelp2'\n                            defaultMessage='Email has been disabled by your System Administrator. No notification emails will be sent until it is enabled.'\n                        />\n                    </div>\n                );\n            } else if (!emailVerificationEnabled) {\n                helpText = (\n                    <FormattedMessage\n                        id='user.settings.general.emailHelp3'\n                        defaultMessage='Email is used for sign-in, notifications, and password reset.'\n                    />\n                );\n            } else if (this.state.emailChangeInProgress) {\n                const newEmail = UserStore.getCurrentUser().email;\n                if (newEmail) {\n                    helpText = (\n                        <FormattedMessage\n                            id='user.settings.general.emailHelp4'\n                            defaultMessage='A verification email was sent to {email}.'\n                            values={{\n                                email: newEmail\n                            }}\n                        />\n                    );\n                }\n            }\n\n            let submit = null;\n\n            if (this.props.user.auth_service === '') {\n                inputs.push(\n                    <div key='currentEmailSetting'>\n                        <div className='form-group'>\n                            <label className='col-sm-5 control-label'>\n                                <FormattedMessage\n                                    id='user.settings.general.currentEmail'\n                                    defaultMessage='Current Email'\n                                />\n                            </label>\n                            <div className='col-sm-7'>\n                                <label className='control-label'>{this.state.originalEmail}</label>\n                            </div>\n                        </div>\n                    </div>\n                );\n\n                inputs.push(\n                    <div key='emailSetting'>\n                        <div className='form-group'>\n                            <label className='col-sm-5 control-label'>\n                                <FormattedMessage\n                                    id='user.settings.general.newEmail'\n                                    defaultMessage='New Email'\n                                />\n                            </label>\n                            <div className='col-sm-7'>\n                                <input\n                                    id='primaryEmail'\n                                    className='form-control'\n                                    type='email'\n                                    onChange={this.updateEmail}\n                                    value={this.state.email}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                );\n\n                inputs.push(\n                    <div key='confirmEmailSetting'>\n                        <div className='form-group'>\n                            <label className='col-sm-5 control-label'>\n                                <FormattedMessage\n                                    id='user.settings.general.confirmEmail'\n                                    defaultMessage='Confirm Email'\n                                />\n                            </label>\n                            <div className='col-sm-7'>\n                                <input\n                                    id='confirmEmail'\n                                    className='form-control'\n                                    type='email'\n                                    onChange={this.updateConfirmEmail}\n                                    value={this.state.confirmEmail}\n                                />\n                            </div>\n                        </div>\n                        {helpText}\n                    </div>\n                );\n\n                submit = this.submitEmail;\n            } else if (this.props.user.auth_service === Constants.GITLAB_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='form-group'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.general.emailGitlabCantUpdate'\n                                defaultMessage='Login occurs through GitLab. Email cannot be updated. Email address used for notifications is {email}.'\n                                values={{\n                                    email: this.state.originalEmail\n                                }}\n                            />\n                        </div>\n                        {helpText}\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.GOOGLE_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='form-group'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.general.emailGoogleCantUpdate'\n                                defaultMessage='Login occurs through Google Apps. Email cannot be updated. Email address used for notifications is {email}.'\n                                values={{\n                                    email: this.state.originalEmail\n                                }}\n                            />\n                        </div>\n                        {helpText}\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.OFFICE365_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='form-group'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.general.emailOffice365CantUpdate'\n                                defaultMessage='Login occurs through Office 365. Email cannot be updated. Email address used for notifications is {email}.'\n                                values={{\n                                    email: this.state.originalEmail\n                                }}\n                            />\n                        </div>\n                        {helpText}\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.LDAP_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='padding-bottom'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.general.emailLdapCantUpdate'\n                                defaultMessage='Login occurs through AD/LDAP. Email cannot be updated. Email address used for notifications is {email}.'\n                                values={{\n                                    email: this.state.originalEmail\n                                }}\n                            />\n                        </div>\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.SAML_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='padding-bottom'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.general.emailSamlCantUpdate'\n                                defaultMessage='Login occurs through SAML. Email cannot be updated. Email address used for notifications is {email}.'\n                                values={{\n                                    email: this.state.originalEmail\n                                }}\n                            />\n                        </div>\n                        {helpText}\n                    </div>\n                );\n            }\n\n            emailSection = (\n                <SettingItemMax\n                    title={\n                        <FormattedMessage\n                            id='user.settings.general.email'\n                            defaultMessage='Email'\n                        />\n                    }\n                    inputs={inputs}\n                    submit={submit}\n                    saving={this.state.sectionIsSaving}\n                    server_error={this.state.serverError}\n                    client_error={this.state.emailError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                />\n            );\n        } else {\n            let describe = '';\n            if (this.props.user.auth_service === '') {\n                if (this.state.emailChangeInProgress) {\n                    const newEmail = UserStore.getCurrentUser().email;\n                    if (newEmail) {\n                        describe = (\n                            <FormattedHTMLMessage\n                                id='user.settings.general.newAddress'\n                                defaultMessage='New Address: {email}<br />Check your email to verify the above address.'\n                                values={{\n                                    email: newEmail\n                                }}\n                            />\n                        );\n                    } else {\n                        describe = (\n                            <FormattedMessage\n                                id='user.settings.general.checkEmailNoAddress'\n                                defaultMessage='Check your email to verify your new address'\n                            />\n                        );\n                    }\n                } else {\n                    describe = UserStore.getCurrentUser().email;\n                }\n            } else if (this.props.user.auth_service === Constants.GITLAB_SERVICE) {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.general.loginGitlab'\n                        defaultMessage='Login done through GitLab ({email})'\n                        values={{\n                            email: this.state.originalEmail\n                        }}\n                    />\n                );\n            } else if (this.props.user.auth_service === Constants.GOOGLE_SERVICE) {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.general.loginGoogle'\n                        defaultMessage='Login done through Google Apps ({email})'\n                        values={{\n                            email: this.state.originalEmail\n                        }}\n                    />\n                );\n            } else if (this.props.user.auth_service === Constants.OFFICE365_SERVICE) {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.general.loginOffice365'\n                        defaultMessage='Login done through Office 365 ({email})'\n                        values={{\n                            email: this.state.originalEmail\n                        }}\n                    />\n                );\n            } else if (this.props.user.auth_service === Constants.LDAP_SERVICE) {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.general.loginLdap'\n                        defaultMessage='Login done through AD/LDAP ({email})'\n                        values={{\n                            email: this.state.originalEmail\n                        }}\n                    />\n                );\n            } else if (this.props.user.auth_service === Constants.SAML_SERVICE) {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.general.loginSaml'\n                        defaultMessage='Login done through SAML ({email})'\n                        values={{\n                            email: this.state.originalEmail\n                        }}\n                    />\n                );\n            }\n\n            emailSection = (\n                <SettingItemMin\n                    title={\n                        <FormattedMessage\n                            id='user.settings.general.email'\n                            defaultMessage='Email'\n                        />\n                    }\n                    describe={describe}\n                    updateSection={() => {\n                        this.updateSection('email');\n                    }}\n                />\n            );\n        }\n\n        return emailSection;\n    }\n\n    render() {\n        const user = this.props.user;\n        const {formatMessage} = this.props.intl;\n\n        let clientError = null;\n        if (this.state.clientError) {\n            clientError = this.state.clientError;\n        }\n        let serverError = null;\n        if (this.state.serverError) {\n            serverError = this.state.serverError;\n        }\n\n        let nameSection;\n        const inputs = [];\n\n        if (this.props.activeSection === 'name') {\n            let extraInfo;\n            let submit = null;\n            if (\n                (this.props.user.auth_service === 'ldap' &&\n                    (global.window.mm_config.LdapFristNameAttributeSet === 'true' || global.window.mm_config.LdapLastNameAttributeSet === 'true')) ||\n                (this.props.user.auth_service === Constants.SAML_SERVICE &&\n                    (global.window.mm_config.SamlFirstNameAttributeSet === 'true' || global.window.mm_config.SamlLastNameAttributeSet === 'true'))\n            ) {\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.general.field_handled_externally'\n                            defaultMessage='This field is handled through your login provider. If you want to change it, you need to do so through your login provider.'\n                        />\n                    </span>\n                );\n            } else {\n                inputs.push(\n                    <div\n                        key='firstNameSetting'\n                        className='form-group'\n                    >\n                        <label className='col-sm-5 control-label'>\n                            <FormattedMessage\n                                id='user.settings.general.firstName'\n                                defaultMessage='First Name'\n                            />\n                        </label>\n                        <div className='col-sm-7'>\n                            <input\n                                id='firstName'\n                                className='form-control'\n                                type='text'\n                                onChange={this.updateFirstName}\n                                value={this.state.firstName}\n                            />\n                        </div>\n                    </div>\n                );\n\n                inputs.push(\n                    <div\n                        key='lastNameSetting'\n                        className='form-group'\n                    >\n                        <label className='col-sm-5 control-label'>\n                            <FormattedMessage\n                                id='user.settings.general.lastName'\n                                defaultMessage='Last Name'\n                            />\n                        </label>\n                        <div className='col-sm-7'>\n                            <input\n                                id='lastName'\n                                className='form-control'\n                                type='text'\n                                onChange={this.updateLastName}\n                                value={this.state.lastName}\n                            />\n                        </div>\n                    </div>\n                );\n\n                function notifClick(e) {\n                    e.preventDefault();\n                    this.updateSection('');\n                    this.props.updateTab('notifications');\n                }\n\n                const notifLink = (\n                    <a\n                        href='#'\n                        onClick={notifClick.bind(this)}\n                    >\n                        <FormattedMessage\n                            id='user.settings.general.notificationsLink'\n                            defaultMessage='Notifications'\n                        />\n                    </a>\n                );\n\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.general.notificationsExtra'\n                            defaultMessage='By default, you will receive mention notifications when someone types your first name. Go to {notify} settings to change this default.'\n                            values={{\n                                notify: (notifLink)\n                            }}\n                        />\n                    </span>\n                );\n\n                submit = this.submitName;\n            }\n\n            nameSection = (\n                <SettingItemMax\n                    title={formatMessage(holders.fullName)}\n                    inputs={inputs}\n                    submit={submit}\n                    saving={this.state.sectionIsSaving}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                    extraInfo={extraInfo}\n                />\n            );\n        } else {\n            let describe = '';\n\n            if (user.first_name && user.last_name) {\n                describe = user.first_name + ' ' + user.last_name;\n            } else if (user.first_name) {\n                describe = user.first_name;\n            } else if (user.last_name) {\n                describe = user.last_name;\n            } else {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.general.emptyName'\n                        defaultMessage=\"Click 'Edit' to add your full name\"\n                    />\n                );\n                if (Utils.isMobile()) {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.general.mobile.emptyName'\n                            defaultMessage='Click to add your full name'\n                        />\n                    );\n                }\n            }\n\n            nameSection = (\n                <SettingItemMin\n                    title={formatMessage(holders.fullName)}\n                    describe={describe}\n                    updateSection={() => {\n                        this.updateSection('name');\n                    }}\n                />\n            );\n        }\n\n        let nicknameSection;\n        if (this.props.activeSection === 'nickname') {\n            let extraInfo;\n            let submit = null;\n            if ((this.props.user.auth_service === 'ldap' && global.window.mm_config.LdapNicknameAttributeSet) || (this.props.user.auth_service === Constants.SAML_SERVICE && global.window.mm_config.LdapNicknameAttributeSet)) {\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.general.field_handled_externally'\n                            defaultMessage='This field is handled through your login provider. If you want to change it, you need to do so though your login provider.'\n                        />\n                    </span>\n                );\n            } else {\n                let nicknameLabel = (\n                    <FormattedMessage\n                        id='user.settings.general.nickname'\n                        defaultMessage='Nickname'\n                    />\n                );\n                if (Utils.isMobile()) {\n                    nicknameLabel = '';\n                }\n\n                inputs.push(\n                    <div\n                        key='nicknameSetting'\n                        className='form-group'\n                    >\n                        <label className='col-sm-5 control-label'>{nicknameLabel}</label>\n                        <div className='col-sm-7'>\n                            <input\n                                id='nickname'\n                                className='form-control'\n                                type='text'\n                                onChange={this.updateNickname}\n                                value={this.state.nickname}\n                                maxLength={Constants.MAX_NICKNAME_LENGTH}\n                                autoCapitalize='off'\n                            />\n                        </div>\n                    </div>\n                );\n\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.general.nicknameExtra'\n                            defaultMessage='Use Nickname for a name you might be called that is different from your first name and username. This is most often used when two or more people have similar sounding names and usernames.'\n                        />\n                    </span>\n                );\n\n                submit = this.submitNickname;\n            }\n\n            nicknameSection = (\n                <SettingItemMax\n                    title={formatMessage(holders.nickname)}\n                    inputs={inputs}\n                    submit={submit}\n                    saving={this.state.sectionIsSaving}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                    extraInfo={extraInfo}\n                />\n            );\n        } else {\n            let describe = '';\n            if (user.nickname) {\n                describe = user.nickname;\n            } else {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.general.emptyNickname'\n                        defaultMessage=\"Click 'Edit' to add a nickname\"\n                    />\n                );\n                if (Utils.isMobile()) {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.general.mobile.emptyNickname'\n                            defaultMessage='Click to add a nickname'\n                        />\n                    );\n                }\n            }\n\n            nicknameSection = (\n                <SettingItemMin\n                    title={formatMessage(holders.nickname)}\n                    describe={describe}\n                    updateSection={() => {\n                        this.updateSection('nickname');\n                    }}\n                />\n            );\n        }\n\n        let usernameSection;\n        if (this.props.activeSection === 'username') {\n            let extraInfo;\n            let submit = null;\n            if (this.props.user.auth_service === '') {\n                let usernameLabel = (\n                    <FormattedMessage\n                        id='user.settings.general.username'\n                        defaultMessage='Username'\n                    />\n                );\n                if (Utils.isMobile()) {\n                    usernameLabel = '';\n                }\n\n                inputs.push(\n                    <div\n                        key='usernameSetting'\n                        className='form-group'\n                    >\n                        <label className='col-sm-5 control-label'>{usernameLabel}</label>\n                        <div className='col-sm-7'>\n                            <input\n                                id='username'\n                                maxLength={Constants.MAX_USERNAME_LENGTH}\n                                className='form-control'\n                                type='text'\n                                onChange={this.updateUsername}\n                                value={this.state.username}\n                                autoCapitalize='off'\n                            />\n                        </div>\n                    </div>\n                );\n\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.general.usernameInfo'\n                            defaultMessage='Pick something easy for teammates to recognize and recall.'\n                        />\n                    </span>\n                );\n\n                submit = this.submitUsername;\n            } else {\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.general.field_handled_externally'\n                            defaultMessage='This field is handled through your login provider. If you want to change it, you need to do so though your login provider.'\n                        />\n                    </span>\n                );\n            }\n\n            usernameSection = (\n                <SettingItemMax\n                    title={formatMessage(holders.username)}\n                    inputs={inputs}\n                    submit={submit}\n                    saving={this.state.sectionIsSaving}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                    extraInfo={extraInfo}\n                />\n            );\n        } else {\n            usernameSection = (\n                <SettingItemMin\n                    title={formatMessage(holders.username)}\n                    describe={UserStore.getCurrentUser().username}\n                    updateSection={() => {\n                        this.updateSection('username');\n                    }}\n                />\n            );\n        }\n\n        let positionSection;\n        if (this.props.activeSection === 'position') {\n            let extraInfo;\n            let submit = null;\n            if ((this.props.user.auth_service === 'ldap' || this.props.user.auth_service === Constants.SAML_SERVICE) && global.window.mm_config.PositionAttributeSet === 'true') {\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.general.field_handled_externally'\n                            defaultMessage='This field is handled through your login provider. If you want to change it, you need to do so though your login provider.'\n                        />\n                    </span>\n                );\n            } else {\n                let positionLabel = (\n                    <FormattedMessage\n                        id='user.settings.general.position'\n                        defaultMessage='Position'\n                    />\n                );\n                if (Utils.isMobile()) {\n                    positionLabel = '';\n                }\n\n                inputs.push(\n                    <div\n                        key='positionSetting'\n                        className='form-group'\n                    >\n                        <label className='col-sm-5 control-label'>{positionLabel}</label>\n                        <div className='col-sm-7'>\n                            <input\n                                id='position'\n                                className='form-control'\n                                type='text'\n                                onChange={this.updatePosition}\n                                value={this.state.position}\n                                maxLength={Constants.MAX_POSITION_LENGTH}\n                                autoCapitalize='off'\n                            />\n                        </div>\n                    </div>\n                );\n\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.general.positionExtra'\n                            defaultMessage='Use Position for your role or job title. This will be shown in your profile popover.'\n                        />\n                    </span>\n                );\n\n                submit = this.submitPosition;\n            }\n\n            positionSection = (\n                <SettingItemMax\n                    title={formatMessage(holders.position)}\n                    inputs={inputs}\n                    submit={submit}\n                    saving={this.state.sectionIsSaving}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                    extraInfo={extraInfo}\n                />\n            );\n        } else {\n            let describe = '';\n            if (user.position) {\n                describe = user.position;\n            } else {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.general.emptyPosition'\n                        defaultMessage=\"Click 'Edit' to add your job title / position\"\n                    />\n                );\n                if (Utils.isMobile()) {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.general.mobile.emptyPosition'\n                            defaultMessage='Click to add your job title / position'\n                        />\n                    );\n                }\n            }\n\n            positionSection = (\n                <SettingItemMin\n                    title={formatMessage(holders.position)}\n                    describe={describe}\n                    updateSection={() => {\n                        this.updateSection('position');\n                    }}\n                />\n            );\n        }\n\n        const emailSection = this.createEmailSection();\n\n        let pictureSection;\n        if (this.props.activeSection === 'picture') {\n            pictureSection = (\n                <SettingPicture\n                    title={formatMessage(holders.profilePicture)}\n                    submit={this.submitPicture}\n                    src={Utils.imageURLForUser(user)}\n                    serverError={serverError}\n                    clientError={clientError}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                    file={this.state.pictureFile}\n                    onFileChange={this.updatePicture}\n                    submitActive={this.submitActive}\n                    loadingPicture={this.state.loadingPicture}\n                />\n            );\n        } else {\n            let minMessage = formatMessage(holders.uploadImage);\n            if (Utils.isMobile()) {\n                minMessage = formatMessage(holders.uploadImageMobile);\n            }\n            if (user.last_picture_update) {\n                minMessage = (\n                    <FormattedMessage\n                        id='user.settings.general.imageUpdated'\n                        defaultMessage='Image last updated {date}'\n                        values={{\n                            date: (\n                                <FormattedDate\n                                    value={new Date(user.last_picture_update)}\n                                    day='2-digit'\n                                    month='short'\n                                    year='numeric'\n                                />\n                            )\n                        }}\n                    />\n                );\n            }\n            pictureSection = (\n                <SettingItemMin\n                    title={formatMessage(holders.profilePicture)}\n                    describe={minMessage}\n                    updateSection={() => {\n                        this.updateSection('picture');\n                    }}\n                />\n            );\n        }\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        id='closeUserSettings'\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label={formatMessage(holders.close)}\n                        onClick={this.props.closeModal}\n                    >\n                        <span aria-hidden='true'>{'×'}</span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i\n                                className='fa fa-angle-left'\n                                onClick={this.props.collapseModal}\n                            />\n                        </div>\n                        <FormattedMessage\n                            id='user.settings.general.title'\n                            defaultMessage='General Settings'\n                        />\n                    </h4>\n                </div>\n                <div className='user-settings'>\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='user.settings.general.title'\n                            defaultMessage='General Settings'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {nameSection}\n                    <div className='divider-light'/>\n                    {usernameSection}\n                    <div className='divider-light'/>\n                    {nicknameSection}\n                    <div className='divider-light'/>\n                    {positionSection}\n                    <div className='divider-light'/>\n                    {emailSection}\n                    <div className='divider-light'/>\n                    {pictureSection}\n                    <div className='divider-dark'/>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default injectIntl(UserSettingsGeneralTab);\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_general/user_settings_general.jsx","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport exif2css from 'exif2css';\n\nimport Constants from 'utils/constants.jsx';\n\nimport loadingGif from 'images/load.gif';\n\nimport FormError from 'components/form_error.jsx';\n\nexport default class SettingPicture extends Component {\n    static propTypes = {\n        clientError: PropTypes.string,\n        serverError: PropTypes.string,\n        src: PropTypes.string,\n        file: PropTypes.object,\n        loadingPicture: PropTypes.bool,\n        submitActive: PropTypes.bool,\n        submit: PropTypes.func,\n        title: PropTypes.string,\n        onFileChange: PropTypes.func,\n        updateSection: PropTypes.func\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            image: null\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.file !== this.props.file) {\n            this.setState({image: null});\n\n            this.setPicture(nextProps.file);\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.previewBlob) {\n            URL.revokeObjectURL(this.previewBlob);\n        }\n    }\n\n    setPicture = (file) => {\n        if (file) {\n            this.previewBlob = URL.createObjectURL(file);\n\n            var reader = new FileReader();\n            reader.onload = (e) => {\n                const orientation = this.getExifOrientation(e.target.result);\n                const orientationStyles = this.getOrientationStyles(orientation);\n\n                this.setState({\n                    image: this.previewBlob,\n                    orientationStyles\n                });\n            };\n            reader.readAsArrayBuffer(file);\n        }\n    }\n\n    // based on https://stackoverflow.com/questions/7584794/accessing-jpeg-exif-rotation-data-in-javascript-on-the-client-side/32490603#32490603\n    getExifOrientation(data) {\n        var view = new DataView(data);\n\n        if (view.getUint16(0, false) !== 0xFFD8) {\n            return -2;\n        }\n\n        var length = view.byteLength;\n        var offset = 2;\n\n        while (offset < length) {\n            var marker = view.getUint16(offset, false);\n            offset += 2;\n\n            if (marker === 0xFFE1) {\n                if (view.getUint32(offset += 2, false) !== 0x45786966) {\n                    return -1;\n                }\n\n                var little = view.getUint16(offset += 6, false) === 0x4949;\n                offset += view.getUint32(offset + 4, little);\n                var tags = view.getUint16(offset, little);\n                offset += 2;\n\n                for (var i = 0; i < tags; i++) {\n                    if (view.getUint16(offset + (i * 12), little) === 0x0112) {\n                        return view.getUint16(offset + (i * 12) + 8, little);\n                    }\n                }\n            } else if ((marker & 0xFF00) === 0xFF00) {\n                offset += view.getUint16(offset, false);\n            } else {\n                break;\n            }\n        }\n        return -1;\n    }\n\n    getOrientationStyles(orientation) {\n        const {\n            transform,\n            'transform-origin': transformOrigin\n        } = exif2css(orientation);\n        return {transform, transformOrigin};\n    }\n\n    render() {\n        let img;\n        if (this.props.file) {\n            const imageStyles = {\n                backgroundImage: 'url(' + this.state.image + ')',\n                ...this.state.orientationStyles\n            };\n\n            img = (\n                <div\n                    className='profile-img-preview'\n                    style={imageStyles}\n                />\n            );\n        } else {\n            img = (\n                <img\n                    ref='image'\n                    className='profile-img rounded'\n                    src={this.props.src}\n                />\n            );\n        }\n\n        let confirmButton;\n        let selectButtonSpinner;\n        let fileInputDisabled = false;\n        if (this.props.loadingPicture) {\n            confirmButton = (\n                <img\n                    className='spinner'\n                    src={loadingGif}\n                />\n            );\n            selectButtonSpinner = (\n                <span className='icon fa fa-refresh icon--rotate'/>\n            );\n            fileInputDisabled = true;\n        } else {\n            let confirmButtonClass = 'btn btn-sm';\n            if (this.props.submitActive) {\n                confirmButtonClass += ' btn-primary';\n            } else {\n                confirmButtonClass += ' btn-inactive disabled';\n            }\n\n            confirmButton = (\n                <a\n                    className={confirmButtonClass}\n                    onClick={this.props.submit}\n                >\n                    <FormattedMessage\n                        id='setting_picture.save'\n                        defaultMessage='Save'\n                    />\n                </a>\n            );\n        }\n\n        return (\n            <ul className='section-max form-horizontal'>\n                <li className='col-xs-12 section-title'>{this.props.title}</li>\n                <li className='col-xs-offset-3 col-xs-8'>\n                    <ul className='setting-list'>\n                        <li className='setting-list-item'>\n                            {img}\n                        </li>\n                        <li className='setting-list-item padding-top x2'>\n                            <FormattedMessage\n                                id='setting_picture.help'\n                                defaultMessage='Upload a profile picture in BMP, JPG, JPEG or PNG format, at least {width}px in width and {height}px height.'\n                                values={{\n                                    width: Constants.PROFILE_WIDTH,\n                                    height: Constants.PROFILE_WIDTH\n                                }}\n                            />\n                        </li>\n                        <li className='setting-list-item'>\n                            <hr/>\n                            <FormError\n                                errors={[this.props.clientError, this.props.serverError]}\n                                type={'modal'}\n                            />\n                            <button\n                                className='btn btn-sm btn-primary btn-file sel-btn'\n                                disabled={fileInputDisabled}\n                            >\n                                {selectButtonSpinner}\n                                <FormattedMessage\n                                    id='setting_picture.select'\n                                    defaultMessage='Select'\n                                />\n                                <input\n                                    ref='input'\n                                    accept='.jpg,.png,.bmp'\n                                    type='file'\n                                    onChange={this.props.onFileChange}\n                                    disabled={fileInputDisabled}\n                                />\n                            </button>\n                            {confirmButton}\n                            <a\n                                className='btn btn-sm theme'\n                                href='#'\n                                onClick={this.props.updateSection}\n                            >\n                                <FormattedMessage\n                                    id='setting_picture.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </a>\n                        </li>\n                    </ul>\n                </li>\n            </ul>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/setting_picture.jsx","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\nvar propMap = {\n    r: 'rotate',\n    ry: 'rotateY',\n    t: 'translateX',\n    ty: 'translateY',\n}\n\nvar transformsMap = {\n    '2': {\n        ry: 180,\n    },\n    '3': {\n        r: 180,\n    },\n    '4': {\n        r: 180,\n        ry: 180,\n    },\n    '5': {\n        r: 270,\n        ry: 180,\n    },\n    '6': {\n        ty: -1,\n        r: 90,\n    },\n    '7': {\n        ty: -1,\n        t: -1,\n        r: 90,\n        ry: 180,\n    },\n    '8': {\n        t: -1,\n        r: 270,\n    },\n}\n\nvar transformOriginMap = {\n    '5': 'top left',\n    '6': 'bottom left',\n    '7': 'bottom right',\n    '8': 'top right',\n}\n\nfunction expandTransforms(transforms) {\n    var o = {}\n    var expanded = false\n    for (var prop in transforms) {\n        if (!expanded) expanded = true\n        var ep = propMap[prop]\n        o[ep] = transforms[prop]\n    }\n    return expanded ? o : null\n}\n\nfunction getValue(prop, value) {\n    if (prop === 'r' || prop === 'ry') {\n        return value + 'deg'\n    }\n    if (prop === 't' || prop === 'ty') {\n        return value * 100 + '%'\n    }\n}\n\nfunction expandTransform(transforms) {\n    var a = []\n    for (var prop in transforms) {\n        var ep = propMap[prop]\n        a.push(ep + '(' + getValue(prop, transforms[prop]) + ')')\n    }\n    return a.length ? a.join(' ') : null\n}\n\n\nfunction expandTransformStrings(transforms) {\n    var o = {}\n    var expanded = false\n    for (var prop in transforms) {\n        if (!expanded) expanded = true\n        var ep = propMap[prop]\n        o[ep] = ep + '(' + getValue(prop, transforms[prop]) + ')'\n    }\n    return expanded ? o : null\n}\n\nfunction exif2css(orientation) {\n    var s = String(orientation)\n    var transforms = transformsMap[s]\n\n    var transform = expandTransform(transforms)\n    var transformOrigin = transformOriginMap[s]\n    var allTransforms = expandTransforms(transforms)\n    var allTransformStrings = expandTransformStrings(transforms)\n\n    var css = {}\n    if (transform) {\n        css.transform = transform\n    }\n    if (transformOrigin) {\n        css['transform-origin'] = transformOrigin\n    }\n    if (allTransforms) {\n        css.transforms = allTransforms\n    }\n    if (allTransformStrings) {\n        css.transformStrings = allTransformStrings\n    }\n    return css\n}\n\nmodule.exports = exif2css\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/exif2css/src/index.js\n// module id = 2456\n// module chunks = 7","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {updateUserNotifyProps} from 'actions/user_actions.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Constants, {NotificationLevels} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport SettingItemMax from 'components/setting_item_max.jsx';\nimport SettingItemMin from 'components/setting_item_min.jsx';\n\nimport DesktopNotificationSettings from './desktop_notification_settings.jsx';\nimport EmailNotificationSetting from './email_notification_setting.jsx';\n\nfunction getNotificationsStateFromStores() {\n    const user = UserStore.getCurrentUser();\n\n    let desktop = NotificationLevels.DEFAULT;\n    let sound = 'true';\n    let desktopDuration = '5';\n    let comments = 'never';\n    let enableEmail = 'true';\n    let pushActivity = NotificationLevels.MENTION;\n    let pushStatus = Constants.UserStatuses.ONLINE;\n\n    if (user.notify_props) {\n        if (user.notify_props.desktop) {\n            desktop = user.notify_props.desktop;\n        }\n        if (user.notify_props.desktop_sound) {\n            sound = user.notify_props.desktop_sound;\n        }\n        if (user.notify_props.desktop_duration) {\n            desktopDuration = user.notify_props.desktop_duration;\n        }\n        if (user.notify_props.comments) {\n            comments = user.notify_props.comments;\n        }\n        if (user.notify_props.email) {\n            enableEmail = user.notify_props.email;\n        }\n        if (user.notify_props.push) {\n            pushActivity = user.notify_props.push;\n        }\n        if (user.notify_props.push_status) {\n            pushStatus = user.notify_props.push_status;\n        }\n    }\n\n    let usernameKey = false;\n    let customKeys = '';\n    let firstNameKey = false;\n    let channelKey = false;\n\n    if (user.notify_props) {\n        if (user.notify_props.mention_keys) {\n            const keys = user.notify_props.mention_keys.split(',');\n\n            if (keys.indexOf(user.username) === -1) {\n                usernameKey = false;\n            } else {\n                usernameKey = true;\n                keys.splice(keys.indexOf(user.username), 1);\n                if (keys.indexOf(`@${user.username}`) !== -1) {\n                    keys.splice(keys.indexOf(`@${user.username}`), 1);\n                }\n            }\n\n            customKeys = keys.join(',');\n        }\n\n        if (user.notify_props.first_name) {\n            firstNameKey = user.notify_props.first_name === 'true';\n        }\n\n        if (user.notify_props.channel) {\n            channelKey = user.notify_props.channel === 'true';\n        }\n    }\n\n    return {\n        desktopActivity: desktop,\n        desktopDuration,\n        enableEmail,\n        pushActivity,\n        pushStatus,\n        desktopSound: sound,\n        usernameKey,\n        customKeys,\n        customKeysChecked: customKeys.length > 0,\n        firstNameKey,\n        channelKey,\n        notifyCommentsLevel: comments,\n        isSaving: false\n    };\n}\n\nexport default class NotificationsTab extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleCancel = this.handleCancel.bind(this);\n        this.updateSection = this.updateSection.bind(this);\n        this.setStateValue = this.setStateValue.bind(this);\n        this.onListenerChange = this.onListenerChange.bind(this);\n        this.handleEmailRadio = this.handleEmailRadio.bind(this);\n        this.updateUsernameKey = this.updateUsernameKey.bind(this);\n        this.updateFirstNameKey = this.updateFirstNameKey.bind(this);\n        this.updateChannelKey = this.updateChannelKey.bind(this);\n        this.updateCustomMentionKeys = this.updateCustomMentionKeys.bind(this);\n        this.updateState = this.updateState.bind(this);\n        this.onCustomChange = this.onCustomChange.bind(this);\n        this.createPushNotificationSection = this.createPushNotificationSection.bind(this);\n\n        this.state = getNotificationsStateFromStores();\n    }\n\n    handleSubmit({enableEmail = this.state.enableEmail}) {\n        const data = {};\n        data.user_id = this.props.user.id;\n        data.email = enableEmail;\n        data.desktop_sound = this.state.desktopSound;\n        data.desktop = this.state.desktopActivity;\n        data.desktop_duration = this.state.desktopDuration;\n        data.push = this.state.pushActivity;\n        data.push_status = this.state.pushStatus;\n        data.comments = this.state.notifyCommentsLevel;\n\n        const mentionKeys = [];\n        if (this.state.usernameKey) {\n            mentionKeys.push(this.props.user.username);\n        }\n\n        let stringKeys = mentionKeys.join(',');\n        if (this.state.customKeys.length > 0 && this.state.customKeysChecked) {\n            stringKeys += ',' + this.state.customKeys;\n        }\n\n        data.mention_keys = stringKeys;\n        data.first_name = this.state.firstNameKey.toString();\n        data.channel = this.state.channelKey.toString();\n\n        this.setState({isSaving: true});\n\n        updateUserNotifyProps(\n            data,\n            () => {\n                this.props.updateSection('');\n            },\n            (err) => {\n                this.setState({serverError: err.message, isSaving: false});\n            }\n        );\n    }\n\n    handleCancel(e) {\n        e.preventDefault();\n        this.updateState();\n        this.props.updateSection('');\n    }\n\n    setStateValue(key, value) {\n        const data = {};\n        data[key] = value;\n        this.setState(data);\n    }\n\n    updateSection(section) {\n        this.updateState();\n        this.props.updateSection(section);\n    }\n\n    updateState() {\n        const newState = getNotificationsStateFromStores();\n        if (!Utils.areObjectsEqual(newState, this.state)) {\n            this.setState(newState);\n        }\n\n        this.setState({isSaving: false});\n    }\n\n    componentDidMount() {\n        UserStore.addChangeListener(this.onListenerChange);\n    }\n\n    componentWillUnmount() {\n        UserStore.removeChangeListener(this.onListenerChange);\n    }\n\n    onListenerChange() {\n        this.updateState();\n    }\n\n    handleNotifyCommentsRadio(notifyCommentsLevel) {\n        this.setState({notifyCommentsLevel});\n        this.refs.wrapper.focus();\n    }\n\n    handlePushRadio(pushActivity) {\n        this.setState({pushActivity});\n        this.refs.wrapper.focus();\n    }\n\n    handlePushStatusRadio(pushStatus) {\n        this.setState({pushStatus});\n        this.refs.wrapper.focus();\n    }\n\n    handleEmailRadio(enableEmail) {\n        this.setState({enableEmail});\n        this.refs.wrapper.focus();\n    }\n\n    updateUsernameKey(val) {\n        this.setState({usernameKey: val});\n    }\n\n    updateFirstNameKey(val) {\n        this.setState({firstNameKey: val});\n    }\n\n    updateChannelKey(val) {\n        this.setState({channelKey: val});\n    }\n\n    updateCustomMentionKeys() {\n        const checked = this.refs.customcheck.checked;\n\n        if (checked) {\n            const text = this.refs.custommentions.value;\n\n            // remove all spaces and split string into individual keys\n            this.setState({customKeys: text.replace(/ /g, ''), customKeysChecked: true});\n        } else {\n            this.setState({customKeys: '', customKeysChecked: false});\n        }\n    }\n\n    onCustomChange() {\n        this.refs.customcheck.checked = true;\n        this.updateCustomMentionKeys();\n    }\n\n    createPushNotificationSection() {\n        if (this.props.activeSection === 'push') {\n            const inputs = [];\n            let extraInfo = null;\n            let submit = null;\n\n            if (global.window.mm_config.SendPushNotifications === 'true') {\n                const pushActivityRadio = [false, false, false];\n                if (this.state.pushActivity === NotificationLevels.ALL) {\n                    pushActivityRadio[0] = true;\n                } else if (this.state.pushActivity === NotificationLevels.NONE) {\n                    pushActivityRadio[2] = true;\n                } else {\n                    pushActivityRadio[1] = true;\n                }\n\n                const pushStatusRadio = [false, false, false];\n                if (this.state.pushStatus === Constants.UserStatuses.ONLINE) {\n                    pushStatusRadio[0] = true;\n                } else if (this.state.pushStatus === Constants.UserStatuses.AWAY) {\n                    pushStatusRadio[1] = true;\n                } else {\n                    pushStatusRadio[2] = true;\n                }\n\n                let pushStatusSettings;\n                if (this.state.pushActivity !== NotificationLevels.NONE) {\n                    pushStatusSettings = (\n                        <div>\n                            <hr/>\n                            <label>\n                                <FormattedMessage\n                                    id='user.settings.notifications.push_notification.status'\n                                    defaultMessage='Trigger push notifications when'\n                                />\n                            </label>\n                            <br/>\n                            <div className='radio'>\n                                <label>\n                                    <input\n                                        id='pushNotificationOnline'\n                                        type='radio'\n                                        name='pushNotificationStatus'\n                                        checked={pushStatusRadio[0]}\n                                        onChange={this.handlePushStatusRadio.bind(this, Constants.UserStatuses.ONLINE)}\n                                    />\n                                    <FormattedMessage\n                                        id='user.settings.push_notification.online'\n                                        defaultMessage='Online, away or offline'\n                                    />\n                                </label>\n                                <br/>\n                            </div>\n                            <div className='radio'>\n                                <label>\n                                    <input\n                                        id='pushNotificationAway'\n                                        type='radio'\n                                        name='pushNotificationStatus'\n                                        checked={pushStatusRadio[1]}\n                                        onChange={this.handlePushStatusRadio.bind(this, Constants.UserStatuses.AWAY)}\n                                    />\n                                    <FormattedMessage\n                                        id='user.settings.push_notification.away'\n                                        defaultMessage='Away or offline'\n                                    />\n                                </label>\n                                <br/>\n                            </div>\n                            <div className='radio'>\n                                <label>\n                                    <input\n                                        id='pushNotificationOffline'\n                                        type='radio'\n                                        name='pushNotificationStatus'\n                                        checked={pushStatusRadio[2]}\n                                        onChange={this.handlePushStatusRadio.bind(this, Constants.UserStatuses.OFFLINE)}\n                                    />\n                                    <FormattedMessage\n                                        id='user.settings.push_notification.offline'\n                                        defaultMessage='Offline'\n                                    />\n                                </label>\n                            </div>\n                        </div>\n                    );\n\n                    extraInfo = (\n                        <span>\n                            <FormattedMessage\n                                id='user.settings.push_notification.status_info'\n                                defaultMessage='Notification alerts are only pushed to your mobile device when your online status matches the selection above.'\n                            />\n                        </span>\n                    );\n                }\n\n                inputs.push(\n                    <div key='userNotificationLevelOption'>\n                        <label>\n                            <FormattedMessage\n                                id='user.settings.push_notification.send'\n                                defaultMessage='Send mobile push notifications'\n                            />\n                        </label>\n                        <br/>\n                        <div className='radio'>\n                            <label>\n                                <input\n                                    id='pushNotificationAllActivity'\n                                    type='radio'\n                                    name='pushNotificationLevel'\n                                    checked={pushActivityRadio[0]}\n                                    onChange={this.handlePushRadio.bind(this, NotificationLevels.ALL)}\n                                />\n                                <FormattedMessage\n                                    id='user.settings.push_notification.allActivity'\n                                    defaultMessage='For all activity'\n                                />\n                            </label>\n                            <br/>\n                        </div>\n                        <div className='radio'>\n                            <label>\n                                <input\n                                    id='pushNotificationMentions'\n                                    type='radio'\n                                    name='pushNotificationLevel'\n                                    checked={pushActivityRadio[1]}\n                                    onChange={this.handlePushRadio.bind(this, NotificationLevels.MENTION)}\n                                />\n                                <FormattedMessage\n                                    id='user.settings.push_notification.onlyMentions'\n                                    defaultMessage='For mentions and direct messages'\n                                />\n                            </label>\n                            <br/>\n                        </div>\n                        <div className='radio'>\n                            <label>\n                                <input\n                                    id='pushNotificationNever'\n                                    type='radio'\n                                    name='pushNotificationLevel'\n                                    checked={pushActivityRadio[2]}\n                                    onChange={this.handlePushRadio.bind(this, NotificationLevels.NONE)}\n                                />\n                                <FormattedMessage\n                                    id='user.settings.notifications.never'\n                                    defaultMessage='Never'\n                                />\n                            </label>\n                        </div>\n                        <br/>\n                        <span>\n                            <FormattedMessage\n                                id='user.settings.push_notification.info'\n                                defaultMessage='Notification alerts are pushed to your mobile device when there is activity in Mattermost.'\n                            />\n                        </span>\n                        {pushStatusSettings}\n                    </div>\n                );\n\n                submit = this.handleSubmit;\n            } else {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='padding-top'\n                    >\n                        <FormattedMessage\n                            id='user.settings.push_notification.disabled_long'\n                            defaultMessage='Push notifications for mobile devices have been disabled by your System Administrator.'\n                        />\n                    </div>\n                );\n            }\n\n            return (\n                <SettingItemMax\n                    title={Utils.localizeMessage('user.settings.notifications.push', 'Mobile push notifications')}\n                    extraInfo={extraInfo}\n                    inputs={inputs}\n                    submit={submit}\n                    server_error={this.state.serverError}\n                    updateSection={this.handleCancel}\n                />\n            );\n        }\n\n        let describe = '';\n        if (this.state.pushActivity === NotificationLevels.ALL) {\n            if (this.state.pushStatus === Constants.UserStatuses.AWAY) {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.push_notification.allActivityAway'\n                        defaultMessage='For all activity when away or offline'\n                    />\n                );\n            } else if (this.state.pushStatus === Constants.UserStatuses.OFFLINE) {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.push_notification.allActivityOffline'\n                        defaultMessage='For all activity when offline'\n                    />\n                );\n            } else {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.push_notification.allActivityOnline'\n                        defaultMessage='For all activity when online, away or offline'\n                    />\n                );\n            }\n        } else if (this.state.pushActivity === NotificationLevels.NONE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.notifications.never'\n                    defaultMessage='Never'\n                />\n            );\n        } else if (global.window.mm_config.SendPushNotifications === 'false') {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.push_notification.disabled'\n                    defaultMessage='Disabled by System Administrator'\n                />\n            );\n        } else {\n            if (this.state.pushStatus === Constants.UserStatuses.AWAY) { //eslint-disable-line no-lonely-if\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.push_notification.onlyMentionsAway'\n                        defaultMessage='For mentions and direct messages when away or offline'\n                    />\n                );\n            } else if (this.state.pushStatus === Constants.UserStatuses.OFFLINE) {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.push_notification.onlyMentionsOffline'\n                        defaultMessage='For mentions and direct messages when offline'\n                    />\n                );\n            } else {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.push_notification.onlyMentionsOnline'\n                        defaultMessage='For mentions and direct messages when online, away or offline'\n                    />\n                );\n            }\n        }\n\n        const handleUpdatePushSection = () => {\n            this.props.updateSection('push');\n        };\n\n        return (\n            <SettingItemMin\n                title={Utils.localizeMessage('user.settings.notifications.push', 'Mobile push notifications')}\n                describe={describe}\n                updateSection={handleUpdatePushSection}\n            />\n        );\n    }\n\n    render() {\n        const serverError = this.state.serverError;\n        const user = this.props.user;\n\n        let keysSection;\n        let handleUpdateKeysSection;\n        if (this.props.activeSection === 'keys') {\n            const inputs = [];\n\n            if (user.first_name) {\n                const handleUpdateFirstNameKey = (e) => {\n                    this.updateFirstNameKey(e.target.checked);\n                };\n                inputs.push(\n                    <div key='userNotificationFirstNameOption'>\n                        <div className='checkbox'>\n                            <label>\n                                <input\n                                    id='notificationTriggerFirst'\n                                    type='checkbox'\n                                    checked={this.state.firstNameKey}\n                                    onChange={handleUpdateFirstNameKey}\n                                />\n                                <FormattedMessage\n                                    id='user.settings.notifications.sensitiveName'\n                                    defaultMessage='Your case sensitive first name \"{first_name}\"'\n                                    values={{\n                                        first_name: user.first_name\n                                    }}\n                                />\n                            </label>\n                        </div>\n                    </div>\n                );\n            }\n\n            const handleUpdateUsernameKey = (e) => {\n                this.updateUsernameKey(e.target.checked);\n            };\n            inputs.push(\n                <div key='userNotificationUsernameOption'>\n                    <div className='checkbox'>\n                        <label>\n                            <input\n                                id='notificationTriggerUsername'\n                                type='checkbox'\n                                checked={this.state.usernameKey}\n                                onChange={handleUpdateUsernameKey}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.sensitiveUsername'\n                                defaultMessage='Your non-case sensitive username \"{username}\"'\n                                values={{\n                                    username: user.username\n                                }}\n                            />\n                        </label>\n                    </div>\n                </div>\n            );\n\n            const handleUpdateChannelKey = (e) => {\n                this.updateChannelKey(e.target.checked);\n            };\n            inputs.push(\n                <div key='userNotificationChannelOption'>\n                    <div className='checkbox'>\n                        <label>\n                            <input\n                                id='notificationTriggerShouts'\n                                type='checkbox'\n                                checked={this.state.channelKey}\n                                onChange={handleUpdateChannelKey}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.channelWide'\n                                defaultMessage='Channel-wide mentions \"@channel\", \"@all\", \"@here\"'\n                            />\n                        </label>\n                    </div>\n                </div>\n            );\n\n            inputs.push(\n                <div key='userNotificationCustomOption'>\n                    <div className='checkbox'>\n                        <label>\n                            <input\n                                id='notificationTriggerCustom'\n                                ref='customcheck'\n                                type='checkbox'\n                                checked={this.state.customKeysChecked}\n                                onChange={this.updateCustomMentionKeys}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.sensitiveWords'\n                                defaultMessage='Other non-case sensitive words, separated by commas:'\n                            />\n                        </label>\n                    </div>\n                    <input\n                        id='notificationTriggerCustomText'\n                        ref='custommentions'\n                        className='form-control mentions-input'\n                        type='text'\n                        defaultValue={this.state.customKeys}\n                        onChange={this.onCustomChange}\n                    />\n                </div>\n            );\n\n            const extraInfo = (\n                <span>\n                    <FormattedMessage\n                        id='user.settings.notifications.mentionsInfo'\n                        defaultMessage='Mentions trigger when someone sends a message that includes your username (@{username}) or any of the options selected above.'\n                        values={{\n                            username: user.username\n                        }}\n                    />\n                </span>\n            );\n\n            keysSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('user.settings.notifications.wordsTrigger', 'Words that trigger mentions')}\n                    inputs={inputs}\n                    submit={this.handleSubmit}\n                    saving={this.state.isSaving}\n                    server_error={serverError}\n                    updateSection={this.handleCancel}\n                    extraInfo={extraInfo}\n                />\n            );\n        } else {\n            let keys = ['@' + user.username];\n            if (this.state.firstNameKey) {\n                keys.push(user.first_name);\n            }\n            if (this.state.usernameKey) {\n                keys.push(user.username);\n            }\n\n            if (this.state.channelKey) {\n                keys.push('@channel');\n                keys.push('@all');\n                keys.push('@here');\n            }\n            if (this.state.customKeys.length > 0) {\n                keys = keys.concat(this.state.customKeys.split(','));\n            }\n\n            let describe = '';\n            for (let i = 0; i < keys.length; i++) {\n                if (keys[i] !== '') {\n                    describe += '\"' + keys[i] + '\", ';\n                }\n            }\n\n            if (describe.length > 0) {\n                describe = describe.substring(0, describe.length - 2);\n            } else {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.notifications.noWords'\n                        defaultMessage='No words configured'\n                    />\n                );\n            }\n\n            handleUpdateKeysSection = function updateKeysSection() {\n                this.props.updateSection('keys');\n            }.bind(this);\n\n            keysSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('user.settings.notifications.wordsTrigger', 'Words that trigger mentions')}\n                    describe={describe}\n                    updateSection={handleUpdateKeysSection}\n                />\n            );\n        }\n\n        let commentsSection;\n        let handleUpdateCommentsSection;\n        if (this.props.activeSection === 'comments') {\n            const commentsActive = [false, false, false];\n            if (this.state.notifyCommentsLevel === 'never') {\n                commentsActive[2] = true;\n            } else if (this.state.notifyCommentsLevel === 'root') {\n                commentsActive[1] = true;\n            } else {\n                commentsActive[0] = true;\n            }\n\n            const inputs = [];\n\n            inputs.push(\n                <div key='userNotificationLevelOption'>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='notificationCommentsAny'\n                                type='radio'\n                                name='commentsNotificationLevel'\n                                checked={commentsActive[0]}\n                                onChange={this.handleNotifyCommentsRadio.bind(this, 'any')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.commentsAny'\n                                defaultMessage='Mention any comments in a thread you participated in (This will include both mentions to your root post and any comments after you commented on a post)'\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='notificationCommentsRoot'\n                                type='radio'\n                                name='commentsNotificationLevel'\n                                checked={commentsActive[1]}\n                                onChange={this.handleNotifyCommentsRadio.bind(this, 'root')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.commentsRoot'\n                                defaultMessage='Mention any comments on your post'\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='notificationCommentsNever'\n                                type='radio'\n                                name='commentsNotificationLevel'\n                                checked={commentsActive[2]}\n                                onChange={this.handleNotifyCommentsRadio.bind(this, 'never')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.commentsNever'\n                                defaultMessage='No mentions for comments'\n                            />\n                        </label>\n                    </div>\n                </div>\n            );\n\n            const extraInfo = (\n                <span>\n                    <FormattedMessage\n                        id='user.settings.notifications.commentsInfo'\n                        defaultMessage=\"In addition to notifications for when you're mentioned, select if you would like to receive notifications on reply threads.\"\n                    />\n                </span>\n            );\n\n            commentsSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('user.settings.notifications.comments', 'Reply notifications')}\n                    extraInfo={extraInfo}\n                    inputs={inputs}\n                    submit={this.handleSubmit}\n                    saving={this.state.isSaving}\n                    server_error={serverError}\n                    updateSection={this.handleCancel}\n                />\n            );\n        } else {\n            let describe = '';\n            if (this.state.notifyCommentsLevel === 'never') {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.notifications.commentsNever'\n                        defaultMessage=\"Do not trigger notifications on messages in reply threads unless I'm mentioned\"\n                    />\n                );\n            } else if (this.state.notifyCommentsLevel === 'root') {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.notifications.commentsRoot'\n                        defaultMessage='Trigger notifications on messages in threads that I start'\n                    />\n                );\n            } else {\n                describe = (\n                    <FormattedMessage\n                        id='user.settings.notifications.commentsAny'\n                        defaultMessage='Trigger notifications on messages in reply threads that I start or participate in'\n                    />\n                );\n            }\n\n            handleUpdateCommentsSection = function updateCommentsSection() {\n                this.props.updateSection('comments');\n            }.bind(this);\n\n            commentsSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('user.settings.notifications.comments', 'Reply notifications')}\n                    describe={describe}\n                    updateSection={handleUpdateCommentsSection}\n                />\n            );\n        }\n\n        const pushNotificationSection = this.createPushNotificationSection();\n        const enableEmail = this.state.enableEmail === 'true';\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        id='closeButton'\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        onClick={this.props.closeModal}\n                    >\n                        <span aria-hidden='true'>{'×'}</span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i\n                                className='fa fa-angle-left'\n                                onClick={this.props.collapseModal}\n                            />\n                        </div>\n                        <FormattedMessage\n                            id='user.settings.notifications.title'\n                            defaultMessage='Notification Settings'\n                        />\n                    </h4>\n                </div>\n                <div\n                    ref='wrapper'\n                    className='user-settings'\n                >\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='user.settings.notifications.header'\n                            defaultMessage='Notifications'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    <DesktopNotificationSettings\n                        activity={this.state.desktopActivity}\n                        sound={this.state.desktopSound}\n                        duration={this.state.desktopDuration}\n                        updateSection={this.updateSection}\n                        setParentState={this.setStateValue}\n                        submit={this.handleSubmit}\n                        saving={this.state.isSaving}\n                        cancel={this.handleCancel}\n                        error={this.state.serverError}\n                        active={this.props.activeSection === 'desktop'}\n                    />\n                    <div className='divider-light'/>\n                    <EmailNotificationSetting\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                        enableEmail={enableEmail}\n                        emailInterval={Utils.getEmailInterval(enableEmail)}\n                        onSubmit={this.handleSubmit}\n                        onCancel={this.handleCancel}\n                        saving={this.state.isSaving}\n                        serverError={this.state.serverError}\n                    />\n                    <div className='divider-light'/>\n                    {pushNotificationSection}\n                    <div className='divider-light'/>\n                    {keysSection}\n                    <div className='divider-light'/>\n                    {commentsSection}\n                    <div className='divider-dark'/>\n                </div>\n            </div>\n\n        );\n    }\n}\n\nNotificationsTab.defaultProps = {\n    user: null,\n    activeSection: '',\n    activeTab: ''\n};\nNotificationsTab.propTypes = {\n    user: PropTypes.object,\n    updateSection: PropTypes.func,\n    updateTab: PropTypes.func,\n    activeSection: PropTypes.string,\n    activeTab: PropTypes.string,\n    closeModal: PropTypes.func.isRequired,\n    collapseModal: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_notifications.jsx","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {NotificationLevels} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport SettingItemMax from 'components/setting_item_max.jsx';\nimport SettingItemMin from 'components/setting_item_min.jsx';\n\nexport default class DesktopNotificationSettings extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.buildMaximizedSetting = this.buildMaximizedSetting.bind(this);\n        this.buildMinimizedSetting = this.buildMinimizedSetting.bind(this);\n\n        this.state = {};\n    }\n\n    buildMaximizedSetting() {\n        const inputs = [];\n        let extraInfo = null;\n\n        const activityRadio = [false, false, false];\n        if (this.props.activity === NotificationLevels.MENTION) {\n            activityRadio[1] = true;\n        } else if (this.props.activity === NotificationLevels.NONE) {\n            activityRadio[2] = true;\n        } else {\n            activityRadio[0] = true;\n        }\n\n        let soundSection;\n        let durationSection;\n        if (this.props.activity !== NotificationLevels.NONE) {\n            const soundRadio = [false, false];\n            if (this.props.sound === 'false') {\n                soundRadio[1] = true;\n            } else {\n                soundRadio[0] = true;\n            }\n\n            if (Utils.hasSoundOptions()) {\n                soundSection = (\n                    <div>\n                        <hr/>\n                        <label>\n                            <FormattedMessage\n                                id='user.settings.notifications.desktop.sound'\n                                defaultMessage='Notification sound'\n                            />\n                        </label>\n                        <br/>\n                        <div className='radio'>\n                            <label>\n                                <input\n                                    id='soundOn'\n                                    type='radio'\n                                    name='notificationSounds'\n                                    checked={soundRadio[0]}\n                                    onChange={() => this.props.setParentState('desktopSound', 'true')}\n                                />\n                                <FormattedMessage\n                                    id='user.settings.notifications.on'\n                                    defaultMessage='On'\n                                />\n                            </label>\n                            <br/>\n                        </div>\n                        <div className='radio'>\n                            <label>\n                                <input\n                                    id='soundOff'\n                                    type='radio'\n                                    name='notificationSounds'\n                                    checked={soundRadio[1]}\n                                    onChange={() => this.props.setParentState('desktopSound', 'false')}\n                                />\n                                <FormattedMessage\n                                    id='user.settings.notifications.off'\n                                    defaultMessage='Off'\n                                />\n                            </label>\n                            <br/>\n                        </div>\n                        <br/>\n                        <span>\n                            <FormattedMessage\n                                id='user.settings.notifications.sounds_info'\n                                defaultMessage='Notification sounds are available on IE11, Safari, Chrome and Mattermost Desktop Apps.'\n                            />\n                        </span>\n                    </div>\n                );\n            } else {\n                soundSection = (\n                    <div>\n                        <hr/>\n                        <label>\n                            <FormattedMessage\n                                id='user.settings.notifications.desktop.sound'\n                                defaultMessage='Notification sound'\n                            />\n                        </label>\n                        <br/>\n                        <FormattedMessage\n                            id='user.settings.notifications.soundConfig'\n                            defaultMessage='Please configure notification sounds in your browser settings'\n                        />\n                    </div>\n                );\n            }\n\n            const durationRadio = [false, false, false, false];\n            if (this.props.duration === '3') {\n                durationRadio[0] = true;\n            } else if (this.props.duration === '10') {\n                durationRadio[2] = true;\n            } else if (this.props.duration === '0') {\n                durationRadio[3] = true;\n            } else {\n                durationRadio[1] = true;\n            }\n\n            durationSection = (\n                <div>\n                    <hr/>\n                    <label>\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.duration'\n                            defaultMessage='Notification duration'\n                        />\n                    </label>\n                    <br/>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='soundDuration3'\n                                type='radio'\n                                name='desktopDuration'\n                                checked={durationRadio[0]}\n                                onChange={() => this.props.setParentState('desktopDuration', '3')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.desktop.seconds'\n                                defaultMessage='{seconds} seconds'\n                                values={{\n                                    seconds: '3'\n                                }}\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='soundDuration5'\n                                type='radio'\n                                name='desktopDuration'\n                                checked={durationRadio[1]}\n                                onChange={() => this.props.setParentState('desktopDuration', '5')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.desktop.seconds'\n                                defaultMessage='{seconds} seconds'\n                                values={{\n                                    seconds: '5'\n                                }}\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='soundDuration10'\n                                type='radio'\n                                name='desktopDuration'\n                                checked={durationRadio[2]}\n                                onChange={() => this.props.setParentState('desktopDuration', '10')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.desktop.seconds'\n                                defaultMessage='{seconds} seconds'\n                                values={{\n                                    seconds: '10'\n                                }}\n                            />\n                        </label>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='soundDurationUnlimited'\n                                type='radio'\n                                name='desktopDuration'\n                                checked={durationRadio[3]}\n                                onChange={() => this.props.setParentState('desktopDuration', '0')}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.desktop.unlimited'\n                                defaultMessage='Unlimited'\n                            />\n                        </label>\n                    </div>\n                </div>\n            );\n\n            extraInfo = (\n                <span>\n                    <FormattedMessage\n                        id='user.settings.notifications.desktop.durationInfo'\n                        defaultMessage='Sets how long desktop notifications will remain on screen when using Firefox or Chrome. Desktop notifications in Edge and Safari can only stay on screen for a maximum of 5 seconds.'\n                    />\n                </span>\n            );\n        }\n\n        inputs.push(\n            <div key='userNotificationLevelOption'>\n                <label>\n                    <FormattedMessage\n                        id='user.settings.notifications.desktop'\n                        defaultMessage='Send desktop notifications'\n                    />\n                </label>\n                <br/>\n                <div className='radio'>\n                    <label>\n                        <input\n                            id='desktopNotificationAllActivity'\n                            type='radio'\n                            name='desktopNotificationLevel'\n                            checked={activityRadio[0]}\n                            onChange={() => this.props.setParentState('desktopActivity', NotificationLevels.ALL)}\n                        />\n                        <FormattedMessage\n                            id='user.settings.notifications.allActivity'\n                            defaultMessage='For all activity'\n                        />\n                    </label>\n                    <br/>\n                </div>\n                <div className='radio'>\n                    <label>\n                        <input\n                            id='desktopNotificationMentions'\n                            type='radio'\n                            name='desktopNotificationLevel'\n                            checked={activityRadio[1]}\n                            onChange={() => this.props.setParentState('desktopActivity', NotificationLevels.MENTION)}\n                        />\n                        <FormattedMessage\n                            id='user.settings.notifications.onlyMentions'\n                            defaultMessage='Only for mentions and direct messages'\n                        />\n                    </label>\n                    <br/>\n                </div>\n                <div className='radio'>\n                    <label>\n                        <input\n                            id='desktopNotificationNever'\n                            type='radio'\n                            name='desktopNotificationLevel'\n                            checked={activityRadio[2]}\n                            onChange={() => this.props.setParentState('desktopActivity', NotificationLevels.NONE)}\n                        />\n                        <FormattedMessage\n                            id='user.settings.notifications.never'\n                            defaultMessage='Never'\n                        />\n                    </label>\n                </div>\n                <br/>\n                <span>\n                    <FormattedMessage\n                        id='user.settings.notifications.info'\n                        defaultMessage='Desktop notifications are available on Edge, Firefox, Safari, Chrome and Mattermost Desktop Apps.'\n                    />\n                </span>\n                {soundSection}\n                {durationSection}\n            </div>\n        );\n\n        return (\n            <SettingItemMax\n                title={Utils.localizeMessage('user.settings.notifications.desktop.title', 'Desktop notifications')}\n                extraInfo={extraInfo}\n                inputs={inputs}\n                submit={this.props.submit}\n                saving={this.props.saving}\n                server_error={this.props.error}\n                updateSection={this.props.cancel}\n            />\n        );\n    }\n\n    buildMinimizedSetting() {\n        let describe = '';\n        if (this.props.activity === NotificationLevels.MENTION) {\n            if (Utils.hasSoundOptions() && this.props.sound !== 'false') {\n                if (this.props.duration === '0') { //eslint-disable-line no-lonely-if\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.mentionsSoundForever'\n                            defaultMessage='For mentions and direct messages, with sound, shown indefinitely'\n                        />\n                    );\n                } else {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.mentionsSoundTimed'\n                            defaultMessage='For mentions and direct messages, with sound, shown for {seconds} seconds'\n                            values={{\n                                seconds: this.props.duration\n                            }}\n                        />\n                    );\n                }\n            } else if (Utils.hasSoundOptions() && this.props.sound === 'false') {\n                if (this.props.duration === '0') {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.mentionsNoSoundForever'\n                            defaultMessage='For mentions and direct messages, without sound, shown indefinitely'\n                        />\n                    );\n                } else {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.mentionsNoSoundTimed'\n                            defaultMessage='For mentions and direct messages, without sound, shown for {seconds} seconds'\n                            values={{\n                                seconds: this.props.duration\n                            }}\n                        />\n                    );\n                }\n            } else {\n                if (this.props.duration === '0') { //eslint-disable-line no-lonely-if\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.mentionsSoundHiddenForever'\n                            defaultMessage='For mentions and direct messages, shown indefinitely'\n                        />\n                    );\n                } else {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.mentionsSoundHiddenTimed'\n                            defaultMessage='For mentions and direct messages, shown for {seconds} seconds'\n                            values={{\n                                seconds: this.props.duration\n                            }}\n                        />\n                    );\n                }\n            }\n        } else if (this.props.activity === NotificationLevels.NONE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.notifications.off'\n                    defaultMessage='Off'\n                />\n            );\n        } else {\n            if (Utils.hasSoundOptions() && this.props.sound !== 'false') {  //eslint-disable-line no-lonely-if\n                if (this.props.duration === '0') { //eslint-disable-line no-lonely-if\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.allSoundForever'\n                            defaultMessage='For all activity, with sound, shown indefinitely'\n                        />\n                    );\n                } else {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.allSoundTimed'\n                            defaultMessage='For all activity, with sound, shown for {seconds} seconds'\n                            values={{\n                                seconds: this.props.duration\n                            }}\n                        />\n                    );\n                }\n            } else if (Utils.hasSoundOptions() && this.props.sound === 'false') {\n                if (this.props.duration === '0') {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.allNoSoundForever'\n                            defaultMessage='For all activity, without sound, shown indefinitely'\n                        />\n                    );\n                } else {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.allNoSoundTimed'\n                            defaultMessage='For all activity, without sound, shown for {seconds} seconds'\n                            values={{\n                                seconds: this.props.duration\n                            }}\n                        />\n                    );\n                }\n            } else {\n                if (this.props.duration === '0') { //eslint-disable-line no-lonely-if\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.allSoundHiddenForever'\n                            defaultMessage='For all activity, shown indefinitely'\n                        />\n                    );\n                } else {\n                    describe = (\n                        <FormattedMessage\n                            id='user.settings.notifications.desktop.allSoundHiddenTimed'\n                            defaultMessage='For all activity, shown for {seconds} seconds'\n                            values={{\n                                seconds: this.props.duration\n                            }}\n                        />\n                    );\n                }\n            }\n        }\n\n        const handleUpdateDesktopSection = function updateDesktopSection() {\n            this.props.updateSection('desktop');\n        }.bind(this);\n\n        return (\n            <SettingItemMin\n                title={Utils.localizeMessage('user.settings.notifications.desktop.title', 'Desktop notifications')}\n                describe={describe}\n                updateSection={handleUpdateDesktopSection}\n            />\n        );\n    }\n\n    render() {\n        if (this.props.active) {\n            return this.buildMaximizedSetting();\n        }\n\n        return this.buildMinimizedSetting();\n    }\n}\n\nDesktopNotificationSettings.propTypes = {\n    activity: PropTypes.string.isRequired,\n    sound: PropTypes.string.isRequired,\n    duration: PropTypes.string.isRequired,\n    updateSection: PropTypes.func,\n    setParentState: PropTypes.func,\n    submit: PropTypes.func,\n    cancel: PropTypes.func,\n    error: PropTypes.string,\n    active: PropTypes.bool,\n    saving: PropTypes.bool\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/desktop_notification_settings.jsx","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {savePreference} from 'actions/user_actions.jsx';\n\nimport {Preferences} from 'utils/constants.jsx';\nimport {localizeMessage} from 'utils/utils.jsx';\n\nimport SettingItemMax from 'components/setting_item_max.jsx';\nimport SettingItemMin from 'components/setting_item_min.jsx';\n\nexport default class EmailNotificationSetting extends React.Component {\n    static propTypes = {\n        activeSection: PropTypes.string.isRequired,\n        updateSection: PropTypes.func.isRequired,\n        enableEmail: PropTypes.bool.isRequired,\n        emailInterval: PropTypes.number.isRequired,\n        onSubmit: PropTypes.func.isRequired,\n        onCancel: PropTypes.func.isRequired,\n        serverError: PropTypes.string,\n        saving: PropTypes.bool\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            enableEmail: props.enableEmail,\n            emailInterval: props.emailInterval\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.enableEmail !== this.props.enableEmail || nextProps.emailInterval !== this.props.emailInterval) {\n            this.setState({\n                enableEmail: nextProps.enableEmail,\n                emailInterval: nextProps.emailInterval\n            });\n        }\n    }\n\n    handleChange = (enableEmail, emailInterval) => {\n        this.setState({\n            enableEmail,\n            emailInterval\n        });\n    }\n\n    handleSubmit = () => {\n        const {enableEmail, emailInterval} = this.state;\n        if (this.props.enableEmail !== enableEmail || this.props.emailInterval !== emailInterval) {\n            // until the rest of the notification settings are moved to preferences, we have to do this separately\n            savePreference(Preferences.CATEGORY_NOTIFICATIONS, Preferences.EMAIL_INTERVAL, emailInterval.toString());\n\n            this.props.onSubmit({enableEmail});\n        } else {\n            this.props.updateSection('');\n        }\n    }\n\n    handleExpand = () => {\n        this.props.updateSection('email');\n    }\n\n    handleCancel = (e) => {\n        this.setState({\n            enableEmail: this.props.enableEmail,\n            emailInterval: this.props.emailInterval\n        });\n        this.props.onCancel(e);\n    }\n\n    render() {\n        if (global.window.mm_config.SendEmailNotifications !== 'true' && this.props.activeSection === 'email') {\n            const inputs = [];\n\n            inputs.push(\n                <div\n                    key='oauthEmailInfo'\n                    className='padding-top'\n                >\n                    <FormattedMessage\n                        id='user.settings.notifications.email.disabled_long'\n                        defaultMessage='Email notifications have been disabled by your System Administrator.'\n                    />\n                </div>\n            );\n\n            return (\n                <SettingItemMax\n                    title={localizeMessage('user.settings.notifications.emailNotifications', 'Email notifications')}\n                    inputs={inputs}\n                    server_error={this.state.serverError}\n                    updateSection={this.handleCancel}\n                />\n            );\n        }\n\n        if (this.props.activeSection !== 'email') {\n            let description;\n\n            if (global.window.mm_config.SendEmailNotifications !== 'true') {\n                description = (\n                    <FormattedMessage\n                        id='user.settings.notifications.email.disabled'\n                        defaultMessage='Disabled by System Administrator'\n                    />\n                );\n            } else if (this.props.enableEmail) {\n                switch (this.state.emailInterval) {\n                case Preferences.INTERVAL_IMMEDIATE:\n                    description = (\n                        <FormattedMessage\n                            id='user.settings.notifications.email.immediately'\n                            defaultMessage='Immediately'\n                        />\n                    );\n                    break;\n                case Preferences.INTERVAL_HOUR:\n                    description = (\n                        <FormattedMessage\n                            id='user.settings.notifications.email.everyHour'\n                            defaultMessage='Every hour'\n                        />\n                    );\n                    break;\n                default:\n                    description = (\n                        <FormattedMessage\n                            id='user.settings.notifications.email.everyXMinutes'\n                            defaultMessage='Every {count, plural, one {minute} other {{count, number} minutes}}'\n                            values={{count: this.state.emailInterval / 60}}\n                        />\n                    );\n                }\n            } else {\n                description = (\n                    <FormattedMessage\n                        id='user.settings.notifications.email.never'\n                        defaultMessage='Never'\n                    />\n                );\n            }\n\n            return (\n                <SettingItemMin\n                    title={localizeMessage('user.settings.notifications.emailNotifications', 'Email notifications')}\n                    describe={description}\n                    updateSection={this.handleExpand}\n                />\n            );\n        }\n\n        let batchingOptions = null;\n        let batchingInfo = null;\n        if (global.window.mm_config.EnableEmailBatching === 'true') {\n            batchingOptions = (\n                <div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='emailNotificationMinutes'\n                                type='radio'\n                                name='emailNotifications'\n                                checked={this.state.emailInterval === Preferences.INTERVAL_FIFTEEN_MINUTES}\n                                onChange={() => this.handleChange('true', Preferences.INTERVAL_FIFTEEN_MINUTES)}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.email.everyXMinutes'\n                                defaultMessage='Every {count} minutes'\n                                values={{count: Preferences.INTERVAL_FIFTEEN_MINUTES / 60}}\n                            />\n                        </label>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='emailNotificationHour'\n                                type='radio'\n                                name='emailNotifications'\n                                checked={this.state.emailInterval === Preferences.INTERVAL_HOUR}\n                                onChange={() => this.handleChange('true', Preferences.INTERVAL_HOUR)}\n                            />\n                            <FormattedMessage\n                                id='user.settings.notifications.email.everyHour'\n                                defaultMessage='Every hour'\n                            />\n                        </label>\n                    </div>\n                </div>\n            );\n\n            batchingInfo = (\n                <FormattedMessage\n                    id='user.settings.notifications.emailBatchingInfo'\n                    defaultMessage='Notifications received over the time period selected are combined and sent in a single email.'\n                />\n            );\n        }\n\n        return (\n            <SettingItemMax\n                title={localizeMessage('user.settings.notifications.emailNotifications', 'Email notifications')}\n                inputs={[\n                    <div key='userNotificationEmailOptions'>\n                        <label>\n                            <FormattedMessage\n                                id='user.settings.notifications.email.send'\n                                defaultMessage='Send email notifications'\n                            />\n                        </label>\n                        <div className='radio'>\n                            <label>\n                                <input\n                                    id='emailNotificationImmediately'\n                                    type='radio'\n                                    name='emailNotifications'\n                                    checked={this.state.emailInterval === Preferences.INTERVAL_IMMEDIATE}\n                                    onChange={() => this.handleChange('true', Preferences.INTERVAL_IMMEDIATE)}\n                                />\n                                <FormattedMessage\n                                    id='user.settings.notifications.email.immediately'\n                                    defaultMessage='Immediately'\n                                />\n                            </label>\n                        </div>\n                        {batchingOptions}\n                        <div className='radio'>\n                            <label>\n                                <input\n                                    id='emailNotificationNever'\n                                    type='radio'\n                                    name='emailNotifications'\n                                    checked={this.state.emailInterval === Preferences.INTERVAL_NEVER}\n                                    onChange={() => this.handleChange('false', Preferences.INTERVAL_NEVER)}\n                                />\n                                <FormattedMessage\n                                    id='user.settings.notifications.email.never'\n                                    defaultMessage='Never'\n                                />\n                            </label>\n                        </div>\n                        <br/>\n                        <div>\n                            <FormattedMessage\n                                id='user.settings.notifications.emailInfo'\n                                defaultMessage='Email notifications are sent for mentions and direct messages when you are offline or away from {siteName} for more than 5 minutes.'\n                                values={{\n                                    siteName: global.window.mm_config.SiteName\n                                }}\n                            />\n                            {' '}\n                            {batchingInfo}\n                        </div>\n                    </div>\n                ]}\n                submit={this.handleSubmit}\n                saving={this.props.saving}\n                server_error={this.props.serverError}\n                updateSection={this.handleCancel}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/email_notification_setting.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {clearUserAccessTokens, createUserAccessToken, getMe, getUserAccessTokensForUser, revokeUserAccessToken} from 'mattermost-redux/actions/users';\nimport * as UserUtils from 'mattermost-redux/utils/user_utils';\n\nimport SecurityTab from './user_settings_security.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const tokensEnabled = state.entities.general.config.EnableUserAccessTokens === 'true';\n    const userHasTokenRole = UserUtils.hasUserAccessTokenRole(ownProps.user.roles) || UserUtils.isSystemAdmin(ownProps.user.roles);\n\n    return {\n        ...ownProps,\n        userAccessTokens: state.entities.users.myUserAccessTokens,\n        canUseAccessTokens: tokensEnabled && userHasTokenRole\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getMe,\n            getUserAccessTokensForUser,\n            createUserAccessToken,\n            revokeUserAccessToken,\n            clearUserAccessTokens\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SecurityTab);\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_security/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedDate, FormattedHTMLMessage, FormattedMessage, FormattedTime} from 'react-intl';\nimport {browserHistory, Link} from 'react-router/es6';\n\nimport * as UserUtils from 'mattermost-redux/utils/user_utils';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport {deactivateMfa, deauthorizeOAuthApp, getAuthorizedApps, updatePassword} from 'actions/user_actions.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport {isMobile} from 'utils/user_agent.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport icon50 from 'images/icon50x50.png';\n\nimport AccessHistoryModal from 'components/access_history_modal';\nimport ActivityLogModal from 'components/activity_log_modal';\nimport ConfirmModal from 'components/confirm_modal.jsx';\nimport SettingItemMax from 'components/setting_item_max.jsx';\nimport SettingItemMin from 'components/setting_item_min.jsx';\nimport ToggleModalButton from 'components/toggle_modal_button.jsx';\n\nconst TOKEN_CREATING = 'creating';\nconst TOKEN_CREATED = 'created';\nconst TOKEN_NOT_CREATING = 'not_creating';\n\nexport default class SecurityTab extends React.Component {\n    static propTypes = {\n        user: PropTypes.object,\n        activeSection: PropTypes.string,\n        updateSection: PropTypes.func,\n        updateTab: PropTypes.func,\n        closeModal: PropTypes.func.isRequired,\n        collapseModal: PropTypes.func.isRequired,\n        setEnforceFocus: PropTypes.func.isRequired,\n\n        /*\n         * The personal access tokens for the user\n         */\n        userAccessTokens: PropTypes.object,\n\n        /*\n         * Set if access tokens are enabled and this user can use them\n         */\n        canUseAccessTokens: PropTypes.bool,\n\n        actions: PropTypes.shape({\n            getMe: PropTypes.func.isRequired,\n\n            /*\n             * Function to get personal access tokens for a user\n             */\n            getUserAccessTokensForUser: PropTypes.func.isRequired,\n\n            /*\n             * Function to create a personal access token\n             */\n            createUserAccessToken: PropTypes.func.isRequired,\n\n            /*\n             * Function to revoke a personal access token\n             */\n            revokeUserAccessToken: PropTypes.func.isRequired,\n\n            /*\n             * Function to clear personal access tokens locally\n             */\n            clearUserAccessTokens: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = this.getDefaultState();\n    }\n\n    getDefaultState() {\n        return {\n            currentPassword: '',\n            newPassword: '',\n            confirmPassword: '',\n            passwordError: '',\n            serverError: '',\n            tokenError: '',\n            showConfirmModal: false,\n            authService: this.props.user.auth_service,\n            savingPassword: false\n        };\n    }\n\n    componentDidMount() {\n        if (global.mm_config.EnableOAuthServiceProvider === 'true') {\n            getAuthorizedApps(\n                (authorizedApps) => {\n                    this.setState({authorizedApps, serverError: null}); //eslint-disable-line react/no-did-mount-set-state\n                },\n                (err) => {\n                    this.setState({serverError: err.message}); //eslint-disable-line react/no-did-mount-set-state\n                }\n            );\n        }\n\n        if (this.props.canUseAccessTokens) {\n            this.props.actions.clearUserAccessTokens();\n            const userId = this.props.user ? this.props.user.id : '';\n            this.props.actions.getUserAccessTokensForUser(userId, 0, 200);\n        }\n    }\n\n    submitPassword = (e) => {\n        e.preventDefault();\n\n        var user = this.props.user;\n        var currentPassword = this.state.currentPassword;\n        var newPassword = this.state.newPassword;\n        var confirmPassword = this.state.confirmPassword;\n\n        if (currentPassword === '') {\n            this.setState({passwordError: Utils.localizeMessage('user.settings.security.currentPasswordError', 'Please enter your current password.'), serverError: ''});\n            return;\n        }\n\n        const passwordErr = Utils.isValidPassword(newPassword);\n        if (passwordErr !== '') {\n            this.setState({\n                passwordError: passwordErr,\n                serverError: ''\n            });\n            return;\n        }\n\n        if (newPassword !== confirmPassword) {\n            var defaultState = Object.assign(this.getDefaultState(), {passwordError: Utils.localizeMessage('user.settings.security.passwordMatchError', 'The new passwords you entered do not match.'), serverError: ''});\n            this.setState(defaultState);\n            return;\n        }\n\n        this.setState({savingPassword: true});\n\n        updatePassword(\n            user.id,\n            currentPassword,\n            newPassword,\n            () => {\n                this.props.updateSection('');\n                this.props.actions.getMe();\n                this.setState(this.getDefaultState());\n            },\n            (err) => {\n                var state = this.getDefaultState();\n                if (err.message) {\n                    state.serverError = err.message;\n                } else {\n                    state.serverError = err;\n                }\n                state.passwordError = '';\n                this.setState(state);\n            }\n        );\n    }\n\n    setupMfa = (e) => {\n        e.preventDefault();\n        browserHistory.push('/mfa/setup');\n    }\n\n    removeMfa = () => {\n        deactivateMfa(\n            () => {\n                if (global.window.mm_license.MFA === 'true' &&\n                        global.window.mm_config.EnableMultifactorAuthentication === 'true' &&\n                        global.window.mm_config.EnforceMultifactorAuthentication === 'true') {\n                    window.location.href = '/mfa/setup';\n                    return;\n                }\n\n                this.props.updateSection('');\n                this.setState(this.getDefaultState());\n            },\n            (err) => {\n                const state = this.getDefaultState();\n                if (err.message) {\n                    state.serverError = err.message;\n                } else {\n                    state.serverError = err;\n                }\n                this.setState(state);\n            }\n        );\n    }\n\n    updateCurrentPassword = (e) => {\n        this.setState({currentPassword: e.target.value});\n    }\n\n    updateNewPassword = (e) => {\n        this.setState({newPassword: e.target.value});\n    }\n\n    updateConfirmPassword = (e) => {\n        this.setState({confirmPassword: e.target.value});\n    }\n\n    deauthorizeApp = (e) => {\n        e.preventDefault();\n        const appId = e.currentTarget.getAttribute('data-app');\n        deauthorizeOAuthApp(\n            appId,\n            () => {\n                const authorizedApps = this.state.authorizedApps.filter((app) => {\n                    return app.id !== appId;\n                });\n\n                this.setState({authorizedApps, serverError: null});\n            },\n            (err) => {\n                this.setState({serverError: err.message});\n            }\n        );\n    }\n\n    createMfaSection = () => {\n        let updateSectionStatus;\n        let submit;\n\n        if (this.props.activeSection === 'mfa') {\n            let content;\n            let extraInfo;\n            if (this.props.user.mfa_active) {\n                let mfaRemoveHelp;\n                let mfaButtonText;\n\n                if (global.window.mm_config.EnforceMultifactorAuthentication === 'true') {\n                    mfaRemoveHelp = (\n                        <FormattedMessage\n                            id='user.settings.mfa.requiredHelp'\n                            defaultMessage='Multi-factor authentication is required on this server. Resetting is only recommended when you need to switch code generation to a new mobile device. You will be required to set it up again immediately.'\n                        />\n                    );\n\n                    mfaButtonText = (\n                        <FormattedMessage\n                            id='user.settings.mfa.reset'\n                            defaultMessage='Reset MFA on your account'\n                        />\n                    );\n                } else {\n                    mfaRemoveHelp = (\n                        <FormattedMessage\n                            id='user.settings.mfa.removeHelp'\n                            defaultMessage='Removing multi-factor authentication means you will no longer require a phone-based passcode to sign-in to your account.'\n                        />\n                    );\n\n                    mfaButtonText = (\n                        <FormattedMessage\n                            id='user.settings.mfa.remove'\n                            defaultMessage='Remove MFA from your account'\n                        />\n                    );\n                }\n\n                content = (\n                    <div key='mfaQrCode'>\n                        <a\n                            className='btn btn-primary'\n                            href='#'\n                            onClick={this.removeMfa}\n                        >\n                            {mfaButtonText}\n                        </a>\n                        <br/>\n                    </div>\n                );\n\n                extraInfo = (\n                    <span>\n                        {mfaRemoveHelp}\n                    </span>\n                );\n            } else {\n                content = (\n                    <div key='mfaQrCode'>\n                        <a\n                            className='btn btn-primary'\n                            href='#'\n                            onClick={this.setupMfa}\n                        >\n                            <FormattedMessage\n                                id='user.settings.mfa.add'\n                                defaultMessage='Add MFA to your account'\n                            />\n                        </a>\n                        <br/>\n                    </div>\n                );\n\n                extraInfo = (\n                    <span>\n                        <FormattedMessage\n                            id='user.settings.mfa.addHelp'\n                            defaultMessage='Adding multi-factor authentication will make your account more secure by requiring a code from your mobile phone each time you sign in.'\n                        />\n                    </span>\n                );\n            }\n\n            const inputs = [];\n            inputs.push(\n                <div\n                    key='mfaSetting'\n                    className='padding-top'\n                >\n                    {content}\n                </div>\n            );\n\n            updateSectionStatus = function resetSection(e) {\n                this.props.updateSection('');\n                this.setState({serverError: null});\n                e.preventDefault();\n            }.bind(this);\n\n            return (\n                <SettingItemMax\n                    title={Utils.localizeMessage('user.settings.mfa.title', 'Multi-factor Authentication')}\n                    inputs={inputs}\n                    extraInfo={extraInfo}\n                    submit={submit}\n                    server_error={this.state.serverError}\n                    updateSection={updateSectionStatus}\n                    width='medium'\n                />\n            );\n        }\n\n        let describe;\n        if (this.props.user.mfa_active) {\n            describe = Utils.localizeMessage('user.settings.security.active', 'Active');\n        } else {\n            describe = Utils.localizeMessage('user.settings.security.inactive', 'Inactive');\n        }\n\n        updateSectionStatus = function updateSection() {\n            this.props.updateSection('mfa');\n        }.bind(this);\n\n        return (\n            <SettingItemMin\n                title={Utils.localizeMessage('user.settings.mfa.title', 'Multi-factor Authentication')}\n                describe={describe}\n                updateSection={updateSectionStatus}\n            />\n        );\n    }\n\n    createPasswordSection = () => {\n        let updateSectionStatus;\n\n        if (this.props.activeSection === 'password') {\n            const inputs = [];\n            let submit;\n\n            if (this.props.user.auth_service === '') {\n                submit = this.submitPassword;\n\n                inputs.push(\n                    <div\n                        key='currentPasswordUpdateForm'\n                        className='form-group'\n                    >\n                        <label className='col-sm-5 control-label'>\n                            <FormattedMessage\n                                id='user.settings.security.currentPassword'\n                                defaultMessage='Current Password'\n                            />\n                        </label>\n                        <div className='col-sm-7'>\n                            <input\n                                id='currentPassword'\n                                className='form-control'\n                                type='password'\n                                onChange={this.updateCurrentPassword}\n                                value={this.state.currentPassword}\n                            />\n                        </div>\n                    </div>\n                );\n                inputs.push(\n                    <div\n                        key='newPasswordUpdateForm'\n                        className='form-group'\n                    >\n                        <label className='col-sm-5 control-label'>\n                            <FormattedMessage\n                                id='user.settings.security.newPassword'\n                                defaultMessage='New Password'\n                            />\n                        </label>\n                        <div className='col-sm-7'>\n                            <input\n                                id='newPassword'\n                                className='form-control'\n                                type='password'\n                                onChange={this.updateNewPassword}\n                                value={this.state.newPassword}\n                            />\n                        </div>\n                    </div>\n                );\n                inputs.push(\n                    <div\n                        key='retypeNewPasswordUpdateForm'\n                        className='form-group'\n                    >\n                        <label className='col-sm-5 control-label'>\n                            <FormattedMessage\n                                id='user.settings.security.retypePassword'\n                                defaultMessage='Retype New Password'\n                            />\n                        </label>\n                        <div className='col-sm-7'>\n                            <input\n                                id='confirmPassword'\n                                className='form-control'\n                                type='password'\n                                onChange={this.updateConfirmPassword}\n                                value={this.state.confirmPassword}\n                            />\n                        </div>\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.GITLAB_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='form-group'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.security.passwordGitlabCantUpdate'\n                                defaultMessage='Login occurs through GitLab. Password cannot be updated.'\n                            />\n                        </div>\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.LDAP_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='form-group'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.security.passwordLdapCantUpdate'\n                                defaultMessage='Login occurs through AD/LDAP. Password cannot be updated.'\n                            />\n                        </div>\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.SAML_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='form-group'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.security.passwordSamlCantUpdate'\n                                defaultMessage='This field is handled through your login provider. If you want to change it, you need to do so through your login provider.'\n                            />\n                        </div>\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.GOOGLE_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='form-group'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.security.passwordGoogleCantUpdate'\n                                defaultMessage='Login occurs through Google Apps. Password cannot be updated.'\n                            />\n                        </div>\n                    </div>\n                );\n            } else if (this.props.user.auth_service === Constants.OFFICE365_SERVICE) {\n                inputs.push(\n                    <div\n                        key='oauthEmailInfo'\n                        className='form-group'\n                    >\n                        <div className='setting-list__hint col-sm-12'>\n                            <FormattedMessage\n                                id='user.settings.security.passwordOffice365CantUpdate'\n                                defaultMessage='Login occurs through Office 365. Password cannot be updated.'\n                            />\n                        </div>\n                    </div>\n                );\n            }\n\n            updateSectionStatus = function resetSection(e) {\n                this.props.updateSection('');\n                this.setState({currentPassword: '', newPassword: '', confirmPassword: '', serverError: null, passwordError: null});\n                e.preventDefault();\n            }.bind(this);\n\n            return (\n                <SettingItemMax\n                    title={\n                        <FormattedMessage\n                            id='user.settings.security.password'\n                            defaultMessage='Password'\n                        />\n                    }\n                    inputs={inputs}\n                    submit={submit}\n                    saving={this.state.savingPassword}\n                    server_error={this.state.serverError}\n                    client_error={this.state.passwordError}\n                    updateSection={updateSectionStatus}\n                />\n            );\n        }\n\n        let describe;\n\n        if (this.props.user.auth_service === '') {\n            const d = new Date(this.props.user.last_password_update);\n            const hours12 = !PreferenceStore.getBool(Constants.Preferences.CATEGORY_DISPLAY_SETTINGS, Constants.Preferences.USE_MILITARY_TIME, false);\n\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.lastUpdated'\n                    defaultMessage='Last updated {date} at {time}'\n                    values={{\n                        date: (\n                            <FormattedDate\n                                value={d}\n                                day='2-digit'\n                                month='short'\n                                year='numeric'\n                            />\n                        ),\n                        time: (\n                            <FormattedTime\n                                value={d}\n                                hour12={hours12}\n                                hour='2-digit'\n                                minute='2-digit'\n                            />\n                        )\n                    }}\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.GITLAB_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.loginGitlab'\n                    defaultMessage='Login done through GitLab'\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.LDAP_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.loginLdap'\n                    defaultMessage='Login done through AD/LDAP'\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.SAML_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.loginSaml'\n                    defaultMessage='Login done through SAML'\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.GOOGLE_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.loginGoogle'\n                    defaultMessage='Login done through Google Apps'\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.OFFICE365_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.loginOffice365'\n                    defaultMessage='Login done through Office 365'\n                />\n            );\n        }\n\n        updateSectionStatus = function updateSection() {\n            this.props.updateSection('password');\n        }.bind(this);\n\n        return (\n            <SettingItemMin\n                title={\n                    <FormattedMessage\n                        id='user.settings.security.password'\n                        defaultMessage='Password'\n                    />\n                }\n                describe={describe}\n                updateSection={updateSectionStatus}\n            />\n        );\n    }\n\n    createSignInSection = () => {\n        let updateSectionStatus;\n        const user = this.props.user;\n\n        if (this.props.activeSection === 'signin') {\n            let emailOption;\n            let gitlabOption;\n            let googleOption;\n            let office365Option;\n            let ldapOption;\n            let samlOption;\n\n            if (user.auth_service === '') {\n                if (global.window.mm_config.EnableSignUpWithGitLab === 'true') {\n                    gitlabOption = (\n                        <div className='padding-bottom x2'>\n                            <Link\n                                className='btn btn-primary'\n                                to={'/claim/email_to_oauth?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service + '&new_type=' + Constants.GITLAB_SERVICE}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.security.switchGitlab'\n                                    defaultMessage='Switch to using GitLab SSO'\n                                />\n                            </Link>\n                            <br/>\n                        </div>\n                    );\n                }\n\n                if (global.window.mm_config.EnableSignUpWithGoogle === 'true') {\n                    googleOption = (\n                        <div className='padding-bottom x2'>\n                            <Link\n                                className='btn btn-primary'\n                                to={'/claim/email_to_oauth?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service + '&new_type=' + Constants.GOOGLE_SERVICE}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.security.switchGoogle'\n                                    defaultMessage='Switch to using Google SSO'\n                                />\n                            </Link>\n                            <br/>\n                        </div>\n                    );\n                }\n\n                if (global.window.mm_config.EnableSignUpWithOffice365 === 'true') {\n                    office365Option = (\n                        <div className='padding-bottom x2'>\n                            <Link\n                                className='btn btn-primary'\n                                to={'/claim/email_to_oauth?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service + '&new_type=' + Constants.OFFICE365_SERVICE}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.security.switchOffice365'\n                                    defaultMessage='Switch to using Office 365 SSO'\n                                />\n                            </Link>\n                            <br/>\n                        </div>\n                    );\n                }\n\n                if (global.window.mm_config.EnableLdap === 'true') {\n                    ldapOption = (\n                        <div className='padding-bottom x2'>\n                            <Link\n                                className='btn btn-primary'\n                                to={'/claim/email_to_ldap?email=' + encodeURIComponent(user.email)}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.security.switchLdap'\n                                    defaultMessage='Switch to using AD/LDAP'\n                                />\n                            </Link>\n                            <br/>\n                        </div>\n                    );\n                }\n\n                if (global.window.mm_config.EnableSaml === 'true') {\n                    samlOption = (\n                        <div className='padding-bottom x2'>\n                            <Link\n                                className='btn btn-primary'\n                                to={'/claim/email_to_oauth?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service + '&new_type=' + Constants.SAML_SERVICE}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.security.switchSaml'\n                                    defaultMessage='Switch to using SAML SSO'\n                                />\n                            </Link>\n                            <br/>\n                        </div>\n                    );\n                }\n            } else if (global.window.mm_config.EnableSignUpWithEmail === 'true') {\n                let link;\n                if (user.auth_service === Constants.LDAP_SERVICE) {\n                    link = '/claim/ldap_to_email?email=' + encodeURIComponent(user.email);\n                } else {\n                    link = '/claim/oauth_to_email?email=' + encodeURIComponent(user.email) + '&old_type=' + user.auth_service;\n                }\n\n                emailOption = (\n                    <div className='padding-bottom x2'>\n                        <Link\n                            className='btn btn-primary'\n                            to={link}\n                        >\n                            <FormattedMessage\n                                id='user.settings.security.switchEmail'\n                                defaultMessage='Switch to using email and password'\n                            />\n                        </Link>\n                        <br/>\n                    </div>\n                );\n            }\n\n            const inputs = [];\n            inputs.push(\n                <div key='userSignInOption'>\n                    {emailOption}\n                    {gitlabOption}\n                    {googleOption}\n                    {office365Option}\n                    {ldapOption}\n                    {samlOption}\n                </div>\n            );\n\n            updateSectionStatus = function updateSection(e) {\n                this.props.updateSection('');\n                this.setState({serverError: null});\n                e.preventDefault();\n            }.bind(this);\n\n            const extraInfo = (\n                <span>\n                    <FormattedMessage\n                        id='user.settings.security.oneSignin'\n                        defaultMessage='You may only have one sign-in method at a time. Switching sign-in method will send an email notifying you if the change was successful.'\n                    />\n                </span>\n            );\n\n            return (\n                <SettingItemMax\n                    title={Utils.localizeMessage('user.settings.security.method', 'Sign-in Method')}\n                    extraInfo={extraInfo}\n                    inputs={inputs}\n                    server_error={this.state.serverError}\n                    updateSection={updateSectionStatus}\n                />\n            );\n        }\n\n        updateSectionStatus = function updateSection() {\n            this.props.updateSection('signin');\n        }.bind(this);\n\n        let describe = (\n            <FormattedMessage\n                id='user.settings.security.emailPwd'\n                defaultMessage='Email and Password'\n            />\n        );\n        if (this.props.user.auth_service === Constants.GITLAB_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.gitlab'\n                    defaultMessage='GitLab'\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.GOOGLE_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.google'\n                    defaultMessage='Google'\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.OFFICE365_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.office365'\n                    defaultMessage='Office 365'\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.LDAP_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.ldap'\n                    defaultMessage='AD/LDAP'\n                />\n            );\n        } else if (this.props.user.auth_service === Constants.SAML_SERVICE) {\n            describe = (\n                <FormattedMessage\n                    id='user.settings.security.saml'\n                    defaultMessage='SAML'\n                />\n            );\n        }\n\n        return (\n            <SettingItemMin\n                title={Utils.localizeMessage('user.settings.security.method', 'Sign-in Method')}\n                describe={describe}\n                updateSection={updateSectionStatus}\n            />\n        );\n    }\n\n    createOAuthAppsSection = () => {\n        let updateSectionStatus;\n\n        if (this.props.activeSection === 'apps') {\n            let apps;\n            if (this.state.authorizedApps && this.state.authorizedApps.length > 0) {\n                apps = this.state.authorizedApps.map((app) => {\n                    const homepage = (\n                        <a\n                            href={app.homepage}\n                            target='_blank'\n                            rel='noopener noreferrer'\n                        >\n                            {app.homepage}\n                        </a>\n                    );\n\n                    return (\n                        <div\n                            key={app.id}\n                            className='padding-bottom x2 authorized-app'\n                        >\n                            <div className='col-sm-10'>\n                                <div className='authorized-app__name'>\n                                    {app.name}\n                                    <span className='authorized-app__url'>\n                                        {' -'} {homepage}\n                                    </span>\n                                </div>\n                                <div className='authorized-app__description'>{app.description}</div>\n                                <div className='authorized-app__deauthorize'>\n                                    <a\n                                        href='#'\n                                        data-app={app.id}\n                                        onClick={this.deauthorizeApp}\n                                    >\n                                        <FormattedMessage\n                                            id='user.settings.security.deauthorize'\n                                            defaultMessage='Deauthorize'\n                                        />\n                                    </a>\n                                </div>\n                            </div>\n                            <div className='col-sm-2 pull-right'>\n                                <img\n                                    alt={app.name}\n                                    src={app.icon_url || icon50}\n                                />\n                            </div>\n                            <br/>\n                        </div>\n                    );\n                });\n            } else {\n                apps = (\n                    <div className='padding-bottom x2 authorized-app'>\n                        <div className='setting-list__hint'>\n                            <FormattedMessage\n                                id='user.settings.security.noApps'\n                                defaultMessage='No OAuth 2.0 Applications are authorized.'\n                            />\n                        </div>\n                    </div>\n                );\n            }\n\n            const inputs = [];\n            let wrapperClass;\n            let helpText;\n            if (Array.isArray(apps)) {\n                wrapperClass = 'authorized-apps__wrapper';\n\n                helpText = (\n                    <div className='authorized-apps__help'>\n                        <FormattedMessage\n                            id='user.settings.security.oauthAppsHelp'\n                            defaultMessage='Applications act on your behalf to access your data based on the permissions you grant them.'\n                        />\n                    </div>\n                );\n            }\n\n            inputs.push(\n                <div\n                    className={wrapperClass}\n                    key='authorizedApps'\n                >\n                    {apps}\n                </div>\n            );\n\n            updateSectionStatus = function updateSection(e) {\n                this.props.updateSection('');\n                this.setState({serverError: null});\n                e.preventDefault();\n            }.bind(this);\n\n            const title = (\n                <div>\n                    <FormattedMessage\n                        id='user.settings.security.oauthApps'\n                        defaultMessage='OAuth 2.0 Applications'\n                    />\n                    {helpText}\n                </div>\n            );\n\n            return (\n                <SettingItemMax\n                    title={title}\n                    inputs={inputs}\n                    server_error={this.state.serverError}\n                    updateSection={updateSectionStatus}\n                    width='full'\n                    cancelButtonText={\n                        <FormattedMessage\n                            id='user.settings.security.close'\n                            defaultMessage='Close'\n                        />\n                    }\n                />\n            );\n        }\n\n        updateSectionStatus = function updateSection() {\n            this.props.updateSection('apps');\n        }.bind(this);\n\n        return (\n            <SettingItemMin\n                title={Utils.localizeMessage('user.settings.security.oauthApps', 'OAuth 2.0 Applications')}\n                describe={\n                    <FormattedMessage\n                        id='user.settings.security.oauthAppsDescription'\n                        defaultMessage=\"Click 'Edit' to manage your OAuth 2.0 Applications\"\n                    />\n                }\n                updateSection={updateSectionStatus}\n            />\n        );\n    }\n\n    startCreatingToken = () => {\n        this.setState({tokenCreationState: TOKEN_CREATING});\n    }\n\n    stopCreatingToken = () => {\n        this.setState({tokenCreationState: TOKEN_NOT_CREATING});\n    }\n\n    handleCreateToken = async () => {\n        this.handleCancelConfirm();\n\n        const description = this.refs.newtokendescription ? this.refs.newtokendescription.value : '';\n\n        if (description === '') {\n            this.setState({tokenError: Utils.localizeMessage('user.settings.tokens.nameRequired', 'Please enter a description.')});\n            return;\n        }\n\n        this.setState({tokenError: ''});\n\n        const userId = this.props.user ? this.props.user.id : '';\n        const {data, error} = await this.props.actions.createUserAccessToken(userId, description);\n\n        if (data) {\n            this.setState({tokenCreationState: TOKEN_CREATED, newToken: data});\n        } else if (error) {\n            this.setState({serverError: error.message});\n        }\n    }\n\n    handleCancelConfirm = () => {\n        this.setState({\n            showConfirmModal: false,\n            confirmTitle: null,\n            confirmMessage: null,\n            confirmButton: null,\n            confirmComplete: null\n        });\n    }\n\n    confirmCreateToken = () => {\n        if (UserUtils.isSystemAdmin(this.props.user.roles)) {\n            this.setState({\n                showConfirmModal: true,\n                confirmTitle: (\n                    <FormattedMessage\n                        id='user.settings.tokens.confirmCreateTitle'\n                        defaultMessage='Create System Admin Personal Access Token'\n                    />\n                ),\n                confirmMessage: (\n                    <div className='alert alert-danger'>\n                        <FormattedHTMLMessage\n                            id='user.settings.tokens.confirmCreateMessage'\n                            defaultMessage='You are generating a personal access token with System Admin permissions. Are you sure want to create this token?'\n                        />\n                    </div>\n                ),\n                confirmButton: (\n                    <FormattedMessage\n                        id='user.settings.tokens.confirmCreateButton'\n                        defaultMessage='Yes, Create'\n                    />\n                ),\n                confirmComplete: () => {\n                    this.handleCreateToken();\n                    trackEvent('settings', 'system_admin_create_user_access_token');\n                }\n            });\n\n            return;\n        }\n\n        this.handleCreateToken();\n    }\n\n    saveTokenKeyPress = (e) => {\n        if (e.which === Constants.KeyCodes.ENTER) {\n            this.confirmCreateToken();\n        }\n    }\n\n    confirmRevokeToken = (tokenId) => {\n        const token = this.props.userAccessTokens[tokenId];\n\n        this.setState({\n            showConfirmModal: true,\n            confirmTitle: (\n                <FormattedMessage\n                    id='user.settings.tokens.confirmDeleteTitle'\n                    defaultMessage='Delete Token?'\n                />\n            ),\n            confirmMessage: (\n                <div className='alert alert-danger'>\n                    <FormattedHTMLMessage\n                        id='user.settings.tokens.confirmDeleteMessage'\n                        defaultMessage='Any integrations using this token will no longer be able to access the Mattermost API. You cannot undo this action. <br /><br />Are you sure want to delete the {description} token?'\n                        values={{\n                            description: token.description\n                        }}\n                    />\n                </div>\n            ),\n            confirmButton: (\n                <FormattedMessage\n                    id='user.settings.tokens.confirmDeleteButton'\n                    defaultMessage='Yes, Delete'\n                />\n            ),\n            confirmComplete: () => {\n                this.revokeToken(tokenId);\n                trackEvent('settings', 'revoke_user_access_token');\n            }\n        });\n    }\n\n    revokeToken = async (tokenId) => {\n        const {error} = await this.props.actions.revokeUserAccessToken(tokenId);\n        if (error) {\n            this.setState({serverError: error.message});\n        }\n        this.handleCancelConfirm();\n    }\n\n    createTokensSection = () => {\n        let updateSectionStatus;\n        let tokenListClass = '';\n\n        if (this.props.activeSection === 'tokens') {\n            const tokenList = [];\n            Object.values(this.props.userAccessTokens).forEach((token) => {\n                if (this.state.newToken && this.state.newToken.id === token.id) {\n                    return;\n                }\n\n                tokenList.push(\n                    <div\n                        key={token.id}\n                        className='setting-box__item'\n                    >\n                        <div className='whitespace--nowrap overflow--ellipsis'>\n                            <FormattedMessage\n                                id='user.settings.tokens.tokenDesc'\n                                defaultMessage='Token Description: '\n                            />\n                            {token.description}\n                        </div>\n                        <div className='setting-box__token-id whitespace--nowrap overflow--ellipsis'>\n                            <FormattedMessage\n                                id='user.settings.tokens.tokenId'\n                                defaultMessage='Token ID: '\n                            />\n                            {token.id}\n                        </div>\n                        <div>\n                            <a\n                                name={token.id}\n                                href='#'\n                                onClick={(e) => {\n                                    e.preventDefault();\n                                    this.confirmRevokeToken(token.id);\n                                }}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.tokens.delete'\n                                    defaultMessage='Delete'\n                                />\n                            </a>\n                        </div>\n                        <hr className='margin-bottom margin-top x2'/>\n                    </div>\n                );\n            });\n\n            let noTokenText;\n            if (tokenList.length === 0) {\n                noTokenText = (\n                    <FormattedMessage\n                        key='notokens'\n                        id='user.settings.tokens.userAccessTokensNone'\n                        defaultMessage='No personal access tokens.'\n                    />\n                );\n            }\n\n            let extraInfo;\n            if (isMobile()) {\n                extraInfo = (\n                    <span>\n                        <FormattedHTMLMessage\n                            id='user.settings.tokens.description_mobile'\n                            defaultMessage='<a href=\"https://about.mattermost.com/default-user-access-tokens\" target=\"_blank\">Personal access tokens</a> function similar to session tokens and can be used by integrations to <a href=\"https://about.mattermost.com/default-api-authentication\" target=\"_blank\">authenticate against the REST API</a>. Create new tokens on your desktop.'\n                        />\n                    </span>\n                );\n            } else {\n                extraInfo = (\n                    <span>\n                        <FormattedHTMLMessage\n                            id='user.settings.tokens.description'\n                            defaultMessage='<a href=\"https://about.mattermost.com/default-user-access-tokens\" target=\"_blank\">Personal access tokens</a> function similar to session tokens and can be used by integrations to <a href=\"https://about.mattermost.com/default-api-authentication\" target=\"_blank\">authenticate against the REST API</a>.'\n                        />\n                    </span>\n                );\n            }\n\n            let newTokenSection;\n            if (this.state.tokenCreationState === TOKEN_CREATING) {\n                newTokenSection = (\n                    <div className='padding-left x2'>\n                        <div className='row'>\n                            <label className='col-sm-auto control-label padding-right x2'>\n                                <FormattedMessage\n                                    id='user.settings.tokens.name'\n                                    defaultMessage='Token Description: '\n                                />\n                            </label>\n                            <div className='col-sm-5'>\n                                <input\n                                    ref='newtokendescription'\n                                    className='form-control'\n                                    type='text'\n                                    maxLength={64}\n                                    onKeyPress={this.saveTokenKeyPress}\n                                />\n                            </div>\n                        </div>\n                        <div>\n                            <div className='padding-top x2'>\n                                <FormattedMessage\n                                    id='user.settings.tokens.nameHelp'\n                                    defaultMessage='Enter a description for your token to remember what it does.'\n                                />\n                            </div>\n                            <div>\n                                <label\n                                    id='clientError'\n                                    className='has-error margin-top margin-bottom'\n                                >\n                                    {this.state.tokenError}\n                                </label>\n                            </div>\n                            <button\n                                className='btn btn-primary'\n                                onClick={this.confirmCreateToken}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.tokens.save'\n                                    defaultMessage='Save'\n                                />\n                            </button>\n                            <button\n                                className='btn btn-default'\n                                onClick={this.stopCreatingToken}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.tokens.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </button>\n                        </div>\n                    </div>\n                );\n            } else if (this.state.tokenCreationState === TOKEN_CREATED) {\n                if (tokenList.length === 0) {\n                    tokenListClass = ' hidden';\n                }\n\n                newTokenSection = (\n                    <div\n                        className='alert alert-warning'\n                    >\n                        <i className='fa fa-warning margin-right'/>\n                        <FormattedMessage\n                            id='user.settings.tokens.copy'\n                            defaultMessage=\"Please copy the access token below. You won't be able to see it again!\"\n                        />\n                        <br/>\n                        <br/>\n                        <div className='whitespace--nowrap overflow--ellipsis'>\n                            <FormattedMessage\n                                id='user.settings.tokens.name'\n                                defaultMessage='Token Description: '\n                            />\n                            {this.state.newToken.description}\n                        </div>\n                        <div className='whitespace--nowrap overflow--ellipsis'>\n                            <FormattedMessage\n                                id='user.settings.tokens.id'\n                                defaultMessage='Token ID: '\n                            />\n                            {this.state.newToken.id}\n                        </div>\n                        <strong className='word-break--all'>\n                            <FormattedMessage\n                                id='user.settings.tokens.token'\n                                defaultMessage='Access Token: '\n                            />\n                            {this.state.newToken.token}\n                        </strong>\n                    </div>\n                );\n            } else {\n                newTokenSection = (\n                    <a\n                        className='btn btn-primary'\n                        href='#'\n                        onClick={this.startCreatingToken}\n                    >\n                        <FormattedMessage\n                            id='user.settings.tokens.create'\n                            defaultMessage='Create New Token'\n                        />\n                    </a>\n                );\n            }\n\n            const inputs = [];\n            inputs.push(\n                <div\n                    key='tokensSetting'\n                    className='padding-top'\n                >\n                    <div key='tokenList'>\n                        <div className={'alert alert-transparent' + tokenListClass}>\n                            {tokenList}\n                            {noTokenText}\n                        </div>\n                        {newTokenSection}\n                    </div>\n                </div>\n            );\n\n            updateSectionStatus = function resetSection(e) {\n                this.props.updateSection('');\n                this.setState({newToken: null, tokenCreationState: TOKEN_NOT_CREATING, serverError: null, tokenError: ''});\n                e.preventDefault();\n            }.bind(this);\n\n            return (\n                <SettingItemMax\n                    title={Utils.localizeMessage('user.settings.tokens.title', 'Personal Access Tokens')}\n                    inputs={inputs}\n                    extraInfo={extraInfo}\n                    infoPosition='top'\n                    server_error={this.state.serverError}\n                    updateSection={updateSectionStatus}\n                    width='full'\n                    cancelButtonText={\n                        <FormattedMessage\n                            id='user.settings.security.close'\n                            defaultMessage='Close'\n                        />\n                    }\n                />\n            );\n        }\n\n        const describe = Utils.localizeMessage('user.settings.tokens.clickToEdit', \"Click 'Edit' to manage your personal access tokens\");\n\n        updateSectionStatus = function updateSection() {\n            this.props.updateSection('tokens');\n        }.bind(this);\n\n        return (\n            <SettingItemMin\n                title={Utils.localizeMessage('user.settings.tokens.title', 'Personal Access Tokens')}\n                describe={describe}\n                updateSection={updateSectionStatus}\n            />\n        );\n    }\n\n    render() {\n        const user = this.props.user;\n        const config = window.mm_config;\n\n        const passwordSection = this.createPasswordSection();\n\n        let numMethods = 0;\n        numMethods = config.EnableSignUpWithGitLab === 'true' ? numMethods + 1 : numMethods;\n        numMethods = config.EnableSignUpWithGoogle === 'true' ? numMethods + 1 : numMethods;\n        numMethods = config.EnableLdap === 'true' ? numMethods + 1 : numMethods;\n        numMethods = config.EnableSaml === 'true' ? numMethods + 1 : numMethods;\n\n        // If there are other sign-in methods and either email is enabled or the user's account is email, then allow switching\n        let signInSection;\n        if ((config.EnableSignUpWithEmail === 'true' || user.auth_service === '') && numMethods > 0) {\n            signInSection = this.createSignInSection();\n        }\n\n        let mfaSection;\n        if (config.EnableMultifactorAuthentication === 'true' &&\n                global.window.mm_license.IsLicensed === 'true' &&\n                (user.auth_service === '' || user.auth_service === Constants.LDAP_SERVICE)) {\n            mfaSection = this.createMfaSection();\n        }\n\n        let oauthSection;\n        if (config.EnableOAuthServiceProvider === 'true') {\n            oauthSection = this.createOAuthAppsSection();\n        }\n\n        let tokensSection;\n        if (this.props.canUseAccessTokens) {\n            tokensSection = this.createTokensSection();\n        }\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label={Utils.localizeMessage('user.settings.security.close', 'Close')}\n                        onClick={this.props.closeModal}\n                    >\n                        <span aria-hidden='true'>{'×'}</span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i\n                                className='fa fa-angle-left'\n                                onClick={this.props.collapseModal}\n                            />\n                        </div>\n                        <FormattedMessage\n                            id='user.settings.security.title'\n                            defaultMessage='Security Settings'\n                        />\n                    </h4>\n                </div>\n                <div className='user-settings'>\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='user.settings.security.title'\n                            defaultMessage='Security Settings'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {passwordSection}\n                    <div className='divider-light'/>\n                    {mfaSection}\n                    <div className='divider-light'/>\n                    {oauthSection}\n                    <div className='divider-light'/>\n                    {tokensSection}\n                    <div className='divider-light'/>\n                    {signInSection}\n                    <div className='divider-dark'/>\n                    <br/>\n                    <ToggleModalButton\n                        className='security-links color--link'\n                        dialogType={AccessHistoryModal}\n                    >\n                        <i className='fa fa-clock-o'/>\n                        <FormattedMessage\n                            id='user.settings.security.viewHistory'\n                            defaultMessage='View Access History'\n                        />\n                    </ToggleModalButton>\n                    <ToggleModalButton\n                        className='security-links color--link margin-top'\n                        dialogType={ActivityLogModal}\n                    >\n                        <i className='fa fa-clock-o'/>\n                        <FormattedMessage\n                            id='user.settings.security.logoutActiveSessions'\n                            defaultMessage='View and Logout of Active Sessions'\n                        />\n                    </ToggleModalButton>\n                </div>\n                <ConfirmModal\n                    title={this.state.confirmTitle}\n                    message={this.state.confirmMessage}\n                    confirmButtonText={this.state.confirmButton}\n                    show={this.state.showConfirmModal}\n                    onConfirm={this.state.confirmComplete || (() => {})} //eslint-disable-line no-empty-function\n                    onCancel={this.handleCancelConfirm}\n                />\n            </div>\n        );\n    }\n}\n\nSecurityTab.defaultProps = {\n    user: {},\n    activeSection: ''\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/user_settings_security/user_settings_security.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getUserAudits} from 'mattermost-redux/actions/users';\n\nimport AccessHistoryModal from './access_history_modal.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getUserAudits\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AccessHistoryModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/access_history_modal/index.js","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport UserStore from 'stores/user_store.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\n\nimport AuditTable from 'components/audit_table.jsx';\nimport LoadingScreen from 'components/loading_screen.jsx';\n\nexport default class AccessHistoryModal extends React.Component {\n    static propTypes = {\n        onHide: PropTypes.func.isRequired,\n        actions: PropTypes.shape({\n            getUserAudits: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.onAuditChange = this.onAuditChange.bind(this);\n        this.onShow = this.onShow.bind(this);\n        this.onHide = this.onHide.bind(this);\n\n        const state = this.getStateFromStoresForAudits();\n        state.moreInfo = [];\n        state.show = true;\n\n        this.state = state;\n    }\n\n    getStateFromStoresForAudits() {\n        return {\n            audits: UserStore.getAudits()\n        };\n    }\n\n    onShow() {\n        this.props.actions.getUserAudits(UserStore.getCurrentId(), 0, 200);\n        if (!Utils.isMobile()) {\n            $('.modal-body').perfectScrollbar();\n        }\n    }\n\n    onHide() {\n        this.setState({show: false});\n    }\n\n    componentDidMount() {\n        UserStore.addAuditsChangeListener(this.onAuditChange);\n        this.onShow();\n    }\n\n    componentWillUnmount() {\n        UserStore.removeAuditsChangeListener(this.onAuditChange);\n    }\n\n    onAuditChange() {\n        const newState = this.getStateFromStoresForAudits();\n        if (!Utils.areObjectsEqual(newState.audits, this.state.audits)) {\n            this.setState(newState);\n        }\n    }\n\n    render() {\n        let content;\n        if (this.state.audits.length === 0) {\n            content = (<LoadingScreen/>);\n        } else {\n            content = (\n                <AuditTable\n                    audits={this.state.audits}\n                    showIp={true}\n                    showSession={true}\n                />\n            );\n        }\n\n        return (\n            <Modal\n                dialogClassName='modal--scroll'\n                show={this.state.show}\n                onHide={this.onHide}\n                onExited={this.props.onHide}\n                bsSize='large'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title>\n                        <FormattedMessage\n                            id='access_history.title'\n                            defaultMessage='Access History'\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body ref='modalBody'>\n                    {content}\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/access_history_modal/access_history_modal.jsx","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getSessions, revokeSession} from 'mattermost-redux/actions/users';\n\nimport ActivityLogModal from './activity_log_modal.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getSessions,\n            revokeSession\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActivityLogModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/activity_log_modal/index.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedDate, FormattedMessage, FormattedTime} from 'react-intl';\n\nimport {General} from 'mattermost-redux/constants';\n\nimport UserStore from 'stores/user_store.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\n\nimport LoadingScreen from 'components/loading_screen.jsx';\n\nexport default class ActivityLogModal extends React.Component {\n    static propTypes = {\n        onHide: PropTypes.func.isRequired,\n        actions: PropTypes.shape({\n            getSessions: PropTypes.func.isRequired,\n            revokeSession: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.submitRevoke = this.submitRevoke.bind(this);\n        this.onListenerChange = this.onListenerChange.bind(this);\n        this.handleMoreInfo = this.handleMoreInfo.bind(this);\n        this.onHide = this.onHide.bind(this);\n        this.onShow = this.onShow.bind(this);\n\n        const state = this.getStateFromStores();\n        state.moreInfo = [];\n        state.show = true;\n\n        this.state = state;\n    }\n\n    getStateFromStores() {\n        return {\n            sessions: UserStore.getSessions(),\n            clientError: null\n        };\n    }\n\n    submitRevoke(altId, e) {\n        e.preventDefault();\n        var modalContent = $(e.target).closest('.modal-content');\n        modalContent.addClass('animation--highlight');\n        setTimeout(() => {\n            modalContent.removeClass('animation--highlight');\n        }, 1500);\n        this.props.actions.revokeSession(UserStore.getCurrentId(), altId).then(() => {\n            this.props.actions.getSessions(UserStore.getCurrentId());\n        });\n    }\n\n    onShow() {\n        this.props.actions.getSessions(UserStore.getCurrentId());\n        if (!Utils.isMobile()) {\n            $('.modal-body').perfectScrollbar();\n        }\n    }\n\n    onHide() {\n        this.setState({show: false});\n    }\n\n    componentDidMount() {\n        UserStore.addSessionsChangeListener(this.onListenerChange);\n        this.onShow();\n    }\n\n    componentWillUnmount() {\n        UserStore.removeSessionsChangeListener(this.onListenerChange);\n    }\n\n    onListenerChange() {\n        const newState = this.getStateFromStores();\n        if (!Utils.areObjectsEqual(newState.sessions, this.state.sessions)) {\n            this.setState(newState);\n        }\n    }\n\n    handleMoreInfo(index) {\n        const newMoreInfo = this.state.moreInfo;\n        newMoreInfo[index] = true;\n        this.setState({moreInfo: newMoreInfo});\n    }\n\n    isMobileSession = (session) => {\n        return session.device_id && (session.device_id.includes('apple') || session.device_id.includes('android'));\n    };\n\n    mobileSessionInfo = (session) => {\n        let deviceTypeId;\n        let deviceTypeMessage;\n        let devicePicture;\n\n        if (session.device_id.includes('apple')) {\n            devicePicture = 'fa fa-apple';\n            deviceTypeId = 'activity_log_modal.iphoneNativeClassicApp';\n            deviceTypeMessage = 'iPhone Native Classic App';\n\n            if (session.device_id.includes(General.PUSH_NOTIFY_APPLE_REACT_NATIVE)) {\n                deviceTypeId = 'activity_log_modal.iphoneNativeApp';\n                deviceTypeMessage = 'iPhone Native App';\n            }\n        } else if (session.device_id.includes('android')) {\n            devicePicture = 'fa fa-android';\n            deviceTypeId = 'activity_log_modal.androidNativeClassicApp';\n            deviceTypeMessage = 'Android Native Classic App';\n\n            if (session.device_id.includes(General.PUSH_NOTIFY_ANDROID_REACT_NATIVE)) {\n                deviceTypeId = 'activity_log_modal.androidNativeApp';\n                deviceTypeMessage = 'Android Native App';\n            }\n        }\n\n        return {\n            devicePicture,\n            devicePlatform: (\n                <FormattedMessage\n                    id={deviceTypeId}\n                    defaultMessage={deviceTypeMessage}\n                />\n            )\n        };\n    };\n\n    render() {\n        const activityList = [];\n\n        for (let i = 0; i < this.state.sessions.length; i++) {\n            const currentSession = this.state.sessions[i];\n            const lastAccessTime = new Date(currentSession.last_activity_at);\n            const firstAccessTime = new Date(currentSession.create_at);\n            let devicePlatform = currentSession.props.platform;\n            let devicePicture = '';\n\n            if (currentSession.props.type === 'UserAccessToken') {\n                continue;\n            }\n\n            if (currentSession.props.platform === 'Windows') {\n                devicePicture = 'fa fa-windows';\n            } else if (this.isMobileSession(currentSession)) {\n                const sessionInfo = this.mobileSessionInfo(currentSession);\n\n                devicePicture = sessionInfo.devicePicture;\n                devicePlatform = sessionInfo.devicePlatform;\n            } else if (currentSession.props.platform === 'Macintosh' ||\n                currentSession.props.platform === 'iPhone') {\n                devicePicture = 'fa fa-apple';\n            } else if (currentSession.props.platform === 'Linux') {\n                if (currentSession.props.os.indexOf('Android') >= 0) {\n                    devicePlatform = (\n                        <FormattedMessage\n                            id='activity_log_modal.android'\n                            defaultMessage='Android'\n                        />\n                    );\n                    devicePicture = 'fa fa-android';\n                } else {\n                    devicePicture = 'fa fa-linux';\n                }\n            } else if (currentSession.props.os.indexOf('Linux') !== -1) {\n                devicePicture = 'fa fa-linux';\n            }\n\n            if (currentSession.props.browser.indexOf('Desktop App') !== -1) {\n                devicePlatform = (\n                    <FormattedMessage\n                        id='activity_log_modal.desktop'\n                        defaultMessage='Native Desktop App'\n                    />\n                );\n            }\n\n            let moreInfo;\n            if (this.state.moreInfo[i]) {\n                moreInfo = (\n                    <div>\n                        <div>\n                            <FormattedMessage\n                                id='activity_log.firstTime'\n                                defaultMessage='First time active: {date}, {time}'\n                                values={{\n                                    date: (\n                                        <FormattedDate\n                                            value={firstAccessTime}\n                                            day='2-digit'\n                                            month='long'\n                                            year='numeric'\n                                        />\n                                    ),\n                                    time: (\n                                        <FormattedTime\n                                            value={firstAccessTime}\n                                            hour='2-digit'\n                                            minute='2-digit'\n                                        />\n                                    )\n                                }}\n                            />\n                        </div>\n                        <div>\n                            <FormattedMessage\n                                id='activity_log.os'\n                                defaultMessage='OS: {os}'\n                                values={{\n                                    os: currentSession.props.os\n                                }}\n                            />\n                        </div>\n                        <div>\n                            <FormattedMessage\n                                id='activity_log.browser'\n                                defaultMessage='Browser: {browser}'\n                                values={{\n                                    browser: currentSession.props.browser\n                                }}\n                            />\n                        </div>\n                        <div>\n                            <FormattedMessage\n                                id='activity_log.sessionId'\n                                defaultMessage='Session ID: {id}'\n                                values={{\n                                    id: currentSession.id\n                                }}\n                            />\n                        </div>\n                    </div>\n                );\n            } else {\n                moreInfo = (\n                    <a\n                        className='theme'\n                        href='#'\n                        onClick={this.handleMoreInfo.bind(this, i)}\n                    >\n                        <FormattedMessage\n                            id='activity_log.moreInfo'\n                            defaultMessage='More info'\n                        />\n                    </a>\n                );\n            }\n\n            activityList[i] = (\n                <div\n                    key={'activityLogEntryKey' + i}\n                    className='activity-log__table'\n                >\n                    <div className='activity-log__report'>\n                        <div className='report__platform'><i className={devicePicture}/>{devicePlatform}</div>\n                        <div className='report__info'>\n                            <div>\n                                <FormattedMessage\n                                    id='activity_log.lastActivity'\n                                    defaultMessage='Last activity: {date}, {time}'\n                                    values={{\n                                        date: (\n                                            <FormattedDate\n                                                value={lastAccessTime}\n                                                day='2-digit'\n                                                month='long'\n                                                year='numeric'\n                                            />\n                                        ),\n                                        time: (\n                                            <FormattedTime\n                                                value={lastAccessTime}\n                                                hour='2-digit'\n                                                minute='2-digit'\n                                            />\n                                        )\n                                    }}\n                                />\n                            </div>\n                            {moreInfo}\n                        </div>\n                    </div>\n                    <div className='activity-log__action'>\n                        <button\n                            onClick={this.submitRevoke.bind(this, currentSession.id)}\n                            className='btn btn-primary'\n                        >\n                            <FormattedMessage\n                                id='activity_log.logout'\n                                defaultMessage='Logout'\n                            />\n                        </button>\n                    </div>\n                </div>\n            );\n        }\n\n        let content;\n        if (this.state.sessions.loading) {\n            content = <LoadingScreen/>;\n        } else {\n            content = <form role='form'>{activityList}</form>;\n        }\n\n        return (\n            <Modal\n                dialogClassName='modal--scroll'\n                show={this.state.show}\n                onHide={this.onHide}\n                onExited={this.props.onHide}\n                bsSize='large'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title>\n                        <FormattedMessage\n                            id='activity_log.activeSessions'\n                            defaultMessage='Active Sessions'\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body ref='modalBody'>\n                    <p className='session-help-text'>\n                        <FormattedMessage\n                            id='activity_log.sessionsDescription'\n                            defaultMessage=\"Sessions are created when you log in to a new browser on a device. Sessions let you use Mattermost without having to log in again for a time period specified by the System Admin. If you want to log out sooner, use the 'Logout' button below to end a session.\"\n                        />\n                    </p>\n                    {content}\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/activity_log_modal/activity_log_modal.jsx","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport * as WebrtcActions from 'actions/webrtc_actions.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport WebSocketClient from 'client/web_websocket_client.jsx';\n\nimport {Constants, WebrtcActionTypes} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport ring from 'images/ring.mp3';\n\nconst PreReleaseFeatures = Constants.PRE_RELEASE_FEATURES;\n\nexport default class WebrtcNotification extends React.Component {\n    constructor() {\n        super();\n\n        this.mounted = false;\n\n        this.closeNotification = this.closeNotification.bind(this);\n        this.onIncomingCall = this.onIncomingCall.bind(this);\n        this.onCancelCall = this.onCancelCall.bind(this);\n        this.onRhs = this.onRhs.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.handleAnswer = this.handleAnswer.bind(this);\n        this.handleTimeout = this.handleTimeout.bind(this);\n        this.stopRinging = this.stopRinging.bind(this);\n        this.closeRightHandSide = this.closeRightHandSide.bind(this);\n\n        this.state = {\n            userCalling: null,\n            rhsOpened: false\n        };\n    }\n\n    componentDidMount() {\n        WebrtcStore.addNotifyListener(this.onIncomingCall);\n        WebrtcStore.addChangedListener(this.onCancelCall);\n        WebrtcStore.addRhsChangedListener(this.onRhs);\n        this.mounted = true;\n    }\n\n    componentWillUnmount() {\n        WebrtcStore.removeNotifyListener(this.onIncomingCall);\n        WebrtcStore.removeChangedListener(this.onCancelCall);\n        WebrtcStore.removeRhsChangedListener(this.onRhs);\n        if (this.refs.ring) {\n            this.refs.ring.removeListener('ended', this.handleTimeout);\n        }\n        this.mounted = false;\n    }\n\n    componentDidUpdate() {\n        if (this.state.userCalling) {\n            this.refs.ring.addEventListener('ended', this.handleTimeout);\n        }\n    }\n\n    closeNotification() {\n        this.setState({\n            userCalling: null\n        });\n    }\n\n    stopRinging() {\n        if (this.refs.ring) {\n            this.refs.ring.pause();\n            this.refs.ring.currentTime = 0;\n        }\n        this.setState({userCalling: null});\n    }\n\n    closeRightHandSide(e) {\n        e.preventDefault();\n        GlobalActions.emitCloseRightHandSide();\n        setTimeout(() => {\n            $('.app__body .inner-wrap').addClass('move--left');\n        }, 0);\n    }\n\n    onIncomingCall(incoming) {\n        if (this.mounted) {\n            const userId = incoming.from_user_id;\n            const userMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n            const featureEnabled = Utils.isFeatureEnabled(PreReleaseFeatures.WEBRTC_PREVIEW);\n\n            if (featureEnabled) {\n                if (WebrtcStore.isBusy()) {\n                    WebSocketClient.sendMessage('webrtc', {\n                        action: WebrtcActionTypes.BUSY,\n                        from_user_id: UserStore.getCurrentId(),\n                        to_user_id: userId\n                    });\n                    this.stopRinging();\n                } else if (userMedia) {\n                    WebrtcStore.setVideoCallWith(userId);\n                    this.setState({\n                        userCalling: UserStore.getProfile(userId)\n                    });\n                } else {\n                    WebSocketClient.sendMessage('webrtc', {\n                        action: WebrtcActionTypes.UNSUPPORTED,\n                        from_user_id: UserStore.getCurrentId(),\n                        to_user_id: userId\n                    });\n                    this.stopRinging();\n                }\n            } else {\n                WebSocketClient.sendMessage('webrtc', {\n                    action: WebrtcActionTypes.DISABLED,\n                    from_user_id: UserStore.getCurrentId(),\n                    to_user_id: userId\n                });\n                this.stopRinging();\n            }\n        }\n    }\n\n    onCancelCall(message) {\n        if (message && message.action !== WebrtcActionTypes.CANCEL) {\n            return;\n        } else if (message && message.action === WebrtcActionTypes.CANCEL && this.state.userCalling && message.from_user_id !== this.state.userCalling.id) {\n            return;\n        }\n\n        WebrtcStore.setVideoCallWith(null);\n        this.closeNotification();\n    }\n\n    onRhs(rhsOpened) {\n        this.setState({rhsOpened});\n    }\n\n    handleTimeout() {\n        WebSocketClient.sendMessage('webrtc', {\n            action: WebrtcActionTypes.NO_ANSWER,\n            from_user_id: UserStore.getCurrentId(),\n            to_user_id: this.state.userCalling.id\n        });\n\n        this.onCancelCall();\n    }\n\n    handleAnswer(e) {\n        if (e) {\n            e.preventDefault();\n        }\n\n        const caller = this.state.userCalling;\n        if (caller) {\n            const callerId = caller.id;\n            const currentUserId = UserStore.getCurrentId();\n            const message = {\n                action: WebrtcActionTypes.ANSWER,\n                from_user_id: currentUserId,\n                to_user_id: callerId\n            };\n\n            GlobalActions.emitCloseRightHandSide();\n            WebrtcActions.initWebrtc(callerId, false);\n            WebSocketClient.sendMessage('webrtc', message);\n\n            // delay till next tick (this will give time to listen for events\n            setTimeout(() => {\n                //we switch from and to user to handle the event locally\n                message.from_user_id = callerId;\n                message.to_user_id = currentUserId;\n                WebrtcActions.handle(message);\n            }, 0);\n\n            this.closeNotification();\n        }\n    }\n\n    handleClose(e) {\n        if (e) {\n            e.preventDefault();\n        }\n        if (this.state.userCalling) {\n            WebSocketClient.sendMessage('webrtc', {\n                action: WebrtcActionTypes.DECLINE,\n                from_user_id: UserStore.getCurrentId(),\n                to_user_id: this.state.userCalling.id\n            });\n        }\n\n        this.onCancelCall();\n    }\n\n    render() {\n        const user = this.state.userCalling;\n        if (user) {\n            const username = Utils.displayUsername(user.id);\n            const profileImgSrc = Utils.imageURLForUser(user);\n            const profileImg = (\n                <img\n                    className='user-popover__image'\n                    src={profileImgSrc}\n                    height='128'\n                    width='128'\n                    key='user-popover-image'\n                />\n            );\n            const answerBtn = (\n                <svg\n                    className='webrtc-icons__pickup'\n                    xmlns='http://www.w3.org/2000/svg'\n                    width='48'\n                    height='48'\n                    viewBox='-10 -10 68 68'\n                    onClick={this.handleAnswer}\n                >\n                    <circle\n                        cx='24'\n                        cy='24'\n                        r='34'\n                    >\n                        <title>\n                            <FormattedMessage\n                                id='webrtc.notification.answer'\n                                defaultMessage='Answer'\n                            />\n                        </title>\n                    </circle>\n                    <path\n                        transform='translate(-10,-10)'\n                        fill='#fff'\n                        d='M29.854,37.627c1.723,1.904 3.679,3.468 5.793,4.684l3.683,-3.334c0.469,-0.424 1.119,-0.517 1.669,-0.302c1.628,0.63 3.331,1.021 5.056,1.174c0.401,0.026 0.795,0.199 1.09,0.525c0.295,0.326 0.433,0.741 0.407,1.153l-0.279,5.593c-0.02,0.418 -0.199,0.817 -0.525,1.112c-0.326,0.296 -0.741,0.434 -1.159,0.413c-6.704,-0.504 -13.238,-3.491 -18.108,-8.87c-4.869,-5.38 -7.192,-12.179 -7.028,-18.899c0.015,-0.413 0.199,-0.817 0.526,-1.113c0.326,-0.295 0.74,-0.433 1.153,-0.407l5.593,0.279c0.407,0.02 0.812,0.193 1.107,0.519c0.29,0.32 0.428,0.735 0.413,1.137c-0.018,1.732 0.202,3.464 0.667,5.147c0.159,0.569 0.003,1.207 -0.466,1.631l-3.683,3.334c1.005,2.219 2.368,4.32 4.091,6.224Z'\n                    />\n                </svg>\n            );\n\n            const rejectBtn = (\n                <svg\n                    className='webrtc-icons__cancel'\n                    xmlns='http://www.w3.org/2000/svg'\n                    width='48'\n                    height='48'\n                    viewBox='-10 -10 68 68'\n                    onClick={this.handleClose}\n                >\n                    <circle\n                        cx='24'\n                        cy='24'\n                        r='34'\n                    >\n                        <title>\n                            <FormattedMessage\n                                id='webrtc.notification.decline'\n                                defaultMessage='Decline'\n                            />\n                        </title>\n                    </circle>\n                    <path\n                        transform='scale(0.7), translate(11,10)'\n                        d='M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z'\n                        fill='white'\n                    />\n                </svg>\n            );\n\n            const msg = (\n                <div>\n                    <FormattedMessage\n                        id='webrtc.notification.incoming_call'\n                        defaultMessage='{username} is calling you.'\n                        values={{\n                            username\n                        }}\n                    />\n                    <div\n                        className='webrtc-buttons webrtc-icons active'\n                        style={{marginTop: '5px'}}\n                    >\n                        {answerBtn}\n                        {rejectBtn}\n                    </div>\n                </div>\n            );\n\n            return (\n                <div className='webrtc-notification'>\n                    <audio\n                        ref='ring'\n                        src={ring}\n                        autoPlay={true}\n                    />\n                    <div>\n                        {profileImg}\n                    </div>\n                    {msg}\n                </div>\n            );\n        } else if (this.state.rhsOpened && WebrtcStore.isBusy()) {\n            return (\n                <div\n                    className='webrtc__notification--rhs'\n                    onClick={this.closeRightHandSide}\n                >\n                    <i className='fa fa-phone'/>\n                    <FormattedMessage\n                        id='webrtc.notification.returnToCall'\n                        defaultMessage='Return to ongoing call with {username}'\n                        values={{\n                            username: Utils.displayUsername(WebrtcStore.getVideoCallWith())\n                        }}\n                    />\n                </div>\n            );\n        }\n\n        return <div/>;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/webrtc/components/webrtc_notification.jsx","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport React from 'react';\n\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\n\nimport WebrtcController from '../webrtc_controller.jsx';\n\nexport default class SidebarRight extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.plScrolledToBottom = true;\n\n        this.onShrink = this.onShrink.bind(this);\n        this.toggleSize = this.toggleSize.bind(this);\n        this.onInitializeVideoCall = this.onInitializeVideoCall.bind(this);\n\n        this.doStrangeThings = this.doStrangeThings.bind(this);\n\n        this.state = {\n            expanded: false,\n            currentUser: UserStore.getCurrentUser(),\n            videoCallVisible: false,\n            isCaller: false,\n            videoCallWithUserId: null\n        };\n    }\n\n    componentDidMount() {\n        WebrtcStore.addInitListener(this.onInitializeVideoCall);\n        this.doStrangeThings();\n    }\n\n    componentWillUnmount() {\n        WebrtcStore.removeInitListener(this.onInitializeVideoCall);\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        return !Utils.areObjectsEqual(nextState, this.state);\n    }\n\n    doStrangeThings() {\n        // We should have a better way to do this stuff\n        // Hence the function name.\n        $('.app__body .inner-wrap').removeClass('move--right');\n        $('.app__body .inner-wrap').addClass('webrtc--show move--left');\n        $('.app__body .sidebar--left').removeClass('move--right');\n        $('.multi-teams .team-sidebar').removeClass('move--right');\n        $('.app__body .webrtc').addClass('webrtc--show');\n\n        //$('.sidebar--right').prepend('<div class=\"sidebar__overlay\"></div>');\n        if (!this.state.videoCallVisible) {\n            $('.app__body .inner-wrap').removeClass('webrtc--show move--left move--right');\n            $('.app__body .webrtc').removeClass('webrtc--show');\n            return (\n                <div/>\n            );\n        }\n        return null;\n    }\n\n    componentDidUpdate() {\n        this.doStrangeThings();\n    }\n\n    onShrink() {\n        this.setState({expanded: false});\n    }\n\n    toggleSize(e) {\n        if (e) {\n            e.preventDefault();\n        }\n        this.setState((prevState) => {\n            return {expanded: !prevState.expanded};\n        });\n    }\n\n    onInitializeVideoCall(userId, isCaller) {\n        let expanded = this.state.expanded;\n        if (userId === null) {\n            expanded = false;\n        }\n        this.setState({\n            videoCallVisible: (userId !== null),\n            isCaller,\n            videoCallWithUserId: userId,\n            expanded\n        });\n\n        if (userId !== null) {\n            this.forceUpdate();\n        }\n    }\n\n    render() {\n        let content = null;\n        let expandedClass = '';\n\n        if (this.state.expanded) {\n            expandedClass = 'sidebar--right--expanded';\n        }\n\n        if (this.state.videoCallVisible) {\n            content = (\n                <WebrtcController\n                    currentUser={this.state.currentUser}\n                    userId={this.state.videoCallWithUserId}\n                    isCaller={this.state.isCaller}\n                    expanded={this.state.expanded}\n                    toggleSize={this.toggleSize}\n                />\n            );\n        }\n\n        return (\n            <div\n                className={'sidebar--right webrtc ' + expandedClass}\n                id='sidebar-webrtc'\n            >\n                <div\n                    onClick={this.onShrink}\n                    className='sidebar--right__bg'\n                />\n                <div className='sidebar-right-container'>\n                    {content}\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/webrtc/components/webrtc_sidebar.jsx","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport Janus from 'janus';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport * as WebrtcActions from 'actions/webrtc_actions.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport WebSocketClient from 'client/web_websocket_client.jsx';\n\nimport {Constants, UserStatuses, WebrtcActionTypes} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport ring from 'images/ring.mp3';\n\nimport ConnectingScreen from 'components/loading_screen.jsx';\n\nimport SearchBox from '../search_bar.jsx';\n\nimport WebrtcHeader from './components/webrtc_header.jsx';\n\nconst VIDEO_WIDTH = 640;\nconst VIDEO_HEIGHT = 360;\nconst MIN_ASPECT = 1.777;\nconst MAX_ASPECT = 1.778;\nconst ALREADY_REGISTERED_ERROR = 477;\nconst USERNAME_TAKEN = 476;\n\nexport default class WebrtcController extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.mounted = false;\n        this.localMedia = null;\n        this.session = null;\n        this.videocall = null;\n\n        this.handleResize = this.handleResize.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.close = this.close.bind(this);\n        this.clearError = this.clearError.bind(this);\n\n        this.getLocalMedia = this.getLocalMedia.bind(this);\n        this.stopMediaStream = this.stopMediaStream.bind(this);\n        this.previewVideo = this.previewVideo.bind(this);\n        this.stopRinging = this.stopRinging.bind(this);\n\n        this.handleMakeOffer = this.handleMakeOffer.bind(this);\n        this.handleCancelOffer = this.handleCancelOffer.bind(this);\n        this.handleWebrtcEvent = this.handleWebrtcEvent.bind(this);\n        this.handleVideoCallEvent = this.handleVideoCallEvent.bind(this);\n        this.handleRemoteStream = this.handleRemoteStream.bind(this);\n\n        this.onStatusChange = this.onStatusChange.bind(this);\n        this.onCallDeclined = this.onCallDeclined.bind(this);\n        this.onUnsupported = this.onUnsupported.bind(this);\n        this.onNoAnswer = this.onNoAnswer.bind(this);\n        this.onBusy = this.onBusy.bind(this);\n        this.onDisabled = this.onDisabled.bind(this);\n        this.onFailed = this.onFailed.bind(this);\n        this.onCancelled = this.onCancelled.bind(this);\n        this.onConnectCall = this.onConnectCall.bind(this);\n\n        this.onSessionCreated = this.onSessionCreated.bind(this);\n        this.onSessionError = this.onSessionError.bind(this);\n\n        this.doCall = this.doCall.bind(this);\n        this.doAnswer = this.doAnswer.bind(this);\n        this.doHangup = this.doHangup.bind(this);\n        this.doCleanup = this.doCleanup.bind(this);\n\n        this.renderButtons = this.renderButtons.bind(this);\n        this.onToggleVideo = this.onToggleVideo.bind(this);\n        this.onToggleAudio = this.onToggleAudio.bind(this);\n        this.onToggleRemoteMute = this.onToggleRemoteMute.bind(this);\n        this.toggleIcons = this.toggleIcons.bind(this);\n\n        const currentUser = UserStore.getCurrentUser();\n        const remoteUser = UserStore.getProfile(props.userId);\n        const remoteUserImage = Utils.imageURLForUser(remoteUser);\n\n        this.state = {\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight(),\n            channelId: ChannelStore.getCurrentId(),\n            currentUser,\n            currentUserImage: Utils.imageURLForUser(currentUser),\n            remoteUserImage,\n            localMediaLoaded: false,\n            isPaused: false,\n            isMuted: false,\n            isRemotePaused: false,\n            isRemoteMuted: false,\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error: null,\n            errorType: '',\n            ended: null\n        };\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', this.handleResize);\n        WebrtcStore.addChangedListener(this.handleWebrtcEvent);\n        UserStore.addStatusesChangeListener(this.onStatusChange);\n\n        this.mounted = true;\n        this.previewVideo();\n\n        if (this.props.isCaller) {\n            this.handleMakeOffer();\n        }\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleResize);\n        WebrtcStore.removeChangedListener(this.handleWebrtcEvent);\n        UserStore.removeStatusesChangeListener(this.onStatusChange);\n        this.mounted = false;\n        this.close();\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if ((nextProps.currentUser !== this.props.currentUser) ||\n            (nextProps.userId !== this.props.userId) ||\n            (nextProps.isCaller !== this.props.isCaller)) {\n            const remoteUser = UserStore.getProfile(nextProps.userId);\n            const remoteUserImage = Utils.imageURLForUser(remoteUser);\n            this.setState({\n                error: null,\n                remoteUserImage\n            });\n        }\n\n        if (nextProps.isCaller && nextProps.expanded === this.props.expanded) {\n            this.startCall = true;\n        }\n    }\n\n    componentDidUpdate() {\n        if (this.props.isCaller && this.startCall) {\n            this.startCall = false;\n            this.handleMakeOffer();\n        }\n    }\n\n    handleResize() {\n        this.setState({\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight()\n        });\n    }\n\n    clearError() {\n        setTimeout(() => {\n            this.setState({error: null, ended: null, errorType: ''});\n        }, Constants.WEBRTC_CLEAR_ERROR_DELAY);\n    }\n\n    getLocalMedia(constraints, element, callback) {\n        const media = constraints || {audio: true, video: true};\n        navigator.mediaDevices.getUserMedia(media).\n        then((stream) => {\n            if (element) {\n                element.srcObject = stream;\n            }\n\n            if (callback && typeof callback === 'function') {\n                callback(null, stream);\n            }\n        }).\n        catch((error) => {\n            callback(error);\n        });\n    }\n\n    stopMediaStream(stream) {\n        const tracks = stream.getTracks();\n        tracks.forEach((track) => {\n            track.stop();\n        });\n    }\n\n    previewVideo() {\n        if (this.mounted) {\n            if (this.localMedia) {\n                this.setState({\n                    localMediaLoaded: true,\n                    error: null\n                });\n                this.localMedia.enabled = true;\n            } else {\n                this.getLocalMedia(\n                    {\n                        audio: true,\n                        video: {\n                            minAspectRatio: MIN_ASPECT,\n                            maxAspectRatio: MAX_ASPECT,\n                            width: VIDEO_WIDTH,\n                            height: VIDEO_HEIGHT\n                        }\n                    },\n                    this.refs['local-video'],\n                    (error, stream) => {\n                        if (error) {\n                            this.setState({\n                                error: (\n                                    <FormattedMessage\n                                        id='webrtc.mediaError'\n                                        defaultMessage='Unable to access Camera and Microphone'\n                                    />\n                                )\n                            });\n                            return;\n                        }\n                        this.localMedia = stream;\n                        this.setState({\n                            localMediaLoaded: true\n                        });\n                    });\n            }\n        }\n    }\n\n    stopRinging() {\n        if (this.refs.ring) {\n            this.refs.ring.pause();\n            this.refs.ring.currentTime = 0;\n        }\n    }\n\n    handleMakeOffer() {\n        if (UserStore.getStatus(this.props.userId) === UserStatuses.OFFLINE) {\n            this.onStatusChange();\n        } else {\n            const connectingMsg = (\n                <FormattedMessage\n                    id='calling_screen'\n                    defaultMessage='Calling'\n                />\n            );\n\n            this.setState({\n                isCalling: true,\n                isAnswering: false,\n                callInProgress: false,\n                error: null,\n                ended: null,\n                connectingMsg\n            });\n\n            WebrtcStore.setVideoCallWith(this.props.userId);\n\n            const user = this.state.currentUser;\n            WebSocketClient.sendMessage('webrtc', {\n                action: WebrtcActionTypes.NOTIFY,\n                from_user_id: user.id,\n                to_user_id: this.props.userId\n            });\n        }\n    }\n\n    handleCancelOffer() {\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error: null,\n            ended: null\n        });\n\n        const user = this.state.currentUser;\n        WebSocketClient.sendMessage('webrtc', {\n            action: WebrtcActionTypes.CANCEL,\n            from_user_id: user.id,\n            to_user_id: this.props.userId\n        });\n\n        this.doCleanup();\n    }\n\n    handleWebrtcEvent(message) {\n        switch (message.action) {\n        case WebrtcActionTypes.DECLINE:\n            this.onCallDeclined();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.UNSUPPORTED:\n            this.onUnsupported();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.BUSY:\n            this.onBusy();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.NO_ANSWER:\n            this.onNoAnswer();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.FAILED:\n            this.onFailed();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.ANSWER:\n            this.onConnectCall();\n            break;\n        case WebrtcActionTypes.CANCEL:\n            this.onCancelled();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.MUTED:\n            this.onToggleRemoteMute(message);\n            break;\n        case WebrtcActionTypes.IN_PROGRESS:\n            this.setState({\n                error: (\n                    <FormattedMessage\n                        id='webrtc.inProgress'\n                        defaultMessage='You have a call in progress. Please hang up first.'\n                    />\n                ),\n                errorType: ' warning'\n            });\n            this.clearError();\n            break;\n        case WebrtcActionTypes.DISABLED:\n            this.onDisabled();\n            this.clearError();\n            break;\n        }\n    }\n\n    handleVideoCallEvent(msg, jsep) {\n        const result = msg.result;\n\n        if (result) {\n            const event = result.event;\n            switch (event) {\n            case 'registered':\n                if (this.state.isCalling) {\n                    this.doCall();\n                }\n                break;\n            case 'incomingcall':\n                this.doAnswer(jsep);\n                break;\n            case 'accepted':\n                this.stopRinging();\n\n                if (jsep) {\n                    this.videocall.handleRemoteJsep({jsep});\n                }\n                break;\n            case 'hangup':\n                this.doHangup(false);\n                break;\n            }\n        } else {\n            const errorCode = msg.error_code;\n            if (errorCode !== ALREADY_REGISTERED_ERROR && errorCode !== USERNAME_TAKEN) {\n                this.doHangup(true);\n            } else if (this.state.isCalling) {\n                this.doCall();\n            }\n        }\n    }\n\n    handleRemoteStream(stream) {\n        // attaching stream to where they belong\n        this.refs['main-video'].srcObject = stream;\n\n        let isRemotePaused = false;\n        let isRemoteMuted = false;\n        const videoTracks = stream.getVideoTracks();\n        const audioTracks = stream.getAudioTracks();\n        if (!videoTracks || videoTracks.length === 0 || videoTracks[0].muted || !videoTracks[0].enabled) {\n            isRemotePaused = true;\n        }\n\n        if (!audioTracks || audioTracks.length === 0 || audioTracks[0].muted || !audioTracks[0].enabled) {\n            isRemoteMuted = true;\n        }\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: true,\n            isMuted: false,\n            isPaused: false,\n            error: null,\n            ended: null,\n            isRemotePaused,\n            isRemoteMuted\n        });\n        this.toggleIcons();\n    }\n\n    handleClose(e) {\n        e.preventDefault();\n        if (this.state.callInProgress) {\n            this.setState({\n                error: (\n                    <FormattedMessage\n                        id='webrtc.inProgress'\n                        defaultMessage='You have a call in progress. Please hang up first.'\n                    />\n                ),\n                errorType: ' warning'\n            });\n        } else if (this.state.isCalling) {\n            this.handleCancelOffer();\n            this.close();\n        } else {\n            this.close();\n        }\n    }\n\n    close() {\n        this.doCleanup();\n\n        if (this.session) {\n            this.session.destroy();\n            this.session = null;\n        }\n\n        if (this.localMedia) {\n            this.stopMediaStream(this.localMedia);\n            this.localMedia = null;\n        }\n\n        WebrtcActions.initWebrtc(null, false);\n    }\n\n    onStatusChange() {\n        const status = UserStore.getStatus(this.props.userId);\n\n        if (status === UserStatuses.OFFLINE) {\n            const error = (\n                <FormattedMessage\n                    id='webrtc.offline'\n                    defaultMessage='{username} is offline'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            );\n\n            if (this.state.isCalling || this.state.isAnswering) {\n                this.setState({\n                    isCalling: false,\n                    isAnswering: false,\n                    callInProgress: false,\n                    error\n                });\n            } else {\n                this.setState({\n                    error\n                });\n            }\n        } else if (status !== UserStatuses.OFFLINE && this.state.error) {\n            this.setState({\n                error: null,\n                ended: null\n            });\n        }\n    }\n\n    onCallDeclined() {\n        let error = null;\n\n        if (this.state.isCalling) {\n            error = (\n                <FormattedMessage\n                    id='webrtc.declined'\n                    defaultMessage='Your call has been declined by {username}'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            );\n        }\n\n        this.stopRinging();\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error\n        });\n\n        this.doCleanup();\n    }\n\n    onUnsupported() {\n        if (this.mounted) {\n            this.stopRinging();\n\n            this.setState({\n                error: (\n                    <FormattedMessage\n                        id='webrtc.unsupported'\n                        defaultMessage='Call to {username} not successful. Their client does not support video calls.'\n                        values={{\n                            username: Utils.displayUsername(this.props.userId)\n                        }}\n                    />\n                ),\n                callInProgress: false,\n                isCalling: false,\n                isAnswering: false\n            });\n        }\n\n        this.doCleanup();\n    }\n\n    onNoAnswer() {\n        let error = null;\n\n        if (this.state.isCalling) {\n            error = (\n                <FormattedMessage\n                    id='webrtc.noAnswer'\n                    defaultMessage='{username} is not answering the call'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            );\n        }\n        this.stopRinging();\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error\n        });\n\n        this.doCleanup();\n    }\n\n    onBusy() {\n        let error = null;\n\n        if (this.state.isCalling) {\n            error = (\n                <FormattedMessage\n                    id='webrtc.busy'\n                    defaultMessage='{username} is busy'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            );\n        }\n        this.stopRinging();\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error\n        });\n\n        this.doCleanup();\n    }\n\n    onDisabled() {\n        let error = null;\n\n        if (this.state.isCalling) {\n            error = (\n                <FormattedMessage\n                    id='webrtc.disabled'\n                    defaultMessage='{username} has WebRTC disabled, and cannot receive calls. To enable the feature, they must go to Account Settings > Advanced > Preview pre-release features and turn on WebRTC.'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            );\n        }\n\n        this.stopRinging();\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error\n        });\n\n        this.doCleanup();\n    }\n\n    onFailed() {\n        trackEvent('api', 'api_users_webrtc_failed');\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            isPaused: false,\n            isMuted: false,\n            isRemotePaused: false,\n            isRemoteMuted: false,\n            error: (\n                <FormattedMessage\n                    id='webrtc.failed'\n                    defaultMessage='There was a problem connecting the video call'\n                />\n            )\n        });\n\n        this.stopRinging();\n\n        this.doCleanup();\n    }\n\n    onCancelled() {\n        if (this.mounted && this.state.isAnswering) {\n            this.stopRinging();\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: (\n                    <FormattedMessage\n                        id='webrtc.cancelled'\n                        defaultMessage='{username} cancelled the call'\n                        values={{\n                            username: Utils.displayUsername(this.props.userId)\n                        }}\n                    />\n                )\n            });\n        }\n\n        this.doCleanup();\n    }\n\n    onConnectCall() {\n        WebrtcActions.webrtcToken(\n            (info) => {\n                const connectingMsg = (\n                    <FormattedMessage\n                        id='connecting_screen'\n                        defaultMessage='Connecting'\n                    />\n                );\n\n                this.setState({isAnswering: !this.state.isCalling, connectingMsg});\n                if (this.session) {\n                    this.onSessionCreated();\n                } else {\n                    const iceServers = [];\n\n                    if (info.stun_uri) {\n                        iceServers.push({\n                            urls: info.stun_uri.split(' ')\n                        });\n                    }\n\n                    if (info.turn_uri) {\n                        iceServers.push({\n                            urls: info.turn_uri.split(' '),\n                            username: info.turn_username,\n                            credential: info.turn_password\n                        });\n                    }\n\n                    Janus.init({debug: global.mm_config.EnableDeveloper === 'true'});\n                    this.session = new Janus({\n                        server: info.gateway_url,\n                        iceServers,\n                        token: info.token,\n                        success: this.onSessionCreated,\n                        error: this.onSessionError\n                    });\n                }\n            },\n            () => {\n                this.onSessionError();\n            });\n    }\n\n    onSessionCreated() {\n        if (this.videocall) {\n            this.doCall();\n        } else {\n            this.session.attach({\n                plugin: 'janus.plugin.videocall',\n                success: (plugin) => {\n                    this.videocall = plugin;\n                    this.videocall.send({message: {request: 'register', username: this.state.currentUser.id}});\n                },\n                error: this.onSessionError,\n                onmessage: this.handleVideoCallEvent,\n                onremotestream: this.handleRemoteStream\n            });\n        }\n    }\n\n    onSessionError() {\n        const user = this.state.currentUser;\n        WebSocketClient.sendMessage('webrtc', {\n            action: WebrtcActionTypes.FAILED,\n            from_user_id: user.id,\n            to_user_id: this.props.userId\n        });\n\n        this.onFailed();\n    }\n\n    doCall() {\n        // delay call so receiver has time to register\n        setTimeout(() => {\n            this.videocall.createOffer({\n                stream: this.localMedia,\n                success: (jsep) => {\n                    const body = {request: 'call', username: this.props.userId};\n                    this.videocall.send({message: body, jsep});\n                },\n                error: () => {\n                    this.doHangup(true);\n                }\n            });\n        }, Constants.WEBRTC_TIME_DELAY);\n    }\n\n    doAnswer(jsep) {\n        trackEvent('api', 'api_users_webrtc_start');\n        this.videocall.createAnswer({\n            jsep,\n            stream: this.localMedia,\n            success: (jsepSuccess) => {\n                const body = {request: 'accept'};\n                this.videocall.send({message: body, jsep: jsepSuccess});\n            },\n            error: () => {\n                this.doHangup(true);\n            }\n        });\n    }\n\n    doHangup(error, manual) {\n        trackEvent('api', 'api_users_webrtc_end');\n        if (this.videocall && this.state.callInProgress) {\n            this.videocall.send({message: {request: 'hangup'}});\n            this.videocall.hangup();\n            this.toggleIcons();\n\n            if (this.localMedia) {\n                this.localMedia.getVideoTracks()[0].enabled = true;\n                this.localMedia.getAudioTracks()[0].enabled = true;\n            }\n        }\n\n        if (error) {\n            this.onSessionError();\n            return this.doCleanup();\n        }\n\n        WebrtcStore.setVideoCallWith(null);\n        WebrtcStore.emitRhsChanged(false);\n\n        if (manual) {\n            return this.close();\n        }\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            isPaused: false,\n            isMuted: false,\n            isRemotePaused: false,\n            isRemoteMuted: false,\n            error: null,\n            ended: (\n                <FormattedMessage\n                    id='webrtc.callEnded'\n                    defaultMessage='Call with {username} ended.'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            )\n        });\n        this.clearError();\n        return this.doCleanup();\n    }\n\n    doCleanup() {\n        WebrtcStore.setVideoCallWith(null);\n\n        if (this.videocall) {\n            this.videocall.detach();\n            this.videocall = null;\n        }\n    }\n\n    onToggleVideo() {\n        const shouldPause = !this.state.isPaused;\n        if (shouldPause) {\n            this.videocall.unmuteVideo();\n        } else {\n            this.videocall.muteVideo();\n        }\n\n        const user = this.state.currentUser;\n        WebSocketClient.sendMessage('webrtc', {\n            action: WebrtcActionTypes.MUTED,\n            from_user_id: user.id,\n            to_user_id: this.props.userId,\n            type: 'video',\n            mute: shouldPause\n        });\n\n        this.setState({\n            isPaused: shouldPause,\n            error: null,\n            ended: null\n        });\n    }\n\n    onToggleAudio() {\n        const shouldMute = !this.state.isMuted;\n        if (shouldMute) {\n            this.videocall.unmuteAudio();\n        } else {\n            this.videocall.muteAudio();\n        }\n\n        const user = this.state.currentUser;\n        WebSocketClient.sendMessage('webrtc', {\n            action: WebrtcActionTypes.MUTED,\n            from_user_id: user.id,\n            to_user_id: this.props.userId,\n            type: 'audio',\n            mute: shouldMute\n        });\n\n        this.setState({\n            isMuted: shouldMute,\n            error: null,\n            ended: null\n        });\n    }\n\n    onToggleRemoteMute(message) {\n        if (message.type === 'video') {\n            this.setState({\n                isRemotePaused: message.mute\n            });\n        } else {\n            this.setState({isRemoteMuted: message.mute, error: null, ended: null});\n        }\n    }\n\n    toggleIcons() {\n        const icons = this.refs.icons;\n        if (icons) {\n            icons.classList.toggle('hidden');\n            icons.classList.toggle('active');\n        }\n    }\n\n    renderButtons() {\n        let buttons;\n        if (this.state.isCalling) {\n            buttons = (\n                <svg\n                    id='cancel'\n                    className='webrtc-icons__cancel'\n                    xmlns='http://www.w3.org/2000/svg'\n                    width='48'\n                    height='48'\n                    viewBox='-10 -10 68 68'\n                    onClick={() => this.handleCancelOffer()}\n                >\n                    <circle\n                        cx='24'\n                        cy='24'\n                        r='34'\n                    >\n                        <title>\n                            <FormattedMessage\n                                id='webrtc.cancel'\n                                defaultMessage='Cancel Call'\n                            />\n                        </title>\n                    </circle>\n                    <path\n                        transform='scale(0.8), translate(6,10)'\n                        d='M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z'\n                        fill='white'\n                    />\n                </svg>\n            );\n        } else if (!this.state.callInProgress && this.state.localMediaLoaded) {\n            buttons = (\n                <svg\n                    id='call'\n                    className='webrtc-icons__call'\n                    xmlns='http://www.w3.org/2000/svg'\n                    width='48'\n                    height='48'\n                    viewBox='-10 -10 68 68'\n                    onClick={() => this.handleMakeOffer()}\n                    disabled={UserStore.getStatus(this.props.userId) === 'offline'}\n                >\n                    <circle\n                        cx='24'\n                        cy='24'\n                        r='34'\n                    >\n                        <title>\n                            <FormattedMessage\n                                id='webrtc.call'\n                                defaultMessage='Call'\n                            />\n                        </title>\n                    </circle>\n                    <path\n                        transform='translate(-10,-10)'\n                        fill='#fff'\n                        d='M29.854,37.627c1.723,1.904 3.679,3.468 5.793,4.684l3.683,-3.334c0.469,-0.424 1.119,-0.517 1.669,-0.302c1.628,0.63 3.331,1.021 5.056,1.174c0.401,0.026 0.795,0.199 1.09,0.525c0.295,0.326 0.433,0.741 0.407,1.153l-0.279,5.593c-0.02,0.418 -0.199,0.817 -0.525,1.112c-0.326,0.296 -0.741,0.434 -1.159,0.413c-6.704,-0.504 -13.238,-3.491 -18.108,-8.87c-4.869,-5.38 -7.192,-12.179 -7.028,-18.899c0.015,-0.413 0.199,-0.817 0.526,-1.113c0.326,-0.295 0.74,-0.433 1.153,-0.407l5.593,0.279c0.407,0.02 0.812,0.193 1.107,0.519c0.29,0.32 0.428,0.735 0.413,1.137c-0.018,1.732 0.202,3.464 0.667,5.147c0.159,0.569 0.003,1.207 -0.466,1.631l-3.683,3.334c1.005,2.219 2.368,4.32 4.091,6.224Z'\n                    />\n                </svg>\n            );\n        } else if (this.state.callInProgress) {\n            const onClass = 'on';\n            const offClass = 'off';\n            let audioOnClass = offClass;\n            let audioOffClass = onClass;\n            let videoOnClass = offClass;\n            let videoOffClass = onClass;\n\n            let audioTitle = (\n                <FormattedMessage\n                    id='webrtc.mute_audio'\n                    defaultMessage='Mute'\n                />\n            );\n\n            let videoTitle = (\n                <FormattedMessage\n                    id='webrtc.pause_video'\n                    defaultMessage='Turn off Video'\n                />\n            );\n\n            if (this.state.isMuted) {\n                audioOnClass = onClass;\n                audioOffClass = offClass;\n                audioTitle = (\n                    <FormattedMessage\n                        id='webrtc.unmute_audio'\n                        defaultMessage='Unmute'\n                    />\n                );\n            }\n\n            if (this.state.isPaused) {\n                videoOnClass = onClass;\n                videoOffClass = offClass;\n                videoTitle = (\n                    <FormattedMessage\n                        id='webrtc.unpause_video'\n                        defaultMessage='Turn on Video'\n                    />\n                );\n            }\n\n            buttons = (\n                <div\n                    ref='icons'\n                    className='webrtc-icons hidden'\n                >\n\n                    <svg\n                        id='mute-audio'\n                        className='webrtc-icons__call'\n                        xmlns='http://www.w3.org/2000/svg'\n                        width='48'\n                        height='48'\n                        viewBox='-10 -10 68 68'\n                        onClick={() => this.onToggleAudio()}\n                    >\n                        <circle\n                            cx='24'\n                            cy='24'\n                            r='34'\n                        >\n                            <title>{audioTitle}</title>\n                        </circle>\n                        <path\n                            className={audioOnClass}\n                            transform='scale(0.6), translate(17,18)'\n                            d='M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z'\n                            fill='white'\n                        />\n                        <path\n                            className={audioOffClass}\n                            transform='scale(0.6), translate(17,18)'\n                            d='M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z'\n                            fill='white'\n                        />\n                    </svg>\n\n                    <svg\n                        id='mute-video'\n                        className='webrtc-icons__call'\n                        xmlns='http://www.w3.org/2000/svg'\n                        width='48'\n                        height='48'\n                        viewBox='-10 -10 68 68'\n                        onClick={() => this.onToggleVideo()}\n                    >\n                        <circle\n                            cx='24'\n                            cy='24'\n                            r='34'\n                        >\n                            <title>{videoTitle}</title>\n                        </circle>\n                        <path\n                            className={videoOnClass}\n                            transform='scale(0.6), translate(17,16)'\n                            d='M40 8H15.64l8 8H28v4.36l1.13 1.13L36 16v12.36l7.97 7.97L44 36V12c0-2.21-1.79-4-4-4zM4.55 2L2 4.55l4.01 4.01C4.81 9.24 4 10.52 4 12v24c0 2.21 1.79 4 4 4h29.45l4 4L44 41.46 4.55 2zM12 16h1.45L28 30.55V32H12V16z'\n                            fill='white'\n                        />\n                        <path\n                            className={videoOffClass}\n                            transform='scale(0.6), translate(17,16)'\n                            d='M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm-4 24l-8-6.4V32H12V16h16v6.4l8-6.4v16z'\n                            fill='white'\n                        />\n                    </svg>\n\n                    <svg\n                        id='hangup'\n                        className='webrtc-icons__cancel'\n                        xmlns='http://www.w3.org/2000/svg'\n                        width='48'\n                        height='48'\n                        viewBox='-10 -10 68 68'\n                        onClick={() => this.doHangup(false, true)}\n                    >\n                        <circle\n                            cx='24'\n                            cy='24'\n                            r='34'\n                        >\n                            <title>\n                                <FormattedMessage\n                                    id='webrtc.hangup'\n                                    defaultMessage='Hang up'\n                                />\n                            </title>\n                        </circle>\n                        <path\n                            transform='scale(0.7), translate(11,10)'\n                            d='M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z'\n                            fill='white'\n                        />\n                    </svg>\n\n                </div>\n            );\n        }\n\n        return buttons;\n    }\n\n    render() {\n        const currentId = UserStore.getCurrentId();\n        const remoteImage = (<img src={this.state.remoteUserImage}/>);\n        let localImage;\n        let localVideoHidden = '';\n        let remoteVideoHidden = 'hidden';\n        let error;\n        let remoteMute;\n        let localImageHidden = 'webrtc__local-image hidden';\n        let remoteImageHidden = 'webrtc__remote-image';\n\n        if (this.state.error) {\n            error = (\n                <div className='webrtc__error'>\n                    <div className='form-group has-error'>\n                        <label className={'control-label' + this.state.errorType}>{this.state.error}</label>\n                    </div>\n                </div>\n            );\n        } else if (this.state.ended) {\n            error = (\n                <div className='webrtc__error'>\n                    <div className='form-group'>\n                        <label className='control-label'>{this.state.ended}</label>\n                    </div>\n                </div>\n            );\n        }\n\n        if (this.state.isRemoteMuted) {\n            remoteMute = (\n                <div className='webrtc__remote-mute'>\n                    <svg\n                        xmlns='http://www.w3.org/2000/svg'\n                        width='60'\n                        height='60'\n                        viewBox='-10 -10 68 68'\n                    >\n                        <path\n                            className='off'\n                            transform='scale(0.6), translate(17,18)'\n                            d='M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z'\n                            fill='white'\n                        />\n                        <path\n                            className='on'\n                            transform='scale(0.6), translate(17,18)'\n                            d='M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z'\n                            fill='white'\n                        />\n                    </svg>\n                </div>\n            );\n        }\n\n        let searchForm;\n        if (currentId != null) {\n            searchForm = <SearchBox/>;\n        }\n\n        const buttons = this.renderButtons();\n        const calling = this.state.isCalling;\n        let connecting;\n        let audio;\n        if (calling || this.state.isAnswering) {\n            if (calling) {\n                audio = (\n                    <audio\n                        ref='ring'\n                        src={ring}\n                        autoPlay={true}\n                    />\n                );\n            }\n\n            connecting = (\n                <div className='connecting'>\n                    <ConnectingScreen\n                        position='absolute'\n                        message={this.state.connectingMsg}\n                    />\n                    {audio}\n                </div>\n            );\n        }\n\n        if (this.state.callInProgress) {\n            if (this.state.isPaused) {\n                localVideoHidden = 'hidden';\n                localImageHidden = 'webrtc__local-image';\n                localImage = (<img src={this.state.currentUserImage}/>);\n            }\n\n            if (this.state.isRemotePaused) {\n                remoteVideoHidden = 'hidden';\n                remoteImageHidden = 'webrtc__remote-image';\n            } else {\n                remoteVideoHidden = '';\n                remoteImageHidden = 'webrtc__remote-image hidden';\n            }\n        }\n\n        return (\n            <div className='post-right__container'>\n                <div className='search-bar__container channel-header alt'>{searchForm}</div>\n                <div className='sidebar-right__body'>\n                    <WebrtcHeader\n                        username={Utils.displayUsername(this.props.userId)}\n                        onClose={this.handleClose}\n                        toggleSize={this.props.toggleSize}\n                    />\n                    <div className='post-right__scroll'>\n                        <div id='videos'>\n                            {remoteMute}\n                            <div\n                                id='main-video'\n                                className={remoteVideoHidden}\n                                autoPlay={true}\n                            >\n                                <video\n                                    ref='main-video'\n                                    autoPlay={true}\n                                />\n                            </div>\n                            <div\n                                id='local-video'\n                                className={localVideoHidden}\n                            >\n                                <video\n                                    ref='local-video'\n                                    autoPlay={true}\n                                    muted={true}\n                                />\n                            </div>\n                            <div className={remoteImageHidden}>\n                                {remoteImage}\n                            </div>\n                            <div className={localImageHidden}>\n                                {localImage}\n                            </div>\n                        </div>\n                        {error}\n                        {connecting}\n                        <div className='webrtc-buttons'>\n                            {buttons}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nWebrtcController.propTypes = {\n    currentUser: PropTypes.object,\n    userId: PropTypes.string.isRequired,\n    isCaller: PropTypes.bool.isRequired,\n    expanded: PropTypes.bool.isRequired,\n    toggleSize: PropTypes.func\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/webrtc/webrtc_controller.jsx","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n The MIT License (MIT)\n\n Copyright (c) 2016 Meetecho\n\n Permission is hereby granted, free of charge, to any person obtaining\n a copy of this software and associated documentation files (the \"Software\"),\n to deal in the Software without restriction, including without limitation\n the rights to use, copy, modify, merge, publish, distribute, sublicense,\n and/or sell copies of the Software, and to permit persons to whom the\n Software is furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included\n in all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n OTHER DEALINGS IN THE SOFTWARE.\n */\n\nvar adapter = require('webrtc-adapter');\n\n// List of sessions\nJanus.sessions = {};\n\n// Screensharing Chrome Extension ID\nJanus.extensionId = \"hapfgfdkleiggjjpfpenajgdnfckjpaj\";\nJanus.isExtensionEnabled = function() {\n    if(window.navigator.userAgent.match('Chrome')) {\n        var chromever = parseInt(window.navigator.userAgent.match(/Chrome\\/(.*) /)[1], 10);\n        var maxver = 33;\n        if(window.navigator.userAgent.match('Linux'))\n            maxver = 35;\t// \"known\" crash in chrome 34 and 35 on linux\n        if(chromever >= 26 && chromever <= maxver) {\n            // Older versions of Chrome don't support this extension-based approach, so lie\n            return true;\n        }\n        return (document.getElementById('janus-extension-installed') !== null);\n    } else {\n        // Firefox of others, no need for the extension (but this doesn't mean it will work)\n        return true;\n    }\n};\n\nJanus.noop = function() {};\n\n// Initialization\nJanus.init = function(options) {\n    options = options || {};\n    options.callback = (typeof options.callback == \"function\") ? options.callback : Janus.noop;\n    if(Janus.initDone === true) {\n        // Already initialized\n        options.callback();\n    } else {\n        if(typeof console == \"undefined\" || typeof console.log == \"undefined\")\n            console = { log: function() {} };\n        // Console logging (all debugging disabled by default)\n        Janus.trace = Janus.noop;\n        Janus.debug = Janus.noop;\n        Janus.vdebug = Janus.noop;\n        Janus.log = Janus.noop;\n        Janus.warn = Janus.noop;\n        Janus.error = Janus.noop;\n        if(options.debug === true || options.debug === \"all\") {\n            // Enable all debugging levels\n            Janus.trace = console.trace.bind(console);\n            Janus.debug = console.debug.bind(console);\n            Janus.vdebug = console.debug.bind(console);\n            Janus.log = console.log.bind(console);\n            Janus.warn = console.warn.bind(console);\n            Janus.error = console.error.bind(console);\n        } else if(Array.isArray(options.debug)) {\n            for(var i in options.debug) {\n                var d = options.debug[i];\n                switch(d) {\n                case \"trace\":\n                    Janus.trace = console.trace.bind(console);\n                    break;\n                case \"debug\":\n                    Janus.debug = console.debug.bind(console);\n                    break;\n                case \"vdebug\":\n                    Janus.vdebug = console.debug.bind(console);\n                    break;\n                case \"log\":\n                    Janus.log = console.log.bind(console);\n                    break;\n                case \"warn\":\n                    Janus.warn = console.warn.bind(console);\n                    break;\n                case \"error\":\n                    Janus.error = console.error.bind(console);\n                    break;\n                default:\n                    console.error(\"Unknown debugging option '\" + d + \"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')\");\n                    break;\n                }\n            }\n        }\n        Janus.log(\"Initializing library\");\n        // Helper method to enumerate devices\n        Janus.listDevices = function(callback) {\n            callback = (typeof callback == \"function\") ? callback : Janus.noop;\n            if(navigator.mediaDevices) {\n                navigator.mediaDevices.getUserMedia({ audio: true, video: true })\n                    .then(function(stream) {\n                        navigator.mediaDevices.enumerateDevices().then(function(devices) {\n                            Janus.debug(devices);\n                            callback(devices);\n                            // Get rid of the now useless stream\n                            try {\n                                stream.stop();\n                            } catch(e) {}\n                            try {\n                                var tracks = stream.getTracks();\n                                for(var i in tracks) {\n                                    var mst = tracks[i];\n                                    if(mst !== null && mst !== undefined)\n                                        mst.stop();\n                                }\n                            } catch(e) {}\n                        });\n                    })\n                    .catch(function(err) {\n                        Janus.error(err);\n                        callback([]);\n                    });\n            } else {\n                Janus.warn(\"navigator.mediaDevices unavailable\");\n                callback([]);\n            }\n        }\n        // Helper methods to attach/reattach a stream to a video element (previously part of adapter.js)\n        Janus.attachMediaStream = function(element, stream) {\n            if(adapter.browserDetails.browser === 'chrome') {\n                var chromever = adapter.browserDetails.version;\n                if(chromever >= 43) {\n                    element.srcObject = stream;\n                } else if(typeof element.src !== 'undefined') {\n                    element.src = URL.createObjectURL(stream);\n                } else {\n                    Janus.error(\"Error attaching stream to element\");\n                }\n            } else {\n                element.srcObject = stream;\n            }\n        };\n        Janus.reattachMediaStream = function(to, from) {\n            if(adapter.browserDetails.browser === 'chrome') {\n                var chromever = adapter.browserDetails.version;\n                if(chromever >= 43) {\n                    to.srcObject = from.srcObject;\n                } else if(typeof to.src !== 'undefined') {\n                    to.src = from.src;\n                }\n            } else {\n                to.srcObject = from.srcObject;\n            }\n        };\n        // Prepare a helper method to send AJAX requests in a syntax similar to jQuery (at least for what we care)\n        Janus.ajax = function(params) {\n            // Check params\n            if(params === null || params === undefined)\n                return;\n            params.success = (typeof params.success == \"function\") ? params.success : Janus.noop;\n            params.error = (typeof params.error == \"function\") ? params.error : Janus.noop;\n            // Make sure there's an URL\n            if(params.url === null || params.url === undefined) {\n                Janus.error('Missing url', params.url);\n                params.error(null, -1, 'Missing url');\n                return;\n            }\n            // Validate async\n            params.async = (params.async === null || params.async === undefined) ? true : (params.async === true);\n            Janus.log(params);\n            // IE doesn't even know what WebRTC is, so no polyfill needed\n            var XHR = new XMLHttpRequest();\n            XHR.open(params.type, params.url, params.async);\n            if(params.contentType !== null && params.contentType !== undefined)\n                XHR.setRequestHeader('Content-type', params.contentType);\n            if(params.async) {\n                XHR.onreadystatechange = function () {\n                    if(XHR.readyState != 4)\n                        return;\n                    if(XHR.status !== 200) {\n                        // Got an error?\n                        if(XHR.status === 0)\n                            XHR.status = \"error\";\n                        params.error(XHR, XHR.status, \"\");\n                        return;\n                    }\n                    // Got payload\n                    params.success(JSON.parse(XHR.responseText));\n                };\n            }\n            try {\n                XHR.send(params.data);\n                if(!params.async) {\n                    if(XHR.status !== 200) {\n                        // Got an error?\n                        if(XHR.status === 0)\n                            XHR.status = \"error\";\n                        params.error(XHR, XHR.status, \"\");\n                        return;\n                    }\n                    // Got payload\n                    params.success(JSON.parse(XHR.responseText));\n                }\n            } catch(e) {\n                // Something broke up\n                params.error(XHR, 'error', '');\n            };\n        };\n        // Detect tab close: make sure we don't loose existing onbeforeunload handlers\n        var oldOBF = window.onbeforeunload;\n        window.onbeforeunload = function() {\n            Janus.log(\"Closing window\");\n            for(var s in Janus.sessions) {\n                if(Janus.sessions[s] !== null && Janus.sessions[s] !== undefined &&\n                    Janus.sessions[s].destroyOnUnload) {\n                    Janus.log(\"Destroying session \" + s);\n                    Janus.sessions[s].destroy({asyncRequest: false});\n                }\n            }\n            if(oldOBF && typeof oldOBF == \"function\")\n                oldOBF();\n        }\n        function addJsList(srcArray) {\n            if (!srcArray || !Array.isArray(srcArray) || srcArray.length == 0) {\n                options.callback();\n            }\n            var count = 0;\n            addJs(srcArray[count],next);\n\n            function next() {\n                count++;\n                if (count<srcArray.length) {\n                    addJs(srcArray[count],next);\n                }\n                else {\n                    options.callback();\n                }\n            }\n        }\n        function addJs(src,done) {\n            try {\n                if(adapter) {\n                    // Already loaded\n                    Janus.debug(src + \" already loaded, skipping\");\n                    done();\n                    return;\n                }\n            } catch(e) {};\n            var oHead = document.getElementsByTagName('head').item(0);\n            var oScript = document.createElement(\"script\");\n            oScript.type = \"text/javascript\";\n            oScript.src = src;\n            oScript.onload = function() {\n                Janus.log(\"Library \" + src + \" loaded\");\n                done();\n            }\n            oHead.appendChild(oScript);\n        }\n        Janus.initDone = true;\n        addJsList([\"adapter.js\"]);\t// We may need others in the future\n    }\n};\n\n// Helper method to check whether WebRTC is supported by this browser\nJanus.isWebrtcSupported = function() {\n    return window.RTCPeerConnection !== undefined && window.RTCPeerConnection !== null &&\n        navigator.getUserMedia !== undefined && navigator.getUserMedia !== null;\n};\n\n\n// Janus session object\nfunction Janus(gatewayCallbacks) {\n    if(Janus.initDone === undefined) {\n        gatewayCallbacks.error(\"Library not initialized\");\n        return {};\n    }\n    if(!Janus.isWebrtcSupported()) {\n        gatewayCallbacks.error(\"WebRTC not supported by this browser\");\n        return {};\n    }\n    Janus.log(\"Library initialized: \" + Janus.initDone);\n    gatewayCallbacks = gatewayCallbacks || {};\n    gatewayCallbacks.success = (typeof gatewayCallbacks.success == \"function\") ? gatewayCallbacks.success : Janus.noop;\n    gatewayCallbacks.error = (typeof gatewayCallbacks.error == \"function\") ? gatewayCallbacks.error : Janus.noop;\n    gatewayCallbacks.destroyed = (typeof gatewayCallbacks.destroyed == \"function\") ? gatewayCallbacks.destroyed : Janus.noop;\n    if(gatewayCallbacks.server === null || gatewayCallbacks.server === undefined) {\n        gatewayCallbacks.error(\"Invalid gateway url\");\n        return {};\n    }\n    var websockets = false;\n    var ws = null;\n    var wsHandlers = {};\n    var wsKeepaliveTimeoutId = null;\n\n    var servers = null, serversIndex = 0;\n    var server = gatewayCallbacks.server;\n    if(Array.isArray(server)) {\n        Janus.log(\"Multiple servers provided (\" + server.length + \"), will use the first that works\");\n        server = null;\n        servers = gatewayCallbacks.server;\n        Janus.debug(servers);\n    } else {\n        if(server.indexOf(\"ws\") === 0) {\n            websockets = true;\n            Janus.log(\"Using WebSockets to contact Janus: \" + server);\n        } else {\n            websockets = false;\n            Janus.log(\"Using REST API to contact Janus: \" + server);\n        }\n    }\n    var iceServers = gatewayCallbacks.iceServers;\n    if(iceServers === undefined || iceServers === null || iceServers.length === 0) {\n        iceServers = [{urls: \"stun:stun.l.google.com:19302\"}];\n        Janus.log('using ice', iceServers);\n    }\n    var iceTransportPolicy = gatewayCallbacks.iceTransportPolicy;\n    // Whether IPv6 candidates should be gathered\n    var ipv6Support = gatewayCallbacks.ipv6;\n    if(ipv6Support === undefined || ipv6Support === null)\n        ipv6Support = false;\n    // Optional max events\n    var maxev = null;\n    if(gatewayCallbacks.max_poll_events !== undefined && gatewayCallbacks.max_poll_events !== null)\n        maxev = gatewayCallbacks.max_poll_events;\n    if(maxev < 1)\n        maxev = 1;\n    // Token to use (only if the token based authentication mechanism is enabled)\n    var token = null;\n    if(gatewayCallbacks.token !== undefined && gatewayCallbacks.token !== null)\n        token = gatewayCallbacks.token;\n    // API secret to use (only if the shared API secret is enabled)\n    var apisecret = null;\n    if(gatewayCallbacks.apisecret !== undefined && gatewayCallbacks.apisecret !== null)\n        apisecret = gatewayCallbacks.apisecret;\n    // Whether we should destroy this session when onbeforeunload is called\n    this.destroyOnUnload = true;\n    if(gatewayCallbacks.destroyOnUnload !== undefined && gatewayCallbacks.destroyOnUnload !== null)\n        this.destroyOnUnload = (gatewayCallbacks.destroyOnUnload === true);\n\n    var connected = false;\n    var sessionId = null;\n    var pluginHandles = {};\n    var that = this;\n    var retries = 0;\n    var transactions = {};\n    createSession(gatewayCallbacks);\n\n    // Public methods\n    this.getServer = function() { return server; };\n    this.isConnected = function() { return connected; };\n    this.getSessionId = function() { return sessionId; };\n    this.destroy = function(callbacks) { destroySession(callbacks, true); };\n    this.attach = function(callbacks) { createHandle(callbacks); };\n\n    // Private method to create random identifiers (e.g., transaction)\n    function randomString(len) {\n        var charSet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        var randomString = '';\n        for (var i = 0; i < len; i++) {\n            var randomPoz = Math.floor(Math.random() * charSet.length);\n            randomString += charSet.substring(randomPoz,randomPoz+1);\n        }\n        return randomString;\n    }\n\n    function eventHandler() {\n        if(sessionId == null)\n            return;\n        Janus.debug('Long poll...');\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var longpoll = server + \"/\" + sessionId + \"?rid=\" + new Date().getTime();\n        if(maxev !== undefined && maxev !== null)\n            longpoll = longpoll + \"&maxev=\" + maxev;\n        if(token !== null && token !== undefined)\n            longpoll = longpoll + \"&token=\" + token;\n        if(apisecret !== null && apisecret !== undefined)\n            longpoll = longpoll + \"&apisecret=\" + apisecret;\n        Janus.ajax({\n            type: 'GET',\n            url: longpoll,\n            cache: false,\n            timeout: 60000,\t// FIXME\n            success: handleEvent,\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\n                //~ clearTimeout(timeoutTimer);\n                retries++;\n                if(retries > 3) {\n                    // Did we just lose the gateway? :-(\n                    connected = false;\n                    gatewayCallbacks.error(\"Lost connection to the gateway (is it down?)\");\n                    return;\n                }\n                eventHandler();\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private event handler: this will trigger plugin callbacks, if set\n    function handleEvent(json) {\n        retries = 0;\n        if(!websockets && sessionId !== undefined && sessionId !== null)\n            setTimeout(eventHandler, 200);\n        if(!websockets && Array.isArray(json)) {\n            // We got an array: it means we passed a maxev > 1, iterate on all objects\n            for(var i=0; i<json.length; i++) {\n                handleEvent(json[i]);\n            }\n            return;\n        }\n        if(json[\"janus\"] === \"keepalive\") {\n            // Nothing happened\n            Janus.vdebug(\"Got a keepalive on session \" + sessionId);\n            return;\n        } else if(json[\"janus\"] === \"ack\") {\n            // Just an ack, we can probably ignore\n            Janus.debug(\"Got an ack on session \" + sessionId);\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"success\") {\n            // Success!\n            Janus.debug(\"Got a success on session \" + sessionId);\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"webrtcup\") {\n            // The PeerConnection with the gateway is up! Notify this\n            Janus.debug(\"Got a webrtcup event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.webrtcState(true);\n            return;\n        } else if(json[\"janus\"] === \"hangup\") {\n            // A plugin asked the core to hangup a PeerConnection on one of our handles\n            Janus.debug(\"Got a hangup event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.webrtcState(false);\n            pluginHandle.hangup();\n        } else if(json[\"janus\"] === \"detached\") {\n            // A plugin asked the core to detach one of our handles\n            Janus.debug(\"Got a detached event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                // Don't warn here because destroyHandle causes this situation.\n                return;\n            }\n            pluginHandle.ondetached();\n            pluginHandle.detach();\n        } else if(json[\"janus\"] === \"media\") {\n            // Media started/stopped flowing\n            Janus.debug(\"Got a media event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.mediaState(json[\"type\"], json[\"receiving\"]);\n        } else if(json[\"janus\"] === \"slowlink\") {\n            Janus.debug(\"Got a slowlink event on session \" + sessionId);\n            Janus.debug(json);\n            // Trouble uplink or downlink\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.slowLink(json[\"uplink\"], json[\"nacks\"]);\n        } else if(json[\"janus\"] === \"error\") {\n            // Oops, something wrong happened\n            Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"event\") {\n            Janus.debug(\"Got a plugin event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var plugindata = json[\"plugindata\"];\n            if(plugindata === undefined || plugindata === null) {\n                Janus.warn(\"Missing plugindata...\");\n                return;\n            }\n            Janus.debug(\"  -- Event is coming from \" + sender + \" (\" + plugindata[\"plugin\"] + \")\");\n            var data = plugindata[\"data\"];\n            Janus.debug(data);\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            var jsep = json[\"jsep\"];\n            if(jsep !== undefined && jsep !== null) {\n                Janus.debug(\"Handling SDP as well...\");\n                Janus.debug(jsep);\n            }\n            var callback = pluginHandle.onmessage;\n            if(callback !== null && callback !== undefined) {\n                Janus.debug(\"Notifying application...\");\n                // Send to callback specified when attaching plugin handle\n                callback(data, jsep);\n            } else {\n                // Send to generic callback (?)\n                Janus.debug(\"No provided notification callback\");\n            }\n        } else {\n            Janus.warn(\"Unkown message/event  '\" + json[\"janus\"] + \"' on session \" + sessionId);\n            Janus.debug(json);\n        }\n    }\n\n    // Private helper to send keep-alive messages on WebSockets\n    function keepAlive() {\n        if(server === null || !websockets || !connected)\n            return;\n        wsKeepaliveTimeoutId = setTimeout(keepAlive, 30000);\n        var request = { \"janus\": \"keepalive\", \"session_id\": sessionId, \"transaction\": randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        ws.send(JSON.stringify(request));\n    }\n\n    // Private method to create a session\n    function createSession(callbacks) {\n        var transaction = randomString(12);\n        var request = { \"janus\": \"create\", \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(server === null && Array.isArray(servers)) {\n            // We still need to find a working server from the list we were given\n            server = servers[serversIndex];\n            if(server.indexOf(\"ws\") === 0) {\n                websockets = true;\n                Janus.log(\"Server #\" + (serversIndex+1) + \": trying WebSockets to contact Janus (\" + server + \")\");\n            } else {\n                websockets = false;\n                Janus.log(\"Server #\" + (serversIndex+1) + \": trying REST API to contact Janus (\" + server + \")\");\n            }\n        }\n        if(websockets) {\n            ws = new WebSocket(server, 'janus-protocol');\n            wsHandlers = {\n                'error': function() {\n                    Janus.error(\"Error connecting to the Janus WebSockets server... \" + server);\n                    if (Array.isArray(servers)) {\n                        serversIndex++;\n                        if (serversIndex == servers.length) {\n                            // We tried all the servers the user gave us and they all failed\n                            callbacks.error(\"Error connecting to any of the provided Janus servers: Is the gateway down?\");\n                            return;\n                        }\n                        // Let's try the next server\n                        server = null;\n                        setTimeout(function() {\n                            createSession(callbacks);\n                        }, 200);\n                        return;\n                    }\n                    callbacks.error(\"Error connecting to the Janus WebSockets server: Is the gateway down?\");\n                },\n\n                'open': function() {\n                    // We need to be notified about the success\n                    transactions[transaction] = function(json) {\n                        Janus.debug(json);\n                        if (json[\"janus\"] !== \"success\") {\n                            Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                            callbacks.error(json[\"error\"].reason);\n                            return;\n                        }\n                        wsKeepaliveTimeoutId = setTimeout(keepAlive, 30000);\n                        connected = true;\n                        sessionId = json.data[\"id\"];\n                        Janus.log(\"Created session: \" + sessionId);\n                        Janus.sessions[sessionId] = that;\n                        callbacks.success();\n                    };\n                    ws.send(JSON.stringify(request));\n                },\n\n                'message': function(event) {\n                    handleEvent(JSON.parse(event.data));\n                },\n\n                'close': function() {\n                    if (server === null || !connected) {\n                        return;\n                    }\n                    connected = false;\n                    // FIXME What if this is called when the page is closed?\n                    gatewayCallbacks.error(\"Lost connection to the gateway (is it down?)\");\n                }\n            };\n\n            for(var eventName in wsHandlers) {\n                ws.addEventListener(eventName, wsHandlers[eventName]);\n            }\n\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server,\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(json[\"error\"].reason);\n                    return;\n                }\n                connected = true;\n                sessionId = json.data[\"id\"];\n                Janus.log(\"Created session: \" + sessionId);\n                Janus.sessions[sessionId] = that;\n                eventHandler();\n                callbacks.success();\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                if(Array.isArray(servers)) {\n                    serversIndex++;\n                    if(serversIndex == servers.length) {\n                        // We tried all the servers the user gave us and they all failed\n                        callbacks.error(\"Error connecting to any of the provided Janus servers: Is the gateway down?\");\n                        return;\n                    }\n                    // Let's try the next server\n                    server = null;\n                    setTimeout(function() { createSession(callbacks); }, 200);\n                    return;\n                }\n                if(errorThrown === \"\")\n                    callbacks.error(textStatus + \": Is the gateway down?\");\n                else\n                    callbacks.error(textStatus + \": \" + errorThrown);\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to destroy a session\n    function destroySession(callbacks) {\n        callbacks = callbacks || {};\n        // FIXME This method triggers a success even when we fail\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        var asyncRequest = true;\n        if(callbacks.asyncRequest !== undefined && callbacks.asyncRequest !== null)\n            asyncRequest = (callbacks.asyncRequest === true);\n        Janus.log(\"Destroying session \" + sessionId + \" (async=\" + asyncRequest + \")\");\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.success();\n            return;\n        }\n        if(sessionId === undefined || sessionId === null) {\n            Janus.warn(\"No session to destroy\");\n            callbacks.success();\n            gatewayCallbacks.destroyed();\n            return;\n        }\n        delete Janus.sessions[sessionId];\n        // Destroy all handles first\n        for(var ph in pluginHandles) {\n            var phv = pluginHandles[ph];\n            Janus.log(\"Destroying handle \" + phv.id + \" (\" + phv.plugin + \")\");\n            destroyHandle(phv.id, {asyncRequest: asyncRequest});\n        }\n        // Ok, go on\n        var request = { \"janus\": \"destroy\", \"transaction\": randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n\n            var unbindWebSocket = function() {\n                for(var eventName in wsHandlers) {\n                    ws.removeEventListener(eventName, wsHandlers[eventName]);\n                }\n                ws.removeEventListener('message', onUnbindMessage);\n                ws.removeEventListener('error', onUnbindError);\n                if(wsKeepaliveTimeoutId) {\n                    clearTimeout(wsKeepaliveTimeoutId);\n                }\n            };\n\n            var onUnbindMessage = function(event){\n                var data = JSON.parse(event.data);\n                if(data.session_id == request.session_id && data.transaction == request.transaction) {\n                    unbindWebSocket();\n                    callbacks.success();\n                    gatewayCallbacks.destroyed();\n                }\n            };\n            var onUnbindError = function(event) {\n                unbindWebSocket();\n                callbacks.error(\"Failed to destroy the gateway: Is the gateway down?\");\n                gatewayCallbacks.destroyed();\n            };\n\n            ws.addEventListener('message', onUnbindMessage);\n            ws.addEventListener('error', onUnbindError);\n\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId,\n            async: asyncRequest,\t// Sometimes we need false here, or destroying in onbeforeunload won't work\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.log(\"Destroyed session:\");\n                Janus.debug(json);\n                sessionId = null;\n                connected = false;\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                }\n                callbacks.success();\n                gatewayCallbacks.destroyed();\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                // Reset everything anyway\n                sessionId = null;\n                connected = false;\n                callbacks.success();\n                gatewayCallbacks.destroyed();\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to create a plugin handle\n    function createHandle(callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        callbacks.consentDialog = (typeof callbacks.consentDialog == \"function\") ? callbacks.consentDialog : Janus.noop;\n        callbacks.mediaState = (typeof callbacks.mediaState == \"function\") ? callbacks.mediaState : Janus.noop;\n        callbacks.webrtcState = (typeof callbacks.webrtcState == \"function\") ? callbacks.webrtcState : Janus.noop;\n        callbacks.slowLink = (typeof callbacks.slowLink == \"function\") ? callbacks.slowLink : Janus.noop;\n        callbacks.onmessage = (typeof callbacks.onmessage == \"function\") ? callbacks.onmessage : Janus.noop;\n        callbacks.onlocalstream = (typeof callbacks.onlocalstream == \"function\") ? callbacks.onlocalstream : Janus.noop;\n        callbacks.onremotestream = (typeof callbacks.onremotestream == \"function\") ? callbacks.onremotestream : Janus.noop;\n        callbacks.ondata = (typeof callbacks.ondata == \"function\") ? callbacks.ondata : Janus.noop;\n        callbacks.ondataopen = (typeof callbacks.ondataopen == \"function\") ? callbacks.ondataopen : Janus.noop;\n        callbacks.oncleanup = (typeof callbacks.oncleanup == \"function\") ? callbacks.oncleanup : Janus.noop;\n        callbacks.ondetached = (typeof callbacks.ondetached == \"function\") ? callbacks.ondetached : Janus.noop;\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var plugin = callbacks.plugin;\n        if(plugin === undefined || plugin === null) {\n            Janus.error(\"Invalid plugin\");\n            callbacks.error(\"Invalid plugin\");\n            return;\n        }\n        var transaction = randomString(12);\n        var request = { \"janus\": \"attach\", \"plugin\": plugin, \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(websockets) {\n            transactions[transaction] = function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    return;\n                }\n                var handleId = json.data[\"id\"];\n                Janus.log(\"Created handle: \" + handleId);\n                var pluginHandle =\n                    {\n                        session : that,\n                        plugin : plugin,\n                        id : handleId,\n                        webrtcStuff : {\n                            started : false,\n                            myStream : null,\n                            streamExternal : false,\n                            remoteStream : null,\n                            mySdp : null,\n                            pc : null,\n                            dataChannel : null,\n                            dtmfSender : null,\n                            trickle : true,\n                            iceDone : false,\n                            sdpSent : false,\n                            volume : {\n                                value : null,\n                                timer : null\n                            },\n                            bitrate : {\n                                value : null,\n                                bsnow : null,\n                                bsbefore : null,\n                                tsnow : null,\n                                tsbefore : null,\n                                timer : null\n                            }\n                        },\n                        getId : function() { return handleId; },\n                        getPlugin : function() { return plugin; },\n                        getVolume : function() { return getVolume(handleId); },\n                        isAudioMuted : function() { return isMuted(handleId, false); },\n                        muteAudio : function() { return mute(handleId, false, true); },\n                        unmuteAudio : function() { return mute(handleId, false, false); },\n                        isVideoMuted : function() { return isMuted(handleId, true); },\n                        muteVideo : function() { return mute(handleId, true, true); },\n                        unmuteVideo : function() { return mute(handleId, true, false); },\n                        getBitrate : function() { return getBitrate(handleId); },\n                        send : function(callbacks) { sendMessage(handleId, callbacks); },\n                        data : function(callbacks) { sendData(handleId, callbacks); },\n                        dtmf : function(callbacks) { sendDtmf(handleId, callbacks); },\n                        consentDialog : callbacks.consentDialog,\n                        mediaState : callbacks.mediaState,\n                        webrtcState : callbacks.webrtcState,\n                        slowLink : callbacks.slowLink,\n                        onmessage : callbacks.onmessage,\n                        createOffer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        createAnswer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        handleRemoteJsep : function(callbacks) { prepareWebrtcPeer(handleId, callbacks); },\n                        onlocalstream : callbacks.onlocalstream,\n                        onremotestream : callbacks.onremotestream,\n                        ondata : callbacks.ondata,\n                        ondataopen : callbacks.ondataopen,\n                        oncleanup : callbacks.oncleanup,\n                        ondetached : callbacks.ondetached,\n                        hangup : function(sendRequest) { cleanupWebrtc(handleId, sendRequest === true); },\n                        detach : function(callbacks) { destroyHandle(handleId, callbacks); }\n                    }\n                pluginHandles[handleId] = pluginHandle;\n                callbacks.success(pluginHandle);\n            };\n            request[\"session_id\"] = sessionId;\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId,\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    return;\n                }\n                var handleId = json.data[\"id\"];\n                Janus.log(\"Created handle: \" + handleId);\n                var pluginHandle =\n                    {\n                        session : that,\n                        plugin : plugin,\n                        id : handleId,\n                        webrtcStuff : {\n                            started : false,\n                            myStream : null,\n                            streamExternal : false,\n                            remoteStream : null,\n                            mySdp : null,\n                            pc : null,\n                            dataChannel : null,\n                            dtmfSender : null,\n                            trickle : true,\n                            iceDone : false,\n                            sdpSent : false,\n                            volume : {\n                                value : null,\n                                timer : null\n                            },\n                            bitrate : {\n                                value : null,\n                                bsnow : null,\n                                bsbefore : null,\n                                tsnow : null,\n                                tsbefore : null,\n                                timer : null\n                            }\n                        },\n                        getId : function() { return handleId; },\n                        getPlugin : function() { return plugin; },\n                        getVolume : function() { return getVolume(handleId); },\n                        isAudioMuted : function() { return isMuted(handleId, false); },\n                        muteAudio : function() { return mute(handleId, false, true); },\n                        unmuteAudio : function() { return mute(handleId, false, false); },\n                        isVideoMuted : function() { return isMuted(handleId, true); },\n                        muteVideo : function() { return mute(handleId, true, true); },\n                        unmuteVideo : function() { return mute(handleId, true, false); },\n                        getBitrate : function() { return getBitrate(handleId); },\n                        send : function(callbacks) { sendMessage(handleId, callbacks); },\n                        data : function(callbacks) { sendData(handleId, callbacks); },\n                        dtmf : function(callbacks) { sendDtmf(handleId, callbacks); },\n                        consentDialog : callbacks.consentDialog,\n                        mediaState : callbacks.mediaState,\n                        webrtcState : callbacks.webrtcState,\n                        slowLink : callbacks.slowLink,\n                        onmessage : callbacks.onmessage,\n                        createOffer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        createAnswer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        handleRemoteJsep : function(callbacks) { prepareWebrtcPeer(handleId, callbacks); },\n                        onlocalstream : callbacks.onlocalstream,\n                        onremotestream : callbacks.onremotestream,\n                        ondata : callbacks.ondata,\n                        ondataopen : callbacks.ondataopen,\n                        oncleanup : callbacks.oncleanup,\n                        ondetached : callbacks.ondetached,\n                        hangup : function(sendRequest) { cleanupWebrtc(handleId, sendRequest === true); },\n                        detach : function(callbacks) { destroyHandle(handleId, callbacks); }\n                    }\n                pluginHandles[handleId] = pluginHandle;\n                callbacks.success(pluginHandle);\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to send a message\n    function sendMessage(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var message = callbacks.message;\n        var jsep = callbacks.jsep;\n        var transaction = randomString(12);\n        var request = { \"janus\": \"message\", \"body\": message, \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(jsep !== null && jsep !== undefined)\n            request.jsep = jsep;\n        Janus.debug(\"Sending message to plugin (handle=\" + handleId + \"):\");\n        Janus.debug(request);\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            transactions[transaction] = function(json) {\n                Janus.debug(\"Message sent!\");\n                Janus.debug(json);\n                if(json[\"janus\"] === \"success\") {\n                    // We got a success, must have been a synchronous transaction\n                    var plugindata = json[\"plugindata\"];\n                    if(plugindata === undefined || plugindata === null) {\n                        Janus.warn(\"Request succeeded, but missing plugindata...\");\n                        callbacks.success();\n                        return;\n                    }\n                    Janus.log(\"Synchronous transaction successful (\" + plugindata[\"plugin\"] + \")\");\n                    var data = plugindata[\"data\"];\n                    Janus.debug(data);\n                    callbacks.success(data);\n                    return;\n                } else if(json[\"janus\"] !== \"ack\") {\n                    // Not a success and not an ack, must be an error\n                    if(json[\"error\"] !== undefined && json[\"error\"] !== null) {\n                        Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                        callbacks.error(json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    } else {\n                        Janus.error(\"Unknown error\");\t// FIXME\n                        callbacks.error(\"Unknown error\");\n                    }\n                    return;\n                }\n                // If we got here, the plugin decided to handle the request asynchronously\n                callbacks.success();\n            };\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId + \"/\" + handleId,\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.debug(\"Message sent!\");\n                Janus.debug(json);\n                if(json[\"janus\"] === \"success\") {\n                    // We got a success, must have been a synchronous transaction\n                    var plugindata = json[\"plugindata\"];\n                    if(plugindata === undefined || plugindata === null) {\n                        Janus.warn(\"Request succeeded, but missing plugindata...\");\n                        callbacks.success();\n                        return;\n                    }\n                    Janus.log(\"Synchronous transaction successful (\" + plugindata[\"plugin\"] + \")\");\n                    var data = plugindata[\"data\"];\n                    Janus.debug(data);\n                    callbacks.success(data);\n                    return;\n                } else if(json[\"janus\"] !== \"ack\") {\n                    // Not a success and not an ack, must be an error\n                    if(json[\"error\"] !== undefined && json[\"error\"] !== null) {\n                        Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                        callbacks.error(json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    } else {\n                        Janus.error(\"Unknown error\");\t// FIXME\n                        callbacks.error(\"Unknown error\");\n                    }\n                    return;\n                }\n                // If we got here, the plugin decided to handle the request asynchronously\n                callbacks.success();\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                callbacks.error(textStatus + \": \" + errorThrown);\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to send a trickle candidate\n    function sendTrickleCandidate(handleId, candidate) {\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var request = { \"janus\": \"trickle\", \"candidate\": candidate, \"transaction\": randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        Janus.vdebug(\"Sending trickle candidate (handle=\" + handleId + \"):\");\n        Janus.vdebug(request);\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId + \"/\" + handleId,\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.vdebug(\"Candidate sent!\");\n                Janus.vdebug(json);\n                if(json[\"janus\"] !== \"ack\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    return;\n                }\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to send a data channel message\n    function sendData(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        var text = callbacks.text;\n        if(text === null || text === undefined) {\n            Janus.warn(\"Invalid text\");\n            callbacks.error(\"Invalid text\");\n            return;\n        }\n        Janus.log(\"Sending string on data channel: \" + text);\n        config.dataChannel.send(text);\n        callbacks.success();\n    }\n\n    // Private method to send a DTMF tone\n    function sendDtmf(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.dtmfSender === null || config.dtmfSender === undefined) {\n            // Create the DTMF sender, if possible\n            if(config.myStream !== undefined && config.myStream !== null) {\n                var tracks = config.myStream.getAudioTracks();\n                if(tracks !== null && tracks !== undefined && tracks.length > 0) {\n                    var local_audio_track = tracks[0];\n                    config.dtmfSender = config.pc.createDTMFSender(local_audio_track);\n                    Janus.log(\"Created DTMF Sender\");\n                    config.dtmfSender.ontonechange = function(tone) { Janus.debug(\"Sent DTMF tone: \" + tone.tone); };\n                }\n            }\n            if(config.dtmfSender === null || config.dtmfSender === undefined) {\n                Janus.warn(\"Invalid DTMF configuration\");\n                callbacks.error(\"Invalid DTMF configuration\");\n                return;\n            }\n        }\n        var dtmf = callbacks.dtmf;\n        if(dtmf === null || dtmf === undefined) {\n            Janus.warn(\"Invalid DTMF parameters\");\n            callbacks.error(\"Invalid DTMF parameters\");\n            return;\n        }\n        var tones = dtmf.tones;\n        if(tones === null || tones === undefined) {\n            Janus.warn(\"Invalid DTMF string\");\n            callbacks.error(\"Invalid DTMF string\");\n            return;\n        }\n        var duration = dtmf.duration;\n        if(duration === null || duration === undefined)\n            duration = 500;\t// We choose 500ms as the default duration for a tone\n        var gap = dtmf.gap;\n        if(gap === null || gap === undefined)\n            gap = 50;\t// We choose 50ms as the default gap between tones\n        Janus.debug(\"Sending DTMF string \" + tones + \" (duration \" + duration + \"ms, gap \" + gap + \"ms)\");\n        config.dtmfSender.insertDTMF(tones, duration, gap);\n    }\n\n    // Private method to destroy a plugin handle\n    function destroyHandle(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var asyncRequest = true;\n        if(callbacks.asyncRequest !== undefined && callbacks.asyncRequest !== null)\n            asyncRequest = (callbacks.asyncRequest === true);\n        Janus.log(\"Destroying handle \" + handleId + \" (sync=\" + asyncRequest + \")\");\n        cleanupWebrtc(handleId);\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var request = { \"janus\": \"detach\", \"transaction\": randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            ws.send(JSON.stringify(request));\n            delete pluginHandles[handleId];\n            callbacks.success();\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId + \"/\" + handleId,\n            async: asyncRequest,\t// Sometimes we need false here, or destroying in onbeforeunload won't work\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.log(\"Destroyed handle:\");\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                }\n                delete pluginHandles[handleId];\n                callbacks.success();\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                // We cleanup anyway\n                delete pluginHandles[handleId];\n                callbacks.success();\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // WebRTC stuff\n    function streamsDone(handleId, jsep, media, callbacks, stream) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.debug(\"streamsDone:\", stream);\n        config.myStream = stream;\n        var pc_config = {\"iceServers\": iceServers, \"iceTransportPolicy\": iceTransportPolicy};\n        //~ var pc_constraints = {'mandatory': {'MozDontOfferDataChannel':true}};\n        var pc_constraints = {\n            \"optional\": [{\"DtlsSrtpKeyAgreement\": true}]\n        };\n        if(ipv6Support === true) {\n            // FIXME This is only supported in Chrome right now\n            // For support in Firefox track this: https://bugzilla.mozilla.org/show_bug.cgi?id=797262\n            pc_constraints.optional.push({\"googIPv6\":true});\n        }\n        if(adapter.browserDetails.browser === \"edge\") {\n            // This is Edge, enable BUNDLE explicitly\n            pc_config.bundlePolicy = \"max-bundle\";\n        }\n        Janus.log(\"Creating PeerConnection\");\n        Janus.debug(pc_constraints);\n        config.pc = new RTCPeerConnection(pc_config, pc_constraints);\n        Janus.debug(config.pc);\n        if(config.pc.getStats) {\t// FIXME\n            config.volume.value = 0;\n            config.bitrate.value = \"0 kbits/sec\";\n        }\n        Janus.log(\"Preparing local SDP and gathering candidates (trickle=\" + config.trickle + \")\");\n        config.pc.onicecandidate = function(event) {\n            if (event.candidate == null ||\n                (adapter.browserDetails.browser === 'edge' && event.candidate.candidate.indexOf('endOfCandidates') > 0)) {\n                Janus.log(\"End of candidates.\");\n                config.iceDone = true;\n                if(config.trickle === true) {\n                    // Notify end of candidates\n                    sendTrickleCandidate(handleId, {\"completed\": true});\n                } else {\n                    // No trickle, time to send the complete SDP (including all candidates)\n                    sendSDP(handleId, callbacks);\n                }\n            } else {\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var candidate = {\n                    \"candidate\": event.candidate.candidate,\n                    \"sdpMid\": event.candidate.sdpMid,\n                    \"sdpMLineIndex\": event.candidate.sdpMLineIndex\n                };\n                if(config.trickle === true) {\n                    // Send candidate\n                    sendTrickleCandidate(handleId, candidate);\n                }\n            }\n        };\n        if(stream !== null && stream !== undefined) {\n            Janus.log('Adding local stream');\n            config.pc.addStream(stream);\n            pluginHandle.onlocalstream(stream);\n        }\n        config.pc.onaddstream = function(remoteStream) {\n            Janus.log(\"Handling Remote Stream\");\n            Janus.debug(remoteStream);\n            config.remoteStream = remoteStream;\n            pluginHandle.onremotestream(remoteStream.stream);\n        };\n        // Any data channel to create?\n        if(isDataEnabled(media)) {\n            Janus.log(\"Creating data channel\");\n            var onDataChannelMessage = function(event) {\n                Janus.log('Received message on data channel: ' + event.data);\n                pluginHandle.ondata(event.data);\t// FIXME\n            }\n            var onDataChannelStateChange = function() {\n                var dcState = config.dataChannel !== null ? config.dataChannel.readyState : \"null\";\n                Janus.log('State change on data channel: ' + dcState);\n                if(dcState === 'open') {\n                    pluginHandle.ondataopen();\t// FIXME\n                }\n            }\n            var onDataChannelError = function(error) {\n                Janus.error('Got error on data channel:', error);\n                // TODO\n            }\n            // Until we implement the proxying of open requests within the Janus core, we open a channel ourselves whatever the case\n            config.dataChannel = config.pc.createDataChannel(\"JanusDataChannel\", {ordered:false});\t// FIXME Add options (ordered, maxRetransmits, etc.)\n            config.dataChannel.onmessage = onDataChannelMessage;\n            config.dataChannel.onopen = onDataChannelStateChange;\n            config.dataChannel.onclose = onDataChannelStateChange;\n            config.dataChannel.onerror = onDataChannelError;\n        }\n        // Create offer/answer now\n        if(jsep === null || jsep === undefined) {\n            createOffer(handleId, media, callbacks);\n        } else {\n            if(adapter.browserDetails.browser === \"edge\") {\n                // This is Edge, add an a=end-of-candidates at the end\n                jsep.sdp += \"a=end-of-candidates\\r\\n\";\n            }\n            config.pc.setRemoteDescription(\n                new RTCSessionDescription(jsep),\n                function() {\n                    Janus.log(\"Remote description accepted!\");\n                    createAnswer(handleId, media, callbacks);\n                }, callbacks.error);\n        }\n    }\n\n    function prepareWebrtc(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : webrtcError;\n        var jsep = callbacks.jsep;\n        var media = callbacks.media;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        // Are we updating a session?\n        if(config.pc !== undefined && config.pc !== null) {\n            Janus.log(\"Updating existing media session\");\n            // Create offer/answer now\n            if(jsep === null || jsep === undefined) {\n                createOffer(handleId, media, callbacks);\n            } else {\n                if(adapter.browserDetails.browser === \"edge\") {\n                    // This is Edge, add an a=end-of-candidates at the end\n                    jsep.sdp += \"a=end-of-candidates\\r\\n\";\n                }\n                config.pc.setRemoteDescription(\n                    new RTCSessionDescription(jsep),\n                    function() {\n                        Janus.log(\"Remote description accepted!\");\n                        createAnswer(handleId, media, callbacks);\n                    }, callbacks.error);\n            }\n            return;\n        }\n        // Was a MediaStream object passed, or do we need to take care of that?\n        if(callbacks.stream !== null && callbacks.stream !== undefined) {\n            var stream = callbacks.stream;\n            Janus.log(\"MediaStream provided by the application\");\n            Janus.debug(stream);\n            // Skip the getUserMedia part\n            config.streamExternal = true;\n            streamsDone(handleId, jsep, media, callbacks, stream);\n            return;\n        }\n        config.trickle = isTrickleEnabled(callbacks.trickle);\n        if(isAudioSendEnabled(media) || isVideoSendEnabled(media)) {\n            var constraints = { mandatory: {}, optional: []};\n            pluginHandle.consentDialog(true);\n            var audioSupport = isAudioSendEnabled(media);\n            if(audioSupport === true && media != undefined && media != null) {\n                if(typeof media.audio === 'object') {\n                    audioSupport = media.audio;\n                }\n            }\n            var videoSupport = isVideoSendEnabled(media);\n            if(videoSupport === true && media != undefined && media != null) {\n                if(media.video && media.video != 'screen' && media.video != 'window') {\n                    var width = 0;\n                    var height = 0, maxHeight = 0;\n                    if(media.video === 'lowres') {\n                        // Small resolution, 4:3\n                        height = 240;\n                        maxHeight = 240;\n                        width = 320;\n                    } else if(media.video === 'lowres-16:9') {\n                        // Small resolution, 16:9\n                        height = 180;\n                        maxHeight = 180;\n                        width = 320;\n                    } else if(media.video === 'hires' || media.video === 'hires-16:9' ) {\n                        // High resolution is only 16:9\n                        height = 720;\n                        maxHeight = 720;\n                        width = 1280;\n                        if(navigator.mozGetUserMedia) {\n                            var firefoxVer = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                            if(firefoxVer < 38) {\n                                // Unless this is and old Firefox, which doesn't support it\n                                Janus.warn(media.video + \" unsupported, falling back to stdres (old Firefox)\");\n                                height = 480;\n                                maxHeight = 480;\n                                width  = 640;\n                            }\n                        }\n                    } else if(media.video === 'stdres') {\n                        // Normal resolution, 4:3\n                        height = 480;\n                        maxHeight = 480;\n                        width  = 640;\n                    } else if(media.video === 'stdres-16:9') {\n                        // Normal resolution, 16:9\n                        height = 360;\n                        maxHeight = 360;\n                        width = 640;\n                    } else {\n                        Janus.log(\"Default video setting (\" + media.video + \") is stdres 4:3\");\n                        height = 480;\n                        maxHeight = 480;\n                        width = 640;\n                    }\n                    Janus.log(\"Adding media constraint \" + media.video);\n                    if(navigator.mozGetUserMedia) {\n                        var firefoxVer = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                        if(firefoxVer < 38) {\n                            videoSupport = {\n                                'require': ['height', 'width'],\n                                'height': {'max': maxHeight, 'min': height},\n                                'width':  {'max': width,  'min': width}\n                            };\n                        } else {\n                            // http://stackoverflow.com/questions/28282385/webrtc-firefox-constraints/28911694#28911694\n                            // https://github.com/meetecho/janus-gateway/pull/246\n                            videoSupport = {\n                                'height': {'ideal': height},\n                                'width':  {'ideal': width}\n                            };\n                        }\n                    } else {\n                        videoSupport = {\n                            'mandatory': {\n                                'maxHeight': maxHeight,\n                                'minHeight': height,\n                                'maxWidth':  width,\n                                'minWidth':  width\n                            },\n                            'optional': []\n                        };\n                    }\n                    if(typeof media.video === 'object') {\n                        videoSupport = media.video;\n                    }\n                    Janus.debug(videoSupport);\n                } else if(media.video === 'screen' || media.video === 'window') {\n                    // Not a webcam, but screen capture\n                    if(window.location.protocol !== 'https:') {\n                        // Screen sharing mandates HTTPS\n                        Janus.warn(\"Screen sharing only works on HTTPS, try the https:// version of this page\");\n                        pluginHandle.consentDialog(false);\n                        callbacks.error(\"Screen sharing only works on HTTPS, try the https:// version of this page\");\n                        return;\n                    }\n                    // We're going to try and use the extension for Chrome 34+, the old approach\n                    // for older versions of Chrome, or the experimental support in Firefox 33+\n                    var cache = {};\n                    function callbackUserMedia (error, stream) {\n                        pluginHandle.consentDialog(false);\n                        if(error) {\n                            callbacks.error({code: error.code, name: error.name, message: error.message});\n                        } else {\n                            streamsDone(handleId, jsep, media, callbacks, stream);\n                        }\n                    };\n                    function getScreenMedia(constraints, gsmCallback) {\n                        Janus.log(\"Adding media constraint (screen capture)\");\n                        Janus.debug(constraints);\n                        navigator.mediaDevices.getUserMedia(constraints)\n                            .then(function(stream) { gsmCallback(null, stream); })\n                            .catch(function(error) { pluginHandle.consentDialog(false); gsmCallback(error); });\n                    };\n                    if(adapter.browserDetails.browser === 'chrome') {\n                        var chromever = adapter.browserDetails.version;\n                        var maxver = 33;\n                        if(window.navigator.userAgent.match('Linux'))\n                            maxver = 35;\t// \"known\" crash in chrome 34 and 35 on linux\n                        if(chromever >= 26 && chromever <= maxver) {\n                            // Chrome 26->33 requires some awkward chrome://flags manipulation\n                            constraints = {\n                                video: {\n                                    mandatory: {\n                                        googLeakyBucket: true,\n                                        maxWidth: window.screen.width,\n                                        maxHeight: window.screen.height,\n                                        maxFrameRate: 3,\n                                        chromeMediaSource: 'screen'\n                                    }\n                                },\n                                audio: isAudioSendEnabled(media)\n                            };\n                            getScreenMedia(constraints, callbackUserMedia);\n                        } else {\n                            // Chrome 34+ requires an extension\n                            var pending = window.setTimeout(\n                                function () {\n                                    error = new Error('NavigatorUserMediaError');\n                                    error.name = 'The required Chrome extension is not installed: click <a href=\"#\">here</a> to install it. (NOTE: this will need you to refresh the page)';\n                                    pluginHandle.consentDialog(false);\n                                    return callbacks.error(error);\n                                }, 1000);\n                            cache[pending] = [callbackUserMedia, null];\n                            window.postMessage({ type: 'janusGetScreen', id: pending }, '*');\n                        }\n                    } else if (window.navigator.userAgent.match('Firefox')) {\n                        var ffver = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                        if(ffver >= 33) {\n                            // Firefox 33+ has experimental support for screen sharing\n                            constraints = {\n                                video: {\n                                    mozMediaSource: media.video,\n                                    mediaSource: media.video\n                                },\n                                audio: isAudioSendEnabled(media)\n                            };\n                            getScreenMedia(constraints, function (err, stream) {\n                                callbackUserMedia(err, stream);\n                                // Workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=1045810\n                                if (!err) {\n                                    var lastTime = stream.currentTime;\n                                    var polly = window.setInterval(function () {\n                                        if(!stream)\n                                            window.clearInterval(polly);\n                                        if(stream.currentTime == lastTime) {\n                                            window.clearInterval(polly);\n                                            if(stream.onended) {\n                                                stream.onended();\n                                            }\n                                        }\n                                        lastTime = stream.currentTime;\n                                    }, 500);\n                                }\n                            });\n                        } else {\n                            var error = new Error('NavigatorUserMediaError');\n                            error.name = 'Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)';\n                            pluginHandle.consentDialog(false);\n                            callbacks.error(error);\n                            return;\n                        }\n                    }\n\n                    // Wait for events from the Chrome Extension\n                    window.addEventListener('message', function (event) {\n                        if(event.origin != window.location.origin)\n                            return;\n                        if(event.data.type == 'janusGotScreen' && cache[event.data.id]) {\n                            var data = cache[event.data.id];\n                            var callback = data[0];\n                            delete cache[event.data.id];\n\n                            if (event.data.sourceId === '') {\n                                // user canceled\n                                var error = new Error('NavigatorUserMediaError');\n                                error.name = 'You cancelled the request for permission, giving up...';\n                                pluginHandle.consentDialog(false);\n                                callbacks.error(error);\n                            } else {\n                                constraints = {\n                                    audio: isAudioSendEnabled(media),\n                                    video: {\n                                        mandatory: {\n                                            chromeMediaSource: 'desktop',\n                                            maxWidth: window.screen.width,\n                                            maxHeight: window.screen.height,\n                                            maxFrameRate: 3\n                                        },\n                                        optional: [\n                                            {googLeakyBucket: true},\n                                            {googTemporalLayeredScreencast: true}\n                                        ]\n                                    }\n                                };\n                                constraints.video.mandatory.chromeMediaSourceId = event.data.sourceId;\n                                getScreenMedia(constraints, callback);\n                            }\n                        } else if (event.data.type == 'janusGetScreenPending') {\n                            window.clearTimeout(event.data.id);\n                        }\n                    });\n                    return;\n                }\n            }\n            // If we got here, we're not screensharing\n            if(media === null || media === undefined || media.video !== 'screen') {\n                // Check whether all media sources are actually available or not\n                navigator.mediaDevices.enumerateDevices().then(function(devices) {\n                    var audioExist = devices.some(function(device) {\n                            return device.kind === 'audioinput';\n                        }),\n                        videoExist = devices.some(function(device) {\n                            return device.kind === 'videoinput';\n                        });\n\n                    // Check whether a missing device is really a problem\n                    var audioSend = isAudioSendEnabled(media);\n                    var videoSend = isVideoSendEnabled(media);\n                    var needAudioDevice = isAudioSendRequired(media);\n                    var needVideoDevice = isVideoSendRequired(media);\n                    if(audioSend || videoSend || needAudioDevice || needVideoDevice) {\n                        // We need to send either audio or video\n                        var haveAudioDevice = audioSend ? audioExist : false;\n                        var haveVideoDevice = videoSend ? videoExist : false;\n                        if(!haveAudioDevice && !haveVideoDevice) {\n                            // FIXME Should we really give up, or just assume recvonly for both?\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('No capture device found');\n                            return false;\n                        } else if(!haveAudioDevice && needAudioDevice) {\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('Audio capture is required, but no capture device found');\n                            return false;\n                        } else if(!haveVideoDevice && needVideoDevice) {\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('Video capture is required, but no capture device found');\n                            return false;\n                        }\n                    }\n\n                    navigator.mediaDevices.getUserMedia({\n                        audio: audioExist ? audioSupport : false,\n                        video: videoExist ? videoSupport : false\n                    })\n                        .then(function(stream) { pluginHandle.consentDialog(false); streamsDone(handleId, jsep, media, callbacks, stream); })\n                        .catch(function(error) { pluginHandle.consentDialog(false); callbacks.error({code: error.code, name: error.name, message: error.message}); });\n                })\n                    .catch(function(error) {\n                        pluginHandle.consentDialog(false);\n                        callbacks.error('enumerateDevices error', error);\n                    });\n            }\n        } else {\n            // No need to do a getUserMedia, create offer/answer right away\n            streamsDone(handleId, jsep, media, callbacks);\n        }\n    }\n\n    function prepareWebrtcPeer(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : webrtcError;\n        var jsep = callbacks.jsep;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(jsep !== undefined && jsep !== null) {\n            if(config.pc === null) {\n                Janus.warn(\"Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep\");\n                callbacks.error(\"No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep\");\n                return;\n            }\n            if(adapter.browserDetails.browser === \"edge\") {\n                // This is Edge, add an a=end-of-candidates at the end\n                jsep.sdp += \"a=end-of-candidates\\r\\n\";\n            }\n            config.pc.setRemoteDescription(\n                new RTCSessionDescription(jsep),\n                function() {\n                    Janus.log(\"Remote description accepted!\");\n                    callbacks.success();\n                }, callbacks.error);\n        } else {\n            callbacks.error(\"Invalid JSEP\");\n        }\n    }\n\n    function createOffer(handleId, media, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.log(\"Creating offer (iceDone=\" + config.iceDone + \")\");\n        // https://code.google.com/p/webrtc/issues/detail?id=3508\n        var mediaConstraints = null;\n        if(adapter.browserDetails.browser == \"firefox\" || adapter.browserDetails.browser == \"edge\") {\n            mediaConstraints = {\n                'offerToReceiveAudio':isAudioRecvEnabled(media),\n                'offerToReceiveVideo':isVideoRecvEnabled(media)\n            };\n        } else {\n            mediaConstraints = {\n                'mandatory': {\n                    'OfferToReceiveAudio':isAudioRecvEnabled(media),\n                    'OfferToReceiveVideo':isVideoRecvEnabled(media)\n                }\n            };\n        }\n        Janus.debug(mediaConstraints);\n        config.pc.createOffer(\n            function(offer) {\n                Janus.debug(offer);\n                if(config.mySdp === null || config.mySdp === undefined) {\n                    Janus.log(\"Setting local description\");\n                    config.mySdp = offer.sdp;\n                    config.pc.setLocalDescription(offer);\n                }\n                if(!config.iceDone && !config.trickle) {\n                    // Don't do anything until we have all candidates\n                    Janus.log(\"Waiting for all candidates...\");\n                    return;\n                }\n                if(config.sdpSent) {\n                    Janus.log(\"Offer already sent, not sending it again\");\n                    return;\n                }\n                Janus.log(\"Offer ready\");\n                Janus.debug(callbacks);\n                config.sdpSent = true;\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var jsep = {\n                    \"type\": offer.type,\n                    \"sdp\": offer.sdp\n                };\n                callbacks.success(jsep);\n            }, callbacks.error, mediaConstraints);\n    }\n\n    function createAnswer(handleId, media, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.log(\"Creating answer (iceDone=\" + config.iceDone + \")\");\n        var mediaConstraints = null;\n        if(adapter.browserDetails.browser == \"firefox\" || adapter.browserDetails.browser == \"edge\") {\n            mediaConstraints = {\n                'offerToReceiveAudio':isAudioRecvEnabled(media),\n                'offerToReceiveVideo':isVideoRecvEnabled(media)\n            };\n        } else {\n            mediaConstraints = {\n                'mandatory': {\n                    'OfferToReceiveAudio':isAudioRecvEnabled(media),\n                    'OfferToReceiveVideo':isVideoRecvEnabled(media)\n                }\n            };\n        }\n        Janus.debug(mediaConstraints);\n        config.pc.createAnswer(\n            function(answer) {\n                Janus.debug(answer);\n                if(config.mySdp === null || config.mySdp === undefined) {\n                    Janus.log(\"Setting local description\");\n                    config.mySdp = answer.sdp;\n                    config.pc.setLocalDescription(answer);\n                }\n                if(!config.iceDone && !config.trickle) {\n                    // Don't do anything until we have all candidates\n                    Janus.log(\"Waiting for all candidates...\");\n                    return;\n                }\n                if(config.sdpSent) {\t// FIXME badly\n                    Janus.log(\"Answer already sent, not sending it again\");\n                    return;\n                }\n                config.sdpSent = true;\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var jsep = {\n                    \"type\": answer.type,\n                    \"sdp\": answer.sdp\n                };\n                callbacks.success(jsep);\n            }, callbacks.error, mediaConstraints);\n    }\n\n    function sendSDP(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle, not sending anything\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.log(\"Sending offer/answer SDP...\");\n        if(config.mySdp === null || config.mySdp === undefined) {\n            Janus.warn(\"Local SDP instance is invalid, not sending anything...\");\n            return;\n        }\n        config.mySdp = {\n            \"type\": config.pc.localDescription.type,\n            \"sdp\": config.pc.localDescription.sdp\n        };\n        if(config.sdpSent) {\n            Janus.log(\"Offer/Answer SDP already sent, not sending it again\");\n            return;\n        }\n        if(config.trickle === false)\n            config.mySdp[\"trickle\"] = false;\n        Janus.debug(callbacks);\n        config.sdpSent = true;\n        callbacks.success(config.mySdp);\n    }\n\n    function getVolume(handleId) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return 0;\n        }\n        var config = pluginHandle.webrtcStuff;\n        // Start getting the volume, if getStats is supported\n        if(config.pc.getStats && adapter.browserDetails.browser == \"chrome\") {\t// FIXME\n            if(config.remoteStream === null || config.remoteStream === undefined) {\n                Janus.warn(\"Remote stream unavailable\");\n                return 0;\n            }\n            // http://webrtc.googlecode.com/svn/trunk/samples/js/demos/html/constraints-and-stats.html\n            if(config.volume.timer === null || config.volume.timer === undefined) {\n                Janus.log(\"Starting volume monitor\");\n                config.volume.timer = setInterval(function() {\n                    config.pc.getStats(function(stats) {\n                        var results = stats.result();\n                        for(var i=0; i<results.length; i++) {\n                            var res = results[i];\n                            if(res.type == 'ssrc' && res.stat('audioOutputLevel')) {\n                                config.volume.value = res.stat('audioOutputLevel');\n                            }\n                        }\n                    });\n                }, 200);\n                return 0;\t// We don't have a volume to return yet\n            }\n            return config.volume.value;\n        } else {\n            Janus.log(\"Getting the remote volume unsupported by browser\");\n            return 0;\n        }\n    }\n\n    function isMuted(handleId, video) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return true;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined) {\n            Janus.warn(\"Invalid PeerConnection\");\n            return true;\n        }\n        if(config.myStream === undefined || config.myStream === null) {\n            Janus.warn(\"Invalid local MediaStream\");\n            return true;\n        }\n        if(video) {\n            // Check video track\n            if(config.myStream.getVideoTracks() === null\n                || config.myStream.getVideoTracks() === undefined\n                || config.myStream.getVideoTracks().length === 0) {\n                Janus.warn(\"No video track\");\n                return true;\n            }\n            return !config.myStream.getVideoTracks()[0].enabled;\n        } else {\n            // Check audio track\n            if(config.myStream.getAudioTracks() === null\n                || config.myStream.getAudioTracks() === undefined\n                || config.myStream.getAudioTracks().length === 0) {\n                Janus.warn(\"No audio track\");\n                return true;\n            }\n            return !config.myStream.getAudioTracks()[0].enabled;\n        }\n    }\n\n    function mute(handleId, video, mute) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return false;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined) {\n            Janus.warn(\"Invalid PeerConnection\");\n            return false;\n        }\n        if(config.myStream === undefined || config.myStream === null) {\n            Janus.warn(\"Invalid local MediaStream\");\n            return false;\n        }\n        if(video) {\n            // Mute/unmute video track\n            if(config.myStream.getVideoTracks() === null\n                || config.myStream.getVideoTracks() === undefined\n                || config.myStream.getVideoTracks().length === 0) {\n                Janus.warn(\"No video track\");\n                return false;\n            }\n            config.myStream.getVideoTracks()[0].enabled = mute;\n            return true;\n        } else {\n            // Mute/unmute audio track\n            if(config.myStream.getAudioTracks() === null\n                || config.myStream.getAudioTracks() === undefined\n                || config.myStream.getAudioTracks().length === 0) {\n                Janus.warn(\"No audio track\");\n                return false;\n            }\n            config.myStream.getAudioTracks()[0].enabled = mute;\n            return true;\n        }\n    }\n\n    function getBitrate(handleId) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return \"Invalid handle\";\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined)\n            return \"Invalid PeerConnection\";\n        // Start getting the bitrate, if getStats is supported\n        if(config.pc.getStats && adapter.browserDetails.browser == \"chrome\") {\n            // Do it the Chrome way\n            if(config.remoteStream === null || config.remoteStream === undefined) {\n                Janus.warn(\"Remote stream unavailable\");\n                return \"Remote stream unavailable\";\n            }\n            // http://webrtc.googlecode.com/svn/trunk/samples/js/demos/html/constraints-and-stats.html\n            if(config.bitrate.timer === null || config.bitrate.timer === undefined) {\n                Janus.log(\"Starting bitrate timer (Chrome)\");\n                config.bitrate.timer = setInterval(function() {\n                    config.pc.getStats(function(stats) {\n                        var results = stats.result();\n                        for(var i=0; i<results.length; i++) {\n                            var res = results[i];\n                            if(res.type == 'ssrc' && res.stat('googFrameHeightReceived')) {\n                                config.bitrate.bsnow = res.stat('bytesReceived');\n                                config.bitrate.tsnow = res.timestamp;\n                                if(config.bitrate.bsbefore === null || config.bitrate.tsbefore === null) {\n                                    // Skip this round\n                                    config.bitrate.bsbefore = config.bitrate.bsnow;\n                                    config.bitrate.tsbefore = config.bitrate.tsnow;\n                                } else {\n                                    // Calculate bitrate\n                                    var bitRate = Math.round((config.bitrate.bsnow - config.bitrate.bsbefore) * 8 / (config.bitrate.tsnow - config.bitrate.tsbefore));\n                                    config.bitrate.value = bitRate + ' kbits/sec';\n                                    //~ Janus.log(\"Estimated bitrate is \" + config.bitrate.value);\n                                    config.bitrate.bsbefore = config.bitrate.bsnow;\n                                    config.bitrate.tsbefore = config.bitrate.tsnow;\n                                }\n                            }\n                        }\n                    });\n                }, 1000);\n                return \"0 kbits/sec\";\t// We don't have a bitrate value yet\n            }\n            return config.bitrate.value;\n        } else if(config.pc.getStats && adapter.browserDetails.browser == \"firefox\") {\n            // Do it the Firefox way\n            if(config.remoteStream === null || config.remoteStream === undefined\n                || config.remoteStream.stream === null || config.remoteStream.stream === undefined) {\n                Janus.warn(\"Remote stream unavailable\");\n                return \"Remote stream unavailable\";\n            }\n            var videoTracks = config.remoteStream.stream.getVideoTracks();\n            if(videoTracks === null || videoTracks === undefined || videoTracks.length < 1) {\n                Janus.warn(\"No video track\");\n                return \"No video track\";\n            }\n            // https://github.com/muaz-khan/getStats/blob/master/getStats.js\n            if(config.bitrate.timer === null || config.bitrate.timer === undefined) {\n                Janus.log(\"Starting bitrate timer (Firefox)\");\n                config.bitrate.timer = setInterval(function() {\n                    // We need a helper callback\n                    var cb = function(res) {\n                        if(res === null || res === undefined ||\n                            res.inbound_rtp_video_1 == null || res.inbound_rtp_video_1 == null) {\n                            config.bitrate.value = \"Missing inbound_rtp_video_1\";\n                            return;\n                        }\n                        config.bitrate.bsnow = res.inbound_rtp_video_1.bytesReceived;\n                        config.bitrate.tsnow = res.inbound_rtp_video_1.timestamp;\n                        if(config.bitrate.bsbefore === null || config.bitrate.tsbefore === null) {\n                            // Skip this round\n                            config.bitrate.bsbefore = config.bitrate.bsnow;\n                            config.bitrate.tsbefore = config.bitrate.tsnow;\n                        } else {\n                            // Calculate bitrate\n                            var bitRate = Math.round((config.bitrate.bsnow - config.bitrate.bsbefore) * 8 / (config.bitrate.tsnow - config.bitrate.tsbefore));\n                            config.bitrate.value = bitRate + ' kbits/sec';\n                            config.bitrate.bsbefore = config.bitrate.bsnow;\n                            config.bitrate.tsbefore = config.bitrate.tsnow;\n                        }\n                    };\n                    // Actually get the stats\n                    config.pc.getStats(videoTracks[0], function(stats) {\n                        cb(stats);\n                    }, cb);\n                }, 1000);\n                return \"0 kbits/sec\";\t// We don't have a bitrate value yet\n            }\n            return config.bitrate.value;\n        } else {\n            Janus.warn(\"Getting the video bitrate unsupported by browser\");\n            return \"Feature unsupported by browser\";\n        }\n    }\n\n    function webrtcError(error) {\n        Janus.error(\"WebRTC error:\", error);\n    }\n\n    function cleanupWebrtc(handleId, hangupRequest) {\n        Janus.log(\"Cleaning WebRTC stuff\");\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined) {\n            // Nothing to clean\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config !== null && config !== undefined) {\n            if(hangupRequest === true) {\n                // Send a hangup request (we don't really care about the response)\n                var request = { \"janus\": \"hangup\", \"transaction\": randomString(12) };\n                if(token !== null && token !== undefined)\n                    request[\"token\"] = token;\n                if(apisecret !== null && apisecret !== undefined)\n                    request[\"apisecret\"] = apisecret;\n                Janus.debug(\"Sending hangup request (handle=\" + handleId + \"):\");\n                Janus.debug(request);\n                if(websockets) {\n                    request[\"session_id\"] = sessionId;\n                    request[\"handle_id\"] = handleId;\n                    ws.send(JSON.stringify(request));\n                } else {\n                    $.ajax({\n                        type: 'POST',\n                        url: server + \"/\" + sessionId + \"/\" + handleId,\n                        cache: false,\n                        contentType: \"application/json\",\n                        data: JSON.stringify(request),\n                        dataType: \"json\"\n                    });\n                }\n            }\n            // Cleanup stack\n            config.remoteStream = null;\n            if(config.volume.timer)\n                clearInterval(config.volume.timer);\n            config.volume.value = null;\n            if(config.bitrate.timer)\n                clearInterval(config.bitrate.timer);\n            config.bitrate.timer = null;\n            config.bitrate.bsnow = null;\n            config.bitrate.bsbefore = null;\n            config.bitrate.tsnow = null;\n            config.bitrate.tsbefore = null;\n            config.bitrate.value = null;\n            try {\n                // Try a MediaStream.stop() first\n                if(!config.streamExternal && config.myStream !== null && config.myStream !== undefined) {\n                    Janus.log(\"Stopping local stream\");\n                    config.myStream.stop();\n                }\n            } catch(e) {\n                // Do nothing if this fails\n            }\n            try {\n                // Try a MediaStreamTrack.stop() for each track as well\n                if(!config.streamExternal && config.myStream !== null && config.myStream !== undefined) {\n                    Janus.log(\"Stopping local stream tracks\");\n                    var tracks = config.myStream.getTracks();\n                    for(var i in tracks) {\n                        var mst = tracks[i];\n                        Janus.log(mst);\n                        if(mst !== null && mst !== undefined)\n                            mst.stop();\n                    }\n                }\n            } catch(e) {\n                // Do nothing if this fails\n            }\n            config.streamExternal = false;\n            config.myStream = null;\n            // Close PeerConnection\n            try {\n                config.pc.close();\n            } catch(e) {\n                // Do nothing\n            }\n            config.pc = null;\n            config.mySdp = null;\n            config.iceDone = false;\n            config.sdpSent = false;\n            config.dataChannel = null;\n            config.dtmfSender = null;\n        }\n        pluginHandle.oncleanup();\n    }\n\n    // Helper methods to parse a media object\n    function isAudioSendEnabled(media) {\n        Janus.debug(\"isAudioSendEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.audio === false)\n            return false;\t// Generic audio has precedence\n        if(media.audioSend === undefined || media.audioSend === null)\n            return true;\t// Default\n        return (media.audioSend === true);\n    }\n\n    function isAudioSendRequired(media) {\n        Janus.debug(\"isAudioSendRequired:\", media);\n        if(media === undefined || media === null)\n            return false;\t// Default\n        if(media.audio === false || media.audioSend === false)\n            return false;\t// If we're not asking to capture audio, it's not required\n        if(media.failIfNoAudio === undefined || media.failIfNoAudio === null)\n            return false;\t// Default\n        return (media.failIfNoAudio === true);\n    }\n\n    function isAudioRecvEnabled(media) {\n        Janus.debug(\"isAudioRecvEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.audio === false)\n            return false;\t// Generic audio has precedence\n        if(media.audioRecv === undefined || media.audioRecv === null)\n            return true;\t// Default\n        return (media.audioRecv === true);\n    }\n\n    function isVideoSendEnabled(media) {\n        Janus.debug(\"isVideoSendEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.video === false)\n            return false;\t// Generic video has precedence\n        if(media.videoSend === undefined || media.videoSend === null)\n            return true;\t// Default\n        return (media.videoSend === true);\n    }\n\n    function isVideoSendRequired(media) {\n        Janus.debug(\"isVideoSendRequired:\", media);\n        if(media === undefined || media === null)\n            return false;\t// Default\n        if(media.video === false || media.videoSend === false)\n            return false;\t// If we're not asking to capture video, it's not required\n        if(media.failIfNoVideo === undefined || media.failIfNoVideo === null)\n            return false;\t// Default\n        return (media.failIfNoVideo === true);\n    }\n\n    function isVideoRecvEnabled(media) {\n        Janus.debug(\"isVideoRecvEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.video === false)\n            return false;\t// Generic video has precedence\n        if(media.videoRecv === undefined || media.videoRecv === null)\n            return true;\t// Default\n        return (media.videoRecv === true);\n    }\n\n    function isDataEnabled(media) {\n        Janus.debug(\"isDataEnabled:\", media);\n        if(adapter.browserDetails.browser == \"edge\") {\n            Janus.warn(\"Edge doesn't support data channels yet\");\n            return false;\n        }\n        if(media === undefined || media === null)\n            return false;\t// Default\n        return (media.data === true);\n    }\n\n    function isTrickleEnabled(trickle) {\n        Janus.debug(\"isTrickleEnabled:\", trickle);\n        if(trickle === undefined || trickle === null)\n            return true;\t// Default is true\n        return (trickle === true);\n    }\n};\n\nmodule.exports = Janus;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./non_npm_dependencies/janus/index.js\n// module id = 2469\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar adapterFactory = require('./adapter_factory.js');\nmodule.exports = adapterFactory({window: global.window});\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/adapter_core.js\n// module id = 2470\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar utils = require('./utils');\n// Shimming starts here.\nmodule.exports = function(dependencies, opts) {\n  var window = dependencies && dependencies.window;\n\n  var options = {\n    shimChrome: true,\n    shimFirefox: true,\n    shimEdge: true,\n    shimSafari: true,\n  };\n\n  for (var key in opts) {\n    if (hasOwnProperty.call(opts, key)) {\n      options[key] = opts[key];\n    }\n  }\n\n  // Utils.\n  var logging = utils.log;\n  var browserDetails = utils.detectBrowser(window);\n\n  // Export to the adapter global object visible in the browser.\n  var adapter = {\n    browserDetails: browserDetails,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings\n  };\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = require('./chrome/chrome_shim') || null;\n  var edgeShim = require('./edge/edge_shim') || null;\n  var firefoxShim = require('./firefox/firefox_shim') || null;\n  var safariShim = require('./safari/safari_shim') || null;\n  var commonShim = require('./common_shim') || null;\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      chromeShim.shimGetUserMedia(window);\n      chromeShim.shimMediaStream(window);\n      chromeShim.shimSourceObject(window);\n      chromeShim.shimPeerConnection(window);\n      chromeShim.shimOnTrack(window);\n      chromeShim.shimAddTrackRemoveTrack(window);\n      chromeShim.shimGetSendersWithDtmf(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n      commonShim.shimCreateObjectURL(window);\n\n      firefoxShim.shimGetUserMedia(window);\n      firefoxShim.shimSourceObject(window);\n      firefoxShim.shimPeerConnection(window);\n      firefoxShim.shimOnTrack(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection || !options.shimEdge) {\n        logging('MS edge shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = edgeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      edgeShim.shimGetUserMedia(window);\n      edgeShim.shimPeerConnection(window);\n      edgeShim.shimReplaceTrack(window);\n\n      // the edge shim implements the full RTCIceCandidate object.\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n      commonShim.shimCreateObjectURL(window);\n\n      safariShim.shimRTCIceServerUrls(window);\n      safariShim.shimCallbacksAPI(window);\n      safariShim.shimLocalStreamsAPI(window);\n      safariShim.shimRemoteStreamsAPI(window);\n      safariShim.shimTrackEventTransceiver(window);\n      safariShim.shimGetUserMedia(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/adapter_factory.js\n// module id = 2471\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\nvar chromeShim = {\n  shimMediaStream: function(window) {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n          }\n          this.addEventListener('track', this._ontrack = f);\n        }\n      });\n      var origSetRemoteDescription =\n          window.RTCPeerConnection.prototype.setRemoteDescription;\n      window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n        var pc = this;\n        if (!pc._ontrackpoly) {\n          pc._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === te.track.id;\n                });\n              } else {\n                receiver = {track: te.track};\n              }\n\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === track.id;\n                });\n              } else {\n                receiver = {track: track};\n              }\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n          };\n          pc.addEventListener('addstream', pc._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n    }\n  },\n\n  shimGetSendersWithDtmf: function(window) {\n    // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        !('getSenders' in window.RTCPeerConnection.prototype) &&\n        'createDTMFSender' in window.RTCPeerConnection.prototype) {\n      var shimSenderWithDtmf = function(pc, track) {\n        return {\n          track: track,\n          get dtmf() {\n            if (this._dtmf === undefined) {\n              if (track.kind === 'audio') {\n                this._dtmf = pc.createDTMFSender(track);\n              } else {\n                this._dtmf = null;\n              }\n            }\n            return this._dtmf;\n          },\n          _pc: pc\n        };\n      };\n\n      // augment addTrack when getSenders is not available.\n      if (!window.RTCPeerConnection.prototype.getSenders) {\n        window.RTCPeerConnection.prototype.getSenders = function() {\n          this._senders = this._senders || [];\n          return this._senders.slice(); // return a copy of the internal state.\n        };\n        var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n        window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n          var pc = this;\n          var sender = origAddTrack.apply(pc, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(pc, track);\n            pc._senders.push(sender);\n          }\n          return sender;\n        };\n\n        var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n        window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n          var pc = this;\n          origRemoveTrack.apply(pc, arguments);\n          var idx = pc._senders.indexOf(sender);\n          if (idx !== -1) {\n            pc._senders.splice(idx, 1);\n          }\n        };\n      }\n      var origAddStream = window.RTCPeerConnection.prototype.addStream;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origAddStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          pc._senders.push(shimSenderWithDtmf(pc, track));\n        });\n      };\n\n      var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origRemoveStream.apply(pc, [(pc._streams[stream.id] || stream)]);\n\n        stream.getTracks().forEach(function(track) {\n          var sender = pc._senders.find(function(s) {\n            return s.track === track;\n          });\n          if (sender) {\n            pc._senders.splice(pc._senders.indexOf(sender), 1); // remove sender\n          }\n        });\n      };\n    } else if (typeof window === 'object' && window.RTCPeerConnection &&\n               'getSenders' in window.RTCPeerConnection.prototype &&\n               'createDTMFSender' in window.RTCPeerConnection.prototype &&\n               window.RTCRtpSender &&\n               !('dtmf' in window.RTCRtpSender.prototype)) {\n      var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n      window.RTCPeerConnection.prototype.getSenders = function() {\n        var pc = this;\n        var senders = origGetSenders.apply(pc, []);\n        senders.forEach(function(sender) {\n          sender._pc = pc;\n        });\n        return senders;\n      };\n\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = this._pc.createDTMFSender(this.track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    var URL = window && window.URL;\n\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return undefined;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimAddTrackRemoveTrack: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n    // shim addTrack and removeTrack.\n    if (window.RTCPeerConnection.prototype.addTrack &&\n        browserDetails.version >= 62) {\n      return;\n    }\n\n    // also shim pc.getLocalStreams when addTrack is shimmed\n    // to return the original streams.\n    var origGetLocalStreams = window.RTCPeerConnection.prototype\n        .getLocalStreams;\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var self = this;\n      var nativeStreams = origGetLocalStreams.apply(this);\n      self._reverseStreams = self._reverseStreams || {};\n      return nativeStreams.map(function(stream) {\n        return self._reverseStreams[stream.id];\n      });\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      // Add identity mapping for consistency with addTrack.\n      // Unless this is being used with a stream from addTrack.\n      if (!pc._reverseStreams[stream.id]) {\n        var newStream = new window.MediaStream(stream.getTracks());\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        stream = newStream;\n      }\n      origAddStream.apply(pc, [stream]);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      origRemoveStream.apply(pc, [(pc._streams[stream.id] || stream)]);\n      delete pc._reverseStreams[(pc._streams[stream.id] ?\n          pc._streams[stream.id].id : stream.id)];\n      delete pc._streams[stream.id];\n    };\n\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      var streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(function(t) {\n            return t === track;\n          })) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      var alreadyExists = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n      var oldStream = pc._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(function() {\n          pc.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        var newStream = new window.MediaStream([track]);\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        pc.addStream(newStream);\n      }\n      return pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n    };\n\n    // replace the internal stream id with the external one and\n    // vice versa.\n    function replaceInternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n            externalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    function replaceExternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n            internalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    ['createOffer', 'createAnswer'].forEach(function(method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      window.RTCPeerConnection.prototype[method] = function() {\n        var pc = this;\n        var args = arguments;\n        var isLegacyCall = arguments.length &&\n            typeof arguments[0] === 'function';\n        if (isLegacyCall) {\n          return nativeMethod.apply(pc, [\n            function(description) {\n              var desc = replaceInternalStreamId(pc, description);\n              args[0].apply(null, [desc]);\n            },\n            function(err) {\n              if (args[1]) {\n                args[1].apply(null, err);\n              }\n            }, arguments[2]\n          ]);\n        }\n        return nativeMethod.apply(pc, arguments)\n        .then(function(description) {\n          return replaceInternalStreamId(pc, description);\n        });\n      };\n    });\n\n    var origSetLocalDescription =\n        window.RTCPeerConnection.prototype.setLocalDescription;\n    window.RTCPeerConnection.prototype.setLocalDescription = function() {\n      var pc = this;\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(pc, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(pc, arguments[0]);\n      return origSetLocalDescription.apply(pc, arguments);\n    };\n\n    // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n    var origLocalDescription = Object.getOwnPropertyDescriptor(\n        window.RTCPeerConnection.prototype, 'localDescription');\n    Object.defineProperty(window.RTCPeerConnection.prototype,\n        'localDescription', {\n          get: function() {\n            var pc = this;\n            var description = origLocalDescription.get.apply(this);\n            if (description.type === '') {\n              return description;\n            }\n            return replaceInternalStreamId(pc, description);\n          }\n        });\n\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      var isLocal = sender._pc === pc;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n            'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      pc._streams = pc._streams || {};\n      var stream;\n      Object.keys(pc._streams).forEach(function(streamid) {\n        var hasTrack = pc._streams[streamid].getTracks().find(function(track) {\n          return sender.track === track;\n        });\n        if (hasTrack) {\n          stream = pc._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          pc.removeStream(stream);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        pc.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        // Translate iceTransportPolicy to iceTransports,\n        // see https://code.google.com/p/webrtc/issues/detail?id=4869\n        // this was fixed in M56 along with unprefixing RTCPeerConnection.\n        logging('PeerConnection');\n        if (pcConfig && pcConfig.iceTransportPolicy) {\n          pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n        }\n\n        return new window.webkitRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.webkitRTCPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      if (window.webkitRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.webkitRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n    } else {\n      // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n      var OrigPeerConnection = window.RTCPeerConnection;\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (pcConfig && pcConfig.iceServers) {\n          var newIceServers = [];\n          for (var i = 0; i < pcConfig.iceServers.length; i++) {\n            var server = pcConfig.iceServers[i];\n            if (!server.hasOwnProperty('urls') &&\n                server.hasOwnProperty('url')) {\n              utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n              server = JSON.parse(JSON.stringify(server));\n              server.urls = server.url;\n              newIceServers.push(server);\n            } else {\n              newIceServers.push(pcConfig.iceServers[i]);\n            }\n          }\n          pcConfig.iceServers = newIceServers;\n        }\n        return new OrigPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n\n    var origGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(selector,\n        successCallback, errorCallback) {\n      var self = this;\n      var args = arguments;\n\n      // If selector is a function then we are in the old style stats so just\n      // pass back the original getStats format to avoid breaking old users.\n      if (arguments.length > 0 && typeof selector === 'function') {\n        return origGetStats.apply(this, arguments);\n      }\n\n      // When spec-style getStats is supported, return those when called with\n      // either no arguments or the selector argument is null.\n      if (origGetStats.length === 0 && (arguments.length === 0 ||\n          typeof arguments[0] !== 'function')) {\n        return origGetStats.apply(this, []);\n      }\n\n      var fixChromeStats_ = function(response) {\n        var standardReport = {};\n        var reports = response.result();\n        reports.forEach(function(report) {\n          var standardStats = {\n            id: report.id,\n            timestamp: report.timestamp,\n            type: {\n              localcandidate: 'local-candidate',\n              remotecandidate: 'remote-candidate'\n            }[report.type] || report.type\n          };\n          report.names().forEach(function(name) {\n            standardStats[name] = report.stat(name);\n          });\n          standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n      };\n\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        return new Map(Object.keys(stats).map(function(key) {\n          return [key, stats[key]];\n        }));\n      };\n\n      if (arguments.length >= 2) {\n        var successCallbackWrapper_ = function(response) {\n          args[1](makeMapStats(fixChromeStats_(response)));\n        };\n\n        return origGetStats.apply(this, [successCallbackWrapper_,\n          arguments[0]]);\n      }\n\n      // promise-support\n      return new Promise(function(resolve, reject) {\n        origGetStats.apply(self, [\n          function(response) {\n            resolve(makeMapStats(fixChromeStats_(response)));\n          }, reject]);\n      }).then(successCallback, errorCallback);\n    };\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = window.RTCPeerConnection.prototype[method];\n            window.RTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var self = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(self, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // promise support for createOffer and createAnswer. Available (without\n    // bugs) since M52: crbug/619289\n    if (browserDetails.version < 52) {\n      ['createOffer', 'createAnswer'].forEach(function(method) {\n        var nativeMethod = window.RTCPeerConnection.prototype[method];\n        window.RTCPeerConnection.prototype[method] = function() {\n          var self = this;\n          if (arguments.length < 1 || (arguments.length === 1 &&\n              typeof arguments[0] === 'object')) {\n            var opts = arguments.length === 1 ? arguments[0] : undefined;\n            return new Promise(function(resolve, reject) {\n              nativeMethod.apply(self, [resolve, reject, opts]);\n            });\n          }\n          return nativeMethod.apply(this, arguments);\n        };\n      });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n\n\n// Expose public methods.\nmodule.exports = {\n  shimMediaStream: chromeShim.shimMediaStream,\n  shimOnTrack: chromeShim.shimOnTrack,\n  shimAddTrackRemoveTrack: chromeShim.shimAddTrackRemoveTrack,\n  shimGetSendersWithDtmf: chromeShim.shimGetSendersWithDtmf,\n  shimSourceObject: chromeShim.shimSourceObject,\n  shimPeerConnection: chromeShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js\n// module id = 2472\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      var remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      var getSupportedFacingModeLies = browserDetails.version < 61;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        var matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var dev = devices.find(function(d) {\n              return matches.some(function(match) {\n                return d.label.toLowerCase().indexOf(match) !== -1;\n              });\n            });\n            if (!dev && devices.length && matches.indexOf('back') !== -1) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :\n                                                        {ideal: dev.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        InvalidStateError: 'NotReadableError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotReadableError',\n        MediaDeviceKillSwitchOn: 'NotReadableError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return window.MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                kind: kinds[device.kind],\n                deviceId: device.id,\n                groupId: ''};\n            }));\n          });\n        });\n      },\n      getSupportedConstraints: function() {\n        return {\n          deviceId: true, echoCancellation: true, facingMode: true,\n          frameRate: true, height: true, width: true\n        };\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/chrome/getusermedia.js\n// module id = 2473\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar shimRTCPeerConnection = require('rtcpeerconnection-shim');\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (window.RTCIceGatherer) {\n      // ORTC defines an RTCIceCandidate object but no constructor.\n      // Not implemented in Edge.\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      // ORTC does not have a session description object but\n      // other browsers (i.e. Chrome) that will support both PC and ORTC\n      // in the future might have this defined already.\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n      // this adds an additional event listener to MediaStrackTrack that signals\n      // when a tracks enabled property was changed. Workaround for a bug in\n      // addStream, see below. No longer required in 15025+\n      if (browserDetails.version < 15025) {\n        var origMSTEnabled = Object.getOwnPropertyDescriptor(\n            window.MediaStreamTrack.prototype, 'enabled');\n        Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {\n          set: function(value) {\n            origMSTEnabled.set.call(this, value);\n            var ev = new Event('enabled');\n            ev.enabled = value;\n            this.dispatchEvent(ev);\n          }\n        });\n      }\n    }\n\n    // ORTC defines the DTMF sender a bit different.\n    // https://github.com/w3c/ortc/issues/714\n    if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = new window.RTCDtmfSender(this);\n            } else if (this.track.kind === 'video') {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n\n    window.RTCPeerConnection =\n        shimRTCPeerConnection(window, browserDetails.version);\n  },\n  shimReplaceTrack: function(window) {\n    // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614\n    if (window.RTCRtpSender &&\n        !('replaceTrack' in window.RTCRtpSender.prototype)) {\n      window.RTCRtpSender.prototype.replaceTrack =\n          window.RTCRtpSender.prototype.setTrack;\n    }\n  }\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/edge/edge_shim.js\n// module id = 2474\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\n\nfunction writeMediaSection(transceiver, caps, type, stream, dtlsRole) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : dtlsRole || 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n}\n\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction filterIceServers(iceServers, edgeVersion) {\n  var hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(function(server) {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      if (server.url && !server.urls) {\n        console.warn('RTCIceServer.url is deprecated! Use urls instead.');\n      }\n      var isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(function(url) {\n        var validTurn = url.indexOf('turn:') === 0 &&\n            url.indexOf('transport=udp') !== -1 &&\n            url.indexOf('turn:[') === -1 &&\n            !hasTurn;\n\n        if (validTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&\n            url.indexOf('?transport=udp') === -1;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n    return false;\n  });\n}\n\n// Determines the intersection of local and remote capabilities.\nfunction getCommonCapabilities(localCapabilities, remoteCapabilities) {\n  var commonCapabilities = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: []\n  };\n\n  var findCodecByPayloadType = function(pt, codecs) {\n    pt = parseInt(pt, 10);\n    for (var i = 0; i < codecs.length; i++) {\n      if (codecs[i].payloadType === pt ||\n          codecs[i].preferredPayloadType === pt) {\n        return codecs[i];\n      }\n    }\n  };\n\n  var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {\n    var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n    var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n    return lCodec && rCodec &&\n        lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n  };\n\n  localCapabilities.codecs.forEach(function(lCodec) {\n    for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n      var rCodec = remoteCapabilities.codecs[i];\n      if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n          lCodec.clockRate === rCodec.clockRate) {\n        if (lCodec.name.toLowerCase() === 'rtx' &&\n            lCodec.parameters && rCodec.parameters.apt) {\n          // for RTX we need to find the local rtx that has a apt\n          // which points to the same local codec as the remote one.\n          if (!rtxCapabilityMatches(lCodec, rCodec,\n              localCapabilities.codecs, remoteCapabilities.codecs)) {\n            continue;\n          }\n        }\n        rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n        // number of channels is the highest common number of channels\n        rCodec.numChannels = Math.min(lCodec.numChannels,\n            rCodec.numChannels);\n        // push rCodec so we reply with offerer payload type\n        commonCapabilities.codecs.push(rCodec);\n\n        // determine common feedback mechanisms\n        rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n          for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n            if (lCodec.rtcpFeedback[j].type === fb.type &&\n                lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n              return true;\n            }\n          }\n          return false;\n        });\n        // FIXME: also need to determine .parameters\n        //  see https://github.com/openpeer/ortc/issues/569\n        break;\n      }\n    }\n  });\n\n  localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {\n    for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n         i++) {\n      var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n      if (lHeaderExtension.uri === rHeaderExtension.uri) {\n        commonCapabilities.headerExtensions.push(rHeaderExtension);\n        break;\n      }\n    }\n  });\n\n  // FIXME: fecMechanisms\n  return commonCapabilities;\n}\n\n// is action=setLocalDescription with type allowed in signalingState\nfunction isActionAllowedInSignalingState(action, type, signalingState) {\n  return {\n    offer: {\n      setLocalDescription: ['stable', 'have-local-offer'],\n      setRemoteDescription: ['stable', 'have-remote-offer']\n    },\n    answer: {\n      setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],\n      setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']\n    }\n  }[type][action].indexOf(signalingState) !== -1;\n}\n\nfunction maybeAddCandidate(iceTransport, candidate) {\n  // Edge's internal representation adds some fields therefore\n  // not all fieldѕ are taken into account.\n  var alreadyAdded = iceTransport.getRemoteCandidates()\n      .find(function(remoteCandidate) {\n        return candidate.foundation === remoteCandidate.foundation &&\n            candidate.ip === remoteCandidate.ip &&\n            candidate.port === remoteCandidate.port &&\n            candidate.priority === remoteCandidate.priority &&\n            candidate.protocol === remoteCandidate.protocol &&\n            candidate.type === remoteCandidate.type;\n      });\n  if (!alreadyAdded) {\n    iceTransport.addRemoteCandidate(candidate);\n  }\n  return !alreadyAdded;\n}\n\nmodule.exports = function(window, edgeVersion) {\n  var RTCPeerConnection = function(config) {\n    var self = this;\n\n    var _eventTarget = document.createDocumentFragment();\n    ['addEventListener', 'removeEventListener', 'dispatchEvent']\n        .forEach(function(method) {\n          self[method] = _eventTarget[method].bind(_eventTarget);\n        });\n\n    this.onicecandidate = null;\n    this.onaddstream = null;\n    this.ontrack = null;\n    this.onremovestream = null;\n    this.onsignalingstatechange = null;\n    this.oniceconnectionstatechange = null;\n    this.onicegatheringstatechange = null;\n    this.onnegotiationneeded = null;\n    this.ondatachannel = null;\n    this.canTrickleIceCandidates = null;\n\n    this.needNegotiation = false;\n\n    this.localStreams = [];\n    this.remoteStreams = [];\n\n    this.localDescription = null;\n    this.remoteDescription = null;\n\n    this.signalingState = 'stable';\n    this.iceConnectionState = 'new';\n    this.iceGatheringState = 'new';\n\n    config = JSON.parse(JSON.stringify(config || {}));\n\n    this.usingBundle = config.bundlePolicy === 'max-bundle';\n    if (config.rtcpMuxPolicy === 'negotiate') {\n      var e = new Error('rtcpMuxPolicy \\'negotiate\\' is not supported');\n      e.name = 'NotSupportedError';\n      throw(e);\n    } else if (!config.rtcpMuxPolicy) {\n      config.rtcpMuxPolicy = 'require';\n    }\n\n    switch (config.iceTransportPolicy) {\n      case 'all':\n      case 'relay':\n        break;\n      default:\n        config.iceTransportPolicy = 'all';\n        break;\n    }\n\n    switch (config.bundlePolicy) {\n      case 'balanced':\n      case 'max-compat':\n      case 'max-bundle':\n        break;\n      default:\n        config.bundlePolicy = 'balanced';\n        break;\n    }\n\n    config.iceServers = filterIceServers(config.iceServers || [], edgeVersion);\n\n    this._iceGatherers = [];\n    if (config.iceCandidatePoolSize) {\n      for (var i = config.iceCandidatePoolSize; i > 0; i--) {\n        this._iceGatherers = new window.RTCIceGatherer({\n          iceServers: config.iceServers,\n          gatherPolicy: config.iceTransportPolicy\n        });\n      }\n    } else {\n      config.iceCandidatePoolSize = 0;\n    }\n\n    this._config = config;\n\n    // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n    // everything that is needed to describe a SDP m-line.\n    this.transceivers = [];\n\n    this._sdpSessionId = SDPUtils.generateSessionId();\n    this._sdpSessionVersion = 0;\n\n    this._dtlsRole = undefined; // role for a=setup to use in answers.\n  };\n\n  RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n    var event = new Event('icegatheringstatechange');\n    this.dispatchEvent(event);\n    if (typeof this.onicegatheringstatechange === 'function') {\n      this.onicegatheringstatechange(event);\n    }\n  };\n\n  RTCPeerConnection.prototype.getConfiguration = function() {\n    return this._config;\n  };\n\n  RTCPeerConnection.prototype.getLocalStreams = function() {\n    return this.localStreams;\n  };\n\n  RTCPeerConnection.prototype.getRemoteStreams = function() {\n    return this.remoteStreams;\n  };\n\n  // internal helper to create a transceiver object.\n  // (whih is not yet the same as the WebRTC 1.0 transceiver)\n  RTCPeerConnection.prototype._createTransceiver = function(kind) {\n    var hasBundleTransport = this.transceivers.length > 0;\n    var transceiver = {\n      track: null,\n      iceGatherer: null,\n      iceTransport: null,\n      dtlsTransport: null,\n      localCapabilities: null,\n      remoteCapabilities: null,\n      rtpSender: null,\n      rtpReceiver: null,\n      kind: kind,\n      mid: null,\n      sendEncodingParameters: null,\n      recvEncodingParameters: null,\n      stream: null,\n      wantReceive: true\n    };\n    if (this.usingBundle && hasBundleTransport) {\n      transceiver.iceTransport = this.transceivers[0].iceTransport;\n      transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;\n    } else {\n      var transports = this._createIceAndDtlsTransports();\n      transceiver.iceTransport = transports.iceTransport;\n      transceiver.dtlsTransport = transports.dtlsTransport;\n    }\n    this.transceivers.push(transceiver);\n    return transceiver;\n  };\n\n  RTCPeerConnection.prototype.addTrack = function(track, stream) {\n    var transceiver;\n    for (var i = 0; i < this.transceivers.length; i++) {\n      if (!this.transceivers[i].track &&\n          this.transceivers[i].kind === track.kind) {\n        transceiver = this.transceivers[i];\n      }\n    }\n    if (!transceiver) {\n      transceiver = this._createTransceiver(track.kind);\n    }\n\n    this._maybeFireNegotiationNeeded();\n\n    if (this.localStreams.indexOf(stream) === -1) {\n      this.localStreams.push(stream);\n    }\n\n    transceiver.track = track;\n    transceiver.stream = stream;\n    transceiver.rtpSender = new window.RTCRtpSender(track,\n        transceiver.dtlsTransport);\n    return transceiver.rtpSender;\n  };\n\n  RTCPeerConnection.prototype.addStream = function(stream) {\n    var self = this;\n    if (edgeVersion >= 15025) {\n      stream.getTracks().forEach(function(track) {\n        self.addTrack(track, stream);\n      });\n    } else {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      // Fixed in 15025 (or earlier)\n      var clonedStream = stream.clone();\n      stream.getTracks().forEach(function(track, idx) {\n        var clonedTrack = clonedStream.getTracks()[idx];\n        track.addEventListener('enabled', function(event) {\n          clonedTrack.enabled = event.enabled;\n        });\n      });\n      clonedStream.getTracks().forEach(function(track) {\n        self.addTrack(track, clonedStream);\n      });\n    }\n  };\n\n  RTCPeerConnection.prototype.removeStream = function(stream) {\n    var idx = this.localStreams.indexOf(stream);\n    if (idx > -1) {\n      this.localStreams.splice(idx, 1);\n      this._maybeFireNegotiationNeeded();\n    }\n  };\n\n  RTCPeerConnection.prototype.getSenders = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpSender;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpSender;\n    });\n  };\n\n  RTCPeerConnection.prototype.getReceivers = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpReceiver;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpReceiver;\n    });\n  };\n\n\n  RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex,\n      usingBundle) {\n    var self = this;\n    if (usingBundle && sdpMLineIndex > 0) {\n      return this.transceivers[0].iceGatherer;\n    } else if (this._iceGatherers.length) {\n      return this._iceGatherers.shift();\n    }\n    var iceGatherer = new window.RTCIceGatherer({\n      iceServers: this._config.iceServers,\n      gatherPolicy: this._config.iceTransportPolicy\n    });\n    Object.defineProperty(iceGatherer, 'state',\n        {value: 'new', writable: true}\n    );\n\n    this.transceivers[sdpMLineIndex].candidates = [];\n    this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {\n      var end = !event.candidate || Object.keys(event.candidate).length === 0;\n      // polyfill since RTCIceGatherer.state is not implemented in\n      // Edge 10547 yet.\n      iceGatherer.state = end ? 'completed' : 'gathering';\n      if (self.transceivers[sdpMLineIndex].candidates !== null) {\n        self.transceivers[sdpMLineIndex].candidates.push(event.candidate);\n      }\n    };\n    iceGatherer.addEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    return iceGatherer;\n  };\n\n  // start gathering from an RTCIceGatherer.\n  RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {\n    var self = this;\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer.onlocalcandidate) {\n      return;\n    }\n    var candidates = this.transceivers[sdpMLineIndex].candidates;\n    this.transceivers[sdpMLineIndex].candidates = null;\n    iceGatherer.removeEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    iceGatherer.onlocalcandidate = function(evt) {\n      if (self.usingBundle && sdpMLineIndex > 0) {\n        // if we know that we use bundle we can drop candidates with\n        // ѕdpMLineIndex > 0. If we don't do this then our state gets\n        // confused since we dispose the extra ice gatherer.\n        return;\n      }\n      var event = new Event('icecandidate');\n      event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n      var cand = evt.candidate;\n      // Edge emits an empty object for RTCIceCandidateComplete‥\n      var end = !cand || Object.keys(cand).length === 0;\n      if (end) {\n        // polyfill since RTCIceGatherer.state is not implemented in\n        // Edge 10547 yet.\n        if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') {\n          iceGatherer.state = 'completed';\n        }\n      } else {\n        if (iceGatherer.state === 'new') {\n          iceGatherer.state = 'gathering';\n        }\n        // RTCIceCandidate doesn't have a component, needs to be added\n        cand.component = 1;\n        event.candidate.candidate = SDPUtils.writeCandidate(cand);\n      }\n\n      // update local description.\n      var sections = SDPUtils.splitSections(self.localDescription.sdp);\n      if (!end) {\n        sections[event.candidate.sdpMLineIndex + 1] +=\n            'a=' + event.candidate.candidate + '\\r\\n';\n      } else {\n        sections[event.candidate.sdpMLineIndex + 1] +=\n            'a=end-of-candidates\\r\\n';\n      }\n      self.localDescription.sdp = sections.join('');\n      var complete = self.transceivers.every(function(transceiver) {\n        return transceiver.iceGatherer &&\n            transceiver.iceGatherer.state === 'completed';\n      });\n\n      if (self.iceGatheringState !== 'gathering') {\n        self.iceGatheringState = 'gathering';\n        self._emitGatheringStateChange();\n      }\n\n      // Emit candidate. Also emit null candidate when all gatherers are\n      // complete.\n      if (!end) {\n        self.dispatchEvent(event);\n        if (typeof self.onicecandidate === 'function') {\n          self.onicecandidate(event);\n        }\n      }\n      if (complete) {\n        self.dispatchEvent(new Event('icecandidate'));\n        if (typeof self.onicecandidate === 'function') {\n          self.onicecandidate(new Event('icecandidate'));\n        }\n        self.iceGatheringState = 'complete';\n        self._emitGatheringStateChange();\n      }\n    };\n\n    // emit already gathered candidates.\n    window.setTimeout(function() {\n      candidates.forEach(function(candidate) {\n        var e = new Event('RTCIceGatherEvent');\n        e.candidate = candidate;\n        iceGatherer.onlocalcandidate(e);\n      });\n    }, 0);\n  };\n\n  // Create ICE transport and DTLS transport.\n  RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {\n    var self = this;\n    var iceTransport = new window.RTCIceTransport(null);\n    iceTransport.onicestatechange = function() {\n      self._updateConnectionState();\n    };\n\n    var dtlsTransport = new window.RTCDtlsTransport(iceTransport);\n    dtlsTransport.ondtlsstatechange = function() {\n      self._updateConnectionState();\n    };\n    dtlsTransport.onerror = function() {\n      // onerror does not set state to failed by itself.\n      Object.defineProperty(dtlsTransport, 'state',\n          {value: 'failed', writable: true});\n      self._updateConnectionState();\n    };\n\n    return {\n      iceTransport: iceTransport,\n      dtlsTransport: dtlsTransport\n    };\n  };\n\n  // Destroy ICE gatherer, ICE transport and DTLS transport.\n  // Without triggering the callbacks.\n  RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(\n      sdpMLineIndex) {\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer) {\n      delete iceGatherer.onlocalcandidate;\n      delete this.transceivers[sdpMLineIndex].iceGatherer;\n    }\n    var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;\n    if (iceTransport) {\n      delete iceTransport.onicestatechange;\n      delete this.transceivers[sdpMLineIndex].iceTransport;\n    }\n    var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;\n    if (dtlsTransport) {\n      delete dtlsTransport.ondtlsstatechange;\n      delete dtlsTransport.onerror;\n      delete this.transceivers[sdpMLineIndex].dtlsTransport;\n    }\n  };\n\n  // Start the RTP Sender and Receiver for a transceiver.\n  RTCPeerConnection.prototype._transceive = function(transceiver,\n      send, recv) {\n    var params = getCommonCapabilities(transceiver.localCapabilities,\n        transceiver.remoteCapabilities);\n    if (send && transceiver.rtpSender) {\n      params.encodings = transceiver.sendEncodingParameters;\n      params.rtcp = {\n        cname: SDPUtils.localCName,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.recvEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpSender.send(params);\n    }\n    if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {\n      // remove RTX field in Edge 14942\n      if (transceiver.kind === 'video'\n          && transceiver.recvEncodingParameters\n          && edgeVersion < 15019) {\n        transceiver.recvEncodingParameters.forEach(function(p) {\n          delete p.rtx;\n        });\n      }\n      params.encodings = transceiver.recvEncodingParameters;\n      params.rtcp = {\n        cname: transceiver.rtcpParameters.cname,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.sendEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpReceiver.receive(params);\n    }\n  };\n\n  RTCPeerConnection.prototype.setLocalDescription = function(description) {\n    var self = this;\n    var args = arguments;\n\n    if (!isActionAllowedInSignalingState('setLocalDescription',\n        description.type, this.signalingState)) {\n      return new Promise(function(resolve, reject) {\n        var e = new Error('Can not set local ' + description.type +\n            ' in state ' + self.signalingState);\n        e.name = 'InvalidStateError';\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [e]);\n        }\n        reject(e);\n      });\n    }\n\n    var sections;\n    var sessionpart;\n    if (description.type === 'offer') {\n      // VERY limited support for SDP munging. Limited to:\n      // * changing the order of codecs\n      sections = SDPUtils.splitSections(description.sdp);\n      sessionpart = sections.shift();\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var caps = SDPUtils.parseRtpParameters(mediaSection);\n        self.transceivers[sdpMLineIndex].localCapabilities = caps;\n      });\n\n      this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n        self._gather(transceiver.mid, sdpMLineIndex);\n      });\n    } else if (description.type === 'answer') {\n      sections = SDPUtils.splitSections(self.remoteDescription.sdp);\n      sessionpart = sections.shift();\n      var isIceLite = SDPUtils.matchPrefix(sessionpart,\n          'a=ice-lite').length > 0;\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var transceiver = self.transceivers[sdpMLineIndex];\n        var iceGatherer = transceiver.iceGatherer;\n        var iceTransport = transceiver.iceTransport;\n        var dtlsTransport = transceiver.dtlsTransport;\n        var localCapabilities = transceiver.localCapabilities;\n        var remoteCapabilities = transceiver.remoteCapabilities;\n\n        // treat bundle-only as not-rejected.\n        var rejected = SDPUtils.isRejected(mediaSection) &&\n            !SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 1;\n\n        if (!rejected && !transceiver.isDatachannel) {\n          var remoteIceParameters = SDPUtils.getIceParameters(\n              mediaSection, sessionpart);\n          var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n              mediaSection, sessionpart);\n          if (isIceLite) {\n            remoteDtlsParameters.role = 'server';\n          }\n\n          if (!self.usingBundle || sdpMLineIndex === 0) {\n            self._gather(transceiver.mid, sdpMLineIndex);\n            if (iceTransport.state === 'new') {\n              iceTransport.start(iceGatherer, remoteIceParameters,\n                  isIceLite ? 'controlling' : 'controlled');\n            }\n            if (dtlsTransport.state === 'new') {\n              dtlsTransport.start(remoteDtlsParameters);\n            }\n          }\n\n          // Calculate intersection of capabilities.\n          var params = getCommonCapabilities(localCapabilities,\n              remoteCapabilities);\n\n          // Start the RTCRtpSender. The RTCRtpReceiver for this\n          // transceiver has already been started in setRemoteDescription.\n          self._transceive(transceiver,\n              params.codecs.length > 0,\n              false);\n        }\n      });\n    }\n\n    this.localDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    switch (description.type) {\n      case 'offer':\n        this._updateSignalingState('have-local-offer');\n        break;\n      case 'answer':\n        this._updateSignalingState('stable');\n        break;\n      default:\n        throw new TypeError('unsupported type \"' + description.type +\n            '\"');\n    }\n\n    // If a success callback was provided, emit ICE candidates after it\n    // has been executed. Otherwise, emit callback after the Promise is\n    // resolved.\n    var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n        arguments[1];\n    return new Promise(function(resolve) {\n      if (cb) {\n        cb.apply(null);\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.setRemoteDescription = function(description) {\n    var self = this;\n    var args = arguments;\n\n    if (!isActionAllowedInSignalingState('setRemoteDescription',\n        description.type, this.signalingState)) {\n      return new Promise(function(resolve, reject) {\n        var e = new Error('Can not set remote ' + description.type +\n            ' in state ' + self.signalingState);\n        e.name = 'InvalidStateError';\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [e]);\n        }\n        reject(e);\n      });\n    }\n\n    var streams = {};\n    this.remoteStreams.forEach(function(stream) {\n      streams[stream.id] = stream;\n    });\n    var receiverList = [];\n    var sections = SDPUtils.splitSections(description.sdp);\n    var sessionpart = sections.shift();\n    var isIceLite = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-lite').length > 0;\n    var usingBundle = SDPUtils.matchPrefix(sessionpart,\n        'a=group:BUNDLE ').length > 0;\n    this.usingBundle = usingBundle;\n    var iceOptions = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-options:')[0];\n    if (iceOptions) {\n      this.canTrickleIceCandidates = iceOptions.substr(14).split(' ')\n          .indexOf('trickle') >= 0;\n    } else {\n      this.canTrickleIceCandidates = false;\n    }\n\n    sections.forEach(function(mediaSection, sdpMLineIndex) {\n      var lines = SDPUtils.splitLines(mediaSection);\n      var kind = SDPUtils.getKind(mediaSection);\n      // treat bundle-only as not-rejected.\n      var rejected = SDPUtils.isRejected(mediaSection) &&\n          !SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 1;\n      var protocol = lines[0].substr(2).split(' ')[2];\n\n      var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n      var remoteMsid = SDPUtils.parseMsid(mediaSection);\n\n      var mid = SDPUtils.getMid(mediaSection) || SDPUtils.generateIdentifier();\n\n      // Reject datachannels which are not implemented yet.\n      if (kind === 'application' && protocol === 'DTLS/SCTP') {\n        self.transceivers[sdpMLineIndex] = {\n          mid: mid,\n          isDatachannel: true\n        };\n        return;\n      }\n\n      var transceiver;\n      var iceGatherer;\n      var iceTransport;\n      var dtlsTransport;\n      var rtpReceiver;\n      var sendEncodingParameters;\n      var recvEncodingParameters;\n      var localCapabilities;\n\n      var track;\n      // FIXME: ensure the mediaSection has rtcp-mux set.\n      var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n      var remoteIceParameters;\n      var remoteDtlsParameters;\n      if (!rejected) {\n        remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters.role = 'client';\n      }\n      recvEncodingParameters =\n          SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n      var rtcpParameters = SDPUtils.parseRtcpParameters(mediaSection);\n\n      var isComplete = SDPUtils.matchPrefix(mediaSection,\n          'a=end-of-candidates', sessionpart).length > 0;\n      var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n          .map(function(cand) {\n            return SDPUtils.parseCandidate(cand);\n          })\n          .filter(function(cand) {\n            return cand.component === 1;\n          });\n\n      // Check if we can use BUNDLE and dispose transports.\n      if ((description.type === 'offer' || description.type === 'answer') &&\n          !rejected && usingBundle && sdpMLineIndex > 0 &&\n          self.transceivers[sdpMLineIndex]) {\n        self._disposeIceAndDtlsTransports(sdpMLineIndex);\n        self.transceivers[sdpMLineIndex].iceGatherer =\n            self.transceivers[0].iceGatherer;\n        self.transceivers[sdpMLineIndex].iceTransport =\n            self.transceivers[0].iceTransport;\n        self.transceivers[sdpMLineIndex].dtlsTransport =\n            self.transceivers[0].dtlsTransport;\n        if (self.transceivers[sdpMLineIndex].rtpSender) {\n          self.transceivers[sdpMLineIndex].rtpSender.setTransport(\n              self.transceivers[0].dtlsTransport);\n        }\n        if (self.transceivers[sdpMLineIndex].rtpReceiver) {\n          self.transceivers[sdpMLineIndex].rtpReceiver.setTransport(\n              self.transceivers[0].dtlsTransport);\n        }\n      }\n      if (description.type === 'offer' && !rejected) {\n        transceiver = self.transceivers[sdpMLineIndex] ||\n            self._createTransceiver(kind);\n        transceiver.mid = mid;\n\n        if (!transceiver.iceGatherer) {\n          transceiver.iceGatherer = self._createIceGatherer(sdpMLineIndex,\n              usingBundle);\n        }\n\n        if (cands.length && transceiver.iceTransport.state === 'new') {\n          if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {\n            transceiver.iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);\n\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        if (edgeVersion < 15019) {\n          localCapabilities.codecs = localCapabilities.codecs.filter(\n              function(codec) {\n                return codec.name !== 'rtx';\n              });\n        }\n\n        sendEncodingParameters = transceiver.sendEncodingParameters || [{\n          ssrc: (2 * sdpMLineIndex + 2) * 1001\n        }];\n\n        var isNewTrack = false;\n        if (direction === 'sendrecv' || direction === 'sendonly') {\n          isNewTrack = !transceiver.rtpReceiver;\n          rtpReceiver = transceiver.rtpReceiver ||\n              new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);\n\n          if (isNewTrack) {\n            var stream;\n            track = rtpReceiver.track;\n            // FIXME: does not work with Plan B.\n            if (remoteMsid) {\n              if (!streams[remoteMsid.stream]) {\n                streams[remoteMsid.stream] = new window.MediaStream();\n                Object.defineProperty(streams[remoteMsid.stream], 'id', {\n                  get: function() {\n                    return remoteMsid.stream;\n                  }\n                });\n              }\n              Object.defineProperty(track, 'id', {\n                get: function() {\n                  return remoteMsid.track;\n                }\n              });\n              stream = streams[remoteMsid.stream];\n            } else {\n              if (!streams.default) {\n                streams.default = new window.MediaStream();\n              }\n              stream = streams.default;\n            }\n            stream.addTrack(track);\n            receiverList.push([track, rtpReceiver, stream]);\n          }\n        }\n\n        transceiver.localCapabilities = localCapabilities;\n        transceiver.remoteCapabilities = remoteCapabilities;\n        transceiver.rtpReceiver = rtpReceiver;\n        transceiver.rtcpParameters = rtcpParameters;\n        transceiver.sendEncodingParameters = sendEncodingParameters;\n        transceiver.recvEncodingParameters = recvEncodingParameters;\n\n        // Start the RTCRtpReceiver now. The RTPSender is started in\n        // setLocalDescription.\n        self._transceive(self.transceivers[sdpMLineIndex],\n            false,\n            isNewTrack);\n      } else if (description.type === 'answer' && !rejected) {\n        transceiver = self.transceivers[sdpMLineIndex];\n        iceGatherer = transceiver.iceGatherer;\n        iceTransport = transceiver.iceTransport;\n        dtlsTransport = transceiver.dtlsTransport;\n        rtpReceiver = transceiver.rtpReceiver;\n        sendEncodingParameters = transceiver.sendEncodingParameters;\n        localCapabilities = transceiver.localCapabilities;\n\n        self.transceivers[sdpMLineIndex].recvEncodingParameters =\n            recvEncodingParameters;\n        self.transceivers[sdpMLineIndex].remoteCapabilities =\n            remoteCapabilities;\n        self.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;\n\n        if (cands.length && iceTransport.state === 'new') {\n          if ((isIceLite || isComplete) &&\n              (!usingBundle || sdpMLineIndex === 0)) {\n            iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        if (!usingBundle || sdpMLineIndex === 0) {\n          if (iceTransport.state === 'new') {\n            iceTransport.start(iceGatherer, remoteIceParameters,\n                'controlling');\n          }\n          if (dtlsTransport.state === 'new') {\n            dtlsTransport.start(remoteDtlsParameters);\n          }\n        }\n\n        self._transceive(transceiver,\n            direction === 'sendrecv' || direction === 'recvonly',\n            direction === 'sendrecv' || direction === 'sendonly');\n\n        if (rtpReceiver &&\n            (direction === 'sendrecv' || direction === 'sendonly')) {\n          track = rtpReceiver.track;\n          if (remoteMsid) {\n            if (!streams[remoteMsid.stream]) {\n              streams[remoteMsid.stream] = new window.MediaStream();\n            }\n            streams[remoteMsid.stream].addTrack(track);\n            receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);\n          } else {\n            if (!streams.default) {\n              streams.default = new window.MediaStream();\n            }\n            streams.default.addTrack(track);\n            receiverList.push([track, rtpReceiver, streams.default]);\n          }\n        } else {\n          // FIXME: actually the receiver should be created later.\n          delete transceiver.rtpReceiver;\n        }\n      }\n    });\n\n    if (this._dtlsRole === undefined) {\n      this._dtlsRole = description.type === 'offer' ? 'active' : 'passive';\n    }\n\n    this.remoteDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    switch (description.type) {\n      case 'offer':\n        this._updateSignalingState('have-remote-offer');\n        break;\n      case 'answer':\n        this._updateSignalingState('stable');\n        break;\n      default:\n        throw new TypeError('unsupported type \"' + description.type +\n            '\"');\n    }\n    Object.keys(streams).forEach(function(sid) {\n      var stream = streams[sid];\n      if (stream.getTracks().length) {\n        if (self.remoteStreams.indexOf(stream) === -1) {\n          self.remoteStreams.push(stream);\n          var event = new Event('addstream');\n          event.stream = stream;\n          window.setTimeout(function() {\n            self.dispatchEvent(event);\n            if (typeof self.onaddstream === 'function') {\n              self.onaddstream(event);\n            }\n          });\n        }\n\n        receiverList.forEach(function(item) {\n          var track = item[0];\n          var receiver = item[1];\n          if (stream.id !== item[2].id) {\n            return;\n          }\n          var trackEvent = new Event('track');\n          trackEvent.track = track;\n          trackEvent.receiver = receiver;\n          trackEvent.transceiver = {receiver: receiver};\n          trackEvent.streams = [stream];\n          window.setTimeout(function() {\n            self.dispatchEvent(trackEvent);\n            if (typeof self.ontrack === 'function') {\n              self.ontrack(trackEvent);\n            }\n          });\n        });\n      }\n    });\n\n    // check whether addIceCandidate({}) was called within four seconds after\n    // setRemoteDescription.\n    window.setTimeout(function() {\n      if (!(self && self.transceivers)) {\n        return;\n      }\n      self.transceivers.forEach(function(transceiver) {\n        if (transceiver.iceTransport &&\n            transceiver.iceTransport.state === 'new' &&\n            transceiver.iceTransport.getRemoteCandidates().length > 0) {\n          console.warn('Timeout for addRemoteCandidate. Consider sending ' +\n              'an end-of-candidates notification');\n          transceiver.iceTransport.addRemoteCandidate({});\n        }\n      });\n    }, 4000);\n\n    return new Promise(function(resolve) {\n      if (args.length > 1 && typeof args[1] === 'function') {\n        args[1].apply(null);\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.close = function() {\n    this.transceivers.forEach(function(transceiver) {\n      /* not yet\n      if (transceiver.iceGatherer) {\n        transceiver.iceGatherer.close();\n      }\n      */\n      if (transceiver.iceTransport) {\n        transceiver.iceTransport.stop();\n      }\n      if (transceiver.dtlsTransport) {\n        transceiver.dtlsTransport.stop();\n      }\n      if (transceiver.rtpSender) {\n        transceiver.rtpSender.stop();\n      }\n      if (transceiver.rtpReceiver) {\n        transceiver.rtpReceiver.stop();\n      }\n    });\n    // FIXME: clean up tracks, local streams, remote streams, etc\n    this._updateSignalingState('closed');\n  };\n\n  // Update the signaling state.\n  RTCPeerConnection.prototype._updateSignalingState = function(newState) {\n    this.signalingState = newState;\n    var event = new Event('signalingstatechange');\n    this.dispatchEvent(event);\n    if (typeof this.onsignalingstatechange === 'function') {\n      this.onsignalingstatechange(event);\n    }\n  };\n\n  // Determine whether to fire the negotiationneeded event.\n  RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {\n    var self = this;\n    if (this.signalingState !== 'stable' || this.needNegotiation === true) {\n      return;\n    }\n    this.needNegotiation = true;\n    window.setTimeout(function() {\n      if (self.needNegotiation === false) {\n        return;\n      }\n      self.needNegotiation = false;\n      var event = new Event('negotiationneeded');\n      self.dispatchEvent(event);\n      if (typeof self.onnegotiationneeded === 'function') {\n        self.onnegotiationneeded(event);\n      }\n    }, 0);\n  };\n\n  // Update the connection state.\n  RTCPeerConnection.prototype._updateConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      connecting: 0,\n      checking: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      states[transceiver.iceTransport.state]++;\n      states[transceiver.dtlsTransport.state]++;\n    });\n    // ICETransport.completed and connected are the same for this purpose.\n    states.connected += states.completed;\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.connecting > 0 || states.checking > 0) {\n      newState = 'connecting';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0 || states.completed > 0) {\n      newState = 'connected';\n    }\n\n    if (newState !== this.iceConnectionState) {\n      this.iceConnectionState = newState;\n      var event = new Event('iceconnectionstatechange');\n      this.dispatchEvent(event);\n      if (typeof this.oniceconnectionstatechange === 'function') {\n        this.oniceconnectionstatechange(event);\n      }\n    }\n  };\n\n  RTCPeerConnection.prototype.createOffer = function() {\n    var self = this;\n    var args = arguments;\n\n    var offerOptions;\n    if (arguments.length === 1 && typeof arguments[0] !== 'function') {\n      offerOptions = arguments[0];\n    } else if (arguments.length === 3) {\n      offerOptions = arguments[2];\n    }\n\n    var numAudioTracks = this.transceivers.filter(function(t) {\n      return t.kind === 'audio';\n    }).length;\n    var numVideoTracks = this.transceivers.filter(function(t) {\n      return t.kind === 'video';\n    }).length;\n\n    // Determine number of audio and video tracks we need to send/recv.\n    if (offerOptions) {\n      // Reject Chrome legacy constraints.\n      if (offerOptions.mandatory || offerOptions.optional) {\n        throw new TypeError(\n            'Legacy mandatory/optional constraints not supported.');\n      }\n      if (offerOptions.offerToReceiveAudio !== undefined) {\n        if (offerOptions.offerToReceiveAudio === true) {\n          numAudioTracks = 1;\n        } else if (offerOptions.offerToReceiveAudio === false) {\n          numAudioTracks = 0;\n        } else {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n      }\n      if (offerOptions.offerToReceiveVideo !== undefined) {\n        if (offerOptions.offerToReceiveVideo === true) {\n          numVideoTracks = 1;\n        } else if (offerOptions.offerToReceiveVideo === false) {\n          numVideoTracks = 0;\n        } else {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n    }\n\n    this.transceivers.forEach(function(transceiver) {\n      if (transceiver.kind === 'audio') {\n        numAudioTracks--;\n        if (numAudioTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      } else if (transceiver.kind === 'video') {\n        numVideoTracks--;\n        if (numVideoTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      }\n    });\n\n    // Create M-lines for recvonly streams.\n    while (numAudioTracks > 0 || numVideoTracks > 0) {\n      if (numAudioTracks > 0) {\n        this._createTransceiver('audio');\n        numAudioTracks--;\n      }\n      if (numVideoTracks > 0) {\n        this._createTransceiver('video');\n        numVideoTracks--;\n      }\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(this._sdpSessionId,\n        this._sdpSessionVersion++);\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      // For each track, create an ice gatherer, ice transport,\n      // dtls transport, potentially rtpsender and rtpreceiver.\n      var track = transceiver.track;\n      var kind = transceiver.kind;\n      var mid = SDPUtils.generateIdentifier();\n      transceiver.mid = mid;\n\n      if (!transceiver.iceGatherer) {\n        transceiver.iceGatherer = self._createIceGatherer(sdpMLineIndex,\n            self.usingBundle);\n      }\n\n      var localCapabilities = window.RTCRtpSender.getCapabilities(kind);\n      // filter RTX until additional stuff needed for RTX is implemented\n      // in adapter.js\n      if (edgeVersion < 15019) {\n        localCapabilities.codecs = localCapabilities.codecs.filter(\n            function(codec) {\n              return codec.name !== 'rtx';\n            });\n      }\n      localCapabilities.codecs.forEach(function(codec) {\n        // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n        // by adding level-asymmetry-allowed=1\n        if (codec.name === 'H264' &&\n            codec.parameters['level-asymmetry-allowed'] === undefined) {\n          codec.parameters['level-asymmetry-allowed'] = '1';\n        }\n      });\n\n      // generate an ssrc now, to be used later in rtpSender.send\n      var sendEncodingParameters = transceiver.sendEncodingParameters || [{\n        ssrc: (2 * sdpMLineIndex + 1) * 1001\n      }];\n      if (track) {\n        // add RTX\n        if (edgeVersion >= 15019 && kind === 'video' &&\n            !sendEncodingParameters[0].rtx) {\n          sendEncodingParameters[0].rtx = {\n            ssrc: sendEncodingParameters[0].ssrc + 1\n          };\n        }\n      }\n\n      if (transceiver.wantReceive) {\n        transceiver.rtpReceiver = new window.RTCRtpReceiver(\n            transceiver.dtlsTransport, kind);\n      }\n\n      transceiver.localCapabilities = localCapabilities;\n      transceiver.sendEncodingParameters = sendEncodingParameters;\n    });\n\n    // always offer BUNDLE and dispose on return if not supported.\n    if (this._config.bundlePolicy !== 'max-compat') {\n      sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    sdp += 'a=ice-options:trickle\\r\\n';\n\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      sdp += writeMediaSection(transceiver, transceiver.localCapabilities,\n          'offer', transceiver.stream, self._dtlsRole);\n      sdp += 'a=rtcp-rsize\\r\\n';\n\n      if (transceiver.iceGatherer && self.iceGatheringState !== 'new' &&\n          (sdpMLineIndex === 0 || !self.usingBundle)) {\n        transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {\n          cand.component = 1;\n          sdp += 'a=' + SDPUtils.writeCandidate(cand) + '\\r\\n';\n        });\n\n        if (transceiver.iceGatherer.state === 'completed') {\n          sdp += 'a=end-of-candidates\\r\\n';\n        }\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'offer',\n      sdp: sdp\n    });\n    return new Promise(function(resolve) {\n      if (args.length > 0 && typeof args[0] === 'function') {\n        args[0].apply(null, [desc]);\n        resolve();\n        return;\n      }\n      resolve(desc);\n    });\n  };\n\n  RTCPeerConnection.prototype.createAnswer = function() {\n    var self = this;\n    var args = arguments;\n\n    var sdp = SDPUtils.writeSessionBoilerplate(this._sdpSessionId,\n        this._sdpSessionVersion++);\n    if (this.usingBundle) {\n      sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    var mediaSectionsInOffer = SDPUtils.splitSections(\n        this.remoteDescription.sdp).length - 1;\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      if (sdpMLineIndex + 1 > mediaSectionsInOffer) {\n        return;\n      }\n      if (transceiver.isDatachannel) {\n        sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n' +\n            'c=IN IP4 0.0.0.0\\r\\n' +\n            'a=mid:' + transceiver.mid + '\\r\\n';\n        return;\n      }\n\n      // FIXME: look at direction.\n      if (transceiver.stream) {\n        var localTrack;\n        if (transceiver.kind === 'audio') {\n          localTrack = transceiver.stream.getAudioTracks()[0];\n        } else if (transceiver.kind === 'video') {\n          localTrack = transceiver.stream.getVideoTracks()[0];\n        }\n        if (localTrack) {\n          // add RTX\n          if (edgeVersion >= 15019 && transceiver.kind === 'video' &&\n              !transceiver.sendEncodingParameters[0].rtx) {\n            transceiver.sendEncodingParameters[0].rtx = {\n              ssrc: transceiver.sendEncodingParameters[0].ssrc + 1\n            };\n          }\n        }\n      }\n\n      // Calculate intersection of capabilities.\n      var commonCapabilities = getCommonCapabilities(\n          transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n\n      var hasRtx = commonCapabilities.codecs.filter(function(c) {\n        return c.name.toLowerCase() === 'rtx';\n      }).length;\n      if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n        delete transceiver.sendEncodingParameters[0].rtx;\n      }\n\n      sdp += writeMediaSection(transceiver, commonCapabilities,\n          'answer', transceiver.stream, self._dtlsRole);\n      if (transceiver.rtcpParameters &&\n          transceiver.rtcpParameters.reducedSize) {\n        sdp += 'a=rtcp-rsize\\r\\n';\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'answer',\n      sdp: sdp\n    });\n    return new Promise(function(resolve) {\n      if (args.length > 0 && typeof args[0] === 'function') {\n        args[0].apply(null, [desc]);\n        resolve();\n        return;\n      }\n      resolve(desc);\n    });\n  };\n\n  RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n    var err;\n    var sections;\n    if (!candidate || candidate.candidate === '') {\n      for (var j = 0; j < this.transceivers.length; j++) {\n        if (this.transceivers[j].isDatachannel) {\n          continue;\n        }\n        this.transceivers[j].iceTransport.addRemoteCandidate({});\n        sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n        sections[j + 1] += 'a=end-of-candidates\\r\\n';\n        this.remoteDescription.sdp = sections.join('');\n        if (this.usingBundle) {\n          break;\n        }\n      }\n    } else if (!(candidate.sdpMLineIndex !== undefined || candidate.sdpMid)) {\n      throw new TypeError('sdpMLineIndex or sdpMid required');\n    } else if (!this.remoteDescription) {\n      err = new Error('Can not add ICE candidate without ' +\n          'a remote description');\n      err.name = 'InvalidStateError';\n    } else {\n      var sdpMLineIndex = candidate.sdpMLineIndex;\n      if (candidate.sdpMid) {\n        for (var i = 0; i < this.transceivers.length; i++) {\n          if (this.transceivers[i].mid === candidate.sdpMid) {\n            sdpMLineIndex = i;\n            break;\n          }\n        }\n      }\n      var transceiver = this.transceivers[sdpMLineIndex];\n      if (transceiver) {\n        if (transceiver.isDatachannel) {\n          return Promise.resolve();\n        }\n        var cand = Object.keys(candidate.candidate).length > 0 ?\n            SDPUtils.parseCandidate(candidate.candidate) : {};\n        // Ignore Chrome's invalid candidates since Edge does not like them.\n        if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n          return Promise.resolve();\n        }\n        // Ignore RTCP candidates, we assume RTCP-MUX.\n        if (cand.component && cand.component !== 1) {\n          return Promise.resolve();\n        }\n        // when using bundle, avoid adding candidates to the wrong\n        // ice transport. And avoid adding candidates added in the SDP.\n        if (sdpMLineIndex === 0 || (sdpMLineIndex > 0 &&\n            transceiver.iceTransport !== this.transceivers[0].iceTransport)) {\n          if (!maybeAddCandidate(transceiver.iceTransport, cand)) {\n            err = new Error('Can not add ICE candidate');\n            err.name = 'OperationError';\n          }\n        }\n\n        if (!err) {\n          // update the remoteDescription.\n          var candidateString = candidate.candidate.trim();\n          if (candidateString.indexOf('a=') === 0) {\n            candidateString = candidateString.substr(2);\n          }\n          sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n          sections[sdpMLineIndex + 1] += 'a=' +\n              (cand.type ? candidateString : 'end-of-candidates')\n              + '\\r\\n';\n          this.remoteDescription.sdp = sections.join('');\n        }\n      } else {\n        err = new Error('Can not add ICE candidate');\n        err.name = 'OperationError';\n      }\n    }\n    var args = arguments;\n    return new Promise(function(resolve, reject) {\n      if (err) {\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [err]);\n        }\n        reject(err);\n      } else {\n        if (args.length > 1 && typeof args[1] === 'function') {\n          args[1].apply(null);\n        }\n        resolve();\n      }\n    });\n  };\n\n  RTCPeerConnection.prototype.getStats = function() {\n    var promises = [];\n    this.transceivers.forEach(function(transceiver) {\n      ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n          'dtlsTransport'].forEach(function(method) {\n            if (transceiver[method]) {\n              promises.push(transceiver[method].getStats());\n            }\n          });\n    });\n    var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n        arguments[1];\n    var fixStatsType = function(stat) {\n      return {\n        inboundrtp: 'inbound-rtp',\n        outboundrtp: 'outbound-rtp',\n        candidatepair: 'candidate-pair',\n        localcandidate: 'local-candidate',\n        remotecandidate: 'remote-candidate'\n      }[stat.type] || stat.type;\n    };\n    return new Promise(function(resolve) {\n      // shim getStats with maplike support\n      var results = new Map();\n      Promise.all(promises).then(function(res) {\n        res.forEach(function(result) {\n          Object.keys(result).forEach(function(id) {\n            result[id].type = fixStatsType(result[id]);\n            results.set(id, result[id]);\n          });\n        });\n        if (cb) {\n          cb.apply(null, results);\n        }\n        resolve(results);\n      });\n    });\n  };\n  return RTCPeerConnection;\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rtcpeerconnection-shim/rtcpeerconnection.js\n// module id = 2475\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var navigator = window && window.navigator;\n\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/edge/getusermedia.js\n// module id = 2476\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\n\nvar firefoxShim = {\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.transceiver = {receiver: event.receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n    if (typeof window === 'object' && window.RTCTrackEvent &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        !('transceiver' in window.RTCTrackEvent.prototype)) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new window.mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (window.mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = window.mozRTCSessionDescription;\n      window.RTCIceCandidate = window.mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function(stats) {\n      var map = new Map();\n      Object.keys(stats).forEach(function(key) {\n        map.set(key, stats[key]);\n        map[key] = stats[key];\n      });\n      return map;\n    };\n\n    var modernStatsTypes = {\n      inboundrtp: 'inbound-rtp',\n      outboundrtp: 'outbound-rtp',\n      candidatepair: 'candidate-pair',\n      localcandidate: 'local-candidate',\n      remotecandidate: 'remote-candidate'\n    };\n\n    var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(\n      selector,\n      onSucc,\n      onErr\n    ) {\n      return nativeGetStats.apply(this, [selector || null])\n        .then(function(stats) {\n          if (browserDetails.version < 48) {\n            stats = makeMapStats(stats);\n          }\n          if (browserDetails.version < 53 && !onSucc) {\n            // Shim only promise getStats with spec-hyphens in type names\n            // Leave callback version alone; misc old uses of forEach before Map\n            try {\n              stats.forEach(function(stat) {\n                stat.type = modernStatsTypes[stat.type] || stat.type;\n              });\n            } catch (e) {\n              if (e.name !== 'TypeError') {\n                throw e;\n              }\n              // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n              stats.forEach(function(stat, i) {\n                stats.set(i, Object.assign({}, stat, {\n                  type: modernStatsTypes[stat.type] || stat.type\n                }));\n              });\n            }\n          }\n          return stats;\n        })\n        .then(onSucc, onErr);\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimOnTrack: firefoxShim.shimOnTrack,\n  shimSourceObject: firefoxShim.shimSourceObject,\n  shimPeerConnection: firefoxShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js\n// module id = 2477\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n  var MediaStreamTrack = window && window.MediaStreamTrack;\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        InternalError: 'NotReadableError',\n        NotSupportedError: 'TypeError',\n        PermissionDeniedError: 'NotAllowedError',\n        SecurityError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    var remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        var obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n        'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/firefox/getusermedia.js\n// module id = 2478\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nvar utils = require('../utils');\n\nvar safariShim = {\n  // TODO: DrAlex, should be here, double check against LayoutTests\n\n  // TODO: once the back-end for the mac port is done, add.\n  // TODO: check for webkitGTK+\n  // shimPeerConnection: function() { },\n\n  shimLocalStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getLocalStreams = function() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n    }\n    if (!('getStreamById' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getStreamById = function(id) {\n        var result = null;\n        if (this._localStreams) {\n          this._localStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        if (this._remoteStreams) {\n          this._remoteStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        return result;\n      };\n    }\n    if (!('addStream' in window.RTCPeerConnection.prototype)) {\n      var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        if (this._localStreams.indexOf(stream) === -1) {\n          this._localStreams.push(stream);\n        }\n        var self = this;\n        stream.getTracks().forEach(function(track) {\n          _addTrack.call(self, track, stream);\n        });\n      };\n\n      window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n        if (stream) {\n          if (!this._localStreams) {\n            this._localStreams = [stream];\n          } else if (this._localStreams.indexOf(stream) === -1) {\n            this._localStreams.push(stream);\n          }\n        }\n        _addTrack.call(this, track, stream);\n      };\n    }\n    if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        var index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        var self = this;\n        var tracks = stream.getTracks();\n        this.getSenders().forEach(function(sender) {\n          if (tracks.indexOf(sender.track) !== -1) {\n            self.removeTrack(sender);\n          }\n        });\n      };\n    }\n  },\n  shimRemoteStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getRemoteStreams = function() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n    }\n    if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n        get: function() {\n          return this._onaddstream;\n        },\n        set: function(f) {\n          if (this._onaddstream) {\n            this.removeEventListener('addstream', this._onaddstream);\n            this.removeEventListener('track', this._onaddstreampoly);\n          }\n          this.addEventListener('addstream', this._onaddstream = f);\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            var stream = e.streams[0];\n            if (!this._remoteStreams) {\n              this._remoteStreams = [];\n            }\n            if (this._remoteStreams.indexOf(stream) >= 0) {\n              return;\n            }\n            this._remoteStreams.push(stream);\n            var event = new Event('addstream');\n            event.stream = e.streams[0];\n            this.dispatchEvent(event);\n          }.bind(this));\n        }\n      });\n    }\n  },\n  shimCallbacksAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    var prototype = window.RTCPeerConnection.prototype;\n    var createOffer = prototype.createOffer;\n    var createAnswer = prototype.createAnswer;\n    var setLocalDescription = prototype.setLocalDescription;\n    var setRemoteDescription = prototype.setRemoteDescription;\n    var addIceCandidate = prototype.addIceCandidate;\n\n    prototype.createOffer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    prototype.createAnswer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    var withCallback = function(description, successCallback, failureCallback) {\n      var promise = setLocalDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setLocalDescription = withCallback;\n\n    withCallback = function(description, successCallback, failureCallback) {\n      var promise = setRemoteDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setRemoteDescription = withCallback;\n\n    withCallback = function(candidate, successCallback, failureCallback) {\n      var promise = addIceCandidate.apply(this, [candidate]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.addIceCandidate = withCallback;\n  },\n  shimGetUserMedia: function(window) {\n    var navigator = window && window.navigator;\n\n    if (!navigator.getUserMedia) {\n      if (navigator.webkitGetUserMedia) {\n        navigator.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);\n      } else if (navigator.mediaDevices &&\n          navigator.mediaDevices.getUserMedia) {\n        navigator.getUserMedia = function(constraints, cb, errcb) {\n          navigator.mediaDevices.getUserMedia(constraints)\n          .then(cb, errcb);\n        }.bind(navigator);\n      }\n    }\n  },\n  shimRTCIceServerUrls: function(window) {\n    // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n    var OrigPeerConnection = window.RTCPeerConnection;\n    window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        var newIceServers = [];\n        for (var i = 0; i < pcConfig.iceServers.length; i++) {\n          var server = pcConfig.iceServers[i];\n          if (!server.hasOwnProperty('urls') &&\n              server.hasOwnProperty('url')) {\n            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n    window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n    // wrap static methods. Currently just generateCertificate.\n    if ('generateCertificate' in window.RTCPeerConnection) {\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n  },\n  shimTrackEventTransceiver: function(window) {\n    // Add event.transceiver member over deprecated event.receiver\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        // can't check 'transceiver' in window.RTCTrackEvent.prototype, as it is\n        // defined for some reason even when window.RTCTransceiver is not.\n        !window.RTCTransceiver) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimCallbacksAPI: safariShim.shimCallbacksAPI,\n  shimLocalStreamsAPI: safariShim.shimLocalStreamsAPI,\n  shimRemoteStreamsAPI: safariShim.shimRemoteStreamsAPI,\n  shimGetUserMedia: safariShim.shimGetUserMedia,\n  shimRTCIceServerUrls: safariShim.shimRTCIceServerUrls,\n  shimTrackEventTransceiver: safariShim.shimTrackEventTransceiver\n  // TODO\n  // shimPeerConnection: safariShim.shimPeerConnection\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/safari/safari_shim.js\n// module id = 2479\n// module chunks = 7","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\nvar utils = require('./utils');\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object.\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  var nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    var wrappedCallback = function(e) {\n      cb(wrapper(e));\n    };\n    this._eventMap = this._eventMap || {};\n    this._eventMap[cb] = wrappedCallback;\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  var nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[cb]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    var unwrappedCb = this._eventMap[cb];\n    delete this._eventMap[cb];\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get: function() {\n      return this['_on' + eventNameToWrap];\n    },\n    set: function(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap] = cb);\n      }\n    }\n  });\n}\n\nmodule.exports = {\n  shimRTCIceCandidate: function(window) {\n    // foundation is arbitrarily chosen as an indicator for full support for\n    // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n    if (window.RTCIceCandidate && 'foundation' in\n        window.RTCIceCandidate.prototype) {\n      return;\n    }\n\n    var NativeRTCIceCandidate = window.RTCIceCandidate;\n    window.RTCIceCandidate = function(args) {\n      // Remove the a= which shouldn't be part of the candidate string.\n      if (typeof args === 'object' && args.candidate &&\n          args.candidate.indexOf('a=') === 0) {\n        args = JSON.parse(JSON.stringify(args));\n        args.candidate = args.candidate.substr(2);\n      }\n\n      // Augment the native candidate with the parsed fields.\n      var nativeCandidate = new NativeRTCIceCandidate(args);\n      var parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n      var augmentedCandidate = Object.assign(nativeCandidate,\n          parsedCandidate);\n\n      // Add a serializer that does not serialize the extra attributes.\n      augmentedCandidate.toJSON = function() {\n        return {\n          candidate: augmentedCandidate.candidate,\n          sdpMid: augmentedCandidate.sdpMid,\n          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n          usernameFragment: augmentedCandidate.usernameFragment,\n        };\n      };\n      return augmentedCandidate;\n    };\n\n    // Hook up the augmented candidate in onicecandidate and\n    // addEventListener('icecandidate', ...)\n    wrapPeerConnectionEvent(window, 'icecandidate', function(e) {\n      if (e.candidate) {\n        Object.defineProperty(e, 'candidate', {\n          value: new window.RTCIceCandidate(e.candidate),\n          writable: 'false'\n        });\n      }\n      return e;\n    });\n  },\n\n  // shimCreateObjectURL must be called before shimSourceObject to avoid loop.\n\n  shimCreateObjectURL: function(window) {\n    var URL = window && window.URL;\n\n    if (!(typeof window === 'object' && window.HTMLMediaElement &&\n          'srcObject' in window.HTMLMediaElement.prototype &&\n        URL.createObjectURL && URL.revokeObjectURL)) {\n      // Only shim CreateObjectURL using srcObject if srcObject exists.\n      return undefined;\n    }\n\n    var nativeCreateObjectURL = URL.createObjectURL.bind(URL);\n    var nativeRevokeObjectURL = URL.revokeObjectURL.bind(URL);\n    var streams = new Map(), newId = 0;\n\n    URL.createObjectURL = function(stream) {\n      if ('getTracks' in stream) {\n        var url = 'polyblob:' + (++newId);\n        streams.set(url, stream);\n        utils.deprecated('URL.createObjectURL(stream)',\n            'elem.srcObject = stream');\n        return url;\n      }\n      return nativeCreateObjectURL(stream);\n    };\n    URL.revokeObjectURL = function(url) {\n      nativeRevokeObjectURL(url);\n      streams.delete(url);\n    };\n\n    var dsc = Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,\n                                              'src');\n    Object.defineProperty(window.HTMLMediaElement.prototype, 'src', {\n      get: function() {\n        return dsc.get.apply(this);\n      },\n      set: function(url) {\n        this.srcObject = streams.get(url) || null;\n        return dsc.set.apply(this, [url]);\n      }\n    });\n\n    var nativeSetAttribute = window.HTMLMediaElement.prototype.setAttribute;\n    window.HTMLMediaElement.prototype.setAttribute = function() {\n      if (arguments.length === 2 &&\n          ('' + arguments[0]).toLowerCase() === 'src') {\n        this.srcObject = streams.get(arguments[1]) || null;\n      }\n      return nativeSetAttribute.apply(this, arguments);\n    };\n  }\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/webrtc-adapter/src/js/common_shim.js\n// module id = 2480\n// module chunks = 7","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport Constants from 'utils/constants.jsx';\n\nexport default function WebrtcHeader(props) {\n    const title = (\n        <FormattedMessage\n            id='webrtc.header'\n            defaultMessage='Call with {username}'\n            values={{\n                username: props.username\n            }}\n        />\n    );\n\n    const closeSidebarTooltip = (\n        <Tooltip id='closeSidebarTooltip'>\n            <FormattedMessage\n                id='rhs_header.closeTooltip'\n                defaultMessage='Close Sidebar'\n            />\n        </Tooltip>\n    );\n\n    const expandSidebarTooltip = (\n        <Tooltip id='expandSidebarTooltip'>\n            <FormattedMessage\n                id='rhs_header.expandTooltip'\n                defaultMessage='Expand Sidebar'\n            />\n        </Tooltip>\n    );\n\n    const shrinkSidebarTooltip = (\n        <Tooltip id='shrinkSidebarTooltip'>\n            <FormattedMessage\n                id='rhs_header.expandTooltip'\n                defaultMessage='Shrink Sidebar'\n            />\n        </Tooltip>\n    );\n\n    return (\n        <div className='sidebar--right__header'>\n            <span className='sidebar--right__title'>{title}</span>\n            <div className='pull-right'>\n                <button\n                    type='button'\n                    className='sidebar--right__expand'\n                    aria-label='Expand'\n                    onClick={props.toggleSize}\n                >\n                    <OverlayTrigger\n                        trigger={['hover', 'focus']}\n                        delayShow={Constants.OVERLAY_TIME_DELAY}\n                        placement='top'\n                        overlay={expandSidebarTooltip}\n                    >\n                        <i className='fa fa-expand'/>\n                    </OverlayTrigger>\n                    <OverlayTrigger\n                        trigger={['hover', 'focus']}\n                        delayShow={Constants.OVERLAY_TIME_DELAY}\n                        placement='top'\n                        overlay={shrinkSidebarTooltip}\n                    >\n                        <i className='fa fa-compress'/>\n                    </OverlayTrigger>\n                </button>\n                <button\n                    type='button'\n                    className='sidebar--right__close'\n                    aria-label='Close'\n                    title='Close'\n                    onClick={props.onClose}\n                >\n                    <OverlayTrigger\n                        delayShow={Constants.OVERLAY_TIME_DELAY}\n                        placement='top'\n                        overlay={closeSidebarTooltip}\n                    >\n                        <i className='fa fa-sign-out'/>\n                    </OverlayTrigger>\n                </button>\n            </div>\n        </div>\n    );\n}\n\nWebrtcHeader.propTypes = {\n    username: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n    toggleSize: PropTypes.func\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/webrtc/components/webrtc_header.jsx"],"sourceRoot":""}