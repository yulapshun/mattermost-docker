webpackJsonp([4],{2501:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(6),r=n(l),s=a(4),u=n(s),o=a(5),i=n(o),d=a(7),c=n(d),f=a(8),h=n(f),m=a(1),p=n(m),g=a(79),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(g),_=a(104),S=function(e){function t(e){(0,u.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.state={showing:!0,messages:[]},a}return(0,h.default)(t,e),(0,i.default)(t,[{key:"componentWillMount",value:function(){var e=this;v.executeCommand("/banner",{channel_id:this.props.channelId},function(t){var a=JSON.parse(t.text);e.setState({messages:a})},function(){console.log("/banner command not exist")})}},{key:"toggleShowHide",value:function(){this.setState({showing:!this.state.showing})}},{key:"renderMessage",value:function(e,t){var a=new Date(1e3*parseInt(e.updated_at)),n=""+a.getFullYear(),l=""+(a.getMonth()+1);l="00".slice(l.length)+l;var r=""+a.getDate();r="00".slice(r.length)+r;var s=""+a.getHours();s="00".slice(s.length)+s;var u=""+a.getMinutes();u="00".slice(u.length)+u;var o=n+"-"+l+"-"+r+" "+s+":"+u;return p.default.createElement("div",{key:"banner-msg-"+t,className:"cugc-banner-msg"},p.default.createElement("div",{className:"col-md-8",dangerouslySetInnerHTML:{__html:(0,_.formatText)(e.message)}}),p.default.createElement("div",{className:"col-md-2"},e.created_by),p.default.createElement("div",{className:"col-md-2"},o))}},{key:"render",value:function(){var e=this;return p.default.createElement("div",{className:"cugc-banner-container"},this.state.showing&&p.default.createElement("div",{className:"cugc-banner-msg-container"},this.state.messages.map(function(t,a){return e.renderMessage(t,a)})),p.default.createElement("div",{className:"col-md-12 cugc-banner-caret "+(this.state.showing?"cugc-banner-caret-show":"cugc-banner-caret-hide"),onClick:this.toggleShowHide.bind(this)},this.state.showing?"▲":"▼"))}}]),t}(p.default.Component);t.default=S},791:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(6),s=l(r),u=a(4),o=l(u),i=a(5),d=l(i),c=a(7),f=l(c),h=a(8),m=l(h),p=a(0),g=l(p),v=a(2),_=l(v),S=a(1),y=l(S),b=a(32),E=l(b),w=a(119),I=l(w),C=a(25),k=l(C),M=a(9),N=l(M),O=a(87),T=n(O),P=a(16),V=n(P),F=a(2100),j=l(F),R=a(2096),x=l(R),H=a(2095),L=l(H),D=a(2101),U=l(D),W=a(793),q=l(W),J=a(2501),A=l(J),Y=N.default.TutorialSteps,z=N.default.Preferences,B=function(e){function t(e){(0,o.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.getChannelView=function(){return a.refs.channelView},a.getStateFromStores=a.getStateFromStores.bind(a),a.isStateValid=a.isStateValid.bind(a),a.updateState=a.updateState.bind(a),a.state=a.getStateFromStores(e),a}return(0,m.default)(t,e),(0,d.default)(t,[{key:"getStateFromStores",value:function(){return{channelId:E.default.getCurrentId(),tutorialStep:I.default.getInt(z.TUTORIAL_STEP,k.default.getCurrentId(),999)}}},{key:"isStateValid",value:function(){return""!==this.state.channelId}},{key:"updateState",value:function(){this.setState(this.getStateFromStores(this.props))}},{key:"componentDidMount",value:function(){E.default.addChangeListener(this.updateState),(0,g.default)("body").addClass("app__body"),(T.isInternetExplorer()||T.isEdge())&&(0,g.default)("body").addClass("browser--ie")}},{key:"componentWillUnmount",value:function(){E.default.removeChangeListener(this.updateState),(0,g.default)("body").removeClass("app__body")}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.getStateFromStores(e))}},{key:"shouldComponentUpdate",value:function(e,t){return!V.areObjectsEqual(e.params,this.props.params)||t.channelId!==this.state.channelId}},{key:"render",value:function(){return this.state.tutorialStep<=Y.INTRO_SCREENS?y.default.createElement(q.default,{isRoot:!1}):y.default.createElement("div",{ref:"channelView",id:"app-content",className:"app__content"},y.default.createElement(L.default,{overlayType:"center"}),y.default.createElement(A.default,{channelId:this.state.channelId}),y.default.createElement(j.default,{channelId:this.state.channelId}),y.default.createElement(U.default,{channelId:this.state.channelId}),y.default.createElement("div",{className:"post-create__container",id:"post-create"},y.default.createElement(x.default,{getChannelView:this.getChannelView})))}}]),t}(y.default.Component);t.default=B,B.defaultProps={},B.propTypes={params:_.default.object.isRequired}}});
//# sourceMappingURL=4.a840f686b80ecaa487db.js.map