{"version":3,"sources":["webpack:///24.83615b2e8b73e332ccee.js","webpack:///./components/integrations/components/add_oauth_app/index.js","webpack:///./components/integrations/components/add_oauth_app/add_oauth_app.jsx"],"names":["webpackJsonp","2135","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","mapStateToProps","state","ownProps","_extends3","addOAuthAppRequest","requests","integrations","addOAuthApp","isSystemAdmin","_users","isCurrentUserSystemAdmin","mapDispatchToProps","dispatch","actions","_redux","bindActionCreators","Object","defineProperty","value","_extends2","_reactRedux","_integrations","_add_oauth_app","_add_oauth_app2","connect","2382","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_propTypes","_propTypes2","_react","_react2","_es","_abstract_oauth_app","_abstract_oauth_app2","HEADER","id","defaultMessage","FOOTER","AddOAuthApp","_React$PureComponent","props","_this2","this","_this","__proto__","call","_ref","mark","_callee","app","data","wrap","_context","prev","next","setState","serverError","sent","browserHistory","push","team","name","abrupt","error","message","stop","_x","apply","arguments","key","createElement","header","footer","renderExtra","action","PureComponent","propTypes","object","isRequired","bool","shape","func"],"mappings":"AAAAA,cAAc,KAERC,KACA,SAAUC,EAAQC,EAASC,GAEjC,YAuBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GCjBvF,QAASG,GAAgBC,EAAOC,GAC5B,SAAAC,EAAAJ,YACOG,GACHE,mBAAoBH,EAAMI,SAASC,aAAaC,YAChDC,eAAe,EAAAC,EAAAC,0BAAyBT,KAIhD,QAASU,GAAmBC,GACxB,OACIC,SAAS,EAAAC,EAAAC,qBACLR,2BACDK,IDfXI,OAAOC,eAAevB,EAAS,cAC3BwB,OAAO,GAGX,IAAIC,GAAYxB,EAAoB,IAEhCQ,EAAYP,EAAuBuB,GCXvCC,EAAAzB,EAAA,IACAmB,EAAAnB,EAAA,IAEA0B,EAAA1B,EAAA,KACAc,EAAAd,EAAA,IAEA2B,EAAA3B,EAAA,MDiBI4B,EAAkB3B,EAAuB0B,EAoB7C5B,GAAQK,SCnBO,EAAAqB,EAAAI,SAAQxB,EAAiBW,GAAzBY,EAAAxB,UDuBT0B,KACA,SAAUhC,EAAQC,EAASC,GAEjC,YAiDA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GA9CvFmB,OAAOC,eAAevB,EAAS,cAC3BwB,OAAO,GAGX,IAAIQ,GAAe/B,EAAoB,IAEnCgC,EAAgB/B,EAAuB8B,GAEvCE,EAAqBjC,EAAoB,IAEzCkC,EAAqBjC,EAAuBgC,GAE5CE,EAAkBnC,EAAoB,GAEtCoC,EAAmBnC,EAAuBkC,GAE1CE,EAAmBrC,EAAoB,GAEvCsC,EAAmBrC,EAAuBoC,GAE1CE,EAAgBvC,EAAoB,GAEpCwC,EAAgBvC,EAAuBsC,GAEvCE,EAA8BzC,EAAoB,GAElD0C,EAA8BzC,EAAuBwC,GAErDE,EAAa3C,EAAoB,GAEjC4C,EAAa3C,EAAuB0C,GEnFxCE,EAAA7C,EAAA,GFuFI8C,EAAc7C,EAAuB4C,GEtFzCE,EAAA/C,EAAA,GF0FIgD,EAAU/C,EAAuB8C,GEzFrCE,EAAAjD,EAAA,IAEAkD,EAAAlD,EAAA,MF6FImD,EAAuBlD,EAAuBiD,GE3F5CE,GAAUC,GAAI,uBAAwBC,eAAgB,OACtDC,GAAUF,GAAI,4BAA6BC,eAAgB,QAE5CE,EFkGH,SAAUC,GEvExB,QAAAD,GAAYE,GAAO,GAAAC,GAAAC,MAAA,EAAAtB,EAAAlC,SAAAwD,KAAAJ,EAAA,IAAAK,IAAA,EAAAnB,EAAAtC,SAAAwD,MAAAJ,EAAAM,YAAA,EAAA1B,EAAAhC,SAAAoD,IAAAO,KAAAH,KACTF,GADS,OAAAG,GAQnBjD,YARmB,cAAAoD,IAAA,EAAA9B,EAAA9B,SAAA4B,EAAA5B,QAAA6D,KAQL,QAAAC,GAAOC,GAAP,GAAAC,EAAA,OAAApC,GAAA5B,QAAAiE,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,aACVX,GAAKY,UAAUC,YAAa,KADlBJ,EAAAE,KAAA,EAGSX,EAAKH,MAAMxC,QAAQN,YAAYuD,EAHxC,aAGJC,EAHIE,EAAAK,MAAA,CAAAL,EAAAE,KAAA,cAKNvB,GAAA2B,eAAeC,KAAf,IAAwBhB,EAAKH,MAAMoB,KAAKC,KAAxC,6CAAyFX,EAAKf,IALxFiB,EAAAU,OAAA,iBASNnB,EAAKH,MAAMjD,mBAAmBwE,OAC9BpB,EAAKY,UAAUC,YAAab,EAAKH,MAAMjD,mBAAmBwE,MAAMC,SAV1D,wBAAAZ,GAAAa,SAAAjB,EAAAP,KARK,iBAAAyB,GAAA,MAAApB,GAAAqB,MAAAzB,KAAA0B,eAGfzB,EAAKvD,OACDoE,YAAa,IAJFb,EF+InB,OAvEA,EAAIjB,EAAWxC,SAASoD,EAAaC,IAyDrC,EAAIjB,EAAcpC,SAASoD,IACvB+B,IAAK,SACLhE,MAAO,WE5GP,MACIyB,GAAA5C,QAAAoF,cAAArC,EAAA/C,SACI0E,KAAMlB,KAAKF,MAAMoB,KACjBjE,cAAe+C,KAAKF,MAAM7C,cAC1B4E,OAAQrC,EACRsC,OAAQnC,EACRoC,YAAa,GACbC,OAAQhC,KAAKhD,YACb8D,YAAad,KAAKtD,MAAMoE,kBFgH7BlB,GE1K8BR,EAAA5C,QAAMyF,cAA1BrC,GACVsC,WAKHhB,KAAMhC,EAAA1C,QAAU2F,OAKhBtF,mBAAoBqC,EAAA1C,QAAU2F,OAAOC,WAKrCnF,cAAeiC,EAAA1C,QAAU6F,KAEzB/E,QAAS4B,EAAA1C,QAAU8F,OAKftF,YAAakC,EAAA1C,QAAU+F,KAAKH,aAC7BA,YF8KXjG,EAAQK,QEtMaoD","file":"24.83615b2e8b73e332ccee.js","sourcesContent":["webpackJsonp([24],{\n\n/***/ 2135:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(31);\n\nvar _redux = __webpack_require__(20);\n\nvar _integrations = __webpack_require__(735);\n\nvar _users = __webpack_require__(50);\n\nvar _add_oauth_app = __webpack_require__(2382);\n\nvar _add_oauth_app2 = _interopRequireDefault(_add_oauth_app);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps, {\n        addOAuthAppRequest: state.requests.integrations.addOAuthApp,\n        isSystemAdmin: (0, _users.isCurrentUserSystemAdmin)(state)\n    });\n} // Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            addOAuthApp: _integrations.addOAuthApp\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_add_oauth_app2.default);\n\n/***/ }),\n\n/***/ 2382:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _regenerator = __webpack_require__(76);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(77);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _es = __webpack_require__(44);\n\nvar _abstract_oauth_app = __webpack_require__(2094);\n\nvar _abstract_oauth_app2 = _interopRequireDefault(_abstract_oauth_app);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar HEADER = { id: 'add_oauth_app.header', defaultMessage: 'Add' };\nvar FOOTER = { id: 'installed_oauth_apps.save', defaultMessage: 'Save' };\n\nvar AddOAuthApp = function (_React$PureComponent) {\n    (0, _inherits3.default)(AddOAuthApp, _React$PureComponent);\n\n    function AddOAuthApp(props) {\n        var _this2 = this;\n\n        (0, _classCallCheck3.default)(this, AddOAuthApp);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (AddOAuthApp.__proto__ || (0, _getPrototypeOf2.default)(AddOAuthApp)).call(this, props));\n\n        _this.addOAuthApp = function () {\n            var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(app) {\n                var data;\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _this.setState({ serverError: '' });\n\n                                _context.next = 3;\n                                return _this.props.actions.addOAuthApp(app);\n\n                            case 3:\n                                data = _context.sent;\n\n                                if (!data) {\n                                    _context.next = 7;\n                                    break;\n                                }\n\n                                _es.browserHistory.push('/' + _this.props.team.name + '/integrations/confirm?type=oauth2-apps&id=' + data.id);\n                                return _context.abrupt('return');\n\n                            case 7:\n\n                                if (_this.props.addOAuthAppRequest.error) {\n                                    _this.setState({ serverError: _this.props.addOAuthAppRequest.error.message });\n                                }\n\n                            case 8:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, _this2);\n            }));\n\n            return function (_x) {\n                return _ref.apply(this, arguments);\n            };\n        }();\n\n        _this.state = {\n            serverError: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(AddOAuthApp, [{\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(_abstract_oauth_app2.default, {\n                team: this.props.team,\n                isSystemAdmin: this.props.isSystemAdmin,\n                header: HEADER,\n                footer: FOOTER,\n                renderExtra: '',\n                action: this.addOAuthApp,\n                serverError: this.state.serverError\n            });\n        }\n    }]);\n    return AddOAuthApp;\n}(_react2.default.PureComponent);\n\nAddOAuthApp.propTypes = {\n\n    /**\n    * The team data\n    */\n    team: _propTypes2.default.object,\n\n    /**\n    * The request state for addOAuthApp action. Contains status and error\n    */\n    addOAuthAppRequest: _propTypes2.default.object.isRequired,\n\n    /**\n    * Set if the current user is a system admin\n    */\n    isSystemAdmin: _propTypes2.default.bool,\n\n    actions: _propTypes2.default.shape({\n\n        /**\n        * The function to call to add new OAuthApp\n        */\n        addOAuthApp: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = AddOAuthApp;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 24.83615b2e8b73e332ccee.js","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {addOAuthApp} from 'mattermost-redux/actions/integrations';\nimport {isCurrentUserSystemAdmin} from 'mattermost-redux/selectors/entities/users';\n\nimport AddOAuthApp from './add_oauth_app.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        ...ownProps,\n        addOAuthAppRequest: state.requests.integrations.addOAuthApp,\n        isSystemAdmin: isCurrentUserSystemAdmin(state)\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            addOAuthApp\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddOAuthApp);\n\n\n\n// WEBPACK FOOTER //\n// ./components/integrations/components/add_oauth_app/index.js","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {browserHistory} from 'react-router/es6';\n\nimport AbstractOAuthApp from '../abstract_oauth_app.jsx';\n\nconst HEADER = {id: 'add_oauth_app.header', defaultMessage: 'Add'};\nconst FOOTER = {id: 'installed_oauth_apps.save', defaultMessage: 'Save'};\n\nexport default class AddOAuthApp extends React.PureComponent {\n    static propTypes = {\n\n        /**\n        * The team data\n        */\n        team: PropTypes.object,\n\n        /**\n        * The request state for addOAuthApp action. Contains status and error\n        */\n        addOAuthAppRequest: PropTypes.object.isRequired,\n\n        /**\n        * Set if the current user is a system admin\n        */\n        isSystemAdmin: PropTypes.bool,\n\n        actions: PropTypes.shape({\n\n            /**\n            * The function to call to add new OAuthApp\n            */\n            addOAuthApp: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            serverError: ''\n        };\n    }\n\n    addOAuthApp = async (app) => {\n        this.setState({serverError: ''});\n\n        const data = await this.props.actions.addOAuthApp(app);\n        if (data) {\n            browserHistory.push(`/${this.props.team.name}/integrations/confirm?type=oauth2-apps&id=${data.id}`);\n            return;\n        }\n\n        if (this.props.addOAuthAppRequest.error) {\n            this.setState({serverError: this.props.addOAuthAppRequest.error.message});\n        }\n    }\n\n    render() {\n        return (\n            <AbstractOAuthApp\n                team={this.props.team}\n                isSystemAdmin={this.props.isSystemAdmin}\n                header={HEADER}\n                footer={FOOTER}\n                renderExtra={''}\n                action={this.addOAuthApp}\n                serverError={this.state.serverError}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/integrations/components/add_oauth_app/add_oauth_app.jsx"],"sourceRoot":""}