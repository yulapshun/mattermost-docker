webpackJsonp([33],{

/***/ 2222:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(7);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(5);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(6);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(8);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(9);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(18);\n\nvar _es = __webpack_require__(45);\n\nvar _channel_store = __webpack_require__(34);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _team_store = __webpack_require__(38);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _channel_header = __webpack_require__(2184);\n\nvar _channel_header2 = _interopRequireDefault(_channel_header);\n\nvar _post_view = __webpack_require__(2185);\n\nvar _post_view2 = _interopRequireDefault(_post_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PermalinkView = function (_React$PureComponent) {\n    (0, _inherits3.default)(PermalinkView, _React$PureComponent);\n\n    function PermalinkView(props) {\n        (0, _classCallCheck3.default)(this, PermalinkView);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (PermalinkView.__proto__ || (0, _getPrototypeOf2.default)(PermalinkView)).call(this, props));\n\n        _this.getStateFromStores = _this.getStateFromStores.bind(_this);\n        _this.isStateValid = _this.isStateValid.bind(_this);\n        _this.updateState = _this.updateState.bind(_this);\n\n        _this.state = _this.getStateFromStores(props);\n        return _this;\n    }\n\n    (0, _createClass3.default)(PermalinkView, [{\n        key: 'getStateFromStores',\n        value: function getStateFromStores(props) {\n            var postId = props.params.postid;\n            var channel = _channel_store2.default.getCurrent();\n            var channelId = channel ? channel.id : '';\n            var channelName = channel ? channel.name : '';\n            var team = _team_store2.default.getCurrent();\n            var teamName = team ? team.name : '';\n            return {\n                channelId: channelId,\n                channelName: channelName,\n                teamName: teamName,\n                postId: postId\n            };\n        }\n    }, {\n        key: 'isStateValid',\n        value: function isStateValid() {\n            return this.state.channelId !== '' && this.state.teamName;\n        }\n    }, {\n        key: 'updateState',\n        value: function updateState() {\n            this.setState(this.getStateFromStores(this.props));\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _channel_store2.default.addChangeListener(this.updateState);\n            _team_store2.default.addChangeListener(this.updateState);\n\n            (0, _jquery2.default)('body').addClass('app__body');\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _channel_store2.default.removeChangeListener(this.updateState);\n            _team_store2.default.removeChangeListener(this.updateState);\n\n            (0, _jquery2.default)('body').removeClass('app__body');\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            this.setState(this.getStateFromStores(nextProps));\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.isStateValid()) {\n                return null;\n            }\n            return _react2.default.createElement(\n                'div',\n                {\n                    id: 'app-content',\n                    className: 'app__content'\n                },\n                _react2.default.createElement(_channel_header2.default, {\n                    channelId: this.state.channelId\n                }),\n                _react2.default.createElement(_post_view2.default, {\n                    channelId: this.state.channelId,\n                    focusedPostId: this.state.postId\n                }),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        id: 'archive-link-home'\n                    },\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            to: '/' + this.state.teamName + '/channels/' + this.state.channelName\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'center_panel.recent',\n                            defaultMessage: 'Click here to jump to recent messages. '\n                        }),\n                        _react2.default.createElement('i', { className: 'fa fa-arrow-down' })\n                    )\n                )\n            );\n        }\n    }]);\n    return PermalinkView;\n}(_react2.default.PureComponent); // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nPermalinkView.propTypes = {\n    params: _propTypes2.default.object.isRequired\n};\nexports.default = PermalinkView;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIyMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL3Blcm1hbGlua192aWV3LmpzeD9mYzgzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAxNi1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMaWNlbnNlLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcblxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge0Zvcm1hdHRlZE1lc3NhZ2V9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IHtMaW5rfSBmcm9tICdyZWFjdC1yb3V0ZXIvZXM2JztcblxuaW1wb3J0IENoYW5uZWxTdG9yZSBmcm9tICdzdG9yZXMvY2hhbm5lbF9zdG9yZS5qc3gnO1xuaW1wb3J0IFRlYW1TdG9yZSBmcm9tICdzdG9yZXMvdGVhbV9zdG9yZS5qc3gnO1xuXG5pbXBvcnQgQ2hhbm5lbEhlYWRlciBmcm9tICdjb21wb25lbnRzL2NoYW5uZWxfaGVhZGVyJztcbmltcG9ydCBQb3N0VmlldyBmcm9tICdjb21wb25lbnRzL3Bvc3Rfdmlldyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBlcm1hbGlua1ZpZXcgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICBwYXJhbXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLmdldFN0YXRlRnJvbVN0b3JlcyA9IHRoaXMuZ2V0U3RhdGVGcm9tU3RvcmVzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNTdGF0ZVZhbGlkID0gdGhpcy5pc1N0YXRlVmFsaWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSA9IHRoaXMudXBkYXRlU3RhdGUuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5nZXRTdGF0ZUZyb21TdG9yZXMocHJvcHMpO1xuICAgIH1cblxuICAgIGdldFN0YXRlRnJvbVN0b3Jlcyhwcm9wcykge1xuICAgICAgICBjb25zdCBwb3N0SWQgPSBwcm9wcy5wYXJhbXMucG9zdGlkO1xuICAgICAgICBjb25zdCBjaGFubmVsID0gQ2hhbm5lbFN0b3JlLmdldEN1cnJlbnQoKTtcbiAgICAgICAgY29uc3QgY2hhbm5lbElkID0gY2hhbm5lbCA/IGNoYW5uZWwuaWQgOiAnJztcbiAgICAgICAgY29uc3QgY2hhbm5lbE5hbWUgPSBjaGFubmVsID8gY2hhbm5lbC5uYW1lIDogJyc7XG4gICAgICAgIGNvbnN0IHRlYW0gPSBUZWFtU3RvcmUuZ2V0Q3VycmVudCgpO1xuICAgICAgICBjb25zdCB0ZWFtTmFtZSA9IHRlYW0gPyB0ZWFtLm5hbWUgOiAnJztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNoYW5uZWxJZCxcbiAgICAgICAgICAgIGNoYW5uZWxOYW1lLFxuICAgICAgICAgICAgdGVhbU5hbWUsXG4gICAgICAgICAgICBwb3N0SWRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpc1N0YXRlVmFsaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmNoYW5uZWxJZCAhPT0gJycgJiYgdGhpcy5zdGF0ZS50ZWFtTmFtZTtcbiAgICB9XG5cbiAgICB1cGRhdGVTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh0aGlzLmdldFN0YXRlRnJvbVN0b3Jlcyh0aGlzLnByb3BzKSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIENoYW5uZWxTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLnVwZGF0ZVN0YXRlKTtcbiAgICAgICAgVGVhbVN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMudXBkYXRlU3RhdGUpO1xuXG4gICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnYXBwX19ib2R5Jyk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIENoYW5uZWxTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLnVwZGF0ZVN0YXRlKTtcbiAgICAgICAgVGVhbVN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMudXBkYXRlU3RhdGUpO1xuXG4gICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnYXBwX19ib2R5Jyk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh0aGlzLmdldFN0YXRlRnJvbVN0b3JlcyhuZXh0UHJvcHMpKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0YXRlVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBpZD0nYXBwLWNvbnRlbnQnXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdhcHBfX2NvbnRlbnQnXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPENoYW5uZWxIZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbElkPXt0aGlzLnN0YXRlLmNoYW5uZWxJZH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxQb3N0Vmlld1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsSWQ9e3RoaXMuc3RhdGUuY2hhbm5lbElkfVxuICAgICAgICAgICAgICAgICAgICBmb2N1c2VkUG9zdElkPXt0aGlzLnN0YXRlLnBvc3RJZH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgaWQ9J2FyY2hpdmUtbGluay1ob21lJ1xuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvPXsnLycgKyB0aGlzLnN0YXRlLnRlYW1OYW1lICsgJy9jaGFubmVscy8nICsgdGhpcy5zdGF0ZS5jaGFubmVsTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nY2VudGVyX3BhbmVsLnJlY2VudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nQ2xpY2sgaGVyZSB0byBqdW1wIHRvIHJlY2VudCBtZXNzYWdlcy4gJ1xuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT0nZmEgZmEtYXJyb3ctZG93bicvPlxuICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY29tcG9uZW50cy9wZXJtYWxpbmtfdmlldy5qc3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0E7QUFDQTs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUNBOzs7QUFLQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBUUE7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFQQTtBQUhBO0FBWEE7QUEwQkE7OztBQXZGQTtBQWZBO0FBQ0E7QUFjQTtBQUVBO0FBREE7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2222\n");

/***/ })

});