{"version":3,"sources":["webpack:///33.072203169b727f4c5b0c.js","webpack:///./components/permalink_view.jsx"],"names":["webpackJsonp","2138","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_jquery","_jquery2","_propTypes","_propTypes2","_react","_react2","_reactIntl","_es","_channel_store","_channel_store2","_team_store","_team_store2","_channel_header","_channel_header2","_post_view","_post_view2","PermalinkView","_React$PureComponent","props","this","_this","__proto__","call","getStateFromStores","bind","isStateValid","updateState","state","key","postId","params","postid","channel","getCurrent","channelId","id","channelName","name","team","teamName","setState","addChangeListener","addClass","removeChangeListener","removeClass","nextProps","createElement","className","focusedPostId","Link","to","FormattedMessage","defaultMessage","PureComponent","propTypes","object","isRequired"],"mappings":"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","file":"33.072203169b727f4c5b0c.js","sourcesContent":["webpackJsonp([33],{\n\n/***/ 2138:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _es = __webpack_require__(44);\n\nvar _channel_store = __webpack_require__(32);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _team_store = __webpack_require__(35);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _channel_header = __webpack_require__(2100);\n\nvar _channel_header2 = _interopRequireDefault(_channel_header);\n\nvar _post_view = __webpack_require__(2101);\n\nvar _post_view2 = _interopRequireDefault(_post_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PermalinkView = function (_React$PureComponent) {\n    (0, _inherits3.default)(PermalinkView, _React$PureComponent);\n\n    function PermalinkView(props) {\n        (0, _classCallCheck3.default)(this, PermalinkView);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (PermalinkView.__proto__ || (0, _getPrototypeOf2.default)(PermalinkView)).call(this, props));\n\n        _this.getStateFromStores = _this.getStateFromStores.bind(_this);\n        _this.isStateValid = _this.isStateValid.bind(_this);\n        _this.updateState = _this.updateState.bind(_this);\n\n        _this.state = _this.getStateFromStores(props);\n        return _this;\n    }\n\n    (0, _createClass3.default)(PermalinkView, [{\n        key: 'getStateFromStores',\n        value: function getStateFromStores(props) {\n            var postId = props.params.postid;\n            var channel = _channel_store2.default.getCurrent();\n            var channelId = channel ? channel.id : '';\n            var channelName = channel ? channel.name : '';\n            var team = _team_store2.default.getCurrent();\n            var teamName = team ? team.name : '';\n            return {\n                channelId: channelId,\n                channelName: channelName,\n                teamName: teamName,\n                postId: postId\n            };\n        }\n    }, {\n        key: 'isStateValid',\n        value: function isStateValid() {\n            return this.state.channelId !== '' && this.state.teamName;\n        }\n    }, {\n        key: 'updateState',\n        value: function updateState() {\n            this.setState(this.getStateFromStores(this.props));\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _channel_store2.default.addChangeListener(this.updateState);\n            _team_store2.default.addChangeListener(this.updateState);\n\n            (0, _jquery2.default)('body').addClass('app__body');\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _channel_store2.default.removeChangeListener(this.updateState);\n            _team_store2.default.removeChangeListener(this.updateState);\n\n            (0, _jquery2.default)('body').removeClass('app__body');\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            this.setState(this.getStateFromStores(nextProps));\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.isStateValid()) {\n                return null;\n            }\n            return _react2.default.createElement(\n                'div',\n                {\n                    id: 'app-content',\n                    className: 'app__content'\n                },\n                _react2.default.createElement(_channel_header2.default, {\n                    channelId: this.state.channelId\n                }),\n                _react2.default.createElement(_post_view2.default, {\n                    channelId: this.state.channelId,\n                    focusedPostId: this.state.postId\n                }),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        id: 'archive-link-home'\n                    },\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            to: '/' + this.state.teamName + '/channels/' + this.state.channelName\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'center_panel.recent',\n                            defaultMessage: 'Click here to jump to recent messages. '\n                        }),\n                        _react2.default.createElement('i', { className: 'fa fa-arrow-down' })\n                    )\n                )\n            );\n        }\n    }]);\n    return PermalinkView;\n}(_react2.default.PureComponent); // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nPermalinkView.propTypes = {\n    params: _propTypes2.default.object.isRequired\n};\nexports.default = PermalinkView;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 33.072203169b727f4c5b0c.js","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router/es6';\n\nimport ChannelStore from 'stores/channel_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\n\nimport ChannelHeader from 'components/channel_header';\nimport PostView from 'components/post_view';\n\nexport default class PermalinkView extends React.PureComponent {\n    static propTypes = {\n        params: PropTypes.object.isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.getStateFromStores = this.getStateFromStores.bind(this);\n        this.isStateValid = this.isStateValid.bind(this);\n        this.updateState = this.updateState.bind(this);\n\n        this.state = this.getStateFromStores(props);\n    }\n\n    getStateFromStores(props) {\n        const postId = props.params.postid;\n        const channel = ChannelStore.getCurrent();\n        const channelId = channel ? channel.id : '';\n        const channelName = channel ? channel.name : '';\n        const team = TeamStore.getCurrent();\n        const teamName = team ? team.name : '';\n        return {\n            channelId,\n            channelName,\n            teamName,\n            postId\n        };\n    }\n\n    isStateValid() {\n        return this.state.channelId !== '' && this.state.teamName;\n    }\n\n    updateState() {\n        this.setState(this.getStateFromStores(this.props));\n    }\n\n    componentDidMount() {\n        ChannelStore.addChangeListener(this.updateState);\n        TeamStore.addChangeListener(this.updateState);\n\n        $('body').addClass('app__body');\n    }\n\n    componentWillUnmount() {\n        ChannelStore.removeChangeListener(this.updateState);\n        TeamStore.removeChangeListener(this.updateState);\n\n        $('body').removeClass('app__body');\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.setState(this.getStateFromStores(nextProps));\n    }\n\n    render() {\n        if (!this.isStateValid()) {\n            return null;\n        }\n        return (\n            <div\n                id='app-content'\n                className='app__content'\n            >\n                <ChannelHeader\n                    channelId={this.state.channelId}\n                />\n                <PostView\n                    channelId={this.state.channelId}\n                    focusedPostId={this.state.postId}\n                />\n                <div\n                    id='archive-link-home'\n                >\n                    <Link\n                        to={'/' + this.state.teamName + '/channels/' + this.state.channelName}\n                    >\n                        <FormattedMessage\n                            id='center_panel.recent'\n                            defaultMessage='Click here to jump to recent messages. '\n                        />\n                        <i className='fa fa-arrow-down'/>\n                    </Link>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/permalink_view.jsx"],"sourceRoot":""}