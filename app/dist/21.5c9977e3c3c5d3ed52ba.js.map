{"version":3,"sources":["webpack:///21.5c9977e3c3c5d3ed52ba.js","webpack:///./components/integrations/components/edit_command/index.js","webpack:///./components/integrations/components/edit_command/edit_command.jsx"],"names":["webpackJsonp","2133","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","mapStateToProps","state","ownProps","commandId","location","query","id","_extends3","commands","_integrations2","getCommands","editCommandRequest","requests","integrations","editCommand","mapDispatchToProps","dispatch","actions","_redux","bindActionCreators","getCustomTeamCommands","Object","defineProperty","value","_extends2","_reactRedux","_integrations","_edit_command","_edit_command2","connect","2377","_values","_values2","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_propTypes","_propTypes2","_react","_react2","_reactIntl","_es","_loading_screen","_loading_screen2","_confirm_modal","_confirm_modal2","_abstract_command","_abstract_command2","HEADER","defaultMessage","FOOTER","EditCommand","_React$PureComponent","props","_this2","this","_this","__proto__","call","_ref","mark","_callee","command","wrap","_context","prev","next","newCommand","originalCommand","url","trigger","method","handleConfirmModal","submitCommand","stop","_x","apply","arguments","setState","showConfirmModal","confirmModalDismissed","_callee2","data","_context2","serverError","sent","browserHistory","push","team","name","abrupt","error","message","renderExtra","confirmButton","createElement","FormattedMessage","confirmTitle","confirmMessage","title","confirmButtonText","show","onConfirm","onCancel","key","_this3","window","mm_config","EnableCommands","then","filter","header","footer","action","initialCommand","PureComponent","propTypes","object","isRequired","string","shape","func"],"mappings":"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","file":"21.5c9977e3c3c5d3ed52ba.js","sourcesContent":["webpackJsonp([21],{\n\n/***/ 2133:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(31);\n\nvar _redux = __webpack_require__(20);\n\nvar _integrations = __webpack_require__(735);\n\nvar _integrations2 = __webpack_require__(2084);\n\nvar _edit_command = __webpack_require__(2377);\n\nvar _edit_command2 = _interopRequireDefault(_edit_command);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mapStateToProps(state, ownProps) {\n    var commandId = ownProps.location.query.id;\n\n    return (0, _extends3.default)({}, ownProps, {\n        commandId: commandId,\n        commands: (0, _integrations2.getCommands)(state),\n        editCommandRequest: state.requests.integrations.editCommand\n    });\n} // Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getCustomTeamCommands: _integrations.getCustomTeamCommands,\n            editCommand: _integrations.editCommand\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_edit_command2.default);\n\n/***/ }),\n\n/***/ 2377:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _values = __webpack_require__(310);\n\nvar _values2 = _interopRequireDefault(_values);\n\nvar _regenerator = __webpack_require__(76);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(77);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _es = __webpack_require__(44);\n\nvar _loading_screen = __webpack_require__(236);\n\nvar _loading_screen2 = _interopRequireDefault(_loading_screen);\n\nvar _confirm_modal = __webpack_require__(311);\n\nvar _confirm_modal2 = _interopRequireDefault(_confirm_modal);\n\nvar _abstract_command = __webpack_require__(2093);\n\nvar _abstract_command2 = _interopRequireDefault(_abstract_command);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HEADER = { id: 'integrations.edit', defaultMessage: 'Edit' }; // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar FOOTER = { id: 'edit_command.save', defaultMessage: 'Update' };\n\nvar EditCommand = function (_React$PureComponent) {\n    (0, _inherits3.default)(EditCommand, _React$PureComponent);\n\n    function EditCommand(props) {\n        var _this2 = this;\n\n        (0, _classCallCheck3.default)(this, EditCommand);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (EditCommand.__proto__ || (0, _getPrototypeOf2.default)(EditCommand)).call(this, props));\n\n        _this.editCommand = function () {\n            var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(command) {\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _this.newCommand = command;\n\n                                if (_this.state.originalCommand.id) {\n                                    command.id = _this.state.originalCommand.id;\n                                }\n\n                                if (!(_this.state.originalCommand.url !== _this.newCommand.url || _this.state.originalCommand.trigger !== _this.newCommand.trigger || _this.state.originalCommand.method !== _this.newCommand.method)) {\n                                    _context.next = 6;\n                                    break;\n                                }\n\n                                _this.handleConfirmModal();\n                                _context.next = 8;\n                                break;\n\n                            case 6:\n                                _context.next = 8;\n                                return _this.submitCommand();\n\n                            case 8:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, _this2);\n            }));\n\n            return function (_x) {\n                return _ref.apply(this, arguments);\n            };\n        }();\n\n        _this.handleConfirmModal = function () {\n            _this.setState({ showConfirmModal: true });\n        };\n\n        _this.confirmModalDismissed = function () {\n            _this.setState({ showConfirmModal: false });\n        };\n\n        _this.submitCommand = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2() {\n            var data;\n            return _regenerator2.default.wrap(function _callee2$(_context2) {\n                while (1) {\n                    switch (_context2.prev = _context2.next) {\n                        case 0:\n                            _this.setState({ serverError: '' });\n\n                            _context2.next = 3;\n                            return _this.props.actions.editCommand(_this.newCommand);\n\n                        case 3:\n                            data = _context2.sent;\n\n                            if (!data) {\n                                _context2.next = 7;\n                                break;\n                            }\n\n                            _es.browserHistory.push('/' + _this.props.team.name + '/integrations/commands');\n                            return _context2.abrupt('return');\n\n                        case 7:\n\n                            _this.setState({ showConfirmModal: false });\n\n                            if (_this.props.editCommandRequest.error) {\n                                _this.setState({ serverError: _this.props.editCommandRequest.error.message });\n                            }\n\n                        case 9:\n                        case 'end':\n                            return _context2.stop();\n                    }\n                }\n            }, _callee2, _this2);\n        }));\n\n        _this.renderExtra = function () {\n            var confirmButton = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'update_command.update',\n                defaultMessage: 'Update'\n            });\n\n            var confirmTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'update_command.confirm',\n                defaultMessage: 'Edit Slash Command'\n            });\n\n            var confirmMessage = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'update_command.question',\n                defaultMessage: 'Your changes may break the existing slash command. Are you sure you would like to update it?'\n            });\n\n            return _react2.default.createElement(_confirm_modal2.default, {\n                title: confirmTitle,\n                message: confirmMessage,\n                confirmButtonText: confirmButton,\n                show: _this.state.showConfirmModal,\n                onConfirm: _this.submitCommand,\n                onCancel: _this.confirmModalDismissed\n            });\n        };\n\n        _this.state = {\n            originalCommand: null,\n            showConfirmModal: false,\n            serverError: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(EditCommand, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this3 = this;\n\n            if (window.mm_config.EnableCommands === 'true') {\n                this.props.actions.getCustomTeamCommands(this.props.team.id).then(function () {\n                    _this3.setState({\n                        originalCommand: (0, _values2.default)(_this3.props.commands).filter(function (command) {\n                            return command.id === _this3.props.commandId;\n                        })[0]\n                    });\n                });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.state.originalCommand) {\n                return _react2.default.createElement(_loading_screen2.default, null);\n            }\n\n            return _react2.default.createElement(_abstract_command2.default, {\n                team: this.props.team,\n                header: HEADER,\n                footer: FOOTER,\n                renderExtra: this.renderExtra(),\n                action: this.editCommand,\n                serverError: this.state.serverError,\n                initialCommand: this.state.originalCommand\n            });\n        }\n    }]);\n    return EditCommand;\n}(_react2.default.PureComponent);\n\nEditCommand.propTypes = {\n\n    /**\n    * The current team\n    */\n    team: _propTypes2.default.object.isRequired,\n\n    /**\n    * The id of the command to edit\n    */\n    commandId: _propTypes2.default.string.isRequired,\n\n    /**\n    * Installed slash commands to display\n    */\n    commands: _propTypes2.default.object,\n\n    /**\n    * The request state for editCommand action. Contains status and error\n    */\n    editCommandRequest: _propTypes2.default.object.isRequired,\n\n    actions: _propTypes2.default.shape({\n\n        /**\n        * The function to call to fetch team commands\n        */\n        getCustomTeamCommands: _propTypes2.default.func.isRequired,\n\n        /**\n        * The function to call to edit command\n        */\n        editCommand: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = EditCommand;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 21.5c9977e3c3c5d3ed52ba.js","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {editCommand, getCustomTeamCommands} from 'mattermost-redux/actions/integrations';\nimport {getCommands} from 'mattermost-redux/selectors/entities/integrations';\n\nimport EditCommand from './edit_command.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const commandId = ownProps.location.query.id;\n\n    return {\n        ...ownProps,\n        commandId,\n        commands: getCommands(state),\n        editCommandRequest: state.requests.integrations.editCommand\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getCustomTeamCommands,\n            editCommand\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditCommand);\n\n\n\n// WEBPACK FOOTER //\n// ./components/integrations/components/edit_command/index.js","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {browserHistory} from 'react-router/es6';\n\nimport LoadingScreen from 'components/loading_screen.jsx';\nimport ConfirmModal from 'components/confirm_modal.jsx';\nimport AbstractCommand from '../abstract_command.jsx';\n\nconst HEADER = {id: 'integrations.edit', defaultMessage: 'Edit'};\nconst FOOTER = {id: 'edit_command.save', defaultMessage: 'Update'};\n\nexport default class EditCommand extends React.PureComponent {\n    static propTypes = {\n\n        /**\n        * The current team\n        */\n        team: PropTypes.object.isRequired,\n\n        /**\n        * The id of the command to edit\n        */\n        commandId: PropTypes.string.isRequired,\n\n        /**\n        * Installed slash commands to display\n        */\n        commands: PropTypes.object,\n\n        /**\n        * The request state for editCommand action. Contains status and error\n        */\n        editCommandRequest: PropTypes.object.isRequired,\n\n        actions: PropTypes.shape({\n\n            /**\n            * The function to call to fetch team commands\n            */\n            getCustomTeamCommands: PropTypes.func.isRequired,\n\n            /**\n            * The function to call to edit command\n            */\n            editCommand: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            originalCommand: null,\n            showConfirmModal: false,\n            serverError: ''\n        };\n    }\n\n    componentDidMount() {\n        if (window.mm_config.EnableCommands === 'true') {\n            this.props.actions.getCustomTeamCommands(this.props.team.id).then(\n                () => {\n                    this.setState({\n                        originalCommand: Object.values(this.props.commands).filter((command) => command.id === this.props.commandId)[0]\n                    });\n                }\n            );\n        }\n    }\n\n    editCommand = async (command) => {\n        this.newCommand = command;\n\n        if (this.state.originalCommand.id) {\n            command.id = this.state.originalCommand.id;\n        }\n\n        if (this.state.originalCommand.url !== this.newCommand.url ||\n            this.state.originalCommand.trigger !== this.newCommand.trigger ||\n            this.state.originalCommand.method !== this.newCommand.method) {\n            this.handleConfirmModal();\n        } else {\n            await this.submitCommand();\n        }\n    }\n\n    handleConfirmModal = () => {\n        this.setState({showConfirmModal: true});\n    }\n\n    confirmModalDismissed = () => {\n        this.setState({showConfirmModal: false});\n    }\n\n    submitCommand = async () => {\n        this.setState({serverError: ''});\n\n        const data = await this.props.actions.editCommand(this.newCommand);\n\n        if (data) {\n            browserHistory.push(`/${this.props.team.name}/integrations/commands`);\n            return;\n        }\n\n        this.setState({showConfirmModal: false});\n\n        if (this.props.editCommandRequest.error) {\n            this.setState({serverError: this.props.editCommandRequest.error.message});\n        }\n    }\n\n    renderExtra = () => {\n        const confirmButton = (\n            <FormattedMessage\n                id='update_command.update'\n                defaultMessage='Update'\n            />\n        );\n\n        const confirmTitle = (\n            <FormattedMessage\n                id='update_command.confirm'\n                defaultMessage='Edit Slash Command'\n            />\n        );\n\n        const confirmMessage = (\n            <FormattedMessage\n                id='update_command.question'\n                defaultMessage='Your changes may break the existing slash command. Are you sure you would like to update it?'\n            />\n        );\n\n        return (\n            <ConfirmModal\n                title={confirmTitle}\n                message={confirmMessage}\n                confirmButtonText={confirmButton}\n                show={this.state.showConfirmModal}\n                onConfirm={this.submitCommand}\n                onCancel={this.confirmModalDismissed}\n            />\n        );\n    }\n\n    render() {\n        if (!this.state.originalCommand) {\n            return <LoadingScreen/>;\n        }\n\n        return (\n            <AbstractCommand\n                team={this.props.team}\n                header={HEADER}\n                footer={FOOTER}\n                renderExtra={this.renderExtra()}\n                action={this.editCommand}\n                serverError={this.state.serverError}\n                initialCommand={this.state.originalCommand}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/integrations/components/edit_command/edit_command.jsx"],"sourceRoot":""}