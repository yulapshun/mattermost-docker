{"version":3,"sources":["webpack:///50.26840b3b5a75e6d0e023.js","webpack:///./components/do_verify_email.jsx"],"names":["webpackJsonp","2146","module","exports","__webpack_require__","global","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_propTypes","_propTypes2","_react","_react2","_reactIntl","_es","_user_actions","_logo","_logo2","_back_button","_back_button2","_loading_screen","_loading_screen2","DoVerifyEmail","_React$Component","props","this","_this","__proto__","call","state","verifyStatus","serverError","key","_this2","verifyEmail","location","query","token","browserHistory","push","encodeURIComponent","email","err","createElement","FormattedMessage","id","defaultMessage","setState","className","src","window","mm_config","SiteName","Component","defaultProps","propTypes","object","isRequired"],"mappings":"AAAAA,cAAc,KAERC,KACA,SAAUC,EAAQC,EAASC,GAEjC,cAC4B,SAASC,GAoDrC,QAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAlDvFG,OAAOC,eAAeR,EAAS,cAC3BS,OAAO,GAGX,IAAIC,GAAkBT,EAAoB,GAEtCU,EAAmBR,EAAuBO,GAE1CE,EAAmBX,EAAoB,GAEvCY,EAAmBV,EAAuBS,GAE1CE,EAAgBb,EAAoB,GAEpCc,EAAgBZ,EAAuBW,GAEvCE,EAA8Bf,EAAoB,GAElDgB,EAA8Bd,EAAuBa,GAErDE,EAAajB,EAAoB,GAEjCkB,EAAahB,EAAuBe,GC3BxCE,EAAAnB,EAAA,GD+BIoB,EAAclB,EAAuBiB,GC9BzCE,EAAArB,EAAA,GDkCIsB,EAAUpB,EAAuBmB,GCjCrCE,EAAAvB,EAAA,IACAwB,EAAAxB,EAAA,IAEAyB,EAAAzB,EAAA,IAEA0B,EAAA1B,EAAA,MDsCI2B,EAASzB,EAAuBwB,GCpCpCE,EAAA5B,EAAA,MDwCI6B,EAAgB3B,EAAuB0B,GCtC3CE,EAAA9B,EAAA,KD0CI+B,EAAmB7B,EAAuB4B,GCxCzBE,ED+CD,SAAUC,GC9C1B,QAAAD,GAAYE,IAAO,EAAAtB,EAAAP,SAAA8B,KAAAH,EAAA,IAAAI,IAAA,EAAApB,EAAAX,SAAA8B,MAAAH,EAAAK,YAAA,EAAA3B,EAAAL,SAAA2B,IAAAM,KAAAH,KACTD,GADS,OAGfE,GAAKG,OACDC,aAAc,UACdC,YAAa,IALFL,ED4InB,OA7FA,EAAIlB,EAAWb,SAAS2B,EAAeC,IAcvC,EAAInB,EAAcT,SAAS2B,IACvBU,IAAK,qBACLlC,MAAO,WCtDU,GAAAmC,GAAAR,MACjB,EAAAV,EAAAmB,aACIT,KAAKD,MAAMW,SAASC,MAAMC,MAC1B,WACIvB,EAAAwB,eAAeC,KAAK,+BAAiCC,mBAAmBP,EAAKT,MAAMW,SAASC,MAAMK,SAEtG,SAACC,GACG,GAAIX,SACAW,KACAX,EACInB,EAAAjB,QAAAgD,cAAA9B,EAAA+B,kBACIC,GAAG,uCACHC,eAAe,kGAK3Bb,EAAKc,UACDjB,aAAc,UACdC,qBDwDZC,IAAK,SACLlC,MAAO,WClDP,GAAgC,YAA5B2B,KAAKI,MAAMC,aACX,MAAQlB,GAAAjB,QAAAgD,cAAAtB,EAAA1B,QAAA,KAGZ,IAAIoC,GAAc,IASlB,OARIN,MAAKI,MAAME,cACXA,EACInB,EAAAjB,QAAAgD,cAAA,OAAKK,UAAW,wBACZpC,EAAAjB,QAAAgD,cAAA,SAAOK,UAAU,iBAAiBvB,KAAKI,MAAME,eAMrDnB,EAAAjB,QAAAgD,cAAA,WACI/B,EAAAjB,QAAAgD,cAAAxB,EAAAxB,QAAA,MACAiB,EAAAjB,QAAAgD,cAAA,OAAKK,UAAU,aACXpC,EAAAjB,QAAAgD,cAAA,OAAKK,UAAU,0BACXpC,EAAAjB,QAAAgD,cAAA,OACIK,UAAU,mBACVC,IAAAhC,EAAAtB,UAEJiB,EAAAjB,QAAAgD,cAAA,OAAKK,UAAU,mBACXpC,EAAAjB,QAAAgD,cAAA,UAAKpD,EAAO2D,OAAOC,UAAUC,UAC7BxC,EAAAjB,QAAAgD,cAAA,MAAIK,UAAU,gBACVpC,EAAAjB,QAAAgD,cAAA9B,EAAA+B,kBACIC,GAAG,uBACHC,eAAe,6EAGtBf,UD2ElBT,GC7IgCV,EAAAjB,QAAM0D,UDgJjDhE,GAAQM,QChJa2B,EA2ErBA,EAAcgC,cACVnB,aAGJb,EAAciC,WACVpB,SAAUzB,EAAAf,QAAU6D,OAAOC,cD0EF7B,KAAKvC,EAASC,EAAoB","file":"50.26840b3b5a75e6d0e023.js","sourcesContent":["webpackJsonp([50],{\n\n/***/ 2146:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _es = __webpack_require__(44);\n\nvar _user_actions = __webpack_require__(69);\n\nvar _logo = __webpack_require__(2081);\n\nvar _logo2 = _interopRequireDefault(_logo);\n\nvar _back_button = __webpack_require__(2082);\n\nvar _back_button2 = _interopRequireDefault(_back_button);\n\nvar _loading_screen = __webpack_require__(236);\n\nvar _loading_screen2 = _interopRequireDefault(_loading_screen);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar DoVerifyEmail = function (_React$Component) {\n    (0, _inherits3.default)(DoVerifyEmail, _React$Component);\n\n    function DoVerifyEmail(props) {\n        (0, _classCallCheck3.default)(this, DoVerifyEmail);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (DoVerifyEmail.__proto__ || (0, _getPrototypeOf2.default)(DoVerifyEmail)).call(this, props));\n\n        _this.state = {\n            verifyStatus: 'pending',\n            serverError: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(DoVerifyEmail, [{\n        key: 'componentWillMount',\n        value: function componentWillMount() {\n            var _this2 = this;\n\n            (0, _user_actions.verifyEmail)(this.props.location.query.token, function () {\n                _es.browserHistory.push('/login?extra=verified&email=' + encodeURIComponent(_this2.props.location.query.email));\n            }, function (err) {\n                var serverError = void 0;\n                if (err) {\n                    serverError = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'signup_user_completed.invalid_invite',\n                        defaultMessage: 'The invite link was invalid.  Please speak with your Administrator to receive an invitation.'\n                    });\n                }\n\n                _this2.setState({\n                    verifyStatus: 'failure',\n                    serverError: serverError\n                });\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (this.state.verifyStatus !== 'failure') {\n                return _react2.default.createElement(_loading_screen2.default, null);\n            }\n\n            var serverError = null;\n            if (this.state.serverError) {\n                serverError = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'control-label' },\n                        this.state.serverError\n                    )\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(_back_button2.default, null),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'col-sm-12' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'signup-team__container' },\n                        _react2.default.createElement('img', {\n                            className: 'signup-team-logo',\n                            src: _logo2.default\n                        }),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'signup__content' },\n                            _react2.default.createElement(\n                                'h1',\n                                null,\n                                global.window.mm_config.SiteName\n                            ),\n                            _react2.default.createElement(\n                                'h4',\n                                { className: 'color--light' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'web.root.signup_info',\n                                    defaultMessage: 'All team communication in one place, searchable and accessible anywhere'\n                                })\n                            ),\n                            serverError\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return DoVerifyEmail;\n}(_react2.default.Component);\n\nexports.default = DoVerifyEmail;\n\n\nDoVerifyEmail.defaultProps = {\n    location: {}\n};\n\nDoVerifyEmail.propTypes = {\n    location: _propTypes2.default.object.isRequired\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 50.26840b3b5a75e6d0e023.js","// Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {browserHistory} from 'react-router/es6';\n\nimport {verifyEmail} from 'actions/user_actions.jsx';\n\nimport logoImage from 'images/logo.png';\n\nimport BackButton from 'components/common/back_button.jsx';\n\nimport LoadingScreen from './loading_screen.jsx';\n\nexport default class DoVerifyEmail extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            verifyStatus: 'pending',\n            serverError: ''\n        };\n    }\n\n    componentWillMount() {\n        verifyEmail(\n            this.props.location.query.token,\n            () => {\n                browserHistory.push('/login?extra=verified&email=' + encodeURIComponent(this.props.location.query.email));\n            },\n            (err) => {\n                let serverError;\n                if (err) {\n                    serverError = (\n                        <FormattedMessage\n                            id='signup_user_completed.invalid_invite'\n                            defaultMessage='The invite link was invalid.  Please speak with your Administrator to receive an invitation.'\n                        />\n                    );\n                }\n\n                this.setState({\n                    verifyStatus: 'failure',\n                    serverError\n                });\n            }\n        );\n    }\n\n    render() {\n        if (this.state.verifyStatus !== 'failure') {\n            return (<LoadingScreen/>);\n        }\n\n        let serverError = null;\n        if (this.state.serverError) {\n            serverError = (\n                <div className={'form-group has-error'}>\n                    <label className='control-label'>{this.state.serverError}</label>\n                </div>\n            );\n        }\n\n        return (\n            <div>\n                <BackButton/>\n                <div className='col-sm-12'>\n                    <div className='signup-team__container'>\n                        <img\n                            className='signup-team-logo'\n                            src={logoImage}\n                        />\n                        <div className='signup__content'>\n                            <h1>{global.window.mm_config.SiteName}</h1>\n                            <h4 className='color--light'>\n                                <FormattedMessage\n                                    id='web.root.signup_info'\n                                    defaultMessage='All team communication in one place, searchable and accessible anywhere'\n                                />\n                            </h4>\n                            {serverError}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nDoVerifyEmail.defaultProps = {\n    location: {}\n};\n\nDoVerifyEmail.propTypes = {\n    location: PropTypes.object.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/do_verify_email.jsx"],"sourceRoot":""}