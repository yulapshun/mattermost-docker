webpackJsonp([0],{

/***/ 2568:
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"files/2c9d31cec343005b617e3b39fdb20895.png\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU2OC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ltYWdlcy9mYXZpY29uL3JlZGZhdmljb24tMTZ4MTYucG5nP2RmOTgiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZmlsZXMvMmM5ZDMxY2VjMzQzMDA1YjYxN2UzYjM5ZmRiMjA4OTUucG5nXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9pbWFnZXMvZmF2aWNvbi9yZWRmYXZpY29uLTE2eDE2LnBuZ1xuLy8gbW9kdWxlIGlkID0gMjU2OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2568\n");

/***/ }),

/***/ 2569:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(20);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(33);\n\nvar _redux = __webpack_require__(22);\n\nvar _channels = __webpack_require__(68);\n\nvar _more_channels = __webpack_require__(2570);\n\nvar _more_channels2 = _interopRequireDefault(_more_channels);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps);\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getChannels: _channels.getChannels\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_more_channels2.default);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU2OS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL21vcmVfY2hhbm5lbHMvaW5kZXguanM/ZmUxYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTcgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExpY2Vuc2UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuXG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7YmluZEFjdGlvbkNyZWF0b3JzfSBmcm9tICdyZWR1eCc7XG5cbmltcG9ydCB7Z2V0Q2hhbm5lbHN9IGZyb20gJ21hdHRlcm1vc3QtcmVkdXgvYWN0aW9ucy9jaGFubmVscyc7XG5cbmltcG9ydCBNb3JlQ2hhbm5lbHMgZnJvbSAnLi9tb3JlX2NoYW5uZWxzLmpzeCc7XG5cbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgb3duUHJvcHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vd25Qcm9wc1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFjdGlvbnM6IGJpbmRBY3Rpb25DcmVhdG9ycyh7XG4gICAgICAgICAgICBnZXRDaGFubmVsc1xuICAgICAgICB9LCBkaXNwYXRjaClcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShNb3JlQ2hhbm5lbHMpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGNvbXBvbmVudHMvbW9yZV9jaGFubmVscy9pbmRleC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBVEE7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFLQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2569\n");

/***/ }),

/***/ 2570:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(7);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(5);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(6);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(8);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(9);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactAddonsPureRenderMixin = __webpack_require__(773);\n\nvar _reactAddonsPureRenderMixin2 = _interopRequireDefault(_reactAddonsPureRenderMixin);\n\nvar _reactBootstrap = __webpack_require__(41);\n\nvar _reactIntl = __webpack_require__(18);\n\nvar _es = __webpack_require__(45);\n\nvar _channel_actions = __webpack_require__(80);\n\nvar _channel_store = __webpack_require__(34);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _team_store = __webpack_require__(38);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(28);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _channel_utils = __webpack_require__(123);\n\nvar _constants = __webpack_require__(10);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _searchable_channel_list = __webpack_require__(2571);\n\nvar _searchable_channel_list2 = _interopRequireDefault(_searchable_channel_list);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CHANNELS_CHUNK_SIZE = 50; // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar CHANNELS_PER_PAGE = 50;\nvar SEARCH_TIMEOUT_MILLISECONDS = 100;\n\nvar MoreChannels = function (_React$Component) {\n    (0, _inherits3.default)(MoreChannels, _React$Component);\n\n    function MoreChannels(props) {\n        (0, _classCallCheck3.default)(this, MoreChannels);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (MoreChannels.__proto__ || (0, _getPrototypeOf2.default)(MoreChannels)).call(this, props));\n\n        _this.onChange = _this.onChange.bind(_this);\n        _this.handleJoin = _this.handleJoin.bind(_this);\n        _this.handleHide = _this.handleHide.bind(_this);\n        _this.handleExit = _this.handleExit.bind(_this);\n        _this.nextPage = _this.nextPage.bind(_this);\n        _this.search = _this.search.bind(_this);\n\n        _this.shouldComponentUpdate = _reactAddonsPureRenderMixin2.default.shouldComponentUpdate.bind(_this);\n\n        _this.searchTimeoutId = 0;\n\n        _this.state = {\n            show: true,\n            search: false,\n            channels: null,\n            serverError: null\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(MoreChannels, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _channel_store2.default.addChangeListener(this.onChange);\n            this.props.actions.getChannels(_team_store2.default.getCurrentId(), 0, CHANNELS_CHUNK_SIZE * 2);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _channel_store2.default.removeChangeListener(this.onChange);\n        }\n    }, {\n        key: 'handleHide',\n        value: function handleHide() {\n            this.setState({ show: false });\n        }\n    }, {\n        key: 'handleExit',\n        value: function handleExit() {\n            if (this.props.onModalDismissed) {\n                this.props.onModalDismissed();\n            }\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange(force) {\n            if (this.state.search && !force) {\n                return;\n            }\n\n            this.setState({\n                channels: _channel_store2.default.getMoreChannelsList(),\n                serverError: null\n            });\n        }\n    }, {\n        key: 'nextPage',\n        value: function nextPage(page) {\n            this.props.actions.getChannels(_team_store2.default.getCurrentId(), page + 1, CHANNELS_PER_PAGE);\n        }\n    }, {\n        key: 'handleJoin',\n        value: function handleJoin(channel, done) {\n            var _this2 = this;\n\n            (0, _channel_actions.joinChannel)(channel, function () {\n                _es.browserHistory.push(_team_store2.default.getCurrentTeamRelativeUrl() + '/channels/' + channel.name);\n                if (done) {\n                    done();\n                }\n\n                _this2.handleHide();\n            }, function (err) {\n                _this2.setState({ serverError: err.message });\n                if (done) {\n                    done();\n                }\n            });\n        }\n    }, {\n        key: 'search',\n        value: function search(term) {\n            var _this3 = this;\n\n            clearTimeout(this.searchTimeoutId);\n\n            if (term === '') {\n                this.onChange(true);\n                this.setState({ search: false });\n                this.searchTimeoutId = '';\n                return;\n            }\n\n            var searchTimeoutId = setTimeout(function () {\n                (0, _channel_actions.searchMoreChannels)(term, function (channels) {\n                    if (searchTimeoutId !== _this3.searchTimeoutId) {\n                        return;\n                    }\n                    _this3.setState({ search: true, channels: channels });\n                });\n            }, SEARCH_TIMEOUT_MILLISECONDS);\n\n            this.searchTimeoutId = searchTimeoutId;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var serverError = void 0;\n            if (this.state.serverError) {\n                serverError = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'control-label' },\n                        this.state.serverError\n                    )\n                );\n            }\n\n            var createNewChannelButton = _react2.default.createElement(\n                'button',\n                {\n                    id: 'createNewChannel',\n                    type: 'button',\n                    className: 'btn btn-primary channel-create-btn',\n                    onClick: this.props.handleNewChannel\n                },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'more_channels.create',\n                    defaultMessage: 'Create New Channel'\n                })\n            );\n\n            var createChannelHelpText = _react2.default.createElement(\n                'p',\n                { className: 'secondary-message' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'more_channels.createClick',\n                    defaultMessage: 'Click \\'Create New Channel\\' to make a new one'\n                })\n            );\n\n            var isTeamAdmin = _team_store2.default.isTeamAdminForCurrentTeam();\n            var isSystemAdmin = _user_store2.default.isSystemAdminForCurrentUser();\n\n            if (!(0, _channel_utils.showCreateOption)(_constants2.default.OPEN_CHANNEL, isTeamAdmin, isSystemAdmin)) {\n                createNewChannelButton = null;\n                createChannelHelpText = null;\n            }\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    dialogClassName: 'more-modal more-modal--action',\n                    show: this.state.show,\n                    onHide: this.handleHide,\n                    onExited: this.handleExit\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'more_channels.title',\n                            defaultMessage: 'More Channels'\n                        })\n                    ),\n                    createNewChannelButton\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    null,\n                    _react2.default.createElement(_searchable_channel_list2.default, {\n                        channels: this.state.channels,\n                        channelsPerPage: CHANNELS_PER_PAGE,\n                        nextPage: this.nextPage,\n                        isSearch: this.state.search,\n                        search: this.search,\n                        handleJoin: this.handleJoin,\n                        noResultsText: createChannelHelpText\n                    }),\n                    serverError\n                )\n            );\n        }\n    }]);\n    return MoreChannels;\n}(_react2.default.Component);\n\nMoreChannels.propTypes = {\n    onModalDismissed: _propTypes2.default.func,\n    handleNewChannel: _propTypes2.default.func,\n    actions: _propTypes2.default.shape({\n        getChannels: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = MoreChannels;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU3MC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL21vcmVfY2hhbm5lbHMvbW9yZV9jaGFubmVscy5qc3g/N2IxYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTGljZW5zZS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFB1cmVSZW5kZXJNaXhpbiBmcm9tICdyZWFjdC1hZGRvbnMtcHVyZS1yZW5kZXItbWl4aW4nO1xuaW1wb3J0IHtNb2RhbH0gZnJvbSAncmVhY3QtYm9vdHN0cmFwJztcbmltcG9ydCB7Rm9ybWF0dGVkTWVzc2FnZX0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQge2Jyb3dzZXJIaXN0b3J5fSBmcm9tICdyZWFjdC1yb3V0ZXIvZXM2JztcblxuaW1wb3J0IHtqb2luQ2hhbm5lbCwgc2VhcmNoTW9yZUNoYW5uZWxzfSBmcm9tICdhY3Rpb25zL2NoYW5uZWxfYWN0aW9ucy5qc3gnO1xuaW1wb3J0IENoYW5uZWxTdG9yZSBmcm9tICdzdG9yZXMvY2hhbm5lbF9zdG9yZS5qc3gnO1xuaW1wb3J0IFRlYW1TdG9yZSBmcm9tICdzdG9yZXMvdGVhbV9zdG9yZS5qc3gnO1xuaW1wb3J0IFVzZXJTdG9yZSBmcm9tICdzdG9yZXMvdXNlcl9zdG9yZS5qc3gnO1xuXG5pbXBvcnQge3Nob3dDcmVhdGVPcHRpb259IGZyb20gJ3V0aWxzL2NoYW5uZWxfdXRpbHMuanN4JztcbmltcG9ydCBDb25zdGFudHMgZnJvbSAndXRpbHMvY29uc3RhbnRzLmpzeCc7XG5cbmltcG9ydCBTZWFyY2hhYmxlQ2hhbm5lbExpc3QgZnJvbSAnY29tcG9uZW50cy9zZWFyY2hhYmxlX2NoYW5uZWxfbGlzdC5qc3gnO1xuXG5jb25zdCBDSEFOTkVMU19DSFVOS19TSVpFID0gNTA7XG5jb25zdCBDSEFOTkVMU19QRVJfUEFHRSA9IDUwO1xuY29uc3QgU0VBUkNIX1RJTUVPVVRfTUlMTElTRUNPTkRTID0gMTAwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb3JlQ2hhbm5lbHMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIG9uTW9kYWxEaXNtaXNzZWQ6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgICBoYW5kbGVOZXdDaGFubmVsOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgYWN0aW9uczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICAgIGdldENoYW5uZWxzOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG4gICAgICAgIH0pLmlzUmVxdWlyZWRcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5vbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVKb2luID0gdGhpcy5oYW5kbGVKb2luLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlSGlkZSA9IHRoaXMuaGFuZGxlSGlkZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUV4aXQgPSB0aGlzLmhhbmRsZUV4aXQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5uZXh0UGFnZSA9IHRoaXMubmV4dFBhZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSB0aGlzLnNlYXJjaC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gUHVyZVJlbmRlck1peGluLnNob3VsZENvbXBvbmVudFVwZGF0ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc2VhcmNoVGltZW91dElkID0gMDtcblxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgICAgIHNlYXJjaDogZmFsc2UsXG4gICAgICAgICAgICBjaGFubmVsczogbnVsbCxcbiAgICAgICAgICAgIHNlcnZlckVycm9yOiBudWxsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIENoYW5uZWxTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uQ2hhbmdlKTtcbiAgICAgICAgdGhpcy5wcm9wcy5hY3Rpb25zLmdldENoYW5uZWxzKFRlYW1TdG9yZS5nZXRDdXJyZW50SWQoKSwgMCwgQ0hBTk5FTFNfQ0hVTktfU0laRSAqIDIpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBDaGFubmVsU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlSGlkZSgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c2hvdzogZmFsc2V9KTtcbiAgICB9XG5cbiAgICBoYW5kbGVFeGl0KCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5vbk1vZGFsRGlzbWlzc2VkKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uTW9kYWxEaXNtaXNzZWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQ2hhbmdlKGZvcmNlKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNlYXJjaCAmJiAhZm9yY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgY2hhbm5lbHM6IENoYW5uZWxTdG9yZS5nZXRNb3JlQ2hhbm5lbHNMaXN0KCksXG4gICAgICAgICAgICBzZXJ2ZXJFcnJvcjogbnVsbFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBuZXh0UGFnZShwYWdlKSB7XG4gICAgICAgIHRoaXMucHJvcHMuYWN0aW9ucy5nZXRDaGFubmVscyhUZWFtU3RvcmUuZ2V0Q3VycmVudElkKCksIHBhZ2UgKyAxLCBDSEFOTkVMU19QRVJfUEFHRSk7XG4gICAgfVxuXG4gICAgaGFuZGxlSm9pbihjaGFubmVsLCBkb25lKSB7XG4gICAgICAgIGpvaW5DaGFubmVsKFxuICAgICAgICAgICAgY2hhbm5lbCxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKFRlYW1TdG9yZS5nZXRDdXJyZW50VGVhbVJlbGF0aXZlVXJsKCkgKyAnL2NoYW5uZWxzLycgKyBjaGFubmVsLm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUhpZGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c2VydmVyRXJyb3I6IGVyci5tZXNzYWdlfSk7XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzZWFyY2godGVybSkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hUaW1lb3V0SWQpO1xuXG4gICAgICAgIGlmICh0ZXJtID09PSAnJykge1xuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZSh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3NlYXJjaDogZmFsc2V9KTtcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoVGltZW91dElkID0gJyc7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZWFyY2hUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlYXJjaE1vcmVDaGFubmVscyhcbiAgICAgICAgICAgICAgICAgICAgdGVybSxcbiAgICAgICAgICAgICAgICAgICAgKGNoYW5uZWxzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoVGltZW91dElkICE9PSB0aGlzLnNlYXJjaFRpbWVvdXRJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3NlYXJjaDogdHJ1ZSwgY2hhbm5lbHN9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgU0VBUkNIX1RJTUVPVVRfTUlMTElTRUNPTkRTXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5zZWFyY2hUaW1lb3V0SWQgPSBzZWFyY2hUaW1lb3V0SWQ7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBsZXQgc2VydmVyRXJyb3I7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNlcnZlckVycm9yKSB7XG4gICAgICAgICAgICBzZXJ2ZXJFcnJvciA9IDxkaXYgY2xhc3NOYW1lPSdmb3JtLWdyb3VwIGhhcy1lcnJvcic+PGxhYmVsIGNsYXNzTmFtZT0nY29udHJvbC1sYWJlbCc+e3RoaXMuc3RhdGUuc2VydmVyRXJyb3J9PC9sYWJlbD48L2Rpdj47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3JlYXRlTmV3Q2hhbm5lbEJ1dHRvbiA9IChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBpZD0nY3JlYXRlTmV3Q2hhbm5lbCdcbiAgICAgICAgICAgICAgICB0eXBlPSdidXR0b24nXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdidG4gYnRuLXByaW1hcnkgY2hhbm5lbC1jcmVhdGUtYnRuJ1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuaGFuZGxlTmV3Q2hhbm5lbH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICBpZD0nbW9yZV9jaGFubmVscy5jcmVhdGUnXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdDcmVhdGUgTmV3IENoYW5uZWwnXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuXG4gICAgICAgIGxldCBjcmVhdGVDaGFubmVsSGVscFRleHQgPSAoXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9J3NlY29uZGFyeS1tZXNzYWdlJz5cbiAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICBpZD0nbW9yZV9jaGFubmVscy5jcmVhdGVDbGljaydcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9XCJDbGljayAnQ3JlYXRlIE5ldyBDaGFubmVsJyB0byBtYWtlIGEgbmV3IG9uZVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBpc1RlYW1BZG1pbiA9IFRlYW1TdG9yZS5pc1RlYW1BZG1pbkZvckN1cnJlbnRUZWFtKCk7XG4gICAgICAgIGNvbnN0IGlzU3lzdGVtQWRtaW4gPSBVc2VyU3RvcmUuaXNTeXN0ZW1BZG1pbkZvckN1cnJlbnRVc2VyKCk7XG5cbiAgICAgICAgaWYgKCFzaG93Q3JlYXRlT3B0aW9uKENvbnN0YW50cy5PUEVOX0NIQU5ORUwsIGlzVGVhbUFkbWluLCBpc1N5c3RlbUFkbWluKSkge1xuICAgICAgICAgICAgY3JlYXRlTmV3Q2hhbm5lbEJ1dHRvbiA9IG51bGw7XG4gICAgICAgICAgICBjcmVhdGVDaGFubmVsSGVscFRleHQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxNb2RhbFxuICAgICAgICAgICAgICAgIGRpYWxvZ0NsYXNzTmFtZT0nbW9yZS1tb2RhbCBtb3JlLW1vZGFsLS1hY3Rpb24nXG4gICAgICAgICAgICAgICAgc2hvdz17dGhpcy5zdGF0ZS5zaG93fVxuICAgICAgICAgICAgICAgIG9uSGlkZT17dGhpcy5oYW5kbGVIaWRlfVxuICAgICAgICAgICAgICAgIG9uRXhpdGVkPXt0aGlzLmhhbmRsZUV4aXR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPE1vZGFsLkhlYWRlciBjbG9zZUJ1dHRvbj17dHJ1ZX0+XG4gICAgICAgICAgICAgICAgICAgIDxNb2RhbC5UaXRsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J21vcmVfY2hhbm5lbHMudGl0bGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J01vcmUgQ2hhbm5lbHMnXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L01vZGFsLlRpdGxlPlxuICAgICAgICAgICAgICAgICAgICB7Y3JlYXRlTmV3Q2hhbm5lbEJ1dHRvbn1cbiAgICAgICAgICAgICAgICA8L01vZGFsLkhlYWRlcj5cbiAgICAgICAgICAgICAgICA8TW9kYWwuQm9keT5cbiAgICAgICAgICAgICAgICAgICAgPFNlYXJjaGFibGVDaGFubmVsTGlzdFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHM9e3RoaXMuc3RhdGUuY2hhbm5lbHN9XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsc1BlclBhZ2U9e0NIQU5ORUxTX1BFUl9QQUdFfVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFBhZ2U9e3RoaXMubmV4dFBhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1NlYXJjaD17dGhpcy5zdGF0ZS5zZWFyY2h9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2g9e3RoaXMuc2VhcmNofVxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlSm9pbj17dGhpcy5oYW5kbGVKb2lufVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9SZXN1bHRzVGV4dD17Y3JlYXRlQ2hhbm5lbEhlbHBUZXh0fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB7c2VydmVyRXJyb3J9XG4gICAgICAgICAgICAgICAgPC9Nb2RhbC5Cb2R5PlxuICAgICAgICAgICAgPC9Nb2RhbD5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY29tcG9uZW50cy9tb3JlX2NoYW5uZWxzL21vcmVfY2hhbm5lbHMuanN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTs7Ozs7QUFDQTtBQW5CQTtBQUNBO0FBbUJBO0FBQ0E7QUFDQTtBQUNBOzs7QUFTQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQWRBO0FBb0JBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFGQTtBQU5BO0FBQ0E7QUFZQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFNQTtBQVBBO0FBU0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7QUFWQTtBQWZBO0FBNkJBOzs7QUFwTEE7QUFDQTtBQURBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUhBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2570\n");

/***/ }),

/***/ 2571:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(7);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(5);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(6);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(8);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(9);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(48);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(18);\n\nvar _user_agent = __webpack_require__(90);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(17);\n\nvar _load = __webpack_require__(212);\n\nvar _load2 = _interopRequireDefault(_load);\n\nvar _loading_screen = __webpack_require__(238);\n\nvar _loading_screen2 = _interopRequireDefault(_loading_screen);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NEXT_BUTTON_TIMEOUT_MILLISECONDS = 500; // Copyright (c) 2016-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SearchableChannelList = function (_React$Component) {\n    (0, _inherits3.default)(SearchableChannelList, _React$Component);\n\n    function SearchableChannelList(props) {\n        (0, _classCallCheck3.default)(this, SearchableChannelList);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SearchableChannelList.__proto__ || (0, _getPrototypeOf2.default)(SearchableChannelList)).call(this, props));\n\n        _this.createChannelRow = _this.createChannelRow.bind(_this);\n        _this.nextPage = _this.nextPage.bind(_this);\n        _this.previousPage = _this.previousPage.bind(_this);\n        _this.doSearch = _this.doSearch.bind(_this);\n\n        _this.nextTimeoutId = 0;\n\n        _this.state = {\n            joiningChannel: '',\n            page: 0,\n            nextDisabled: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SearchableChannelList, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            // only focus the search box on desktop so that we don't cause the keyboard to open on mobile\n            if (!UserAgent.isMobile()) {\n                this.refs.filter.focus();\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            if (prevState.page !== this.state.page) {\n                (0, _jquery2.default)(this.refs.channelList).scrollTop(0);\n            }\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (nextProps.isSearch && !this.props.isSearch) {\n                this.setState({ page: 0 });\n            }\n        }\n    }, {\n        key: 'handleJoin',\n        value: function handleJoin(channel) {\n            var _this2 = this;\n\n            this.setState({ joiningChannel: channel.id });\n            this.props.handleJoin(channel, function () {\n                _this2.setState({ joiningChannel: '' });\n            });\n        }\n    }, {\n        key: 'createChannelRow',\n        value: function createChannelRow(channel) {\n            var joinButton = void 0;\n            if (this.state.joiningChannel === channel.id) {\n                joinButton = _react2.default.createElement('img', {\n                    className: 'join-channel-loading-gif',\n                    src: _load2.default\n                });\n            } else {\n                joinButton = _react2.default.createElement(\n                    'button',\n                    {\n                        onClick: this.handleJoin.bind(this, channel),\n                        className: 'btn btn-primary',\n                        disabled: this.state.joiningChannel !== '' && this.state.joiningChannel !== channel.id\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'more_channels.join',\n                        defaultMessage: 'Join'\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'more-modal__row',\n                    key: channel.id\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'more-modal__details' },\n                    _react2.default.createElement(\n                        'p',\n                        { className: 'more-modal__name' },\n                        channel.display_name\n                    ),\n                    _react2.default.createElement(\n                        'p',\n                        { className: 'more-modal__description' },\n                        channel.purpose\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'more-modal__actions' },\n                    joinButton\n                )\n            );\n        }\n    }, {\n        key: 'nextPage',\n        value: function nextPage(e) {\n            var _this3 = this;\n\n            e.preventDefault();\n            this.setState({ page: this.state.page + 1, nextDisabled: true });\n            this.nextTimeoutId = setTimeout(function () {\n                return _this3.setState({ nextDisabled: false });\n            }, NEXT_BUTTON_TIMEOUT_MILLISECONDS);\n            this.props.nextPage(this.state.page + 1);\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs.channelListScroll)).scrollTop(0);\n        }\n    }, {\n        key: 'previousPage',\n        value: function previousPage(e) {\n            e.preventDefault();\n            this.setState({ page: this.state.page - 1 });\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs.channelListScroll)).scrollTop(0);\n        }\n    }, {\n        key: 'doSearch',\n        value: function doSearch() {\n            var term = this.refs.filter.value;\n            this.props.search(term);\n            if (term === '') {\n                this.setState({ page: 0 });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var channels = this.props.channels;\n            var listContent = void 0;\n            var nextButton = void 0;\n            var previousButton = void 0;\n\n            if (channels == null) {\n                listContent = _react2.default.createElement(_loading_screen2.default, null);\n            } else if (channels.length === 0) {\n                listContent = _react2.default.createElement(\n                    'div',\n                    { className: 'no-channel-message' },\n                    _react2.default.createElement(\n                        'p',\n                        { className: 'primary-message' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'more_channels.noMore',\n                            defaultMessage: 'No more channels to join'\n                        })\n                    ),\n                    this.props.noResultsText\n                );\n            } else {\n                var pageStart = this.state.page * this.props.channelsPerPage;\n                var pageEnd = pageStart + this.props.channelsPerPage;\n                var channelsToDisplay = this.props.channels.slice(pageStart, pageEnd);\n                listContent = channelsToDisplay.map(this.createChannelRow);\n\n                if (channelsToDisplay.length >= this.props.channelsPerPage && pageEnd < this.props.channels.length) {\n                    nextButton = _react2.default.createElement(\n                        'button',\n                        {\n                            className: 'btn btn-default filter-control filter-control__next',\n                            onClick: this.nextPage,\n                            disabled: this.state.nextDisabled\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'more_channels.next',\n                            defaultMessage: 'Next'\n                        })\n                    );\n                }\n\n                if (this.state.page > 0) {\n                    previousButton = _react2.default.createElement(\n                        'button',\n                        {\n                            className: 'btn btn-default filter-control filter-control__prev',\n                            onClick: this.previousPage\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'more_channels.prev',\n                            defaultMessage: 'Previous'\n                        })\n                    );\n                }\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'filtered-user-list' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'filter-row' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'col-sm-12' },\n                        _react2.default.createElement('input', {\n                            id: 'searchChannelsTextbox',\n                            ref: 'filter',\n                            className: 'form-control filter-textbox',\n                            placeholder: (0, _utils.localizeMessage)('filtered_channels_list.search', 'Search channels'),\n                            onInput: this.doSearch\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'channelList',\n                        className: 'more-modal__list'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { ref: 'channelListScroll' },\n                        listContent\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'filter-controls' },\n                    previousButton,\n                    nextButton\n                )\n            );\n        }\n    }]);\n    return SearchableChannelList;\n}(_react2.default.Component);\n\nexports.default = SearchableChannelList;\n\n\nSearchableChannelList.defaultProps = {\n    channels: [],\n    isSearch: false\n};\n\nSearchableChannelList.propTypes = {\n    channels: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    channelsPerPage: _propTypes2.default.number,\n    nextPage: _propTypes2.default.func.isRequired,\n    isSearch: _propTypes2.default.bool,\n    search: _propTypes2.default.func.isRequired,\n    handleJoin: _propTypes2.default.func.isRequired,\n    noResultsText: _propTypes2.default.object\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU3MS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL3NlYXJjaGFibGVfY2hhbm5lbF9saXN0LmpzeD81NDFhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAxNi1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMaWNlbnNlLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcblxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7Rm9ybWF0dGVkTWVzc2FnZX0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmltcG9ydCAqIGFzIFVzZXJBZ2VudCBmcm9tICd1dGlscy91c2VyX2FnZW50LmpzeCc7XG5pbXBvcnQge2xvY2FsaXplTWVzc2FnZX0gZnJvbSAndXRpbHMvdXRpbHMuanN4JztcblxuaW1wb3J0IGxvYWRpbmdHaWYgZnJvbSAnaW1hZ2VzL2xvYWQuZ2lmJztcblxuaW1wb3J0IExvYWRpbmdTY3JlZW4gZnJvbSAnLi9sb2FkaW5nX3NjcmVlbi5qc3gnO1xuXG5jb25zdCBORVhUX0JVVFRPTl9USU1FT1VUX01JTExJU0VDT05EUyA9IDUwMDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VhcmNoYWJsZUNoYW5uZWxMaXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVDaGFubmVsUm93ID0gdGhpcy5jcmVhdGVDaGFubmVsUm93LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubmV4dFBhZ2UgPSB0aGlzLm5leHRQYWdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJldmlvdXNQYWdlID0gdGhpcy5wcmV2aW91c1BhZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kb1NlYXJjaCA9IHRoaXMuZG9TZWFyY2guYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLm5leHRUaW1lb3V0SWQgPSAwO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBqb2luaW5nQ2hhbm5lbDogJycsXG4gICAgICAgICAgICBwYWdlOiAwLFxuICAgICAgICAgICAgbmV4dERpc2FibGVkOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAvLyBvbmx5IGZvY3VzIHRoZSBzZWFyY2ggYm94IG9uIGRlc2t0b3Agc28gdGhhdCB3ZSBkb24ndCBjYXVzZSB0aGUga2V5Ym9hcmQgdG8gb3BlbiBvbiBtb2JpbGVcbiAgICAgICAgaWYgKCFVc2VyQWdlbnQuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgdGhpcy5yZWZzLmZpbHRlci5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICAgIGlmIChwcmV2U3RhdGUucGFnZSAhPT0gdGhpcy5zdGF0ZS5wYWdlKSB7XG4gICAgICAgICAgICAkKHRoaXMucmVmcy5jaGFubmVsTGlzdCkuc2Nyb2xsVG9wKDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgaWYgKG5leHRQcm9wcy5pc1NlYXJjaCAmJiAhdGhpcy5wcm9wcy5pc1NlYXJjaCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cGFnZTogMH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlSm9pbihjaGFubmVsKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2pvaW5pbmdDaGFubmVsOiBjaGFubmVsLmlkfSk7XG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlSm9pbihcbiAgICAgICAgICAgIGNoYW5uZWwsXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7am9pbmluZ0NoYW5uZWw6ICcnfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY3JlYXRlQ2hhbm5lbFJvdyhjaGFubmVsKSB7XG4gICAgICAgIGxldCBqb2luQnV0dG9uO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5qb2luaW5nQ2hhbm5lbCA9PT0gY2hhbm5lbC5pZCkge1xuICAgICAgICAgICAgam9pbkJ1dHRvbiA9IChcbiAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nam9pbi1jaGFubmVsLWxvYWRpbmctZ2lmJ1xuICAgICAgICAgICAgICAgICAgICBzcmM9e2xvYWRpbmdHaWZ9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBqb2luQnV0dG9uID0gKFxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVKb2luLmJpbmQodGhpcywgY2hhbm5lbCl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYnRuIGJ0bi1wcmltYXJ5J1xuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5qb2luaW5nQ2hhbm5lbCAhPT0gJycgJiYgdGhpcy5zdGF0ZS5qb2luaW5nQ2hhbm5lbCAhPT0gY2hhbm5lbC5pZH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD0nbW9yZV9jaGFubmVscy5qb2luJ1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0pvaW4nXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J21vcmUtbW9kYWxfX3JvdydcbiAgICAgICAgICAgICAgICBrZXk9e2NoYW5uZWwuaWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21vcmUtbW9kYWxfX2RldGFpbHMnPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J21vcmUtbW9kYWxfX25hbWUnPntjaGFubmVsLmRpc3BsYXlfbmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0nbW9yZS1tb2RhbF9fZGVzY3JpcHRpb24nPntjaGFubmVsLnB1cnBvc2V9PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtb3JlLW1vZGFsX19hY3Rpb25zJz5cbiAgICAgICAgICAgICAgICAgICAge2pvaW5CdXR0b259XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBuZXh0UGFnZShlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cGFnZTogdGhpcy5zdGF0ZS5wYWdlICsgMSwgbmV4dERpc2FibGVkOiB0cnVlfSk7XG4gICAgICAgIHRoaXMubmV4dFRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zZXRTdGF0ZSh7bmV4dERpc2FibGVkOiBmYWxzZX0pLCBORVhUX0JVVFRPTl9USU1FT1VUX01JTExJU0VDT05EUyk7XG4gICAgICAgIHRoaXMucHJvcHMubmV4dFBhZ2UodGhpcy5zdGF0ZS5wYWdlICsgMSk7XG4gICAgICAgICQoUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLmNoYW5uZWxMaXN0U2Nyb2xsKSkuc2Nyb2xsVG9wKDApO1xuICAgIH1cblxuICAgIHByZXZpb3VzUGFnZShlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cGFnZTogdGhpcy5zdGF0ZS5wYWdlIC0gMX0pO1xuICAgICAgICAkKFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5jaGFubmVsTGlzdFNjcm9sbCkpLnNjcm9sbFRvcCgwKTtcbiAgICB9XG5cbiAgICBkb1NlYXJjaCgpIHtcbiAgICAgICAgY29uc3QgdGVybSA9IHRoaXMucmVmcy5maWx0ZXIudmFsdWU7XG4gICAgICAgIHRoaXMucHJvcHMuc2VhcmNoKHRlcm0pO1xuICAgICAgICBpZiAodGVybSA9PT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3BhZ2U6IDB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgY2hhbm5lbHMgPSB0aGlzLnByb3BzLmNoYW5uZWxzO1xuICAgICAgICBsZXQgbGlzdENvbnRlbnQ7XG4gICAgICAgIGxldCBuZXh0QnV0dG9uO1xuICAgICAgICBsZXQgcHJldmlvdXNCdXR0b247XG5cbiAgICAgICAgaWYgKGNoYW5uZWxzID09IG51bGwpIHtcbiAgICAgICAgICAgIGxpc3RDb250ZW50ID0gPExvYWRpbmdTY3JlZW4vPjtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFubmVscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGxpc3RDb250ZW50ID0gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSduby1jaGFubmVsLW1lc3NhZ2UnPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3ByaW1hcnktbWVzc2FnZSc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdtb3JlX2NoYW5uZWxzLm5vTW9yZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nTm8gbW9yZSBjaGFubmVscyB0byBqb2luJ1xuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5ub1Jlc3VsdHNUZXh0fVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VTdGFydCA9IHRoaXMuc3RhdGUucGFnZSAqIHRoaXMucHJvcHMuY2hhbm5lbHNQZXJQYWdlO1xuICAgICAgICAgICAgY29uc3QgcGFnZUVuZCA9IHBhZ2VTdGFydCArIHRoaXMucHJvcHMuY2hhbm5lbHNQZXJQYWdlO1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbHNUb0Rpc3BsYXkgPSB0aGlzLnByb3BzLmNoYW5uZWxzLnNsaWNlKHBhZ2VTdGFydCwgcGFnZUVuZCk7XG4gICAgICAgICAgICBsaXN0Q29udGVudCA9IGNoYW5uZWxzVG9EaXNwbGF5Lm1hcCh0aGlzLmNyZWF0ZUNoYW5uZWxSb3cpO1xuXG4gICAgICAgICAgICBpZiAoY2hhbm5lbHNUb0Rpc3BsYXkubGVuZ3RoID49IHRoaXMucHJvcHMuY2hhbm5lbHNQZXJQYWdlICYmIHBhZ2VFbmQgPCB0aGlzLnByb3BzLmNoYW5uZWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG5leHRCdXR0b24gPSAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYnRuIGJ0bi1kZWZhdWx0IGZpbHRlci1jb250cm9sIGZpbHRlci1jb250cm9sX19uZXh0J1xuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5uZXh0UGFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLm5leHREaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nbW9yZV9jaGFubmVscy5uZXh0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdOZXh0J1xuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUucGFnZSA+IDApIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91c0J1dHRvbiA9IChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdidG4gYnRuLWRlZmF1bHQgZmlsdGVyLWNvbnRyb2wgZmlsdGVyLWNvbnRyb2xfX3ByZXYnXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByZXZpb3VzUGFnZX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nbW9yZV9jaGFubmVscy5wcmV2J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdQcmV2aW91cydcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZpbHRlcmVkLXVzZXItbGlzdCc+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZpbHRlci1yb3cnPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sLXNtLTEyJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdzZWFyY2hDaGFubmVsc1RleHRib3gnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPSdmaWx0ZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmb3JtLWNvbnRyb2wgZmlsdGVyLXRleHRib3gnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2xvY2FsaXplTWVzc2FnZSgnZmlsdGVyZWRfY2hhbm5lbHNfbGlzdC5zZWFyY2gnLCAnU2VhcmNoIGNoYW5uZWxzJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25JbnB1dD17dGhpcy5kb1NlYXJjaH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgcmVmPSdjaGFubmVsTGlzdCdcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdtb3JlLW1vZGFsX19saXN0J1xuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiByZWY9J2NoYW5uZWxMaXN0U2Nyb2xsJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtsaXN0Q29udGVudH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZpbHRlci1jb250cm9scyc+XG4gICAgICAgICAgICAgICAgICAgIHtwcmV2aW91c0J1dHRvbn1cbiAgICAgICAgICAgICAgICAgICAge25leHRCdXR0b259XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblNlYXJjaGFibGVDaGFubmVsTGlzdC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgY2hhbm5lbHM6IFtdLFxuICAgIGlzU2VhcmNoOiBmYWxzZVxufTtcblxuU2VhcmNoYWJsZUNoYW5uZWxMaXN0LnByb3BUeXBlcyA9IHtcbiAgICBjaGFubmVsczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9iamVjdCksXG4gICAgY2hhbm5lbHNQZXJQYWdlOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIG5leHRQYWdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIGlzU2VhcmNoOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBzZWFyY2g6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgaGFuZGxlSm9pbjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBub1Jlc3VsdHNUZXh0OiBQcm9wVHlwZXMub2JqZWN0XG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBjb21wb25lbnRzL3NlYXJjaGFibGVfY2hhbm5lbF9saXN0LmpzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHQTtBQUNBOzs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTs7Ozs7OztBQUNBO0FBaEJBO0FBQ0E7QUFpQkE7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFWQTtBQWVBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFMQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUZBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQVJBO0FBYUE7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBTUE7QUFQQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFGQTtBQUxBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFKQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBREE7QUFEQTtBQVdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFKQTtBQVFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQXBCQTtBQTBCQTs7O0FBaE1BO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFpTUE7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2571\n");

/***/ }),

/***/ 2572:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(20);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(33);\n\nvar _redux = __webpack_require__(22);\n\nvar _users = __webpack_require__(62);\n\nvar _more_direct_channels = __webpack_require__(2573);\n\nvar _more_direct_channels2 = _interopRequireDefault(_more_direct_channels);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps);\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getProfiles: _users.getProfiles,\n            getProfilesInTeam: _users.getProfilesInTeam\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_more_direct_channels2.default);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU3Mi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL21vcmVfZGlyZWN0X2NoYW5uZWxzL2luZGV4LmpzPzJhYTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDE3IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMaWNlbnNlLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0IHtjb25uZWN0fSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQge2JpbmRBY3Rpb25DcmVhdG9yc30gZnJvbSAncmVkdXgnO1xuXG5pbXBvcnQge2dldFByb2ZpbGVzLCBnZXRQcm9maWxlc0luVGVhbX0gZnJvbSAnbWF0dGVybW9zdC1yZWR1eC9hY3Rpb25zL3VzZXJzJztcblxuaW1wb3J0IE1vcmVEaXJlY3RDaGFubmVscyBmcm9tICcuL21vcmVfZGlyZWN0X2NoYW5uZWxzLmpzeCc7XG5cbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgb3duUHJvcHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vd25Qcm9wc1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFjdGlvbnM6IGJpbmRBY3Rpb25DcmVhdG9ycyh7XG4gICAgICAgICAgICBnZXRQcm9maWxlcyxcbiAgICAgICAgICAgIGdldFByb2ZpbGVzSW5UZWFtXG4gICAgICAgIH0sIGRpc3BhdGNoKVxuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKE1vcmVEaXJlY3RDaGFubmVscyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY29tcG9uZW50cy9tb3JlX2RpcmVjdF9jaGFubmVscy9pbmRleC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBVEE7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQU1BO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2572\n");

/***/ }),

/***/ 2573:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _assign = __webpack_require__(42);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getPrototypeOf = __webpack_require__(7);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(5);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(6);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(8);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(9);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(41);\n\nvar _reactIntl = __webpack_require__(18);\n\nvar _es = __webpack_require__(45);\n\nvar _client = __webpack_require__(31);\n\nvar _users = __webpack_require__(51);\n\nvar _channel_actions = __webpack_require__(80);\n\nvar _user_actions = __webpack_require__(71);\n\nvar _redux_store = __webpack_require__(39);\n\nvar _redux_store2 = _interopRequireDefault(_redux_store);\n\nvar _team_store = __webpack_require__(38);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(28);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(10);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(17);\n\nvar _multiselect = __webpack_require__(468);\n\nvar _multiselect2 = _interopRequireDefault(_multiselect);\n\nvar _profile_picture = __webpack_require__(185);\n\nvar _profile_picture2 = _interopRequireDefault(_profile_picture);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar USERS_PER_PAGE = 50;\nvar MAX_SELECTABLE_VALUES = _constants2.default.MAX_USERS_IN_GM - 1;\n\nvar MoreDirectChannels = function (_React$Component) {\n    (0, _inherits3.default)(MoreDirectChannels, _React$Component);\n\n    function MoreDirectChannels(props) {\n        (0, _classCallCheck3.default)(this, MoreDirectChannels);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (MoreDirectChannels.__proto__ || (0, _getPrototypeOf2.default)(MoreDirectChannels)).call(this, props));\n\n        _this.resetPaging = function () {\n            if (_this.refs.multiselect) {\n                _this.refs.multiselect.resetPaging();\n            }\n        };\n\n        _this.handleHide = _this.handleHide.bind(_this);\n        _this.handleExit = _this.handleExit.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleDelete = _this.handleDelete.bind(_this);\n        _this.handlePageChange = _this.handlePageChange.bind(_this);\n        _this.onChange = _this.onChange.bind(_this);\n        _this.search = _this.search.bind(_this);\n        _this.addValue = _this.addValue.bind(_this);\n\n        _this.searchTimeoutId = 0;\n        _this.term = '';\n        _this.listType = global.window.mm_config.RestrictDirectMessage;\n\n        var values = [];\n        if (props.startingUsers) {\n            for (var i = 0; i < props.startingUsers.length; i++) {\n                var user = (0, _assign2.default)({}, props.startingUsers[i]);\n                user.value = user.id;\n                user.label = '@' + user.username;\n                values.push(user);\n            }\n        }\n\n        _this.state = {\n            users: null,\n            values: values,\n            show: true,\n            search: false,\n            loadingChannel: -1\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(MoreDirectChannels, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _user_store2.default.addChangeListener(this.onChange);\n            _user_store2.default.addInTeamChangeListener(this.onChange);\n            _user_store2.default.addStatusesChangeListener(this.onChange);\n\n            if (this.listType === 'any') {\n                this.props.actions.getProfiles(0, USERS_PER_PAGE * 2);\n            } else {\n                this.props.actions.getProfilesInTeam(_team_store2.default.getCurrentId(), 0, USERS_PER_PAGE * 2);\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _user_store2.default.removeChangeListener(this.onChange);\n            _user_store2.default.removeInTeamChangeListener(this.onChange);\n            _user_store2.default.removeStatusesChangeListener(this.onChange);\n        }\n    }, {\n        key: 'handleHide',\n        value: function handleHide() {\n            this.setState({ show: false });\n        }\n    }, {\n        key: 'handleExit',\n        value: function handleExit() {\n            if (this.exitToChannel) {\n                _es.browserHistory.push(this.exitToChannel);\n            }\n\n            if (this.props.onModalDismissed) {\n                this.props.onModalDismissed();\n            }\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(e) {\n            var _this2 = this;\n\n            if (e) {\n                e.preventDefault();\n            }\n\n            if (this.state.loadingChannel !== -1) {\n                return;\n            }\n\n            var userIds = this.state.values.map(function (v) {\n                return v.id;\n            });\n            if (userIds.length === 0) {\n                return;\n            }\n\n            this.setState({ loadingChannel: 1 });\n\n            var success = function success(channel) {\n                // Due to how react-overlays Modal handles focus, we delay pushing\n                // the new channel information until the modal is fully exited.\n                // The channel information will be pushed in `handleExit`\n                _this2.exitToChannel = _team_store2.default.getCurrentTeamRelativeUrl() + '/channels/' + channel.name;\n                _this2.setState({ loadingChannel: -1 });\n                _this2.handleHide();\n            };\n\n            var error = function error() {\n                _this2.setState({ loadingChannel: -1 });\n            };\n\n            if (userIds.length === 1) {\n                (0, _channel_actions.openDirectChannelToUser)(userIds[0], success, error);\n            } else {\n                (0, _channel_actions.openGroupChannelToUsers)(userIds, success, error);\n            }\n        }\n    }, {\n        key: 'addValue',\n        value: function addValue(value) {\n            var values = (0, _assign2.default)([], this.state.values);\n            if (values.indexOf(value) === -1) {\n                values.push(value);\n            }\n\n            this.setState({ values: values });\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange() {\n            var users = void 0;\n            if (this.term) {\n                if (this.listType === 'any') {\n                    users = (0, _assign2.default)([], (0, _users.searchProfiles)(_redux_store2.default.getState(), this.term, true));\n                } else {\n                    users = (0, _assign2.default)([], (0, _users.searchProfilesInCurrentTeam)(_redux_store2.default.getState(), this.term, true));\n                }\n            } else if (this.listType === 'any') {\n                users = (0, _assign2.default)([], _user_store2.default.getProfileList(true));\n            } else {\n                users = (0, _assign2.default)([], _user_store2.default.getProfileListInTeam(_team_store2.default.getCurrentId(), true));\n            }\n\n            for (var i = 0; i < users.length; i++) {\n                var user = (0, _assign2.default)({}, users[i]);\n                user.value = user.id;\n                user.label = '@' + user.username;\n                users[i] = user;\n            }\n\n            this.setState({\n                users: users\n            });\n        }\n    }, {\n        key: 'handlePageChange',\n        value: function handlePageChange(page, prevPage) {\n            if (page > prevPage) {\n                if (this.listType === 'any') {\n                    this.props.actions.getProfiles(page + 1, USERS_PER_PAGE);\n                } else {\n                    this.props.actions.getProfilesInTeam(page + 1, USERS_PER_PAGE);\n                }\n            }\n        }\n    }, {\n        key: 'search',\n        value: function search(term) {\n            var _this3 = this;\n\n            clearTimeout(this.searchTimeoutId);\n            this.term = term;\n\n            if (term === '') {\n                this.resetPaging();\n                this.onChange();\n                return;\n            }\n\n            var teamId = void 0;\n            if (this.listType === 'any') {\n                teamId = '';\n            } else {\n                teamId = _team_store2.default.getCurrentId();\n            }\n\n            this.searchTimeoutId = setTimeout(function () {\n                (0, _user_actions.searchUsers)(term, teamId, {}, _this3.resetPaging);\n            }, _constants2.default.SEARCH_TIMEOUT_MILLISECONDS);\n        }\n    }, {\n        key: 'handleDelete',\n        value: function handleDelete(values) {\n            this.setState({ values: values });\n        }\n    }, {\n        key: 'renderOption',\n        value: function renderOption(option, isSelected, onAdd) {\n            var rowSelected = '';\n            if (isSelected) {\n                rowSelected = 'more-modal__row--selected';\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    key: option.id,\n                    ref: isSelected ? 'selected' : option.id,\n                    className: 'more-modal__row clickable ' + rowSelected,\n                    onClick: function onClick() {\n                        return onAdd(option);\n                    }\n                },\n                _react2.default.createElement(_profile_picture2.default, {\n                    src: _client.Client4.getProfilePictureUrl(option.id, option.last_picture_update),\n                    status: '' + _user_store2.default.getStatus(option.id),\n                    width: '32',\n                    height: '32'\n                }),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        className: 'more-modal__details'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'more-modal__name' },\n                        (0, _utils.displayEntireNameForUser)(option)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'more-modal__description' },\n                        option.email\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'more-modal__actions' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'more-modal__actions--round' },\n                        _react2.default.createElement('i', { className: 'fa fa-plus' })\n                    )\n                )\n            );\n        }\n    }, {\n        key: 'renderValue',\n        value: function renderValue(user) {\n            return user.username;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var note = void 0;\n            if (this.props.startingUsers) {\n                if (this.state.values && this.state.values.length >= MAX_SELECTABLE_VALUES) {\n                    note = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'more_direct_channels.new_convo_note.full',\n                        defaultMessage: 'You\\u2019ve reached the maximum number of people for this conversation. Consider creating a private channel instead.'\n                    });\n                } else {\n                    note = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'more_direct_channels.new_convo_note',\n                        defaultMessage: 'This will start a new conversation. If you\\u2019re adding a lot of people, consider creating a private channel instead.'\n                    });\n                }\n            }\n\n            var buttonSubmitText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'multiselect.go',\n                defaultMessage: 'Go'\n            });\n\n            var numRemainingText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'multiselect.numPeopleRemaining',\n                defaultMessage: 'Use \\u2191\\u2193 to browse, \\u21B5 to select. You can add {num, number} more {num, plural, one {person} other {people}}. ',\n                values: {\n                    num: MAX_SELECTABLE_VALUES - this.state.values.length\n                }\n            });\n\n            var users = [];\n            if (this.state.users) {\n                users = this.state.users.filter(function (user) {\n                    return user.delete_at === 0;\n                });\n            }\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    dialogClassName: 'more-modal more-direct-channels',\n                    show: this.state.show,\n                    onHide: this.handleHide,\n                    onExited: this.handleExit\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'more_direct_channels.title',\n                            defaultMessage: 'Direct Messages'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    null,\n                    _react2.default.createElement(_multiselect2.default, {\n                        key: 'moreDirectChannelsList',\n                        ref: 'multiselect',\n                        options: users,\n                        optionRenderer: this.renderOption,\n                        values: this.state.values,\n                        valueRenderer: this.renderValue,\n                        perPage: USERS_PER_PAGE,\n                        handlePageChange: this.handlePageChange,\n                        handleInput: this.search,\n                        handleDelete: this.handleDelete,\n                        handleAdd: this.addValue,\n                        handleSubmit: this.handleSubmit,\n                        noteText: note,\n                        maxValues: MAX_SELECTABLE_VALUES,\n                        numRemainingText: numRemainingText,\n                        buttonSubmitText: buttonSubmitText\n                    })\n                )\n            );\n        }\n    }]);\n    return MoreDirectChannels;\n}(_react2.default.Component);\n\nMoreDirectChannels.propTypes = {\n    startingUsers: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    onModalDismissed: _propTypes2.default.func,\n    actions: _propTypes2.default.shape({\n        getProfiles: _propTypes2.default.func.isRequired,\n        getProfilesInTeam: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = MoreDirectChannels;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(21)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU3My5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL21vcmVfZGlyZWN0X2NoYW5uZWxzL21vcmVfZGlyZWN0X2NoYW5uZWxzLmpzeD9jZDU5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMaWNlbnNlLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge01vZGFsfSBmcm9tICdyZWFjdC1ib290c3RyYXAnO1xuaW1wb3J0IHtGb3JtYXR0ZWRNZXNzYWdlfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCB7YnJvd3Nlckhpc3Rvcnl9IGZyb20gJ3JlYWN0LXJvdXRlci9lczYnO1xuXG5pbXBvcnQge0NsaWVudDR9IGZyb20gJ21hdHRlcm1vc3QtcmVkdXgvY2xpZW50JztcbmltcG9ydCB7c2VhcmNoUHJvZmlsZXMsIHNlYXJjaFByb2ZpbGVzSW5DdXJyZW50VGVhbX0gZnJvbSAnbWF0dGVybW9zdC1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdXNlcnMnO1xuXG5pbXBvcnQge29wZW5EaXJlY3RDaGFubmVsVG9Vc2VyLCBvcGVuR3JvdXBDaGFubmVsVG9Vc2Vyc30gZnJvbSAnYWN0aW9ucy9jaGFubmVsX2FjdGlvbnMuanN4JztcbmltcG9ydCB7c2VhcmNoVXNlcnN9IGZyb20gJ2FjdGlvbnMvdXNlcl9hY3Rpb25zLmpzeCc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnc3RvcmVzL3JlZHV4X3N0b3JlLmpzeCc7XG5pbXBvcnQgVGVhbVN0b3JlIGZyb20gJ3N0b3Jlcy90ZWFtX3N0b3JlLmpzeCc7XG5pbXBvcnQgVXNlclN0b3JlIGZyb20gJ3N0b3Jlcy91c2VyX3N0b3JlLmpzeCc7XG5cbmltcG9ydCBDb25zdGFudHMgZnJvbSAndXRpbHMvY29uc3RhbnRzLmpzeCc7XG5pbXBvcnQge2Rpc3BsYXlFbnRpcmVOYW1lRm9yVXNlcn0gZnJvbSAndXRpbHMvdXRpbHMuanN4JztcblxuaW1wb3J0IE11bHRpU2VsZWN0IGZyb20gJ2NvbXBvbmVudHMvbXVsdGlzZWxlY3QvbXVsdGlzZWxlY3QuanN4JztcbmltcG9ydCBQcm9maWxlUGljdHVyZSBmcm9tICdjb21wb25lbnRzL3Byb2ZpbGVfcGljdHVyZS5qc3gnO1xuXG5jb25zdCBVU0VSU19QRVJfUEFHRSA9IDUwO1xuY29uc3QgTUFYX1NFTEVDVEFCTEVfVkFMVUVTID0gQ29uc3RhbnRzLk1BWF9VU0VSU19JTl9HTSAtIDE7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vcmVEaXJlY3RDaGFubmVscyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgc3RhcnRpbmdVc2VyczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9iamVjdCksXG4gICAgICAgIG9uTW9kYWxEaXNtaXNzZWQ6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgICBhY3Rpb25zOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgICAgZ2V0UHJvZmlsZXM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBnZXRQcm9maWxlc0luVGVhbTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxuICAgICAgICB9KS5pc1JlcXVpcmVkXG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAgIHRoaXMuaGFuZGxlSGlkZSA9IHRoaXMuaGFuZGxlSGlkZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUV4aXQgPSB0aGlzLmhhbmRsZUV4aXQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVTdWJtaXQgPSB0aGlzLmhhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZURlbGV0ZSA9IHRoaXMuaGFuZGxlRGVsZXRlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlUGFnZUNoYW5nZSA9IHRoaXMuaGFuZGxlUGFnZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHRoaXMuc2VhcmNoLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYWRkVmFsdWUgPSB0aGlzLmFkZFZhbHVlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5zZWFyY2hUaW1lb3V0SWQgPSAwO1xuICAgICAgICB0aGlzLnRlcm0gPSAnJztcbiAgICAgICAgdGhpcy5saXN0VHlwZSA9IGdsb2JhbC53aW5kb3cubW1fY29uZmlnLlJlc3RyaWN0RGlyZWN0TWVzc2FnZTtcblxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgaWYgKHByb3BzLnN0YXJ0aW5nVXNlcnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHMuc3RhcnRpbmdVc2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCBwcm9wcy5zdGFydGluZ1VzZXJzW2ldKTtcbiAgICAgICAgICAgICAgICB1c2VyLnZhbHVlID0gdXNlci5pZDtcbiAgICAgICAgICAgICAgICB1c2VyLmxhYmVsID0gJ0AnICsgdXNlci51c2VybmFtZTtcbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCh1c2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB1c2VyczogbnVsbCxcbiAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgIHNob3c6IHRydWUsXG4gICAgICAgICAgICBzZWFyY2g6IGZhbHNlLFxuICAgICAgICAgICAgbG9hZGluZ0NoYW5uZWw6IC0xXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIFVzZXJTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uQ2hhbmdlKTtcbiAgICAgICAgVXNlclN0b3JlLmFkZEluVGVhbUNoYW5nZUxpc3RlbmVyKHRoaXMub25DaGFuZ2UpO1xuICAgICAgICBVc2VyU3RvcmUuYWRkU3RhdHVzZXNDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uQ2hhbmdlKTtcblxuICAgICAgICBpZiAodGhpcy5saXN0VHlwZSA9PT0gJ2FueScpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuYWN0aW9ucy5nZXRQcm9maWxlcygwLCBVU0VSU19QRVJfUEFHRSAqIDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5hY3Rpb25zLmdldFByb2ZpbGVzSW5UZWFtKFRlYW1TdG9yZS5nZXRDdXJyZW50SWQoKSwgMCwgVVNFUlNfUEVSX1BBR0UgKiAyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBVc2VyU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkNoYW5nZSk7XG4gICAgICAgIFVzZXJTdG9yZS5yZW1vdmVJblRlYW1DaGFuZ2VMaXN0ZW5lcih0aGlzLm9uQ2hhbmdlKTtcbiAgICAgICAgVXNlclN0b3JlLnJlbW92ZVN0YXR1c2VzQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlSGlkZSgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c2hvdzogZmFsc2V9KTtcbiAgICB9XG5cbiAgICBoYW5kbGVFeGl0KCkge1xuICAgICAgICBpZiAodGhpcy5leGl0VG9DaGFubmVsKSB7XG4gICAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKHRoaXMuZXhpdFRvQ2hhbm5lbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vbk1vZGFsRGlzbWlzc2VkKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uTW9kYWxEaXNtaXNzZWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVN1Ym1pdChlKSB7XG4gICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5sb2FkaW5nQ2hhbm5lbCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVzZXJJZHMgPSB0aGlzLnN0YXRlLnZhbHVlcy5tYXAoKHYpID0+IHYuaWQpO1xuICAgICAgICBpZiAodXNlcklkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2xvYWRpbmdDaGFubmVsOiAxfSk7XG5cbiAgICAgICAgY29uc3Qgc3VjY2VzcyA9IChjaGFubmVsKSA9PiB7XG4gICAgICAgICAgICAvLyBEdWUgdG8gaG93IHJlYWN0LW92ZXJsYXlzIE1vZGFsIGhhbmRsZXMgZm9jdXMsIHdlIGRlbGF5IHB1c2hpbmdcbiAgICAgICAgICAgIC8vIHRoZSBuZXcgY2hhbm5lbCBpbmZvcm1hdGlvbiB1bnRpbCB0aGUgbW9kYWwgaXMgZnVsbHkgZXhpdGVkLlxuICAgICAgICAgICAgLy8gVGhlIGNoYW5uZWwgaW5mb3JtYXRpb24gd2lsbCBiZSBwdXNoZWQgaW4gYGhhbmRsZUV4aXRgXG4gICAgICAgICAgICB0aGlzLmV4aXRUb0NoYW5uZWwgPSBUZWFtU3RvcmUuZ2V0Q3VycmVudFRlYW1SZWxhdGl2ZVVybCgpICsgJy9jaGFubmVscy8nICsgY2hhbm5lbC5uYW1lO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bG9hZGluZ0NoYW5uZWw6IC0xfSk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUhpZGUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2xvYWRpbmdDaGFubmVsOiAtMX0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh1c2VySWRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgb3BlbkRpcmVjdENoYW5uZWxUb1VzZXIodXNlcklkc1swXSwgc3VjY2VzcywgZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3Blbkdyb3VwQ2hhbm5lbFRvVXNlcnModXNlcklkcywgc3VjY2VzcywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LmFzc2lnbihbXSwgdGhpcy5zdGF0ZS52YWx1ZXMpO1xuICAgICAgICBpZiAodmFsdWVzLmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgICAgICAgICAgdmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7dmFsdWVzfSk7XG4gICAgfVxuXG4gICAgb25DaGFuZ2UoKSB7XG4gICAgICAgIGxldCB1c2VycztcbiAgICAgICAgaWYgKHRoaXMudGVybSkge1xuICAgICAgICAgICAgaWYgKHRoaXMubGlzdFR5cGUgPT09ICdhbnknKSB7XG4gICAgICAgICAgICAgICAgdXNlcnMgPSBPYmplY3QuYXNzaWduKFtdLCBzZWFyY2hQcm9maWxlcyhzdG9yZS5nZXRTdGF0ZSgpLCB0aGlzLnRlcm0sIHRydWUpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdXNlcnMgPSBPYmplY3QuYXNzaWduKFtdLCBzZWFyY2hQcm9maWxlc0luQ3VycmVudFRlYW0oc3RvcmUuZ2V0U3RhdGUoKSwgdGhpcy50ZXJtLCB0cnVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5saXN0VHlwZSA9PT0gJ2FueScpIHtcbiAgICAgICAgICAgIHVzZXJzID0gT2JqZWN0LmFzc2lnbihbXSwgVXNlclN0b3JlLmdldFByb2ZpbGVMaXN0KHRydWUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVzZXJzID0gT2JqZWN0LmFzc2lnbihbXSwgVXNlclN0b3JlLmdldFByb2ZpbGVMaXN0SW5UZWFtKFRlYW1TdG9yZS5nZXRDdXJyZW50SWQoKSwgdHJ1ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IE9iamVjdC5hc3NpZ24oe30sIHVzZXJzW2ldKTtcbiAgICAgICAgICAgIHVzZXIudmFsdWUgPSB1c2VyLmlkO1xuICAgICAgICAgICAgdXNlci5sYWJlbCA9ICdAJyArIHVzZXIudXNlcm5hbWU7XG4gICAgICAgICAgICB1c2Vyc1tpXSA9IHVzZXI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHVzZXJzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhhbmRsZVBhZ2VDaGFuZ2UocGFnZSwgcHJldlBhZ2UpIHtcbiAgICAgICAgaWYgKHBhZ2UgPiBwcmV2UGFnZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMubGlzdFR5cGUgPT09ICdhbnknKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5hY3Rpb25zLmdldFByb2ZpbGVzKHBhZ2UgKyAxLCBVU0VSU19QRVJfUEFHRSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuYWN0aW9ucy5nZXRQcm9maWxlc0luVGVhbShwYWdlICsgMSwgVVNFUlNfUEVSX1BBR0UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXRQYWdpbmcgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnJlZnMubXVsdGlzZWxlY3QpIHtcbiAgICAgICAgICAgIHRoaXMucmVmcy5tdWx0aXNlbGVjdC5yZXNldFBhZ2luZygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VhcmNoKHRlcm0pIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2VhcmNoVGltZW91dElkKTtcbiAgICAgICAgdGhpcy50ZXJtID0gdGVybTtcblxuICAgICAgICBpZiAodGVybSA9PT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRQYWdpbmcoKTtcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2UoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0ZWFtSWQ7XG4gICAgICAgIGlmICh0aGlzLmxpc3RUeXBlID09PSAnYW55Jykge1xuICAgICAgICAgICAgdGVhbUlkID0gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZWFtSWQgPSBUZWFtU3RvcmUuZ2V0Q3VycmVudElkKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNlYXJjaFRpbWVvdXRJZCA9IHNldFRpbWVvdXQoXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VhcmNoVXNlcnModGVybSwgdGVhbUlkLCB7fSwgdGhpcy5yZXNldFBhZ2luZyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQ29uc3RhbnRzLlNFQVJDSF9USU1FT1VUX01JTExJU0VDT05EU1xuICAgICAgICApO1xuICAgIH1cblxuICAgIGhhbmRsZURlbGV0ZSh2YWx1ZXMpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7dmFsdWVzfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyT3B0aW9uKG9wdGlvbiwgaXNTZWxlY3RlZCwgb25BZGQpIHtcbiAgICAgICAgdmFyIHJvd1NlbGVjdGVkID0gJyc7XG4gICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICByb3dTZWxlY3RlZCA9ICdtb3JlLW1vZGFsX19yb3ctLXNlbGVjdGVkJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5PXtvcHRpb24uaWR9XG4gICAgICAgICAgICAgICAgcmVmPXtpc1NlbGVjdGVkID8gJ3NlbGVjdGVkJyA6IG9wdGlvbi5pZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9eydtb3JlLW1vZGFsX19yb3cgY2xpY2thYmxlICcgKyByb3dTZWxlY3RlZH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkFkZChvcHRpb24pfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxQcm9maWxlUGljdHVyZVxuICAgICAgICAgICAgICAgICAgICBzcmM9e0NsaWVudDQuZ2V0UHJvZmlsZVBpY3R1cmVVcmwob3B0aW9uLmlkLCBvcHRpb24ubGFzdF9waWN0dXJlX3VwZGF0ZSl9XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cz17YCR7VXNlclN0b3JlLmdldFN0YXR1cyhvcHRpb24uaWQpfWB9XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoPSczMidcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PSczMidcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdtb3JlLW1vZGFsX19kZXRhaWxzJ1xuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21vcmUtbW9kYWxfX25hbWUnPlxuICAgICAgICAgICAgICAgICAgICAgICAge2Rpc3BsYXlFbnRpcmVOYW1lRm9yVXNlcihvcHRpb24pfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21vcmUtbW9kYWxfX2Rlc2NyaXB0aW9uJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtvcHRpb24uZW1haWx9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtb3JlLW1vZGFsX19hY3Rpb25zJz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21vcmUtbW9kYWxfX2FjdGlvbnMtLXJvdW5kJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT0nZmEgZmEtcGx1cycvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJlbmRlclZhbHVlKHVzZXIpIHtcbiAgICAgICAgcmV0dXJuIHVzZXIudXNlcm5hbWU7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBsZXQgbm90ZTtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc3RhcnRpbmdVc2Vycykge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUudmFsdWVzICYmIHRoaXMuc3RhdGUudmFsdWVzLmxlbmd0aCA+PSBNQVhfU0VMRUNUQUJMRV9WQUxVRVMpIHtcbiAgICAgICAgICAgICAgICBub3RlID0gKFxuICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J21vcmVfZGlyZWN0X2NoYW5uZWxzLm5ld19jb252b19ub3RlLmZ1bGwnXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nWW914oCZdmUgcmVhY2hlZCB0aGUgbWF4aW11bSBudW1iZXIgb2YgcGVvcGxlIGZvciB0aGlzIGNvbnZlcnNhdGlvbi4gQ29uc2lkZXIgY3JlYXRpbmcgYSBwcml2YXRlIGNoYW5uZWwgaW5zdGVhZC4nXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm90ZSA9IChcbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdtb3JlX2RpcmVjdF9jaGFubmVscy5uZXdfY29udm9fbm90ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdUaGlzIHdpbGwgc3RhcnQgYSBuZXcgY29udmVyc2F0aW9uLiBJZiB5b3XigJlyZSBhZGRpbmcgYSBsb3Qgb2YgcGVvcGxlLCBjb25zaWRlciBjcmVhdGluZyBhIHByaXZhdGUgY2hhbm5lbCBpbnN0ZWFkLidcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnV0dG9uU3VibWl0VGV4dCA9IChcbiAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgaWQ9J211bHRpc2VsZWN0LmdvJ1xuICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdHbydcbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgbnVtUmVtYWluaW5nVGV4dCA9IChcbiAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgaWQ9J211bHRpc2VsZWN0Lm51bVBlb3BsZVJlbWFpbmluZydcbiAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nVXNlIOKGkeKGkyB0byBicm93c2UsIOKGtSB0byBzZWxlY3QuIFlvdSBjYW4gYWRkIHtudW0sIG51bWJlcn0gbW9yZSB7bnVtLCBwbHVyYWwsIG9uZSB7cGVyc29ufSBvdGhlciB7cGVvcGxlfX0uICdcbiAgICAgICAgICAgICAgICB2YWx1ZXM9e3tcbiAgICAgICAgICAgICAgICAgICAgbnVtOiBNQVhfU0VMRUNUQUJMRV9WQUxVRVMgLSB0aGlzLnN0YXRlLnZhbHVlcy5sZW5ndGhcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgdXNlcnMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUudXNlcnMpIHtcbiAgICAgICAgICAgIHVzZXJzID0gdGhpcy5zdGF0ZS51c2Vycy5maWx0ZXIoKHVzZXIpID0+IHVzZXIuZGVsZXRlX2F0ID09PSAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8TW9kYWxcbiAgICAgICAgICAgICAgICBkaWFsb2dDbGFzc05hbWU9eydtb3JlLW1vZGFsIG1vcmUtZGlyZWN0LWNoYW5uZWxzJ31cbiAgICAgICAgICAgICAgICBzaG93PXt0aGlzLnN0YXRlLnNob3d9XG4gICAgICAgICAgICAgICAgb25IaWRlPXt0aGlzLmhhbmRsZUhpZGV9XG4gICAgICAgICAgICAgICAgb25FeGl0ZWQ9e3RoaXMuaGFuZGxlRXhpdH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TW9kYWwuSGVhZGVyIGNsb3NlQnV0dG9uPXt0cnVlfT5cbiAgICAgICAgICAgICAgICAgICAgPE1vZGFsLlRpdGxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nbW9yZV9kaXJlY3RfY2hhbm5lbHMudGl0bGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0RpcmVjdCBNZXNzYWdlcydcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvTW9kYWwuVGl0bGU+XG4gICAgICAgICAgICAgICAgPC9Nb2RhbC5IZWFkZXI+XG4gICAgICAgICAgICAgICAgPE1vZGFsLkJvZHk+XG4gICAgICAgICAgICAgICAgICAgIDxNdWx0aVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PSdtb3JlRGlyZWN0Q2hhbm5lbHNMaXN0J1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPSdtdWx0aXNlbGVjdCdcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e3VzZXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uUmVuZGVyZXI9e3RoaXMucmVuZGVyT3B0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzPXt0aGlzLnN0YXRlLnZhbHVlc31cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlUmVuZGVyZXI9e3RoaXMucmVuZGVyVmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJQYWdlPXtVU0VSU19QRVJfUEFHRX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVBhZ2VDaGFuZ2U9e3RoaXMuaGFuZGxlUGFnZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUlucHV0PXt0aGlzLnNlYXJjaH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZURlbGV0ZT17dGhpcy5oYW5kbGVEZWxldGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVBZGQ9e3RoaXMuYWRkVmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fVxuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZVRleHQ9e25vdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZXM9e01BWF9TRUxFQ1RBQkxFX1ZBTFVFU31cbiAgICAgICAgICAgICAgICAgICAgICAgIG51bVJlbWFpbmluZ1RleHQ9e251bVJlbWFpbmluZ1RleHR9XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25TdWJtaXRUZXh0PXtidXR0b25TdWJtaXRUZXh0fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvTW9kYWwuQm9keT5cbiAgICAgICAgICAgIDwvTW9kYWw+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGNvbXBvbmVudHMvbW9yZV9kaXJlY3RfY2hhbm5lbHMvbW9yZV9kaXJlY3RfY2hhbm5lbHMuanN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBdkJBO0FBQ0E7QUFDQTtBQXNCQTtBQUNBO0FBQ0E7QUFDQTs7O0FBVUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBcUpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0SkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBMUJBO0FBaUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQVFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFOQTtBQVVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFEQTtBQXRCQTtBQTZCQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQURBO0FBUUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhCQTtBQURBO0FBZEE7QUFvQ0E7OztBQTFUQTtBQUNBO0FBREE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFIQTtBQURBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2573\n");

/***/ }),

/***/ 2574:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(7);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(5);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(6);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(8);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(9);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(18);\n\nvar _es = __webpack_require__(45);\n\nvar _channel_actions = __webpack_require__(80);\n\nvar _team_store = __webpack_require__(38);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _url = __webpack_require__(79);\n\nvar _utils = __webpack_require__(17);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _new_channel_modal = __webpack_require__(2575);\n\nvar _new_channel_modal2 = _interopRequireDefault(_new_channel_modal);\n\nvar _change_url_modal = __webpack_require__(2577);\n\nvar _change_url_modal2 = _interopRequireDefault(_change_url_modal);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SHOW_NEW_CHANNEL = 1;\nvar SHOW_EDIT_URL = 2;\nvar SHOW_EDIT_URL_THEN_COMPLETE = 3;\n\nvar NewChannelFlow = function (_React$Component) {\n    (0, _inherits3.default)(NewChannelFlow, _React$Component);\n\n    function NewChannelFlow(props) {\n        (0, _classCallCheck3.default)(this, NewChannelFlow);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (NewChannelFlow.__proto__ || (0, _getPrototypeOf2.default)(NewChannelFlow)).call(this, props));\n\n        _this.doSubmit = _this.doSubmit.bind(_this);\n        _this.onModalExited = _this.onModalExited.bind(_this);\n        _this.typeSwitched = _this.typeSwitched.bind(_this);\n        _this.urlChangeRequested = _this.urlChangeRequested.bind(_this);\n        _this.urlChangeSubmitted = _this.urlChangeSubmitted.bind(_this);\n        _this.urlChangeDismissed = _this.urlChangeDismissed.bind(_this);\n        _this.channelDataChanged = _this.channelDataChanged.bind(_this);\n\n        _this.state = {\n            serverError: '',\n            channelType: 'O',\n            flowState: SHOW_NEW_CHANNEL,\n            channelDisplayName: '',\n            channelName: '',\n            channelPurpose: '',\n            channelHeader: '',\n            nameModified: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(NewChannelFlow, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            // If we are being shown, grab channel type from props and clear\n            if (nextProps.show === true && this.props.show === false) {\n                this.setState({\n                    serverError: '',\n                    channelType: nextProps.channelType,\n                    flowState: SHOW_NEW_CHANNEL,\n                    channelDisplayName: '',\n                    channelName: '',\n                    channelPurpose: '',\n                    channelHeader: '',\n                    nameModified: false\n                });\n            }\n        }\n    }, {\n        key: 'doSubmit',\n        value: function doSubmit() {\n            var _this2 = this;\n\n            if (!this.state.channelDisplayName) {\n                this.setState({ serverError: Utils.localizeMessage('channel_flow.invalidName', 'Invalid Channel Name') });\n                return;\n            }\n\n            if (this.state.channelName < 2) {\n                this.setState({ flowState: SHOW_EDIT_URL_THEN_COMPLETE });\n                return;\n            }\n\n            var channel = {\n                team_id: _team_store2.default.getCurrentId(),\n                name: this.state.channelName,\n                display_name: this.state.channelDisplayName,\n                purpose: this.state.channelPurpose,\n                header: this.state.channelHeader,\n                type: this.state.channelType\n            };\n\n            (0, _channel_actions.createChannel)(channel, function (data) {\n                _this2.doOnModalExited = function () {\n                    _es.browserHistory.push(_team_store2.default.getCurrentTeamRelativeUrl() + '/channels/' + data.name);\n                };\n\n                _this2.props.onModalDismissed();\n            }, function (err) {\n                if (err.id === 'model.channel.is_valid.2_or_more.app_error') {\n                    _this2.setState({\n                        flowState: SHOW_EDIT_URL_THEN_COMPLETE,\n                        serverError: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channel_flow.handleTooShort',\n                            defaultMessage: 'Channel URL must be 2 or more lowercase alphanumeric characters'\n                        })\n                    });\n                    return;\n                }\n                if (err.id === 'store.sql_channel.update.exists.app_error') {\n                    _this2.setState({ serverError: Utils.localizeMessage('channel_flow.alreadyExist', 'A channel with that URL already exists') });\n                    return;\n                }\n                _this2.setState({ serverError: err.message });\n            });\n        }\n    }, {\n        key: 'onModalExited',\n        value: function onModalExited() {\n            if (this.doOnModalExited) {\n                this.doOnModalExited();\n            }\n        }\n    }, {\n        key: 'typeSwitched',\n        value: function typeSwitched() {\n            if (this.state.channelType === 'P') {\n                this.setState({ channelType: 'O' });\n            } else {\n                this.setState({ channelType: 'P' });\n            }\n        }\n    }, {\n        key: 'urlChangeRequested',\n        value: function urlChangeRequested() {\n            this.setState({ flowState: SHOW_EDIT_URL });\n        }\n    }, {\n        key: 'urlChangeSubmitted',\n        value: function urlChangeSubmitted(newURL) {\n            if (this.state.flowState === SHOW_EDIT_URL_THEN_COMPLETE) {\n                this.setState({ channelName: newURL, nameModified: true }, this.doSubmit);\n            } else {\n                this.setState({ flowState: SHOW_NEW_CHANNEL, serverError: null, channelName: newURL, nameModified: true });\n            }\n        }\n    }, {\n        key: 'urlChangeDismissed',\n        value: function urlChangeDismissed() {\n            this.setState({ flowState: SHOW_NEW_CHANNEL });\n        }\n    }, {\n        key: 'channelDataChanged',\n        value: function channelDataChanged(data) {\n            this.setState({\n                channelDisplayName: data.displayName,\n                channelPurpose: data.purpose,\n                channelHeader: data.header\n            });\n            if (!this.state.nameModified) {\n                this.setState({ channelName: (0, _url.cleanUpUrlable)(data.displayName.trim()) });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var channelData = {\n                name: this.state.channelName,\n                displayName: this.state.channelDisplayName,\n                purpose: this.state.channelPurpose\n            };\n\n            var showChannelModal = false;\n            var showGroupModal = false;\n            var showChangeURLModal = false;\n\n            var changeURLTitle = '';\n            var changeURLSubmitButtonText = '';\n\n            // Only listen to flow state if we are being shown\n            if (this.props.show) {\n                switch (this.state.flowState) {\n                    case SHOW_NEW_CHANNEL:\n                        if (this.state.channelType === 'O') {\n                            showChannelModal = true;\n                        } else {\n                            showGroupModal = true;\n                        }\n                        break;\n                    case SHOW_EDIT_URL:\n                        showChangeURLModal = true;\n                        changeURLTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channel_flow.changeUrlTitle',\n                            defaultMessage: 'Change Channel URL'\n                        });\n                        changeURLSubmitButtonText = changeURLTitle;\n                        break;\n                    case SHOW_EDIT_URL_THEN_COMPLETE:\n                        showChangeURLModal = true;\n                        changeURLTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channel_flow.set_url_title',\n                            defaultMessage: 'Set Channel URL'\n                        });\n                        changeURLSubmitButtonText = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channel_flow.create',\n                            defaultMessage: 'Create Channel'\n                        });\n                        break;\n                }\n            }\n            return _react2.default.createElement(\n                'span',\n                null,\n                _react2.default.createElement(_new_channel_modal2.default, {\n                    show: showChannelModal,\n                    channelType: 'O',\n                    channelData: channelData,\n                    serverError: this.state.serverError,\n                    onSubmitChannel: this.doSubmit,\n                    onModalDismissed: this.props.onModalDismissed,\n                    onModalExited: this.onModalExited,\n                    onTypeSwitched: this.typeSwitched,\n                    onChangeURLPressed: this.urlChangeRequested,\n                    onDataChanged: this.channelDataChanged\n                }),\n                _react2.default.createElement(_new_channel_modal2.default, {\n                    show: showGroupModal,\n                    channelType: 'P',\n                    channelData: channelData,\n                    serverError: this.state.serverError,\n                    onSubmitChannel: this.doSubmit,\n                    onModalExited: this.onModalExited,\n                    onModalDismissed: this.props.onModalDismissed,\n                    onTypeSwitched: this.typeSwitched,\n                    onChangeURLPressed: this.urlChangeRequested,\n                    onDataChanged: this.channelDataChanged\n                }),\n                _react2.default.createElement(_change_url_modal2.default, {\n                    show: showChangeURLModal,\n                    title: changeURLTitle,\n                    submitButtonText: changeURLSubmitButtonText,\n                    currentURL: this.state.channelName,\n                    serverError: this.state.serverError,\n                    onModalSubmit: this.urlChangeSubmitted,\n                    onModalDismissed: this.urlChangeDismissed,\n                    onModalExited: this.onModalExited\n                })\n            );\n        }\n    }]);\n    return NewChannelFlow;\n}(_react2.default.Component);\n\nexports.default = NewChannelFlow;\n\n\nNewChannelFlow.defaultProps = {\n    show: false,\n    channelType: 'O'\n};\n\nNewChannelFlow.propTypes = {\n    show: _propTypes2.default.bool.isRequired,\n    channelType: _propTypes2.default.string.isRequired,\n    onModalDismissed: _propTypes2.default.func.isRequired\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU3NC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL25ld19jaGFubmVsX2Zsb3cuanN4P2ZkMDkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExpY2Vuc2UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7Rm9ybWF0dGVkTWVzc2FnZX0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQge2Jyb3dzZXJIaXN0b3J5fSBmcm9tICdyZWFjdC1yb3V0ZXIvZXM2JztcblxuaW1wb3J0IHtjcmVhdGVDaGFubmVsfSBmcm9tICdhY3Rpb25zL2NoYW5uZWxfYWN0aW9ucy5qc3gnO1xuaW1wb3J0IFRlYW1TdG9yZSBmcm9tICdzdG9yZXMvdGVhbV9zdG9yZS5qc3gnO1xuXG5pbXBvcnQge2NsZWFuVXBVcmxhYmxlfSBmcm9tICd1dGlscy91cmwuanN4JztcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gJ3V0aWxzL3V0aWxzLmpzeCc7XG5cbmltcG9ydCBOZXdDaGFubmVsTW9kYWwgZnJvbSAnY29tcG9uZW50cy9uZXdfY2hhbm5lbF9tb2RhbCc7XG5cbmltcG9ydCBDaGFuZ2VVUkxNb2RhbCBmcm9tICcuL2NoYW5nZV91cmxfbW9kYWwuanN4JztcblxuY29uc3QgU0hPV19ORVdfQ0hBTk5FTCA9IDE7XG5jb25zdCBTSE9XX0VESVRfVVJMID0gMjtcbmNvbnN0IFNIT1dfRURJVF9VUkxfVEhFTl9DT01QTEVURSA9IDM7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5ld0NoYW5uZWxGbG93IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5kb1N1Ym1pdCA9IHRoaXMuZG9TdWJtaXQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbk1vZGFsRXhpdGVkID0gdGhpcy5vbk1vZGFsRXhpdGVkLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudHlwZVN3aXRjaGVkID0gdGhpcy50eXBlU3dpdGNoZWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy51cmxDaGFuZ2VSZXF1ZXN0ZWQgPSB0aGlzLnVybENoYW5nZVJlcXVlc3RlZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnVybENoYW5nZVN1Ym1pdHRlZCA9IHRoaXMudXJsQ2hhbmdlU3VibWl0dGVkLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudXJsQ2hhbmdlRGlzbWlzc2VkID0gdGhpcy51cmxDaGFuZ2VEaXNtaXNzZWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jaGFubmVsRGF0YUNoYW5nZWQgPSB0aGlzLmNoYW5uZWxEYXRhQ2hhbmdlZC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBzZXJ2ZXJFcnJvcjogJycsXG4gICAgICAgICAgICBjaGFubmVsVHlwZTogJ08nLFxuICAgICAgICAgICAgZmxvd1N0YXRlOiBTSE9XX05FV19DSEFOTkVMLFxuICAgICAgICAgICAgY2hhbm5lbERpc3BsYXlOYW1lOiAnJyxcbiAgICAgICAgICAgIGNoYW5uZWxOYW1lOiAnJyxcbiAgICAgICAgICAgIGNoYW5uZWxQdXJwb3NlOiAnJyxcbiAgICAgICAgICAgIGNoYW5uZWxIZWFkZXI6ICcnLFxuICAgICAgICAgICAgbmFtZU1vZGlmaWVkOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAvLyBJZiB3ZSBhcmUgYmVpbmcgc2hvd24sIGdyYWIgY2hhbm5lbCB0eXBlIGZyb20gcHJvcHMgYW5kIGNsZWFyXG4gICAgICAgIGlmIChuZXh0UHJvcHMuc2hvdyA9PT0gdHJ1ZSAmJiB0aGlzLnByb3BzLnNob3cgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJFcnJvcjogJycsXG4gICAgICAgICAgICAgICAgY2hhbm5lbFR5cGU6IG5leHRQcm9wcy5jaGFubmVsVHlwZSxcbiAgICAgICAgICAgICAgICBmbG93U3RhdGU6IFNIT1dfTkVXX0NIQU5ORUwsXG4gICAgICAgICAgICAgICAgY2hhbm5lbERpc3BsYXlOYW1lOiAnJyxcbiAgICAgICAgICAgICAgICBjaGFubmVsTmFtZTogJycsXG4gICAgICAgICAgICAgICAgY2hhbm5lbFB1cnBvc2U6ICcnLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxIZWFkZXI6ICcnLFxuICAgICAgICAgICAgICAgIG5hbWVNb2RpZmllZDogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRvU3VibWl0KCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuY2hhbm5lbERpc3BsYXlOYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtzZXJ2ZXJFcnJvcjogVXRpbHMubG9jYWxpemVNZXNzYWdlKCdjaGFubmVsX2Zsb3cuaW52YWxpZE5hbWUnLCAnSW52YWxpZCBDaGFubmVsIE5hbWUnKX0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2hhbm5lbE5hbWUgPCAyKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtmbG93U3RhdGU6IFNIT1dfRURJVF9VUkxfVEhFTl9DT01QTEVURX0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IHtcbiAgICAgICAgICAgIHRlYW1faWQ6IFRlYW1TdG9yZS5nZXRDdXJyZW50SWQoKSxcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuc3RhdGUuY2hhbm5lbE5hbWUsXG4gICAgICAgICAgICBkaXNwbGF5X25hbWU6IHRoaXMuc3RhdGUuY2hhbm5lbERpc3BsYXlOYW1lLFxuICAgICAgICAgICAgcHVycG9zZTogdGhpcy5zdGF0ZS5jaGFubmVsUHVycG9zZSxcbiAgICAgICAgICAgIGhlYWRlcjogdGhpcy5zdGF0ZS5jaGFubmVsSGVhZGVyLFxuICAgICAgICAgICAgdHlwZTogdGhpcy5zdGF0ZS5jaGFubmVsVHlwZVxuICAgICAgICB9O1xuXG4gICAgICAgIGNyZWF0ZUNoYW5uZWwoXG4gICAgICAgICAgICBjaGFubmVsLFxuICAgICAgICAgICAgKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvT25Nb2RhbEV4aXRlZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChUZWFtU3RvcmUuZ2V0Q3VycmVudFRlYW1SZWxhdGl2ZVVybCgpICsgJy9jaGFubmVscy8nICsgZGF0YS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbk1vZGFsRGlzbWlzc2VkKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIuaWQgPT09ICdtb2RlbC5jaGFubmVsLmlzX3ZhbGlkLjJfb3JfbW9yZS5hcHBfZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZmxvd1N0YXRlOiBTSE9XX0VESVRfVVJMX1RIRU5fQ09NUExFVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJFcnJvcjogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdjaGFubmVsX2Zsb3cuaGFuZGxlVG9vU2hvcnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdDaGFubmVsIFVSTCBtdXN0IGJlIDIgb3IgbW9yZSBsb3dlcmNhc2UgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVyci5pZCA9PT0gJ3N0b3JlLnNxbF9jaGFubmVsLnVwZGF0ZS5leGlzdHMuYXBwX2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtzZXJ2ZXJFcnJvcjogVXRpbHMubG9jYWxpemVNZXNzYWdlKCdjaGFubmVsX2Zsb3cuYWxyZWFkeUV4aXN0JywgJ0EgY2hhbm5lbCB3aXRoIHRoYXQgVVJMIGFscmVhZHkgZXhpc3RzJyl9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtzZXJ2ZXJFcnJvcjogZXJyLm1lc3NhZ2V9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG4gICAgb25Nb2RhbEV4aXRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZG9Pbk1vZGFsRXhpdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRvT25Nb2RhbEV4aXRlZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHR5cGVTd2l0Y2hlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2hhbm5lbFR5cGUgPT09ICdQJykge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7Y2hhbm5lbFR5cGU6ICdPJ30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7Y2hhbm5lbFR5cGU6ICdQJ30pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVybENoYW5nZVJlcXVlc3RlZCgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7Zmxvd1N0YXRlOiBTSE9XX0VESVRfVVJMfSk7XG4gICAgfVxuICAgIHVybENoYW5nZVN1Ym1pdHRlZChuZXdVUkwpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZmxvd1N0YXRlID09PSBTSE9XX0VESVRfVVJMX1RIRU5fQ09NUExFVEUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2NoYW5uZWxOYW1lOiBuZXdVUkwsIG5hbWVNb2RpZmllZDogdHJ1ZX0sIHRoaXMuZG9TdWJtaXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7Zmxvd1N0YXRlOiBTSE9XX05FV19DSEFOTkVMLCBzZXJ2ZXJFcnJvcjogbnVsbCwgY2hhbm5lbE5hbWU6IG5ld1VSTCwgbmFtZU1vZGlmaWVkOiB0cnVlfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXJsQ2hhbmdlRGlzbWlzc2VkKCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtmbG93U3RhdGU6IFNIT1dfTkVXX0NIQU5ORUx9KTtcbiAgICB9XG4gICAgY2hhbm5lbERhdGFDaGFuZ2VkKGRhdGEpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjaGFubmVsRGlzcGxheU5hbWU6IGRhdGEuZGlzcGxheU5hbWUsXG4gICAgICAgICAgICBjaGFubmVsUHVycG9zZTogZGF0YS5wdXJwb3NlLFxuICAgICAgICAgICAgY2hhbm5lbEhlYWRlcjogZGF0YS5oZWFkZXJcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5uYW1lTW9kaWZpZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2NoYW5uZWxOYW1lOiBjbGVhblVwVXJsYWJsZShkYXRhLmRpc3BsYXlOYW1lLnRyaW0oKSl9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxEYXRhID0ge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5zdGF0ZS5jaGFubmVsTmFtZSxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiB0aGlzLnN0YXRlLmNoYW5uZWxEaXNwbGF5TmFtZSxcbiAgICAgICAgICAgIHB1cnBvc2U6IHRoaXMuc3RhdGUuY2hhbm5lbFB1cnBvc2VcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgc2hvd0NoYW5uZWxNb2RhbCA9IGZhbHNlO1xuICAgICAgICBsZXQgc2hvd0dyb3VwTW9kYWwgPSBmYWxzZTtcbiAgICAgICAgbGV0IHNob3dDaGFuZ2VVUkxNb2RhbCA9IGZhbHNlO1xuXG4gICAgICAgIGxldCBjaGFuZ2VVUkxUaXRsZSA9ICcnO1xuICAgICAgICBsZXQgY2hhbmdlVVJMU3VibWl0QnV0dG9uVGV4dCA9ICcnO1xuXG4gICAgICAgIC8vIE9ubHkgbGlzdGVuIHRvIGZsb3cgc3RhdGUgaWYgd2UgYXJlIGJlaW5nIHNob3duXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNob3cpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZS5mbG93U3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgU0hPV19ORVdfQ0hBTk5FTDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5jaGFubmVsVHlwZSA9PT0gJ08nKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dDaGFubmVsTW9kYWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dHcm91cE1vZGFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNIT1dfRURJVF9VUkw6XG4gICAgICAgICAgICAgICAgc2hvd0NoYW5nZVVSTE1vZGFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VVUkxUaXRsZSA9IChcbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdjaGFubmVsX2Zsb3cuY2hhbmdlVXJsVGl0bGUnXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nQ2hhbmdlIENoYW5uZWwgVVJMJ1xuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY2hhbmdlVVJMU3VibWl0QnV0dG9uVGV4dCA9IGNoYW5nZVVSTFRpdGxlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTSE9XX0VESVRfVVJMX1RIRU5fQ09NUExFVEU6XG4gICAgICAgICAgICAgICAgc2hvd0NoYW5nZVVSTE1vZGFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VVUkxUaXRsZSA9IChcbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdjaGFubmVsX2Zsb3cuc2V0X3VybF90aXRsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdTZXQgQ2hhbm5lbCBVUkwnXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VVUkxTdWJtaXRCdXR0b25UZXh0ID0gKFxuICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2NoYW5uZWxfZmxvdy5jcmVhdGUnXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nQ3JlYXRlIENoYW5uZWwnXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgPE5ld0NoYW5uZWxNb2RhbFxuICAgICAgICAgICAgICAgICAgICBzaG93PXtzaG93Q2hhbm5lbE1vZGFsfVxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsVHlwZT17J08nfVxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsRGF0YT17Y2hhbm5lbERhdGF9XG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckVycm9yPXt0aGlzLnN0YXRlLnNlcnZlckVycm9yfVxuICAgICAgICAgICAgICAgICAgICBvblN1Ym1pdENoYW5uZWw9e3RoaXMuZG9TdWJtaXR9XG4gICAgICAgICAgICAgICAgICAgIG9uTW9kYWxEaXNtaXNzZWQ9e3RoaXMucHJvcHMub25Nb2RhbERpc21pc3NlZH1cbiAgICAgICAgICAgICAgICAgICAgb25Nb2RhbEV4aXRlZD17dGhpcy5vbk1vZGFsRXhpdGVkfVxuICAgICAgICAgICAgICAgICAgICBvblR5cGVTd2l0Y2hlZD17dGhpcy50eXBlU3dpdGNoZWR9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlVVJMUHJlc3NlZD17dGhpcy51cmxDaGFuZ2VSZXF1ZXN0ZWR9XG4gICAgICAgICAgICAgICAgICAgIG9uRGF0YUNoYW5nZWQ9e3RoaXMuY2hhbm5lbERhdGFDaGFuZ2VkfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPE5ld0NoYW5uZWxNb2RhbFxuICAgICAgICAgICAgICAgICAgICBzaG93PXtzaG93R3JvdXBNb2RhbH1cbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbFR5cGU9eydQJ31cbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbERhdGE9e2NoYW5uZWxEYXRhfVxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJFcnJvcj17dGhpcy5zdGF0ZS5zZXJ2ZXJFcnJvcn1cbiAgICAgICAgICAgICAgICAgICAgb25TdWJtaXRDaGFubmVsPXt0aGlzLmRvU3VibWl0fVxuICAgICAgICAgICAgICAgICAgICBvbk1vZGFsRXhpdGVkPXt0aGlzLm9uTW9kYWxFeGl0ZWR9XG4gICAgICAgICAgICAgICAgICAgIG9uTW9kYWxEaXNtaXNzZWQ9e3RoaXMucHJvcHMub25Nb2RhbERpc21pc3NlZH1cbiAgICAgICAgICAgICAgICAgICAgb25UeXBlU3dpdGNoZWQ9e3RoaXMudHlwZVN3aXRjaGVkfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZVVSTFByZXNzZWQ9e3RoaXMudXJsQ2hhbmdlUmVxdWVzdGVkfVxuICAgICAgICAgICAgICAgICAgICBvbkRhdGFDaGFuZ2VkPXt0aGlzLmNoYW5uZWxEYXRhQ2hhbmdlZH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxDaGFuZ2VVUkxNb2RhbFxuICAgICAgICAgICAgICAgICAgICBzaG93PXtzaG93Q2hhbmdlVVJMTW9kYWx9XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXtjaGFuZ2VVUkxUaXRsZX1cbiAgICAgICAgICAgICAgICAgICAgc3VibWl0QnV0dG9uVGV4dD17Y2hhbmdlVVJMU3VibWl0QnV0dG9uVGV4dH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFVSTD17dGhpcy5zdGF0ZS5jaGFubmVsTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRXJyb3I9e3RoaXMuc3RhdGUuc2VydmVyRXJyb3J9XG4gICAgICAgICAgICAgICAgICAgIG9uTW9kYWxTdWJtaXQ9e3RoaXMudXJsQ2hhbmdlU3VibWl0dGVkfVxuICAgICAgICAgICAgICAgICAgICBvbk1vZGFsRGlzbWlzc2VkPXt0aGlzLnVybENoYW5nZURpc21pc3NlZH1cbiAgICAgICAgICAgICAgICAgICAgb25Nb2RhbEV4aXRlZD17dGhpcy5vbk1vZGFsRXhpdGVkfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5OZXdDaGFubmVsRmxvdy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgc2hvdzogZmFsc2UsXG4gICAgY2hhbm5lbFR5cGU6ICdPJ1xufTtcblxuTmV3Q2hhbm5lbEZsb3cucHJvcFR5cGVzID0ge1xuICAgIHNob3c6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gICAgY2hhbm5lbFR5cGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBvbk1vZGFsRGlzbWlzc2VkOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGNvbXBvbmVudHMvbmV3X2NoYW5uZWxfZmxvdy5qc3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTs7Ozs7OztBQWpCQTtBQUNBO0FBQ0E7QUFnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVhBO0FBcUJBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBQ0E7QUFRQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBSEE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBS0E7QUFFQTtBQUNBO0FBRkE7QUFLQTtBQWhDQTtBQWtDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBekJBO0FBcUNBOzs7QUFwTkE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQXFOQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2574\n");

/***/ }),

/***/ 2575:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(20);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(33);\n\nvar _constants = __webpack_require__(26);\n\nvar _preferences = __webpack_require__(67);\n\nvar _teams = __webpack_require__(122);\n\nvar _users = __webpack_require__(51);\n\nvar _new_channel_modal = __webpack_require__(2576);\n\nvar _new_channel_modal2 = _interopRequireDefault(_new_channel_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state, ownProps) {\n    return (0, _extends3.default)({}, ownProps, {\n        ctrlSend: (0, _preferences.getBool)(state, _constants.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n        isTeamAdmin: (0, _teams.isCurrentUserCurrentTeamAdmin)(state),\n        isSystemAdmin: (0, _users.isCurrentUserSystemAdmin)(state)\n    });\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps)(_new_channel_modal2.default);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU3NS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL25ld19jaGFubmVsX21vZGFsL2luZGV4LmpzPzFlYTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDE3IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMaWNlbnNlLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0IHtjb25uZWN0fSBmcm9tICdyZWFjdC1yZWR1eCc7XG5cbmltcG9ydCB7UHJlZmVyZW5jZXN9IGZyb20gJ21hdHRlcm1vc3QtcmVkdXgvY29uc3RhbnRzJztcbmltcG9ydCB7Z2V0Qm9vbH0gZnJvbSAnbWF0dGVybW9zdC1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvcHJlZmVyZW5jZXMnO1xuaW1wb3J0IHtpc0N1cnJlbnRVc2VyQ3VycmVudFRlYW1BZG1pbn0gZnJvbSAnbWF0dGVybW9zdC1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdGVhbXMnO1xuaW1wb3J0IHtpc0N1cnJlbnRVc2VyU3lzdGVtQWRtaW59IGZyb20gJ21hdHRlcm1vc3QtcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3VzZXJzJztcblxuaW1wb3J0IE5ld0NoYW5uZWxNb2RhbCBmcm9tICcuL25ld19jaGFubmVsX21vZGFsLmpzeCc7XG5cbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgb3duUHJvcHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vd25Qcm9wcyxcbiAgICAgICAgY3RybFNlbmQ6IGdldEJvb2woc3RhdGUsIFByZWZlcmVuY2VzLkNBVEVHT1JZX0FEVkFOQ0VEX1NFVFRJTkdTLCAnc2VuZF9vbl9jdHJsX2VudGVyJyksXG4gICAgICAgIGlzVGVhbUFkbWluOiBpc0N1cnJlbnRVc2VyQ3VycmVudFRlYW1BZG1pbihzdGF0ZSksXG4gICAgICAgIGlzU3lzdGVtQWRtaW46IGlzQ3VycmVudFVzZXJTeXN0ZW1BZG1pbihzdGF0ZSlcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoTmV3Q2hhbm5lbE1vZGFsKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBjb21wb25lbnRzL25ld19jaGFubmVsX21vZGFsL2luZGV4LmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQVhBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2575\n");

/***/ }),

/***/ 2576:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(7);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(5);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(6);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(8);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(9);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(41);\n\nvar _reactDom = __webpack_require__(48);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(18);\n\nvar _channel_utils = __webpack_require__(123);\n\nvar ChannelUtils = _interopRequireWildcard(_channel_utils);\n\nvar _constants = __webpack_require__(10);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _url = __webpack_require__(79);\n\nvar _user_agent = __webpack_require__(90);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(17);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NewChannelModal = function (_React$PureComponent) {\n    (0, _inherits3.default)(NewChannelModal, _React$PureComponent);\n\n    function NewChannelModal(props) {\n        (0, _classCallCheck3.default)(this, NewChannelModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (NewChannelModal.__proto__ || (0, _getPrototypeOf2.default)(NewChannelModal)).call(this, props));\n\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleChange = _this.handleChange.bind(_this);\n        _this.onEnterKeyDown = _this.onEnterKeyDown.bind(_this);\n\n        _this.state = {\n            displayNameError: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(NewChannelModal, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (nextProps.show === true && this.props.show === false) {\n                this.setState({\n                    displayNameError: ''\n                });\n\n                document.addEventListener('keydown', this.onEnterKeyDown);\n            } else if (nextProps.show === false && this.props.show === true) {\n                document.removeEventListener('keydown', this.onEnterKeyDown);\n            }\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            // ???\n            if (UserAgent.isInternetExplorer() || UserAgent.isEdge()) {\n                (0, _jquery2.default)('body').addClass('browser--ie');\n            }\n        }\n    }, {\n        key: 'onEnterKeyDown',\n        value: function onEnterKeyDown(e) {\n            if (this.props.ctrlSend && e.keyCode === _constants2.default.KeyCodes.ENTER && e.ctrlKey) {\n                this.handleSubmit(e);\n            } else if (!this.props.ctrlSend && e.keyCode === _constants2.default.KeyCodes.ENTER && !e.shiftKey && !e.altKey) {\n                this.handleSubmit(e);\n            }\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(e) {\n            e.preventDefault();\n\n            var displayName = _reactDom2.default.findDOMNode(this.refs.display_name).value.trim();\n            if (displayName.length < _constants2.default.MIN_CHANNELNAME_LENGTH) {\n                this.setState({ displayNameError: true });\n                return;\n            }\n\n            this.props.onSubmitChannel();\n        }\n    }, {\n        key: 'handleChange',\n        value: function handleChange() {\n            var newData = {\n                displayName: this.refs.display_name.value,\n                header: this.refs.channel_header.value,\n                purpose: this.refs.channel_purpose.value\n            };\n            this.props.onDataChanged(newData);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var displayNameError = null;\n            var serverError = null;\n            var displayNameClass = 'form-group';\n\n            if (this.state.displayNameError) {\n                displayNameError = _react2.default.createElement(\n                    'p',\n                    { className: 'input__help error' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'channel_modal.displayNameError',\n                        defaultMessage: 'Channel name must be 2 or more characters'\n                    }),\n                    this.state.displayNameError\n                );\n                displayNameClass += ' has-error';\n            }\n\n            if (this.props.serverError) {\n                serverError = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'col-sm-12' },\n                        _react2.default.createElement(\n                            'p',\n                            { className: 'input__help error' },\n                            this.props.serverError\n                        )\n                    )\n                );\n            }\n\n            var createPublicChannelLink = _react2.default.createElement(\n                'a',\n                {\n                    href: '#',\n                    onClick: this.props.onTypeSwitched\n                },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'channel_modal.publicChannel1',\n                    defaultMessage: 'Create a public channel'\n                })\n            );\n\n            var createPrivateChannelLink = _react2.default.createElement(\n                'a',\n                {\n                    href: '#',\n                    onClick: this.props.onTypeSwitched\n                },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'channel_modal.privateGroup2',\n                    defaultMessage: 'Create a private channel'\n                })\n            );\n\n            if (!ChannelUtils.showCreateOption(_constants2.default.OPEN_CHANNEL, this.props.isTeamAdmin, this.props.isSystemAdmin)) {\n                createPublicChannelLink = null;\n            }\n\n            if (!ChannelUtils.showCreateOption(_constants2.default.PRIVATE_CHANNEL, this.props.isTeamAdmin, this.props.isSystemAdmin)) {\n                createPrivateChannelLink = null;\n            }\n\n            var channelSwitchText = '';\n            var inputPrefixId = '';\n            switch (this.props.channelType) {\n                case 'P':\n                    channelSwitchText = _react2.default.createElement(\n                        'div',\n                        { className: 'modal-intro' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channel_modal.privateGroup1',\n                            defaultMessage: 'Create a new private channel with restricted membership. '\n                        }),\n                        createPublicChannelLink\n                    );\n                    inputPrefixId = 'newPrivateChannel';\n                    break;\n                case 'O':\n                    channelSwitchText = _react2.default.createElement(\n                        'div',\n                        { className: 'modal-intro' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channel_modal.publicChannel2',\n                            defaultMessage: 'Create a new public channel anyone can join. '\n                        }),\n                        createPrivateChannelLink\n                    );\n                    inputPrefixId = 'newPublicChannel';\n                    break;\n            }\n\n            var prettyTeamURL = (0, _url.getShortenedURL)();\n\n            return _react2.default.createElement(\n                'span',\n                null,\n                _react2.default.createElement(\n                    _reactBootstrap.Modal,\n                    {\n                        dialogClassName: 'new-channel__modal',\n                        show: this.props.show,\n                        bsSize: 'large',\n                        onHide: this.props.onModalDismissed,\n                        onExited: this.props.onModalExited\n                    },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Header,\n                        { closeButton: true },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Title,\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'channel_modal.modalTitle',\n                                defaultMessage: 'New Channel'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'form',\n                        {\n                            role: 'form',\n                            className: 'form-horizontal'\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Body,\n                            null,\n                            _react2.default.createElement(\n                                'div',\n                                null,\n                                channelSwitchText\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: displayNameClass },\n                                _react2.default.createElement(\n                                    'label',\n                                    { className: 'col-sm-3 form__label control-label' },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'channel_modal.name',\n                                        defaultMessage: 'Name'\n                                    })\n                                ),\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col-sm-9' },\n                                    _react2.default.createElement('input', {\n                                        id: inputPrefixId + 'Name',\n                                        onChange: this.handleChange,\n                                        type: 'text',\n                                        ref: 'display_name',\n                                        className: 'form-control',\n                                        placeholder: Utils.localizeMessage('channel_modal.nameEx', 'E.g.: \"Bugs\", \"Marketing\", \"\"'),\n                                        maxLength: _constants2.default.MAX_CHANNELNAME_LENGTH,\n                                        value: this.props.channelData.displayName,\n                                        autoFocus: true,\n                                        tabIndex: '1'\n                                    }),\n                                    displayNameError,\n                                    _react2.default.createElement(\n                                        'p',\n                                        { className: 'input__help dark' },\n                                        'URL: ' + prettyTeamURL + this.props.channelData.name + ' (',\n                                        _react2.default.createElement(\n                                            'button',\n                                            {\n                                                className: 'color--link style--none',\n                                                onClick: this.props.onChangeURLPressed\n                                            },\n                                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                                id: 'channel_modal.edit',\n                                                defaultMessage: 'Edit'\n                                            })\n                                        ),\n                                        ')'\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'form-group' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col-sm-3' },\n                                    _react2.default.createElement(\n                                        'label',\n                                        { className: 'form__label control-label' },\n                                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                            id: 'channel_modal.purpose',\n                                            defaultMessage: 'Purpose'\n                                        })\n                                    ),\n                                    _react2.default.createElement(\n                                        'label',\n                                        { className: 'form__label light' },\n                                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                            id: 'channel_modal.optional',\n                                            defaultMessage: '(optional)'\n                                        })\n                                    )\n                                ),\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col-sm-9' },\n                                    _react2.default.createElement('textarea', {\n                                        id: inputPrefixId + 'Purpose',\n                                        className: 'form-control no-resize',\n                                        ref: 'channel_purpose',\n                                        rows: '4',\n                                        placeholder: Utils.localizeMessage('channel_modal.purposeEx', 'E.g.: \"A channel to file bugs and improvements\"'),\n                                        maxLength: '250',\n                                        value: this.props.channelData.purpose,\n                                        onChange: this.handleChange,\n                                        tabIndex: '2'\n                                    }),\n                                    _react2.default.createElement(\n                                        'p',\n                                        { className: 'input__help' },\n                                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                            id: 'channel_modal.descriptionHelp',\n                                            defaultMessage: 'Describe how this channel should be used.'\n                                        })\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'form-group less' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col-sm-3' },\n                                    _react2.default.createElement(\n                                        'label',\n                                        { className: 'form__label control-label' },\n                                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                            id: 'channel_modal.header',\n                                            defaultMessage: 'Header'\n                                        })\n                                    ),\n                                    _react2.default.createElement(\n                                        'label',\n                                        { className: 'form__label light' },\n                                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                            id: 'channel_modal.optional',\n                                            defaultMessage: '(optional)'\n                                        })\n                                    )\n                                ),\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col-sm-9' },\n                                    _react2.default.createElement('textarea', {\n                                        id: inputPrefixId + 'Header',\n                                        className: 'form-control no-resize',\n                                        ref: 'channel_header',\n                                        rows: '4',\n                                        placeholder: Utils.localizeMessage('channel_modal.headerEx', 'E.g.: \"[Link Title](http://example.com)\"'),\n                                        maxLength: '1024',\n                                        value: this.props.channelData.header,\n                                        onChange: this.handleChange,\n                                        tabIndex: '2'\n                                    }),\n                                    _react2.default.createElement(\n                                        'p',\n                                        { className: 'input__help' },\n                                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                            id: 'channel_modal.headerHelp',\n                                            defaultMessage: 'Set text that will appear in the header of the channel beside the channel name. For example, include frequently used links by typing [Link Title](http://example.com).'\n                                        })\n                                    ),\n                                    serverError\n                                )\n                            )\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Footer,\n                            null,\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'btn btn-default',\n                                    onClick: this.props.onModalDismissed\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_modal.cancel',\n                                    defaultMessage: 'Cancel'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    onClick: this.handleSubmit,\n                                    type: 'submit',\n                                    className: 'btn btn-primary',\n                                    tabIndex: '3'\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_modal.createNew',\n                                    defaultMessage: 'Create New Channel'\n                                })\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return NewChannelModal;\n}(_react2.default.PureComponent); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nNewChannelModal.propTypes = {\n\n    /**\n     * Set whether to show the modal or not\n     */\n    show: _propTypes2.default.bool.isRequired,\n\n    /**\n     * The type of channel to create, 'O' or 'P'\n     */\n    channelType: _propTypes2.default.string.isRequired,\n\n    /**\n     * The data needed to create the channel\n     */\n    channelData: _propTypes2.default.object.isRequired,\n\n    /**\n     * Set to force form submission on CTRL/CMD + ENTER instead of ENTER\n     */\n    ctrlSend: _propTypes2.default.bool,\n\n    /**\n     * Set to show options available to team admins\n     */\n    isTeamAdmin: _propTypes2.default.bool,\n\n    /**\n     * Set to show options available to system admins\n     */\n    isSystemAdmin: _propTypes2.default.bool,\n\n    /**\n     * Server error from failed channel creation\n     */\n    serverError: _propTypes2.default.node,\n\n    /**\n     * Function used to submit the channel\n     */\n    onSubmitChannel: _propTypes2.default.func.isRequired,\n\n    /**\n     * Function to call when modal is dimissed\n     */\n    onModalDismissed: _propTypes2.default.func.isRequired,\n\n    /**\n     * Function to call when modal has exited\n     */\n    onModalExited: _propTypes2.default.func,\n\n    /**\n     * Function to call to switch channel type\n     */\n    onTypeSwitched: _propTypes2.default.func.isRequired,\n\n    /**\n     * Function to call when edit URL button is pressed\n     */\n    onChangeURLPressed: _propTypes2.default.func.isRequired,\n\n    /**\n     * Function to call when channel data is modified\n     */\n    onDataChanged: _propTypes2.default.func.isRequired\n};\nexports.default = NewChannelModal;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU3Ni5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL25ld19jaGFubmVsX21vZGFsL25ld19jaGFubmVsX21vZGFsLmpzeD9mNzgyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMaWNlbnNlLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcblxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge01vZGFsfSBmcm9tICdyZWFjdC1ib290c3RyYXAnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQge0Zvcm1hdHRlZE1lc3NhZ2V9IGZyb20gJ3JlYWN0LWludGwnO1xuXG5pbXBvcnQgKiBhcyBDaGFubmVsVXRpbHMgZnJvbSAndXRpbHMvY2hhbm5lbF91dGlscy5qc3gnO1xuaW1wb3J0IENvbnN0YW50cyBmcm9tICd1dGlscy9jb25zdGFudHMuanN4JztcbmltcG9ydCB7Z2V0U2hvcnRlbmVkVVJMfSBmcm9tICd1dGlscy91cmwuanN4JztcbmltcG9ydCAqIGFzIFVzZXJBZ2VudCBmcm9tICd1dGlscy91c2VyX2FnZW50LmpzeCc7XG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tICd1dGlscy91dGlscy5qc3gnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZXdDaGFubmVsTW9kYWwgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgd2hldGhlciB0byBzaG93IHRoZSBtb2RhbCBvciBub3RcbiAgICAgICAgICovXG4gICAgICAgIHNob3c6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIGNoYW5uZWwgdG8gY3JlYXRlLCAnTycgb3IgJ1AnXG4gICAgICAgICAqL1xuICAgICAgICBjaGFubmVsVHlwZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0YSBuZWVkZWQgdG8gY3JlYXRlIHRoZSBjaGFubmVsXG4gICAgICAgICAqL1xuICAgICAgICBjaGFubmVsRGF0YTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdG8gZm9yY2UgZm9ybSBzdWJtaXNzaW9uIG9uIENUUkwvQ01EICsgRU5URVIgaW5zdGVhZCBvZiBFTlRFUlxuICAgICAgICAgKi9cbiAgICAgICAgY3RybFNlbmQ6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdG8gc2hvdyBvcHRpb25zIGF2YWlsYWJsZSB0byB0ZWFtIGFkbWluc1xuICAgICAgICAgKi9cbiAgICAgICAgaXNUZWFtQWRtaW46IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdG8gc2hvdyBvcHRpb25zIGF2YWlsYWJsZSB0byBzeXN0ZW0gYWRtaW5zXG4gICAgICAgICAqL1xuICAgICAgICBpc1N5c3RlbUFkbWluOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2VydmVyIGVycm9yIGZyb20gZmFpbGVkIGNoYW5uZWwgY3JlYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIHNlcnZlckVycm9yOiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gdXNlZCB0byBzdWJtaXQgdGhlIGNoYW5uZWxcbiAgICAgICAgICovXG4gICAgICAgIG9uU3VibWl0Q2hhbm5lbDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuIG1vZGFsIGlzIGRpbWlzc2VkXG4gICAgICAgICAqL1xuICAgICAgICBvbk1vZGFsRGlzbWlzc2VkOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gbW9kYWwgaGFzIGV4aXRlZFxuICAgICAgICAgKi9cbiAgICAgICAgb25Nb2RhbEV4aXRlZDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgdG8gc3dpdGNoIGNoYW5uZWwgdHlwZVxuICAgICAgICAgKi9cbiAgICAgICAgb25UeXBlU3dpdGNoZWQ6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBlZGl0IFVSTCBidXR0b24gaXMgcHJlc3NlZFxuICAgICAgICAgKi9cbiAgICAgICAgb25DaGFuZ2VVUkxQcmVzc2VkOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gY2hhbm5lbCBkYXRhIGlzIG1vZGlmaWVkXG4gICAgICAgICAqL1xuICAgICAgICBvbkRhdGFDaGFuZ2VkOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAgIHRoaXMuaGFuZGxlU3VibWl0ID0gdGhpcy5oYW5kbGVTdWJtaXQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uRW50ZXJLZXlEb3duID0gdGhpcy5vbkVudGVyS2V5RG93bi5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBkaXNwbGF5TmFtZUVycm9yOiAnJ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIGlmIChuZXh0UHJvcHMuc2hvdyA9PT0gdHJ1ZSAmJiB0aGlzLnByb3BzLnNob3cgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZUVycm9yOiAnJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uRW50ZXJLZXlEb3duKTtcbiAgICAgICAgfSBlbHNlIGlmIChuZXh0UHJvcHMuc2hvdyA9PT0gZmFsc2UgJiYgdGhpcy5wcm9wcy5zaG93ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbkVudGVyS2V5RG93bik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgLy8gPz8/XG4gICAgICAgIGlmIChVc2VyQWdlbnQuaXNJbnRlcm5ldEV4cGxvcmVyKCkgfHwgVXNlckFnZW50LmlzRWRnZSgpKSB7XG4gICAgICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ2Jyb3dzZXItLWllJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkVudGVyS2V5RG93bihlKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmN0cmxTZW5kICYmIGUua2V5Q29kZSA9PT0gQ29uc3RhbnRzLktleUNvZGVzLkVOVEVSICYmIGUuY3RybEtleSkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVTdWJtaXQoZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMucHJvcHMuY3RybFNlbmQgJiYgZS5rZXlDb2RlID09PSBDb25zdGFudHMuS2V5Q29kZXMuRU5URVIgJiYgIWUuc2hpZnRLZXkgJiYgIWUuYWx0S2V5KSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVN1Ym1pdChlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVN1Ym1pdChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCBkaXNwbGF5TmFtZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5kaXNwbGF5X25hbWUpLnZhbHVlLnRyaW0oKTtcbiAgICAgICAgaWYgKGRpc3BsYXlOYW1lLmxlbmd0aCA8IENvbnN0YW50cy5NSU5fQ0hBTk5FTE5BTUVfTEVOR1RIKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtkaXNwbGF5TmFtZUVycm9yOiB0cnVlfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnByb3BzLm9uU3VibWl0Q2hhbm5lbCgpO1xuICAgIH1cblxuICAgIGhhbmRsZUNoYW5nZSgpIHtcbiAgICAgICAgY29uc3QgbmV3RGF0YSA9IHtcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiB0aGlzLnJlZnMuZGlzcGxheV9uYW1lLnZhbHVlLFxuICAgICAgICAgICAgaGVhZGVyOiB0aGlzLnJlZnMuY2hhbm5lbF9oZWFkZXIudmFsdWUsXG4gICAgICAgICAgICBwdXJwb3NlOiB0aGlzLnJlZnMuY2hhbm5lbF9wdXJwb3NlLnZhbHVlXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucHJvcHMub25EYXRhQ2hhbmdlZChuZXdEYXRhKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBkaXNwbGF5TmFtZUVycm9yID0gbnVsbDtcbiAgICAgICAgdmFyIHNlcnZlckVycm9yID0gbnVsbDtcbiAgICAgICAgdmFyIGRpc3BsYXlOYW1lQ2xhc3MgPSAnZm9ybS1ncm91cCc7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZGlzcGxheU5hbWVFcnJvcikge1xuICAgICAgICAgICAgZGlzcGxheU5hbWVFcnJvciA9IChcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J2lucHV0X19oZWxwIGVycm9yJz5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdjaGFubmVsX21vZGFsLmRpc3BsYXlOYW1lRXJyb3InXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nQ2hhbm5lbCBuYW1lIG11c3QgYmUgMiBvciBtb3JlIGNoYXJhY3RlcnMnXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmRpc3BsYXlOYW1lRXJyb3J9XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lQ2xhc3MgKz0gJyBoYXMtZXJyb3InO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VydmVyRXJyb3IpIHtcbiAgICAgICAgICAgIHNlcnZlckVycm9yID0gPGRpdiBjbGFzc05hbWU9J2Zvcm0tZ3JvdXAgaGFzLWVycm9yJz48ZGl2IGNsYXNzTmFtZT0nY29sLXNtLTEyJz48cCBjbGFzc05hbWU9J2lucHV0X19oZWxwIGVycm9yJz57dGhpcy5wcm9wcy5zZXJ2ZXJFcnJvcn08L3A+PC9kaXY+PC9kaXY+O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNyZWF0ZVB1YmxpY0NoYW5uZWxMaW5rID0gKFxuICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICBocmVmPScjJ1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMub25UeXBlU3dpdGNoZWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgaWQ9J2NoYW5uZWxfbW9kYWwucHVibGljQ2hhbm5lbDEnXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdDcmVhdGUgYSBwdWJsaWMgY2hhbm5lbCdcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICApO1xuXG4gICAgICAgIGxldCBjcmVhdGVQcml2YXRlQ2hhbm5lbExpbmsgPSAoXG4gICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgIGhyZWY9JyMnXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5vblR5cGVTd2l0Y2hlZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICBpZD0nY2hhbm5lbF9tb2RhbC5wcml2YXRlR3JvdXAyJ1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nQ3JlYXRlIGEgcHJpdmF0ZSBjaGFubmVsJ1xuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCFDaGFubmVsVXRpbHMuc2hvd0NyZWF0ZU9wdGlvbihDb25zdGFudHMuT1BFTl9DSEFOTkVMLCB0aGlzLnByb3BzLmlzVGVhbUFkbWluLCB0aGlzLnByb3BzLmlzU3lzdGVtQWRtaW4pKSB7XG4gICAgICAgICAgICBjcmVhdGVQdWJsaWNDaGFubmVsTGluayA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUNoYW5uZWxVdGlscy5zaG93Q3JlYXRlT3B0aW9uKENvbnN0YW50cy5QUklWQVRFX0NIQU5ORUwsIHRoaXMucHJvcHMuaXNUZWFtQWRtaW4sIHRoaXMucHJvcHMuaXNTeXN0ZW1BZG1pbikpIHtcbiAgICAgICAgICAgIGNyZWF0ZVByaXZhdGVDaGFubmVsTGluayA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2hhbm5lbFN3aXRjaFRleHQgPSAnJztcbiAgICAgICAgbGV0IGlucHV0UHJlZml4SWQgPSAnJztcbiAgICAgICAgc3dpdGNoICh0aGlzLnByb3BzLmNoYW5uZWxUeXBlKSB7XG4gICAgICAgIGNhc2UgJ1AnOlxuICAgICAgICAgICAgY2hhbm5lbFN3aXRjaFRleHQgPSAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21vZGFsLWludHJvJz5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdjaGFubmVsX21vZGFsLnByaXZhdGVHcm91cDEnXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nQ3JlYXRlIGEgbmV3IHByaXZhdGUgY2hhbm5lbCB3aXRoIHJlc3RyaWN0ZWQgbWVtYmVyc2hpcC4gJ1xuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB7Y3JlYXRlUHVibGljQ2hhbm5lbExpbmt9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaW5wdXRQcmVmaXhJZCA9ICduZXdQcml2YXRlQ2hhbm5lbCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTyc6XG4gICAgICAgICAgICBjaGFubmVsU3dpdGNoVGV4dCA9IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbW9kYWwtaW50cm8nPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2NoYW5uZWxfbW9kYWwucHVibGljQ2hhbm5lbDInXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nQ3JlYXRlIGEgbmV3IHB1YmxpYyBjaGFubmVsIGFueW9uZSBjYW4gam9pbi4gJ1xuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB7Y3JlYXRlUHJpdmF0ZUNoYW5uZWxMaW5rfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlucHV0UHJlZml4SWQgPSAnbmV3UHVibGljQ2hhbm5lbCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByZXR0eVRlYW1VUkwgPSBnZXRTaG9ydGVuZWRVUkwoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgPE1vZGFsXG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZ0NsYXNzTmFtZT0nbmV3LWNoYW5uZWxfX21vZGFsJ1xuICAgICAgICAgICAgICAgICAgICBzaG93PXt0aGlzLnByb3BzLnNob3d9XG4gICAgICAgICAgICAgICAgICAgIGJzU2l6ZT0nbGFyZ2UnXG4gICAgICAgICAgICAgICAgICAgIG9uSGlkZT17dGhpcy5wcm9wcy5vbk1vZGFsRGlzbWlzc2VkfVxuICAgICAgICAgICAgICAgICAgICBvbkV4aXRlZD17dGhpcy5wcm9wcy5vbk1vZGFsRXhpdGVkfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPE1vZGFsLkhlYWRlciBjbG9zZUJ1dHRvbj17dHJ1ZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TW9kYWwuVGl0bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2NoYW5uZWxfbW9kYWwubW9kYWxUaXRsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J05ldyBDaGFubmVsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L01vZGFsLlRpdGxlPlxuICAgICAgICAgICAgICAgICAgICA8L01vZGFsLkhlYWRlcj5cbiAgICAgICAgICAgICAgICAgICAgPGZvcm1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9J2Zvcm0nXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2Zvcm0taG9yaXpvbnRhbCdcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPE1vZGFsLkJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NoYW5uZWxTd2l0Y2hUZXh0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtkaXNwbGF5TmFtZUNsYXNzfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nY29sLXNtLTMgZm9ybV9fbGFiZWwgY29udHJvbC1sYWJlbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdjaGFubmVsX21vZGFsLm5hbWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J05hbWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sLXNtLTknPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2lucHV0UHJlZml4SWQgKyAnTmFtZSd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9J3RleHQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPSdkaXNwbGF5X25hbWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmb3JtLWNvbnRyb2wnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e1V0aWxzLmxvY2FsaXplTWVzc2FnZSgnY2hhbm5lbF9tb2RhbC5uYW1lRXgnLCAnRS5nLjogXCJCdWdzXCIsIFwiTWFya2V0aW5nXCIsIFwi5a6i5oi35pSv5oyBXCInKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg9e0NvbnN0YW50cy5NQVhfQ0hBTk5FTE5BTUVfTEVOR1RIfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLmNoYW5uZWxEYXRhLmRpc3BsYXlOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9Gb2N1cz17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJJbmRleD0nMSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGlzcGxheU5hbWVFcnJvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0naW5wdXRfX2hlbHAgZGFyayc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeydVUkw6ICcgKyBwcmV0dHlUZWFtVVJMICsgdGhpcy5wcm9wcy5jaGFubmVsRGF0YS5uYW1lICsgJyAoJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nY29sb3ItLWxpbmsgc3R5bGUtLW5vbmUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMub25DaGFuZ2VVUkxQcmVzc2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdjaGFubmVsX21vZGFsLmVkaXQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nRWRpdCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7JyknfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZm9ybS1ncm91cCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wtc20tMyc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSdmb3JtX19sYWJlbCBjb250cm9sLWxhYmVsJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nY2hhbm5lbF9tb2RhbC5wdXJwb3NlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nUHVycG9zZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J2Zvcm1fX2xhYmVsIGxpZ2h0Jz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nY2hhbm5lbF9tb2RhbC5vcHRpb25hbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9JyhvcHRpb25hbCknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sLXNtLTknPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2lucHV0UHJlZml4SWQgKyAnUHVycG9zZSd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmb3JtLWNvbnRyb2wgbm8tcmVzaXplJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj0nY2hhbm5lbF9wdXJwb3NlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9JzQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e1V0aWxzLmxvY2FsaXplTWVzc2FnZSgnY2hhbm5lbF9tb2RhbC5wdXJwb3NlRXgnLCAnRS5nLjogXCJBIGNoYW5uZWwgdG8gZmlsZSBidWdzIGFuZCBpbXByb3ZlbWVudHNcIicpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heExlbmd0aD0nMjUwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLmNoYW5uZWxEYXRhLnB1cnBvc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYkluZGV4PScyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0naW5wdXRfX2hlbHAnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdjaGFubmVsX21vZGFsLmRlc2NyaXB0aW9uSGVscCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0Rlc2NyaWJlIGhvdyB0aGlzIGNoYW5uZWwgc2hvdWxkIGJlIHVzZWQuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmb3JtLWdyb3VwIGxlc3MnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sLXNtLTMnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nZm9ybV9fbGFiZWwgY29udHJvbC1sYWJlbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2NoYW5uZWxfbW9kYWwuaGVhZGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nSGVhZGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nZm9ybV9fbGFiZWwgbGlnaHQnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdjaGFubmVsX21vZGFsLm9wdGlvbmFsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nKG9wdGlvbmFsKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wtc20tOSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17aW5wdXRQcmVmaXhJZCArICdIZWFkZXInfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZm9ybS1jb250cm9sIG5vLXJlc2l6ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9J2NoYW5uZWxfaGVhZGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9JzQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e1V0aWxzLmxvY2FsaXplTWVzc2FnZSgnY2hhbm5lbF9tb2RhbC5oZWFkZXJFeCcsICdFLmcuOiBcIltMaW5rIFRpdGxlXShodHRwOi8vZXhhbXBsZS5jb20pXCInKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg9JzEwMjQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMuY2hhbm5lbERhdGEuaGVhZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJJbmRleD0nMidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J2lucHV0X19oZWxwJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nY2hhbm5lbF9tb2RhbC5oZWFkZXJIZWxwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nU2V0IHRleHQgdGhhdCB3aWxsIGFwcGVhciBpbiB0aGUgaGVhZGVyIG9mIHRoZSBjaGFubmVsIGJlc2lkZSB0aGUgY2hhbm5lbCBuYW1lLiBGb3IgZXhhbXBsZSwgaW5jbHVkZSBmcmVxdWVudGx5IHVzZWQgbGlua3MgYnkgdHlwaW5nIFtMaW5rIFRpdGxlXShodHRwOi8vZXhhbXBsZS5jb20pLidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlcnZlckVycm9yfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvTW9kYWwuQm9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxNb2RhbC5Gb290ZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdidXR0b24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYnRuIGJ0bi1kZWZhdWx0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm9uTW9kYWxEaXNtaXNzZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2NoYW5uZWxfbW9kYWwuY2FuY2VsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0NhbmNlbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU3VibWl0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdzdWJtaXQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYnRuIGJ0bi1wcmltYXJ5J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJJbmRleD0nMydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nY2hhbm5lbF9tb2RhbC5jcmVhdGVOZXcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nQ3JlYXRlIE5ldyBDaGFubmVsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Nb2RhbC5Gb290ZXI+XG4gICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgICAgICA8L01vZGFsPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBjb21wb25lbnRzL25ld19jaGFubmVsX21vZGFsL25ld19jaGFubmVsX21vZGFsLmpzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHQTtBQUNBOzs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7Ozs7O0FBQ0E7OztBQXFFQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFQQTtBQVVBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFMQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFKQTtBQUNBO0FBVUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFKQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUxBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUxBO0FBUUE7QUFDQTtBQXhCQTtBQUNBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBREE7QUFRQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQU1BO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUpBO0FBU0E7QUFYQTtBQWRBO0FBUEE7QUFvQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQU1BO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFQQTtBQWNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFXQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBWkE7QUFmQTtBQW1DQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBTUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQVBBO0FBY0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFNQTtBQWxCQTtBQWZBO0FBM0VBO0FBZ0hBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFMQTtBQVVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFGQTtBQU5BO0FBWEE7QUFwSEE7QUFmQTtBQURBO0FBK0pBOzs7QUF0WEE7QUFoQkE7QUFDQTtBQWVBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFqRUE7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2576\n");

/***/ }),

/***/ 2577:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(7);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(5);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(6);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(8);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(9);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(41);\n\nvar _reactDom = __webpack_require__(48);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(18);\n\nvar _team_store = __webpack_require__(38);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _constants = __webpack_require__(10);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _url = __webpack_require__(79);\n\nvar URL = _interopRequireWildcard(_url);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ChangeUrlModal = function (_React$Component) {\n    (0, _inherits3.default)(ChangeUrlModal, _React$Component);\n\n    function ChangeUrlModal(props) {\n        (0, _classCallCheck3.default)(this, ChangeUrlModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ChangeUrlModal.__proto__ || (0, _getPrototypeOf2.default)(ChangeUrlModal)).call(this, props));\n\n        _this.onURLChanged = _this.onURLChanged.bind(_this);\n        _this.doSubmit = _this.doSubmit.bind(_this);\n        _this.doCancel = _this.doCancel.bind(_this);\n\n        _this.state = {\n            currentURL: props.currentURL,\n            urlError: '',\n            userEdit: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(ChangeUrlModal, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            // This check prevents the url being deleted when we re-render\n            // because of user status check\n            if (!this.state.userEdit) {\n                this.setState({\n                    currentURL: nextProps.currentURL\n                });\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            if (this.props.show === true && prevProps.show === false) {\n                _reactDom2.default.findDOMNode(this.refs.urlinput).select();\n            }\n        }\n    }, {\n        key: 'onURLChanged',\n        value: function onURLChanged(e) {\n            var url = e.target.value.trim();\n            this.setState({ currentURL: url.replace(/[^A-Za-z0-9-_]/g, '').toLowerCase(), userEdit: true });\n        }\n    }, {\n        key: 'getURLError',\n        value: function getURLError(url) {\n            var error = []; //eslint-disable-line prefer-const\n            if (url.length < 2) {\n                error.push(_react2.default.createElement(\n                    'span',\n                    { key: 'error1' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'change_url.longer',\n                        defaultMessage: 'URL must be two or more characters.'\n                    }),\n                    _react2.default.createElement('br', null)\n                ));\n            }\n            if (url.charAt(0) === '-' || url.charAt(0) === '_') {\n                error.push(_react2.default.createElement(\n                    'span',\n                    { key: 'error2' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'change_url.startWithLetter',\n                        defaultMessage: 'URL must start with a letter or number.'\n                    }),\n                    _react2.default.createElement('br', null)\n                ));\n            }\n            if (url.length > 1 && (url.charAt(url.length - 1) === '-' || url.charAt(url.length - 1) === '_')) {\n                error.push(_react2.default.createElement(\n                    'span',\n                    { key: 'error3' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'change_url.endWithLetter',\n                        defaultMessage: 'URL must end with a letter or number.'\n                    }),\n                    _react2.default.createElement('br', null)\n                ));\n            }\n            if (url.indexOf('__') > -1) {\n                error.push(_react2.default.createElement(\n                    'span',\n                    { key: 'error4' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'change_url.noUnderscore',\n                        defaultMessage: 'URL can not contain two underscores in a row.'\n                    }),\n                    _react2.default.createElement('br', null)\n                ));\n            }\n\n            // In case of error we don't detect\n            if (error.length === 0) {\n                error.push(_react2.default.createElement(\n                    'span',\n                    { key: 'errorlast' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'change_url.invalidUrl',\n                        defaultMessage: 'Invalid URL'\n                    }),\n                    _react2.default.createElement('br', null)\n                ));\n            }\n            return error;\n        }\n    }, {\n        key: 'doSubmit',\n        value: function doSubmit(e) {\n            e.preventDefault();\n\n            var url = _reactDom2.default.findDOMNode(this.refs.urlinput).value;\n            var cleanedURL = URL.cleanUpUrlable(url);\n            if (cleanedURL !== url || url.length < 2 || url.indexOf('__') > -1) {\n                this.setState({ urlError: this.getURLError(url) });\n                return;\n            }\n            this.setState({ urlError: '', userEdit: false });\n            this.props.onModalSubmit(url);\n        }\n    }, {\n        key: 'doCancel',\n        value: function doCancel() {\n            this.setState({ urlError: '', userEdit: false });\n            this.props.onModalDismissed();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var urlClass = 'input-group input-group--limit';\n            var error = null;\n\n            if (this.state.urlError) {\n                urlClass += ' has-error';\n            }\n\n            if (this.props.serverError || this.state.urlError) {\n                error = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'p',\n                        { className: 'input__help error' },\n                        this.state.urlError || this.props.serverError\n                    )\n                );\n            }\n\n            var fullUrl = _team_store2.default.getCurrentTeamUrl() + '/channels';\n            var shortURL = URL.getShortenedURL(fullUrl);\n            var urlTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'urlTooltip' },\n                fullUrl\n            );\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    show: this.props.show,\n                    onHide: this.doCancel,\n                    onExited: this.props.onModalExited\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        null,\n                        this.props.title\n                    )\n                ),\n                _react2.default.createElement(\n                    'form',\n                    {\n                        role: 'form',\n                        className: 'form-horizontal'\n                    },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Body,\n                        null,\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-intro' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'channel_flow.changeUrlDescription',\n                                defaultMessage: 'Some characters are now allowed in URLs and may be removed.'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'form-group' },\n                            _react2.default.createElement(\n                                'label',\n                                { className: 'col-sm-2 form__label control-label' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'change_url.urlLabel',\n                                    defaultMessage: 'Channel URL'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'col-sm-10' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: urlClass },\n                                    _react2.default.createElement(\n                                        _reactBootstrap.OverlayTrigger,\n                                        {\n                                            trigger: ['hover', 'focus'],\n                                            delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                            placement: 'top',\n                                            overlay: urlTooltip\n                                        },\n                                        _react2.default.createElement(\n                                            'span',\n                                            { className: 'input-group-addon' },\n                                            shortURL\n                                        )\n                                    ),\n                                    _react2.default.createElement('input', {\n                                        type: 'text',\n                                        ref: 'urlinput',\n                                        className: 'form-control',\n                                        maxLength: _constants2.default.MAX_CHANNELNAME_LENGTH,\n                                        onChange: this.onURLChanged,\n                                        value: this.state.currentURL,\n                                        autoFocus: true,\n                                        tabIndex: '1'\n                                    })\n                                ),\n                                error\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Footer,\n                        null,\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                type: 'button',\n                                className: 'btn btn-default',\n                                onClick: this.doCancel\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'change_url.close',\n                                defaultMessage: 'Close'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                onClick: this.doSubmit,\n                                type: 'submit',\n                                className: 'btn btn-primary',\n                                tabIndex: '2'\n                            },\n                            this.props.submitButtonText\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return ChangeUrlModal;\n}(_react2.default.Component);\n\nexports.default = ChangeUrlModal;\n\n\nChangeUrlModal.defaultProps = {\n    show: false,\n    title: 'Change URL',\n    submitButtonText: 'Save',\n    currentURL: '',\n    serverError: null\n};\n\nChangeUrlModal.propTypes = {\n    show: _propTypes2.default.bool.isRequired,\n    title: _propTypes2.default.node,\n    submitButtonText: _propTypes2.default.node,\n    currentURL: _propTypes2.default.string,\n    serverError: _propTypes2.default.node,\n    onModalSubmit: _propTypes2.default.func.isRequired,\n    onModalExited: _propTypes2.default.func,\n    onModalDismissed: _propTypes2.default.func.isRequired\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU3Ny5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL2NoYW5nZV91cmxfbW9kYWwuanN4PzUxMjgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExpY2Vuc2UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7TW9kYWwsIE92ZXJsYXlUcmlnZ2VyLCBUb29sdGlwfSBmcm9tICdyZWFjdC1ib290c3RyYXAnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQge0Zvcm1hdHRlZE1lc3NhZ2V9IGZyb20gJ3JlYWN0LWludGwnO1xuXG5pbXBvcnQgVGVhbVN0b3JlIGZyb20gJ3N0b3Jlcy90ZWFtX3N0b3JlLmpzeCc7XG5cbmltcG9ydCBDb25zdGFudHMgZnJvbSAndXRpbHMvY29uc3RhbnRzLmpzeCc7XG5pbXBvcnQgKiBhcyBVUkwgZnJvbSAndXRpbHMvdXJsLmpzeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYW5nZVVybE1vZGFsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5vblVSTENoYW5nZWQgPSB0aGlzLm9uVVJMQ2hhbmdlZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRvU3VibWl0ID0gdGhpcy5kb1N1Ym1pdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRvQ2FuY2VsID0gdGhpcy5kb0NhbmNlbC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjdXJyZW50VVJMOiBwcm9wcy5jdXJyZW50VVJMLFxuICAgICAgICAgICAgdXJsRXJyb3I6ICcnLFxuICAgICAgICAgICAgdXNlckVkaXQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgLy8gVGhpcyBjaGVjayBwcmV2ZW50cyB0aGUgdXJsIGJlaW5nIGRlbGV0ZWQgd2hlbiB3ZSByZS1yZW5kZXJcbiAgICAgICAgLy8gYmVjYXVzZSBvZiB1c2VyIHN0YXR1cyBjaGVja1xuICAgICAgICBpZiAoIXRoaXMuc3RhdGUudXNlckVkaXQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGN1cnJlbnRVUkw6IG5leHRQcm9wcy5jdXJyZW50VVJMXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2hvdyA9PT0gdHJ1ZSAmJiBwcmV2UHJvcHMuc2hvdyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy51cmxpbnB1dCkuc2VsZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblVSTENoYW5nZWQoZSkge1xuICAgICAgICBjb25zdCB1cmwgPSBlLnRhcmdldC52YWx1ZS50cmltKCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2N1cnJlbnRVUkw6IHVybC5yZXBsYWNlKC9bXkEtWmEtejAtOS1fXS9nLCAnJykudG9Mb3dlckNhc2UoKSwgdXNlckVkaXQ6IHRydWV9KTtcbiAgICB9XG5cbiAgICBnZXRVUkxFcnJvcih1cmwpIHtcbiAgICAgICAgbGV0IGVycm9yID0gW107IC8vZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItY29uc3RcbiAgICAgICAgaWYgKHVybC5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICBlcnJvci5wdXNoKFxuICAgICAgICAgICAgICAgIDxzcGFuIGtleT0nZXJyb3IxJz5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdjaGFuZ2VfdXJsLmxvbmdlcidcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdVUkwgbXVzdCBiZSB0d28gb3IgbW9yZSBjaGFyYWN0ZXJzLidcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGJyLz5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmwuY2hhckF0KDApID09PSAnLScgfHwgdXJsLmNoYXJBdCgwKSA9PT0gJ18nKSB7XG4gICAgICAgICAgICBlcnJvci5wdXNoKFxuICAgICAgICAgICAgICAgIDxzcGFuIGtleT0nZXJyb3IyJz5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdjaGFuZ2VfdXJsLnN0YXJ0V2l0aExldHRlcidcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdVUkwgbXVzdCBzdGFydCB3aXRoIGEgbGV0dGVyIG9yIG51bWJlci4nXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxici8+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsLmxlbmd0aCA+IDEgJiYgKHVybC5jaGFyQXQodXJsLmxlbmd0aCAtIDEpID09PSAnLScgfHwgdXJsLmNoYXJBdCh1cmwubGVuZ3RoIC0gMSkgPT09ICdfJykpIHtcbiAgICAgICAgICAgIGVycm9yLnB1c2goXG4gICAgICAgICAgICAgICAgPHNwYW4ga2V5PSdlcnJvcjMnPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2NoYW5nZV91cmwuZW5kV2l0aExldHRlcidcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdVUkwgbXVzdCBlbmQgd2l0aCBhIGxldHRlciBvciBudW1iZXIuJ1xuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8YnIvPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj4pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmwuaW5kZXhPZignX18nKSA+IC0xKSB7XG4gICAgICAgICAgICBlcnJvci5wdXNoKFxuICAgICAgICAgICAgICAgIDxzcGFuIGtleT0nZXJyb3I0Jz5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdjaGFuZ2VfdXJsLm5vVW5kZXJzY29yZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdVUkwgY2FuIG5vdCBjb250YWluIHR3byB1bmRlcnNjb3JlcyBpbiBhIHJvdy4nXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxici8+XG4gICAgICAgICAgICAgICAgPC9zcGFuPik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbiBjYXNlIG9mIGVycm9yIHdlIGRvbid0IGRldGVjdFxuICAgICAgICBpZiAoZXJyb3IubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlcnJvci5wdXNoKFxuICAgICAgICAgICAgICAgIDxzcGFuIGtleT0nZXJyb3JsYXN0Jz5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdjaGFuZ2VfdXJsLmludmFsaWRVcmwnXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nSW52YWxpZCBVUkwnXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxici8+XG4gICAgICAgICAgICAgICAgPC9zcGFuPik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cblxuICAgIGRvU3VibWl0KGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IHVybCA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy51cmxpbnB1dCkudmFsdWU7XG4gICAgICAgIGNvbnN0IGNsZWFuZWRVUkwgPSBVUkwuY2xlYW5VcFVybGFibGUodXJsKTtcbiAgICAgICAgaWYgKGNsZWFuZWRVUkwgIT09IHVybCB8fCB1cmwubGVuZ3RoIDwgMiB8fCB1cmwuaW5kZXhPZignX18nKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHt1cmxFcnJvcjogdGhpcy5nZXRVUkxFcnJvcih1cmwpfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7dXJsRXJyb3I6ICcnLCB1c2VyRWRpdDogZmFsc2V9KTtcbiAgICAgICAgdGhpcy5wcm9wcy5vbk1vZGFsU3VibWl0KHVybCk7XG4gICAgfVxuXG4gICAgZG9DYW5jZWwoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3VybEVycm9yOiAnJywgdXNlckVkaXQ6IGZhbHNlfSk7XG4gICAgICAgIHRoaXMucHJvcHMub25Nb2RhbERpc21pc3NlZCgpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgbGV0IHVybENsYXNzID0gJ2lucHV0LWdyb3VwIGlucHV0LWdyb3VwLS1saW1pdCc7XG4gICAgICAgIGxldCBlcnJvciA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUudXJsRXJyb3IpIHtcbiAgICAgICAgICAgIHVybENsYXNzICs9ICcgaGFzLWVycm9yJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNlcnZlckVycm9yIHx8IHRoaXMuc3RhdGUudXJsRXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9yID0gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmb3JtLWdyb3VwIGhhcy1lcnJvcic+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0naW5wdXRfX2hlbHAgZXJyb3InPlxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUudXJsRXJyb3IgfHwgdGhpcy5wcm9wcy5zZXJ2ZXJFcnJvcn1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZ1bGxVcmwgPSBUZWFtU3RvcmUuZ2V0Q3VycmVudFRlYW1VcmwoKSArICcvY2hhbm5lbHMnO1xuICAgICAgICBjb25zdCBzaG9ydFVSTCA9IFVSTC5nZXRTaG9ydGVuZWRVUkwoZnVsbFVybCk7XG4gICAgICAgIGNvbnN0IHVybFRvb2x0aXAgPSAoXG4gICAgICAgICAgICA8VG9vbHRpcCBpZD0ndXJsVG9vbHRpcCc+e2Z1bGxVcmx9PC9Ub29sdGlwPlxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8TW9kYWxcbiAgICAgICAgICAgICAgICBzaG93PXt0aGlzLnByb3BzLnNob3d9XG4gICAgICAgICAgICAgICAgb25IaWRlPXt0aGlzLmRvQ2FuY2VsfVxuICAgICAgICAgICAgICAgIG9uRXhpdGVkPXt0aGlzLnByb3BzLm9uTW9kYWxFeGl0ZWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPE1vZGFsLkhlYWRlciBjbG9zZUJ1dHRvbj17dHJ1ZX0+XG4gICAgICAgICAgICAgICAgICAgIDxNb2RhbC5UaXRsZT57dGhpcy5wcm9wcy50aXRsZX08L01vZGFsLlRpdGxlPlxuICAgICAgICAgICAgICAgIDwvTW9kYWwuSGVhZGVyPlxuICAgICAgICAgICAgICAgIDxmb3JtXG4gICAgICAgICAgICAgICAgICAgIHJvbGU9J2Zvcm0nXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZm9ybS1ob3Jpem9udGFsJ1xuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPE1vZGFsLkJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbW9kYWwtaW50cm8nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdjaGFubmVsX2Zsb3cuY2hhbmdlVXJsRGVzY3JpcHRpb24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdTb21lIGNoYXJhY3RlcnMgYXJlIG5vdyBhbGxvd2VkIGluIFVSTHMgYW5kIG1heSBiZSByZW1vdmVkLidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZm9ybS1ncm91cCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nY29sLXNtLTIgZm9ybV9fbGFiZWwgY29udHJvbC1sYWJlbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nY2hhbmdlX3VybC51cmxMYWJlbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdDaGFubmVsIFVSTCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wtc20tMTAnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dXJsQ2xhc3N9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE92ZXJsYXlUcmlnZ2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcj17Wydob3ZlcicsICdmb2N1cyddfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5U2hvdz17Q29uc3RhbnRzLk9WRVJMQVlfVElNRV9ERUxBWX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9J3RvcCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVybGF5PXt1cmxUb29sdGlwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0naW5wdXQtZ3JvdXAtYWRkb24nPntzaG9ydFVSTH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L092ZXJsYXlUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9J3VybGlucHV0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZm9ybS1jb250cm9sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heExlbmd0aD17Q29uc3RhbnRzLk1BWF9DSEFOTkVMTkFNRV9MRU5HVEh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25VUkxDaGFuZ2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmN1cnJlbnRVUkx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0ZvY3VzPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYkluZGV4PScxJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L01vZGFsLkJvZHk+XG4gICAgICAgICAgICAgICAgICAgIDxNb2RhbC5Gb290ZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0nYnV0dG9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYnRuIGJ0bi1kZWZhdWx0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZG9DYW5jZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2NoYW5nZV91cmwuY2xvc2UnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdDbG9zZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5kb1N1Ym1pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdzdWJtaXQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdidG4gYnRuLXByaW1hcnknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9JzInXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuc3VibWl0QnV0dG9uVGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L01vZGFsLkZvb3Rlcj5cbiAgICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICA8L01vZGFsPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuQ2hhbmdlVXJsTW9kYWwuZGVmYXVsdFByb3BzID0ge1xuICAgIHNob3c6IGZhbHNlLFxuICAgIHRpdGxlOiAnQ2hhbmdlIFVSTCcsXG4gICAgc3VibWl0QnV0dG9uVGV4dDogJ1NhdmUnLFxuICAgIGN1cnJlbnRVUkw6ICcnLFxuICAgIHNlcnZlckVycm9yOiBudWxsXG59O1xuXG5DaGFuZ2VVcmxNb2RhbC5wcm9wVHlwZXMgPSB7XG4gICAgc2hvdzogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICB0aXRsZTogUHJvcFR5cGVzLm5vZGUsXG4gICAgc3VibWl0QnV0dG9uVGV4dDogUHJvcFR5cGVzLm5vZGUsXG4gICAgY3VycmVudFVSTDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzZXJ2ZXJFcnJvcjogUHJvcFR5cGVzLm5vZGUsXG4gICAgb25Nb2RhbFN1Ym1pdDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbk1vZGFsRXhpdGVkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbk1vZGFsRGlzbWlzc2VkOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGNvbXBvbmVudHMvY2hhbmdlX3VybF9tb2RhbC5qc3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBREE7QUFDQTs7Ozs7QUFiQTtBQUNBO0FBQ0E7QUFZQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQVBBO0FBWUE7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUxBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFMQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFEQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBTUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQU1BO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVRBO0FBb0JBO0FBckJBO0FBUEE7QUFQQTtBQXVDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFVQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFOQTtBQVhBO0FBM0NBO0FBUkE7QUEwRUE7OztBQXBOQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBcU5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2577\n");

/***/ }),

/***/ 2578:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(20);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(7);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(5);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(6);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(8);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(9);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(41);\n\nvar _preference_store = __webpack_require__(121);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _constants = __webpack_require__(10);\n\nvar _utils = __webpack_require__(17);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _index = __webpack_require__(2579);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _tutorial_tip = __webpack_require__(776);\n\nvar _sidebar_header_dropdown = __webpack_require__(2582);\n\nvar _sidebar_header_dropdown2 = _interopRequireDefault(_sidebar_header_dropdown);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SidebarHeader = function (_React$Component) {\n    (0, _inherits3.default)(SidebarHeader, _React$Component);\n\n    function SidebarHeader(props) {\n        (0, _classCallCheck3.default)(this, SidebarHeader);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SidebarHeader.__proto__ || (0, _getPrototypeOf2.default)(SidebarHeader)).call(this, props));\n\n        _this.handleResize = function () {\n            var isMobile = Utils.isMobile();\n            _this.setState({ isMobile: isMobile });\n        };\n\n        _this.getPreferences = function () {\n            if (!_this.props.currentUser) {\n                return {};\n            }\n            var tutorialStep = _preference_store2.default.getInt(_constants.Preferences.TUTORIAL_STEP, _this.props.currentUser.id, 999);\n            var showTutorialTip = tutorialStep === _constants.TutorialSteps.MENU_POPOVER && !Utils.isMobile();\n\n            return { showTutorialTip: showTutorialTip };\n        };\n\n        _this.getStateFromStores = function () {\n            var preferences = _this.getPreferences();\n            var isMobile = Utils.isMobile();\n            return (0, _extends3.default)({}, preferences, { isMobile: isMobile });\n        };\n\n        _this.onPreferenceChange = function () {\n            _this.setState(_this.getPreferences());\n        };\n\n        _this.toggleDropdown = function (e) {\n            e.preventDefault();\n\n            _this.refs.dropdown.toggleDropdown();\n        };\n\n        _this.renderStatusDropdown = function () {\n            if (_this.state.isMobile) {\n                return null;\n            }\n            return _react2.default.createElement(_index2.default, null);\n        };\n\n        _this.state = _this.getStateFromStores();\n        return _this;\n    }\n\n    (0, _createClass3.default)(SidebarHeader, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _preference_store2.default.addChangeListener(this.onPreferenceChange);\n            window.addEventListener('resize', this.handleResize);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _preference_store2.default.removeChangeListener(this.onPreferenceChange);\n            window.removeEventListener('resize', this.handleResize);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var statusDropdown = this.renderStatusDropdown();\n\n            var tutorialTip = null;\n            if (this.state.showTutorialTip) {\n                tutorialTip = (0, _tutorial_tip.createMenuTip)(this.toggleDropdown);\n            }\n\n            var teamNameWithToolTip = null;\n            if (this.props.teamDescription === '') {\n                teamNameWithToolTip = _react2.default.createElement(\n                    'div',\n                    {\n                        id: 'headerTeamName',\n                        className: 'team__name'\n                    },\n                    this.props.teamDisplayName\n                );\n            } else {\n                teamNameWithToolTip = _react2.default.createElement(\n                    _reactBootstrap.OverlayTrigger,\n                    {\n                        trigger: ['hover', 'focus'],\n                        delayShow: _constants.Constants.OVERLAY_TIME_DELAY,\n                        placement: 'bottom',\n                        overlay: _react2.default.createElement(\n                            _reactBootstrap.Tooltip,\n                            { id: 'team-name__tooltip' },\n                            this.props.teamDescription\n                        ),\n                        ref: 'descriptionOverlay'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            id: 'headerTeamName',\n                            className: 'team__name'\n                        },\n                        this.props.teamDisplayName\n                    )\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    id: 'teamHeader',\n                    className: 'team__header theme'\n                },\n                tutorialTip,\n                _react2.default.createElement(\n                    'div',\n                    {\n                        id: 'headerInfo',\n                        className: 'header__info'\n                    },\n                    teamNameWithToolTip,\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            id: 'headerUsername',\n                            className: 'user__name'\n                        },\n                        '@' + this.props.currentUser.username\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { id: 'sidebarDropdownMenuContainer' },\n                    _react2.default.createElement(_sidebar_header_dropdown2.default, {\n                        ref: 'dropdown',\n                        teamType: this.props.teamType,\n                        teamDisplayName: this.props.teamDisplayName,\n                        teamName: this.props.teamName,\n                        currentUser: this.props.currentUser\n                    })\n                ),\n                statusDropdown\n            );\n        }\n    }]);\n    return SidebarHeader;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = SidebarHeader;\n\n\nSidebarHeader.defaultProps = {\n    teamDisplayName: '',\n    teamDescription: '',\n    teamType: ''\n};\nSidebarHeader.propTypes = {\n    teamDisplayName: _propTypes2.default.string,\n    teamDescription: _propTypes2.default.string,\n    teamName: _propTypes2.default.string,\n    teamType: _propTypes2.default.string,\n    currentUser: _propTypes2.default.object\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU3OC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL3NpZGViYXJfaGVhZGVyLmpzeD9jZWIzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMaWNlbnNlLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge092ZXJsYXlUcmlnZ2VyLCBUb29sdGlwfSBmcm9tICdyZWFjdC1ib290c3RyYXAnO1xuXG5pbXBvcnQgUHJlZmVyZW5jZVN0b3JlIGZyb20gJ3N0b3Jlcy9wcmVmZXJlbmNlX3N0b3JlLmpzeCc7XG5cbmltcG9ydCB7Q29uc3RhbnRzLCBQcmVmZXJlbmNlcywgVHV0b3JpYWxTdGVwc30gZnJvbSAndXRpbHMvY29uc3RhbnRzLmpzeCc7XG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tICd1dGlscy91dGlscy5qc3gnO1xuXG5pbXBvcnQgU3RhdHVzRHJvcGRvd24gZnJvbSAnY29tcG9uZW50cy9zdGF0dXNfZHJvcGRvd24vaW5kZXguanN4JztcbmltcG9ydCB7Y3JlYXRlTWVudVRpcH0gZnJvbSAnY29tcG9uZW50cy90dXRvcmlhbC90dXRvcmlhbF90aXAuanN4JztcblxuaW1wb3J0IFNpZGViYXJIZWFkZXJEcm9wZG93biBmcm9tICcuL3NpZGViYXJfaGVhZGVyX2Ryb3Bkb3duLmpzeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpZGViYXJIZWFkZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5nZXRTdGF0ZUZyb21TdG9yZXMoKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgUHJlZmVyZW5jZVN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMub25QcmVmZXJlbmNlQ2hhbmdlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgUHJlZmVyZW5jZVN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMub25QcmVmZXJlbmNlQ2hhbmdlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKTtcbiAgICB9XG5cbiAgICBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzTW9iaWxlID0gVXRpbHMuaXNNb2JpbGUoKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNNb2JpbGV9KTtcbiAgICB9XG5cbiAgICBnZXRQcmVmZXJlbmNlcyA9ICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmN1cnJlbnRVc2VyKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHV0b3JpYWxTdGVwID0gUHJlZmVyZW5jZVN0b3JlLmdldEludChQcmVmZXJlbmNlcy5UVVRPUklBTF9TVEVQLCB0aGlzLnByb3BzLmN1cnJlbnRVc2VyLmlkLCA5OTkpO1xuICAgICAgICBjb25zdCBzaG93VHV0b3JpYWxUaXAgPSB0dXRvcmlhbFN0ZXAgPT09IFR1dG9yaWFsU3RlcHMuTUVOVV9QT1BPVkVSICYmICFVdGlscy5pc01vYmlsZSgpO1xuXG4gICAgICAgIHJldHVybiB7c2hvd1R1dG9yaWFsVGlwfTtcbiAgICB9XG5cbiAgICBnZXRTdGF0ZUZyb21TdG9yZXMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByZWZlcmVuY2VzID0gdGhpcy5nZXRQcmVmZXJlbmNlcygpO1xuICAgICAgICBjb25zdCBpc01vYmlsZSA9IFV0aWxzLmlzTW9iaWxlKCk7XG4gICAgICAgIHJldHVybiB7Li4ucHJlZmVyZW5jZXMsIGlzTW9iaWxlfTtcbiAgICB9XG5cbiAgICBvblByZWZlcmVuY2VDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUodGhpcy5nZXRQcmVmZXJlbmNlcygpKTtcbiAgICB9XG5cbiAgICB0b2dnbGVEcm9wZG93biA9IChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICB0aGlzLnJlZnMuZHJvcGRvd24udG9nZ2xlRHJvcGRvd24oKTtcbiAgICB9XG5cbiAgICByZW5kZXJTdGF0dXNEcm9wZG93biA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNNb2JpbGUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8U3RhdHVzRHJvcGRvd24vPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qgc3RhdHVzRHJvcGRvd24gPSB0aGlzLnJlbmRlclN0YXR1c0Ryb3Bkb3duKCk7XG5cbiAgICAgICAgbGV0IHR1dG9yaWFsVGlwID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2hvd1R1dG9yaWFsVGlwKSB7XG4gICAgICAgICAgICB0dXRvcmlhbFRpcCA9IGNyZWF0ZU1lbnVUaXAodGhpcy50b2dnbGVEcm9wZG93bik7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGVhbU5hbWVXaXRoVG9vbFRpcCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnRlYW1EZXNjcmlwdGlvbiA9PT0gJycpIHtcbiAgICAgICAgICAgIHRlYW1OYW1lV2l0aFRvb2xUaXAgPSAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBpZD0naGVhZGVyVGVhbU5hbWUnXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0ndGVhbV9fbmFtZSdcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnRlYW1EaXNwbGF5TmFtZX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZWFtTmFtZVdpdGhUb29sVGlwID0gKFxuICAgICAgICAgICAgICAgIDxPdmVybGF5VHJpZ2dlclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyPXtbJ2hvdmVyJywgJ2ZvY3VzJ119XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5U2hvdz17Q29uc3RhbnRzLk9WRVJMQVlfVElNRV9ERUxBWX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PSdib3R0b20nXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXk9ezxUb29sdGlwIGlkPSd0ZWFtLW5hbWVfX3Rvb2x0aXAnPnt0aGlzLnByb3BzLnRlYW1EZXNjcmlwdGlvbn08L1Rvb2x0aXA+fVxuICAgICAgICAgICAgICAgICAgICByZWY9J2Rlc2NyaXB0aW9uT3ZlcmxheSdcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdoZWFkZXJUZWFtTmFtZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0ndGVhbV9fbmFtZSdcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMudGVhbURpc3BsYXlOYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L092ZXJsYXlUcmlnZ2VyPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgaWQ9J3RlYW1IZWFkZXInXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd0ZWFtX19oZWFkZXIgdGhlbWUnXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3R1dG9yaWFsVGlwfVxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgaWQ9J2hlYWRlckluZm8nXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0naGVhZGVyX19pbmZvJ1xuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge3RlYW1OYW1lV2l0aFRvb2xUaXB9XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdoZWFkZXJVc2VybmFtZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0ndXNlcl9fbmFtZSdcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgeydAJyArIHRoaXMucHJvcHMuY3VycmVudFVzZXIudXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9J3NpZGViYXJEcm9wZG93bk1lbnVDb250YWluZXInPlxuICAgICAgICAgICAgICAgICAgICA8U2lkZWJhckhlYWRlckRyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9J2Ryb3Bkb3duJ1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVhbVR5cGU9e3RoaXMucHJvcHMudGVhbVR5cGV9XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZWFtRGlzcGxheU5hbWU9e3RoaXMucHJvcHMudGVhbURpc3BsYXlOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGVhbU5hbWU9e3RoaXMucHJvcHMudGVhbU5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VXNlcj17dGhpcy5wcm9wcy5jdXJyZW50VXNlcn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7c3RhdHVzRHJvcGRvd259XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblNpZGViYXJIZWFkZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIHRlYW1EaXNwbGF5TmFtZTogJycsXG4gICAgdGVhbURlc2NyaXB0aW9uOiAnJyxcbiAgICB0ZWFtVHlwZTogJydcbn07XG5TaWRlYmFySGVhZGVyLnByb3BUeXBlcyA9IHtcbiAgICB0ZWFtRGlzcGxheU5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgdGVhbURlc2NyaXB0aW9uOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHRlYW1OYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHRlYW1UeXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGN1cnJlbnRVc2VyOiBQcm9wVHlwZXMub2JqZWN0XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGNvbXBvbmVudHMvc2lkZWJhcl9oZWFkZXIuanN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBcEJBO0FBc0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlCQTtBQWdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcENBO0FBc0NBO0FBQ0E7QUFDQTtBQXhDQTtBQTBDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOUNBO0FBZ0RBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQXBEQTtBQUhBO0FBSUE7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUEwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFMQTtBQU9BO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBSkE7QUFQQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFKQTtBQUxBO0FBWUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFEQTtBQVNBO0FBMUJBO0FBNkJBOzs7QUE1SEE7QUFoQkE7QUFDQTtBQWVBO0FBQ0E7QUFDQTtBQTZIQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2578\n");

/***/ }),

/***/ 2579:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _reactRedux = __webpack_require__(33);\n\nvar _redux = __webpack_require__(22);\n\nvar _users = __webpack_require__(62);\n\nvar _client = __webpack_require__(31);\n\nvar _users2 = __webpack_require__(51);\n\nvar _status_dropdown = __webpack_require__(2580);\n\nvar _status_dropdown2 = _interopRequireDefault(_status_dropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapStateToProps(state) {\n    var currentUser = (0, _users2.getCurrentUser)(state);\n    var userId = currentUser.id;\n    var lastPicUpdate = currentUser.last_picture_update;\n    var profilePicture = _client.Client4.getProfilePictureUrl(userId, lastPicUpdate);\n    var status = (0, _users2.getStatusForUserId)(state, currentUser.id);\n    return {\n        userId: userId,\n        profilePicture: profilePicture,\n        status: status\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            setStatus: _users.setStatus\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_status_dropdown2.default);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU3OS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL3N0YXR1c19kcm9wZG93bi9pbmRleC5qc3g/NGI1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTctcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTGljZW5zZS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCB7Y29ubmVjdH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHtiaW5kQWN0aW9uQ3JlYXRvcnN9IGZyb20gJ3JlZHV4JztcblxuaW1wb3J0IHtzZXRTdGF0dXN9IGZyb20gJ21hdHRlcm1vc3QtcmVkdXgvYWN0aW9ucy91c2Vycyc7XG5pbXBvcnQge0NsaWVudDR9IGZyb20gJ21hdHRlcm1vc3QtcmVkdXgvY2xpZW50JztcbmltcG9ydCB7Z2V0Q3VycmVudFVzZXIsIGdldFN0YXR1c0ZvclVzZXJJZH0gZnJvbSAnbWF0dGVybW9zdC1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdXNlcnMnO1xuXG5pbXBvcnQgU3RhdHVzRHJvcGRvd24gZnJvbSAnY29tcG9uZW50cy9zdGF0dXNfZHJvcGRvd24vc3RhdHVzX2Ryb3Bkb3duLmpzeCc7XG5cbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gZ2V0Q3VycmVudFVzZXIoc3RhdGUpO1xuICAgIGNvbnN0IHVzZXJJZCA9IGN1cnJlbnRVc2VyLmlkO1xuICAgIGNvbnN0IGxhc3RQaWNVcGRhdGUgPSBjdXJyZW50VXNlci5sYXN0X3BpY3R1cmVfdXBkYXRlO1xuICAgIGNvbnN0IHByb2ZpbGVQaWN0dXJlID0gQ2xpZW50NC5nZXRQcm9maWxlUGljdHVyZVVybCh1c2VySWQsIGxhc3RQaWNVcGRhdGUpO1xuICAgIGNvbnN0IHN0YXR1cyA9IGdldFN0YXR1c0ZvclVzZXJJZChzdGF0ZSwgY3VycmVudFVzZXIuaWQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgcHJvZmlsZVBpY3R1cmUsXG4gICAgICAgIHN0YXR1c1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFjdGlvbnM6IGJpbmRBY3Rpb25DcmVhdG9ycyh7XG4gICAgICAgICAgICBzZXRTdGF0dXNcbiAgICAgICAgfSwgZGlzcGF0Y2gpXG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoU3RhdHVzRHJvcGRvd24pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGNvbXBvbmVudHMvc3RhdHVzX2Ryb3Bkb3duL2luZGV4LmpzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQVhBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQURBO0FBS0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2579\n");

/***/ }),

/***/ 2580:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(7);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(5);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(6);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(8);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(9);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(41);\n\nvar _reactIntl = __webpack_require__(18);\n\nvar _constants = __webpack_require__(10);\n\nvar _bootstrap_span = __webpack_require__(2581);\n\nvar _bootstrap_span2 = _interopRequireDefault(_bootstrap_span);\n\nvar _status_icon = __webpack_require__(458);\n\nvar _status_icon2 = _interopRequireDefault(_status_icon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar StatusDropdown = function (_React$Component) {\n    (0, _inherits3.default)(StatusDropdown, _React$Component);\n\n    function StatusDropdown() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        (0, _classCallCheck3.default)(this, StatusDropdown);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = StatusDropdown.__proto__ || (0, _getPrototypeOf2.default)(StatusDropdown)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n            showDropdown: false\n        }, _this.onToggle = function (showDropdown) {\n            _this.setState({ showDropdown: showDropdown });\n        }, _this.closeDropdown = function () {\n            _this.setState({ showDropdown: false });\n        }, _this.setStatus = function (status) {\n            _this.props.actions.setStatus({\n                user_id: _this.props.userId,\n                status: status\n            });\n            _this.closeDropdown();\n        }, _this.setOnline = function (event) {\n            event.preventDefault();\n            _this.setStatus(_constants.UserStatuses.ONLINE);\n        }, _this.setOffline = function (event) {\n            event.preventDefault();\n            _this.setStatus(_constants.UserStatuses.OFFLINE);\n        }, _this.setAway = function (event) {\n            event.preventDefault();\n            _this.setStatus(_constants.UserStatuses.AWAY);\n        }, _this.renderStatusOnlineAction = function () {\n            return _this.renderStatusAction(_constants.UserStatuses.ONLINE, _this.setOnline);\n        }, _this.renderStatusAwayAction = function () {\n            return _this.renderStatusAction(_constants.UserStatuses.AWAY, _this.setAway);\n        }, _this.renderStatusOfflineAction = function () {\n            return _this.renderStatusAction(_constants.UserStatuses.OFFLINE, _this.setOffline);\n        }, _this.renderProfilePicture = function () {\n            if (!_this.props.profilePicture) {\n                return null;\n            }\n            return _react2.default.createElement('img', {\n                className: 'user__picture',\n                src: _this.props.profilePicture\n            });\n        }, _this.renderStatusAction = function (status, onClick) {\n            return _react2.default.createElement(\n                'li',\n                { key: status },\n                _react2.default.createElement(\n                    'a',\n                    {\n                        id: 'status' + status,\n                        href: '#',\n                        onClick: onClick\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'status_dropdown.set_' + status,\n                        defaultMessage: status\n                    })\n                )\n            );\n        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n\n    (0, _createClass3.default)(StatusDropdown, [{\n        key: 'render',\n        value: function render() {\n            var profilePicture = this.renderProfilePicture();\n            var actions = [this.renderStatusOnlineAction(), this.renderStatusAwayAction(), this.renderStatusOfflineAction()];\n            return _react2.default.createElement(\n                _reactBootstrap.Dropdown,\n                {\n                    id: 'status-dropdown',\n                    open: this.state.showDropdown,\n                    onToggle: this.onToggle,\n                    style: this.props.style\n                },\n                _react2.default.createElement(\n                    _bootstrap_span2.default,\n                    {\n                        bsRole: 'toggle'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'status-wrapper status-selector' },\n                        profilePicture,\n                        _react2.default.createElement(_status_icon2.default, { status: this.props.status }),\n                        _react2.default.createElement(\n                            'span',\n                            { className: 'status status-edit edit' },\n                            _react2.default.createElement('i', { className: 'fa fa-caret-down' })\n                        )\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Dropdown.Menu,\n                    { id: 'editStatusMenu' },\n                    actions\n                )\n            );\n        }\n    }]);\n    return StatusDropdown;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nStatusDropdown.propTypes = {\n    style: _propTypes2.default.object,\n    status: _propTypes2.default.string,\n    userId: _propTypes2.default.string.isRequired,\n    profilePicture: _propTypes2.default.string,\n    actions: _propTypes2.default.shape({\n        setStatus: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = StatusDropdown;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU4MC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL3N0YXR1c19kcm9wZG93bi9zdGF0dXNfZHJvcGRvd24uanN4P2QzMWIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExpY2Vuc2UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7RHJvcGRvd259IGZyb20gJ3JlYWN0LWJvb3RzdHJhcCc7XG5pbXBvcnQge0Zvcm1hdHRlZE1lc3NhZ2V9IGZyb20gJ3JlYWN0LWludGwnO1xuXG5pbXBvcnQge1VzZXJTdGF0dXNlc30gZnJvbSAndXRpbHMvY29uc3RhbnRzLmpzeCc7XG5cbmltcG9ydCBCb290c3RyYXBTcGFuIGZyb20gJ2NvbXBvbmVudHMvYm9vdHN0cmFwX3NwYW4uanN4JztcbmltcG9ydCBTdGF0dXNJY29uIGZyb20gJ2NvbXBvbmVudHMvc3RhdHVzX2ljb24uanN4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdHVzRHJvcGRvd24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgICAgIHN0YXR1czogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgdXNlcklkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgIHByb2ZpbGVQaWN0dXJlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBhY3Rpb25zOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgICAgc2V0U3RhdHVzOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG4gICAgICAgIH0pLmlzUmVxdWlyZWRcbiAgICB9XG5cbiAgICBzdGF0ZSA9IHtcbiAgICAgICAgc2hvd0Ryb3Bkb3duOiBmYWxzZVxuICAgIH1cblxuICAgIG9uVG9nZ2xlID0gKHNob3dEcm9wZG93bikgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtzaG93RHJvcGRvd259KTtcbiAgICB9XG5cbiAgICBjbG9zZURyb3Bkb3duID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtzaG93RHJvcGRvd246IGZhbHNlfSk7XG4gICAgfVxuXG4gICAgc2V0U3RhdHVzID0gKHN0YXR1cykgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLmFjdGlvbnMuc2V0U3RhdHVzKHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHRoaXMucHJvcHMudXNlcklkLFxuICAgICAgICAgICAgc3RhdHVzXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNsb3NlRHJvcGRvd24oKTtcbiAgICB9XG5cbiAgICBzZXRPbmxpbmUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoVXNlclN0YXR1c2VzLk9OTElORSk7XG4gICAgfVxuXG4gICAgc2V0T2ZmbGluZSA9IChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhVc2VyU3RhdHVzZXMuT0ZGTElORSk7XG4gICAgfVxuXG4gICAgc2V0QXdheSA9IChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhVc2VyU3RhdHVzZXMuQVdBWSk7XG4gICAgfVxuXG4gICAgcmVuZGVyU3RhdHVzT25saW5lQWN0aW9uID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJTdGF0dXNBY3Rpb24oVXNlclN0YXR1c2VzLk9OTElORSwgdGhpcy5zZXRPbmxpbmUpO1xuICAgIH1cblxuICAgIHJlbmRlclN0YXR1c0F3YXlBY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlclN0YXR1c0FjdGlvbihVc2VyU3RhdHVzZXMuQVdBWSwgdGhpcy5zZXRBd2F5KTtcbiAgICB9XG5cbiAgICByZW5kZXJTdGF0dXNPZmZsaW5lQWN0aW9uID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJTdGF0dXNBY3Rpb24oVXNlclN0YXR1c2VzLk9GRkxJTkUsIHRoaXMuc2V0T2ZmbGluZSk7XG4gICAgfVxuXG4gICAgcmVuZGVyUHJvZmlsZVBpY3R1cmUgPSAoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5wcm9wcy5wcm9maWxlUGljdHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3VzZXJfX3BpY3R1cmUnXG4gICAgICAgICAgICAgICAgc3JjPXt0aGlzLnByb3BzLnByb2ZpbGVQaWN0dXJlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZW5kZXJTdGF0dXNBY3Rpb24gPSAoc3RhdHVzLCBvbkNsaWNrKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8bGkga2V5PXtzdGF0dXN9PlxuICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgIGlkPXsnc3RhdHVzJyArIHN0YXR1c31cbiAgICAgICAgICAgICAgICAgICAgaHJlZj17JyMnfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtgc3RhdHVzX2Ryb3Bkb3duLnNldF8ke3N0YXR1c31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9e3N0YXR1c31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgcHJvZmlsZVBpY3R1cmUgPSB0aGlzLnJlbmRlclByb2ZpbGVQaWN0dXJlKCk7XG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSBbXG4gICAgICAgICAgICB0aGlzLnJlbmRlclN0YXR1c09ubGluZUFjdGlvbigpLFxuICAgICAgICAgICAgdGhpcy5yZW5kZXJTdGF0dXNBd2F5QWN0aW9uKCksXG4gICAgICAgICAgICB0aGlzLnJlbmRlclN0YXR1c09mZmxpbmVBY3Rpb24oKVxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPERyb3Bkb3duXG4gICAgICAgICAgICAgICAgaWQ9eydzdGF0dXMtZHJvcGRvd24nfVxuICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuc2hvd0Ryb3Bkb3dufVxuICAgICAgICAgICAgICAgIG9uVG9nZ2xlPXt0aGlzLm9uVG9nZ2xlfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt0aGlzLnByb3BzLnN0eWxlfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxCb290c3RyYXBTcGFuXG4gICAgICAgICAgICAgICAgICAgIGJzUm9sZT17J3RvZ2dsZSd9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3RhdHVzLXdyYXBwZXIgc3RhdHVzLXNlbGVjdG9yJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9maWxlUGljdHVyZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTdGF0dXNJY29uIHN0YXR1cz17dGhpcy5wcm9wcy5zdGF0dXN9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17J3N0YXR1cyBzdGF0dXMtZWRpdCBlZGl0J30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPXsnZmEgZmEtY2FyZXQtZG93bid9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9Cb290c3RyYXBTcGFuPlxuICAgICAgICAgICAgICAgIDxEcm9wZG93bi5NZW51IGlkPSdlZGl0U3RhdHVzTWVudSc+XG4gICAgICAgICAgICAgICAgICAgIHthY3Rpb25zfVxuICAgICAgICAgICAgICAgIDwvRHJvcGRvd24uTWVudT5cbiAgICAgICAgICAgIDwvRHJvcGRvd24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGNvbXBvbmVudHMvc3RhdHVzX2Ryb3Bkb3duL3N0YXR1c19kcm9wZG93bi5qc3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUFZQTtBQUNBO0FBREE7QUFLQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBS0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFEQTtBQWFBOzs7OztBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFIQTtBQUhBO0FBV0E7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQWpCQTtBQXNCQTs7O0FBdEhBO0FBWkE7QUFDQTtBQVdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFMQTtBQUZBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2580\n");

/***/ }),

/***/ 2581:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _objectWithoutProperties2 = __webpack_require__(125);\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _getPrototypeOf = __webpack_require__(7);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(5);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(6);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(8);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(9);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar BootstrapSpan = function (_React$PureComponent) {\n    (0, _inherits3.default)(BootstrapSpan, _React$PureComponent);\n\n    function BootstrapSpan() {\n        (0, _classCallCheck3.default)(this, BootstrapSpan);\n        return (0, _possibleConstructorReturn3.default)(this, (BootstrapSpan.__proto__ || (0, _getPrototypeOf2.default)(BootstrapSpan)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(BootstrapSpan, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                children = _props.children,\n                props = (0, _objectWithoutProperties3.default)(_props, ['children']);\n\n            delete props.bsRole;\n            delete props.bsClass;\n\n            return _react2.default.createElement(\n                'span',\n                props,\n                children\n            );\n        }\n    }]);\n    return BootstrapSpan;\n}(_react2.default.PureComponent);\n\nBootstrapSpan.propTypes = {\n    children: _propTypes2.default.element\n};\nexports.default = BootstrapSpan;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU4MS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL2Jvb3RzdHJhcF9zcGFuLmpzeD84MWZkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMaWNlbnNlLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmNsYXNzIEJvb3RzdHJhcFNwYW4gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcblxuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMuZWxlbWVudFxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qge2NoaWxkcmVuLCAuLi5wcm9wc30gPSB0aGlzLnByb3BzO1xuICAgICAgICBkZWxldGUgcHJvcHMuYnNSb2xlO1xuICAgICAgICBkZWxldGUgcHJvcHMuYnNDbGFzcztcblxuICAgICAgICByZXR1cm4gPHNwYW4gey4uLnByb3BzfT57Y2hpbGRyZW59PC9zcGFuPjtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJvb3RzdHJhcFNwYW47XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY29tcG9uZW50cy9ib290c3RyYXBfc3Bhbi5qc3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBTEE7QUFDQTtBQUNBO0FBSUE7Ozs7Ozs7Ozs7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBOzs7QUFaQTtBQUNBO0FBREE7QUFHQTtBQURBO0FBYUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2581\n");

/***/ }),

/***/ 2582:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(7);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(5);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(6);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(8);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(9);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(41);\n\nvar _reactDom = __webpack_require__(48);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(18);\n\nvar _es = __webpack_require__(45);\n\nvar _global_actions = __webpack_require__(57);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _team_store = __webpack_require__(38);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(28);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(454);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _constants = __webpack_require__(10);\n\nvar _url = __webpack_require__(79);\n\nvar _user_agent = __webpack_require__(90);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(17);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _about_build_modal = __webpack_require__(2174);\n\nvar _about_build_modal2 = _interopRequireDefault(_about_build_modal);\n\nvar _add_users_to_team = __webpack_require__(2181);\n\nvar _add_users_to_team2 = _interopRequireDefault(_add_users_to_team);\n\nvar _sidebar_header_dropdown_button = __webpack_require__(2583);\n\nvar _sidebar_header_dropdown_button2 = _interopRequireDefault(_sidebar_header_dropdown_button);\n\nvar _team_members_modal = __webpack_require__(788);\n\nvar _team_members_modal2 = _interopRequireDefault(_team_members_modal);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SidebarHeaderDropdown = function (_React$Component) {\n    (0, _inherits3.default)(SidebarHeaderDropdown, _React$Component);\n\n    function SidebarHeaderDropdown(props) {\n        (0, _classCallCheck3.default)(this, SidebarHeaderDropdown);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SidebarHeaderDropdown.__proto__ || (0, _getPrototypeOf2.default)(SidebarHeaderDropdown)).call(this, props));\n\n        _this.toggleDropdown = _this.toggleDropdown.bind(_this);\n\n        _this.handleAboutModal = _this.handleAboutModal.bind(_this);\n        _this.aboutModalDismissed = _this.aboutModalDismissed.bind(_this);\n        _this.showAccountSettingsModal = _this.showAccountSettingsModal.bind(_this);\n        _this.showAddUsersToTeamModal = _this.showAddUsersToTeamModal.bind(_this);\n        _this.hideAddUsersToTeamModal = _this.hideAddUsersToTeamModal.bind(_this);\n        _this.showInviteMemberModal = _this.showInviteMemberModal.bind(_this);\n        _this.showGetTeamInviteLinkModal = _this.showGetTeamInviteLinkModal.bind(_this);\n        _this.showTeamMembersModal = _this.showTeamMembersModal.bind(_this);\n        _this.hideTeamMembersModal = _this.hideTeamMembersModal.bind(_this);\n        _this.showShortcutsModal = _this.showShortcutsModal.bind(_this);\n\n        _this.onTeamChange = _this.onTeamChange.bind(_this);\n\n        _this.renderCustomEmojiLink = _this.renderCustomEmojiLink.bind(_this);\n\n        _this.handleClick = _this.handleClick.bind(_this);\n\n        _this.state = {\n            teamMembers: _team_store2.default.getMyTeamMembers(),\n            teamListings: _team_store2.default.getTeamListings(),\n            showAboutModal: false,\n            showDropdown: false,\n            showTeamMembersModal: false,\n            showAddUsersToTeamModal: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SidebarHeaderDropdown, [{\n        key: 'handleClick',\n        value: function handleClick(e) {\n            if (_webrtc_store2.default.isBusy()) {\n                _webrtc_store2.default.emitChanged({ action: _constants.WebrtcActionTypes.IN_PROGRESS });\n                e.preventDefault();\n            }\n        }\n    }, {\n        key: 'toggleDropdown',\n        value: function toggleDropdown(val) {\n            if (typeof val === 'boolean') {\n                this.setState({ showDropdown: val });\n                return;\n            }\n\n            if (val && val.preventDefault) {\n                val.preventDefault();\n            }\n\n            this.setState({ showDropdown: !this.state.showDropdown });\n        }\n    }, {\n        key: 'handleAboutModal',\n        value: function handleAboutModal(e) {\n            e.preventDefault();\n\n            this.setState({\n                showAboutModal: true,\n                showDropdown: false\n            });\n        }\n    }, {\n        key: 'aboutModalDismissed',\n        value: function aboutModalDismissed() {\n            this.setState({ showAboutModal: false });\n        }\n    }, {\n        key: 'showAccountSettingsModal',\n        value: function showAccountSettingsModal(e) {\n            e.preventDefault();\n\n            this.setState({ showDropdown: false });\n\n            GlobalActions.showAccountSettingsModal();\n        }\n    }, {\n        key: 'showShortcutsModal',\n        value: function showShortcutsModal(e) {\n            e.preventDefault();\n            this.setState({ showDropdown: false });\n\n            GlobalActions.showShortcutsModal();\n        }\n    }, {\n        key: 'showAddUsersToTeamModal',\n        value: function showAddUsersToTeamModal(e) {\n            e.preventDefault();\n\n            this.setState({\n                showAddUsersToTeamModal: true,\n                showDropdown: false\n            });\n        }\n    }, {\n        key: 'hideAddUsersToTeamModal',\n        value: function hideAddUsersToTeamModal() {\n            this.setState({\n                showAddUsersToTeamModal: false\n            });\n        }\n    }, {\n        key: 'showInviteMemberModal',\n        value: function showInviteMemberModal(e) {\n            e.preventDefault();\n\n            this.setState({ showDropdown: false });\n\n            GlobalActions.showInviteMemberModal();\n        }\n    }, {\n        key: 'showGetTeamInviteLinkModal',\n        value: function showGetTeamInviteLinkModal(e) {\n            e.preventDefault();\n\n            this.setState({ showDropdown: false });\n\n            GlobalActions.showGetTeamInviteLinkModal();\n        }\n    }, {\n        key: 'showTeamMembersModal',\n        value: function showTeamMembersModal(e) {\n            e.preventDefault();\n\n            this.setState({\n                showTeamMembersModal: true\n            });\n        }\n    }, {\n        key: 'hideTeamMembersModal',\n        value: function hideTeamMembersModal() {\n            this.setState({\n                showTeamMembersModal: false\n            });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _team_store2.default.addChangeListener(this.onTeamChange);\n        }\n    }, {\n        key: 'onTeamChange',\n        value: function onTeamChange() {\n            this.setState({\n                teamMembers: _team_store2.default.getMyTeamMembers(),\n                teamListings: _team_store2.default.getTeamListings(),\n                showDropdown: false\n            });\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs.dropdown)).off('hide.bs.dropdown');\n            _team_store2.default.removeChangeListener(this.onTeamChange);\n        }\n    }, {\n        key: 'renderCustomEmojiLink',\n        value: function renderCustomEmojiLink() {\n            if (window.mm_config.EnableCustomEmoji !== 'true' || !Utils.canCreateCustomEmoji(this.props.currentUser)) {\n                return null;\n            }\n\n            return _react2.default.createElement(\n                'li',\n                null,\n                _react2.default.createElement(\n                    _es.Link,\n                    {\n                        id: 'customEmoji',\n                        onClick: this.handleClick,\n                        to: '/' + this.props.teamName + '/emoji'\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'navbar_dropdown.emoji',\n                        defaultMessage: 'Custom Emoji'\n                    })\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var config = global.mm_config;\n            var currentUser = this.props.currentUser;\n            var teamLink = '';\n            var inviteLink = '';\n            var addMemberToTeam = '';\n            var manageLink = '';\n            var sysAdminLink = '';\n            var isAdmin = false;\n            var isSystemAdmin = false;\n            var teamSettings = null;\n            var integrationsLink = null;\n\n            if (!currentUser) {\n                return null;\n            }\n\n            if (currentUser != null) {\n                isAdmin = _team_store2.default.isTeamAdminForCurrentTeam() || _user_store2.default.isSystemAdminForCurrentUser();\n                isSystemAdmin = _user_store2.default.isSystemAdminForCurrentUser();\n\n                inviteLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            className: 'style--none',\n                            id: 'sendEmailInvite',\n                            onClick: this.showInviteMemberModal\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.inviteMember',\n                            defaultMessage: 'Send Email Invite'\n                        })\n                    )\n                );\n\n                addMemberToTeam = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            className: 'style--none',\n                            id: 'addUsersToTeam',\n                            onClick: this.showAddUsersToTeamModal\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.addMemberToTeam',\n                            defaultMessage: 'Add Members to Team'\n                        })\n                    )\n                );\n\n                if (this.props.teamType === _constants.Constants.OPEN_TEAM && config.EnableUserCreation === 'true') {\n                    teamLink = _react2.default.createElement(\n                        'li',\n                        null,\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                className: 'style--none',\n                                id: 'getTeamInviteLink',\n                                onClick: this.showGetTeamInviteLinkModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar_dropdown.teamLink',\n                                defaultMessage: 'Get Team Invite Link'\n                            })\n                        )\n                    );\n                }\n\n                if (global.window.mm_license.IsLicensed === 'true') {\n                    if (config.RestrictTeamInvite === _constants.Constants.PERMISSIONS_SYSTEM_ADMIN && !isSystemAdmin) {\n                        teamLink = null;\n                        inviteLink = null;\n                        addMemberToTeam = null;\n                    } else if (config.RestrictTeamInvite === _constants.Constants.PERMISSIONS_TEAM_ADMIN && !isAdmin) {\n                        teamLink = null;\n                        inviteLink = null;\n                        addMemberToTeam = null;\n                    }\n                }\n            }\n\n            var membersName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'navbar_dropdown.manageMembers',\n                defaultMessage: 'Manage Members'\n            });\n\n            if (isAdmin) {\n                teamSettings = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            className: 'style--none',\n                            id: 'teamSettings',\n                            'data-toggle': 'modal',\n                            'data-target': '#team_settings',\n                            onClick: this.toggleDropdown\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.teamSettings',\n                            defaultMessage: 'Team Settings'\n                        })\n                    )\n                );\n            } else {\n                membersName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'navbar_dropdown.viewMembers',\n                    defaultMessage: 'View Members'\n                });\n            }\n\n            manageLink = _react2.default.createElement(\n                'li',\n                null,\n                _react2.default.createElement(\n                    'button',\n                    {\n                        id: 'manageMembers',\n                        className: 'style--none',\n                        onClick: this.showTeamMembersModal\n                    },\n                    membersName\n                )\n            );\n\n            var integrationsEnabled = config.EnableIncomingWebhooks === 'true' || config.EnableOutgoingWebhooks === 'true' || config.EnableCommands === 'true' || config.EnableOAuthServiceProvider === 'true' && (isSystemAdmin || config.EnableOnlyAdminIntegrations !== 'true');\n            if (integrationsEnabled && (isAdmin || config.EnableOnlyAdminIntegrations !== 'true')) {\n                integrationsLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            id: 'Integrations',\n                            to: '/' + this.props.teamName + '/integrations',\n                            onClick: this.handleClick\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.integrations',\n                            defaultMessage: 'Integrations'\n                        })\n                    )\n                );\n            }\n\n            if (isSystemAdmin) {\n                sysAdminLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            id: 'systemConsole',\n                            to: '/admin_console',\n                            onClick: this.handleClick\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.console',\n                            defaultMessage: 'System Console'\n                        })\n                    )\n                );\n            }\n\n            var teams = [];\n            var moreTeams = false;\n\n            if (config.EnableTeamCreation === 'true' || _user_store2.default.isSystemAdminForCurrentUser()) {\n                teams.push(_react2.default.createElement(\n                    'li',\n                    { key: 'newTeam_li' },\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            id: 'createTeam',\n                            key: 'newTeam_a',\n                            to: '/create_team',\n                            onClick: this.handleClick\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.create',\n                            defaultMessage: 'Create a New Team'\n                        })\n                    )\n                ));\n            }\n\n            var isAlreadyMember = this.state.teamMembers.reduce(function (result, item) {\n                result[item.team_id] = true;\n                return result;\n            }, {});\n\n            for (var id in this.state.teamListings) {\n                if (this.state.teamListings.hasOwnProperty(id) && !isAlreadyMember[id]) {\n                    moreTeams = true;\n                    break;\n                }\n            }\n\n            if (moreTeams) {\n                teams.push(_react2.default.createElement(\n                    'li',\n                    { key: 'joinTeam_li' },\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            id: 'joinAnotherTeam',\n                            onClick: this.handleClick,\n                            to: '/select_team'\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.join',\n                            defaultMessage: 'Join Another Team'\n                        })\n                    )\n                ));\n            }\n\n            teams.push(_react2.default.createElement(\n                'li',\n                { key: 'leaveTeam_li' },\n                _react2.default.createElement(\n                    'button',\n                    {\n                        className: 'style--none',\n                        id: 'leaveTeam',\n                        onClick: GlobalActions.showLeaveTeamModal\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'navbar_dropdown.leave',\n                        defaultMessage: 'Leave Team'\n                    })\n                )\n            ));\n\n            var helpLink = null;\n            if (config.HelpLink) {\n                helpLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            id: 'helpLink',\n                            target: '_blank',\n                            rel: 'noopener noreferrer',\n                            to: config.HelpLink\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.help',\n                            defaultMessage: 'Help'\n                        })\n                    )\n                );\n            }\n\n            var reportLink = null;\n            if (config.ReportAProblemLink) {\n                reportLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            id: 'reportLink',\n                            target: '_blank',\n                            rel: 'noopener noreferrer',\n                            to: config.ReportAProblemLink\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.report',\n                            defaultMessage: 'Report a Problem'\n                        })\n                    )\n                );\n            }\n\n            var nativeAppLink = null;\n            if (global.window.mm_config.AppDownloadLink && !UserAgent.isMobileApp()) {\n                nativeAppLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            id: 'nativeAppLink',\n                            target: '_blank',\n                            rel: 'noopener noreferrer',\n                            to: (0, _url.useSafeUrl)(global.window.mm_config.AppDownloadLink)\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar_dropdown.nativeApps',\n                            defaultMessage: 'Download Apps'\n                        })\n                    )\n                );\n            }\n\n            var teamMembersModal = void 0;\n            if (this.state.showTeamMembersModal) {\n                teamMembersModal = _react2.default.createElement(_team_members_modal2.default, {\n                    onLoad: this.toggleDropdown,\n                    onHide: this.hideTeamMembersModal,\n                    isAdmin: isAdmin\n                });\n            }\n\n            var addUsersToTeamModal = void 0;\n            if (this.state.showAddUsersToTeamModal) {\n                addUsersToTeamModal = _react2.default.createElement(_add_users_to_team2.default, {\n                    onModalDismissed: this.hideAddUsersToTeamModal\n                });\n            }\n\n            var keyboardShortcuts = _react2.default.createElement(\n                'li',\n                null,\n                _react2.default.createElement(\n                    'button',\n                    {\n                        className: 'style--none',\n                        id: 'keyboardShortcuts',\n                        onClick: this.showShortcutsModal\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'navbar_dropdown.keyboardShortcuts',\n                        defaultMessage: 'Keyboard Shortcuts'\n                    })\n                )\n            );\n\n            var accountSettings = _react2.default.createElement(\n                'li',\n                null,\n                _react2.default.createElement(\n                    'button',\n                    {\n                        className: 'style--none',\n                        id: 'accountSettings',\n                        onClick: this.showAccountSettingsModal\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'navbar_dropdown.accountSettings',\n                        defaultMessage: 'Account Settings'\n                    })\n                )\n            );\n\n            var about = _react2.default.createElement(\n                'li',\n                null,\n                _react2.default.createElement(\n                    'button',\n                    {\n                        id: 'about',\n                        className: 'style--none',\n                        onClick: this.handleAboutModal\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'navbar_dropdown.about',\n                        defaultMessage: 'About Mattermost'\n                    })\n                )\n            );\n\n            var logout = _react2.default.createElement(\n                'li',\n                null,\n                _react2.default.createElement(\n                    'button',\n                    {\n                        className: 'style--none',\n                        id: 'logout',\n                        onClick: function onClick() {\n                            return GlobalActions.emitUserLoggedOutEvent();\n                        }\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'navbar_dropdown.logout',\n                        defaultMessage: 'Logout'\n                    })\n                )\n            );\n\n            var customEmoji = this.renderCustomEmojiLink();\n\n            // Dividers.\n            var inviteDivider = null;\n            if (inviteLink || teamLink || addMemberToTeam) {\n                inviteDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            var teamDivider = null;\n            if (teamSettings || manageLink || teams) {\n                teamDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            var backstageDivider = null;\n            if (integrationsLink || customEmoji) {\n                backstageDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            var sysAdminDivider = null;\n            if (sysAdminLink) {\n                sysAdminDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            var helpDivider = null;\n            if (helpLink || reportLink || nativeAppLink || about) {\n                helpDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            var logoutDivider = null;\n            if (logout) {\n                logoutDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            return _react2.default.createElement(\n                _reactBootstrap.Dropdown,\n                {\n                    id: 'sidebar-header-dropdown',\n                    open: this.state.showDropdown,\n                    onToggle: this.toggleDropdown,\n                    className: 'sidebar-header-dropdown',\n                    pullRight: true\n                },\n                _react2.default.createElement(_sidebar_header_dropdown_button2.default, {\n                    bsRole: 'toggle',\n                    onClick: this.toggleDropdown\n                }),\n                _react2.default.createElement(\n                    _reactBootstrap.Dropdown.Menu,\n                    { id: 'sidebarDropdownMenu' },\n                    accountSettings,\n                    inviteDivider,\n                    inviteLink,\n                    teamLink,\n                    addMemberToTeam,\n                    teamDivider,\n                    teamSettings,\n                    manageLink,\n                    teams,\n                    backstageDivider,\n                    integrationsLink,\n                    customEmoji,\n                    sysAdminDivider,\n                    sysAdminLink,\n                    helpDivider,\n                    helpLink,\n                    keyboardShortcuts,\n                    reportLink,\n                    nativeAppLink,\n                    about,\n                    logoutDivider,\n                    logout,\n                    teamMembersModal,\n                    _react2.default.createElement(_about_build_modal2.default, {\n                        show: this.state.showAboutModal,\n                        onModalDismissed: this.aboutModalDismissed\n                    }),\n                    addUsersToTeamModal\n                )\n            );\n        }\n    }]);\n    return SidebarHeaderDropdown;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nSidebarHeaderDropdown.propTypes = {\n    teamType: _propTypes2.default.string,\n    teamDisplayName: _propTypes2.default.string,\n    teamName: _propTypes2.default.string,\n    currentUser: _propTypes2.default.object\n};\nSidebarHeaderDropdown.defaultProps = {\n    teamType: ''\n};\nexports.default = SidebarHeaderDropdown;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(21)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU4Mi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL3NpZGViYXJfaGVhZGVyX2Ryb3Bkb3duLmpzeD9mMGRkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMaWNlbnNlLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcblxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge0Ryb3Bkb3dufSBmcm9tICdyZWFjdC1ib290c3RyYXAnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQge0Zvcm1hdHRlZE1lc3NhZ2V9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IHtMaW5rfSBmcm9tICdyZWFjdC1yb3V0ZXIvZXM2JztcblxuaW1wb3J0ICogYXMgR2xvYmFsQWN0aW9ucyBmcm9tICdhY3Rpb25zL2dsb2JhbF9hY3Rpb25zLmpzeCc7XG5pbXBvcnQgVGVhbVN0b3JlIGZyb20gJ3N0b3Jlcy90ZWFtX3N0b3JlLmpzeCc7XG5pbXBvcnQgVXNlclN0b3JlIGZyb20gJ3N0b3Jlcy91c2VyX3N0b3JlLmpzeCc7XG5pbXBvcnQgV2VicnRjU3RvcmUgZnJvbSAnc3RvcmVzL3dlYnJ0Y19zdG9yZS5qc3gnO1xuXG5pbXBvcnQge0NvbnN0YW50cywgV2VicnRjQWN0aW9uVHlwZXN9IGZyb20gJ3V0aWxzL2NvbnN0YW50cy5qc3gnO1xuaW1wb3J0IHt1c2VTYWZlVXJsfSBmcm9tICd1dGlscy91cmwnO1xuaW1wb3J0ICogYXMgVXNlckFnZW50IGZyb20gJ3V0aWxzL3VzZXJfYWdlbnQuanN4JztcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gJ3V0aWxzL3V0aWxzLmpzeCc7XG5cbmltcG9ydCBBYm91dEJ1aWxkTW9kYWwgZnJvbSAnY29tcG9uZW50cy9hYm91dF9idWlsZF9tb2RhbCc7XG5pbXBvcnQgQWRkVXNlcnNUb1RlYW0gZnJvbSAnY29tcG9uZW50cy9hZGRfdXNlcnNfdG9fdGVhbSc7XG5cbmltcG9ydCBTaWRlYmFySGVhZGVyRHJvcGRvd25CdXR0b24gZnJvbSAnLi9zaWRlYmFyX2hlYWRlcl9kcm9wZG93bl9idXR0b24uanN4JztcbmltcG9ydCBUZWFtTWVtYmVyc01vZGFsIGZyb20gJy4vdGVhbV9tZW1iZXJzX21vZGFsLmpzeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpZGViYXJIZWFkZXJEcm9wZG93biBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgdGVhbVR5cGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIHRlYW1EaXNwbGF5TmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgdGVhbU5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGN1cnJlbnRVc2VyOiBQcm9wVHlwZXMub2JqZWN0XG4gICAgfTtcblxuICAgIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIHRlYW1UeXBlOiAnJ1xuICAgIH07XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy50b2dnbGVEcm9wZG93biA9IHRoaXMudG9nZ2xlRHJvcGRvd24uYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmhhbmRsZUFib3V0TW9kYWwgPSB0aGlzLmhhbmRsZUFib3V0TW9kYWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hYm91dE1vZGFsRGlzbWlzc2VkID0gdGhpcy5hYm91dE1vZGFsRGlzbWlzc2VkLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2hvd0FjY291bnRTZXR0aW5nc01vZGFsID0gdGhpcy5zaG93QWNjb3VudFNldHRpbmdzTW9kYWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zaG93QWRkVXNlcnNUb1RlYW1Nb2RhbCA9IHRoaXMuc2hvd0FkZFVzZXJzVG9UZWFtTW9kYWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oaWRlQWRkVXNlcnNUb1RlYW1Nb2RhbCA9IHRoaXMuaGlkZUFkZFVzZXJzVG9UZWFtTW9kYWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zaG93SW52aXRlTWVtYmVyTW9kYWwgPSB0aGlzLnNob3dJbnZpdGVNZW1iZXJNb2RhbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNob3dHZXRUZWFtSW52aXRlTGlua01vZGFsID0gdGhpcy5zaG93R2V0VGVhbUludml0ZUxpbmtNb2RhbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNob3dUZWFtTWVtYmVyc01vZGFsID0gdGhpcy5zaG93VGVhbU1lbWJlcnNNb2RhbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhpZGVUZWFtTWVtYmVyc01vZGFsID0gdGhpcy5oaWRlVGVhbU1lbWJlcnNNb2RhbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNob3dTaG9ydGN1dHNNb2RhbCA9IHRoaXMuc2hvd1Nob3J0Y3V0c01vZGFsLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5vblRlYW1DaGFuZ2UgPSB0aGlzLm9uVGVhbUNoYW5nZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyQ3VzdG9tRW1vamlMaW5rID0gdGhpcy5yZW5kZXJDdXN0b21FbW9qaUxpbmsuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB0ZWFtTWVtYmVyczogVGVhbVN0b3JlLmdldE15VGVhbU1lbWJlcnMoKSxcbiAgICAgICAgICAgIHRlYW1MaXN0aW5nczogVGVhbVN0b3JlLmdldFRlYW1MaXN0aW5ncygpLFxuICAgICAgICAgICAgc2hvd0Fib3V0TW9kYWw6IGZhbHNlLFxuICAgICAgICAgICAgc2hvd0Ryb3Bkb3duOiBmYWxzZSxcbiAgICAgICAgICAgIHNob3dUZWFtTWVtYmVyc01vZGFsOiBmYWxzZSxcbiAgICAgICAgICAgIHNob3dBZGRVc2Vyc1RvVGVhbU1vZGFsOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrKGUpIHtcbiAgICAgICAgaWYgKFdlYnJ0Y1N0b3JlLmlzQnVzeSgpKSB7XG4gICAgICAgICAgICBXZWJydGNTdG9yZS5lbWl0Q2hhbmdlZCh7YWN0aW9uOiBXZWJydGNBY3Rpb25UeXBlcy5JTl9QUk9HUkVTU30pO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG9nZ2xlRHJvcGRvd24odmFsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgKHZhbCkgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c2hvd0Ryb3Bkb3duOiB2YWx9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWwgJiYgdmFsLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICB2YWwucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dEcm9wZG93bjogIXRoaXMuc3RhdGUuc2hvd0Ryb3Bkb3dufSk7XG4gICAgfVxuXG4gICAgaGFuZGxlQWJvdXRNb2RhbChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHNob3dBYm91dE1vZGFsOiB0cnVlLFxuICAgICAgICAgICAgc2hvd0Ryb3Bkb3duOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhYm91dE1vZGFsRGlzbWlzc2VkKCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtzaG93QWJvdXRNb2RhbDogZmFsc2V9KTtcbiAgICB9XG5cbiAgICBzaG93QWNjb3VudFNldHRpbmdzTW9kYWwoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c2hvd0Ryb3Bkb3duOiBmYWxzZX0pO1xuXG4gICAgICAgIEdsb2JhbEFjdGlvbnMuc2hvd0FjY291bnRTZXR0aW5nc01vZGFsKCk7XG4gICAgfVxuXG4gICAgc2hvd1Nob3J0Y3V0c01vZGFsKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtzaG93RHJvcGRvd246IGZhbHNlfSk7XG5cbiAgICAgICAgR2xvYmFsQWN0aW9ucy5zaG93U2hvcnRjdXRzTW9kYWwoKTtcbiAgICB9XG5cbiAgICBzaG93QWRkVXNlcnNUb1RlYW1Nb2RhbChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHNob3dBZGRVc2Vyc1RvVGVhbU1vZGFsOiB0cnVlLFxuICAgICAgICAgICAgc2hvd0Ryb3Bkb3duOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBoaWRlQWRkVXNlcnNUb1RlYW1Nb2RhbCgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBzaG93QWRkVXNlcnNUb1RlYW1Nb2RhbDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2hvd0ludml0ZU1lbWJlck1vZGFsKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dEcm9wZG93bjogZmFsc2V9KTtcblxuICAgICAgICBHbG9iYWxBY3Rpb25zLnNob3dJbnZpdGVNZW1iZXJNb2RhbCgpO1xuICAgIH1cblxuICAgIHNob3dHZXRUZWFtSW52aXRlTGlua01vZGFsKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dEcm9wZG93bjogZmFsc2V9KTtcblxuICAgICAgICBHbG9iYWxBY3Rpb25zLnNob3dHZXRUZWFtSW52aXRlTGlua01vZGFsKCk7XG4gICAgfVxuXG4gICAgc2hvd1RlYW1NZW1iZXJzTW9kYWwoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBzaG93VGVhbU1lbWJlcnNNb2RhbDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBoaWRlVGVhbU1lbWJlcnNNb2RhbCgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBzaG93VGVhbU1lbWJlcnNNb2RhbDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIFRlYW1TdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uVGVhbUNoYW5nZSk7XG4gICAgfVxuXG4gICAgb25UZWFtQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHRlYW1NZW1iZXJzOiBUZWFtU3RvcmUuZ2V0TXlUZWFtTWVtYmVycygpLFxuICAgICAgICAgICAgdGVhbUxpc3RpbmdzOiBUZWFtU3RvcmUuZ2V0VGVhbUxpc3RpbmdzKCksXG4gICAgICAgICAgICBzaG93RHJvcGRvd246IGZhbHNlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAkKFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5kcm9wZG93bikpLm9mZignaGlkZS5icy5kcm9wZG93bicpO1xuICAgICAgICBUZWFtU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5vblRlYW1DaGFuZ2UpO1xuICAgIH1cblxuICAgIHJlbmRlckN1c3RvbUVtb2ppTGluaygpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5tbV9jb25maWcuRW5hYmxlQ3VzdG9tRW1vamkgIT09ICd0cnVlJyB8fCAhVXRpbHMuY2FuQ3JlYXRlQ3VzdG9tRW1vamkodGhpcy5wcm9wcy5jdXJyZW50VXNlcikpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICAgICAgICBpZD0nY3VzdG9tRW1vamknXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9XG4gICAgICAgICAgICAgICAgICAgIHRvPXsnLycgKyB0aGlzLnByb3BzLnRlYW1OYW1lICsgJy9lbW9qaSd9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J25hdmJhcl9kcm9wZG93bi5lbW9qaSdcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdDdXN0b20gRW1vamknXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdsb2JhbC5tbV9jb25maWc7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gdGhpcy5wcm9wcy5jdXJyZW50VXNlcjtcbiAgICAgICAgbGV0IHRlYW1MaW5rID0gJyc7XG4gICAgICAgIGxldCBpbnZpdGVMaW5rID0gJyc7XG4gICAgICAgIGxldCBhZGRNZW1iZXJUb1RlYW0gPSAnJztcbiAgICAgICAgbGV0IG1hbmFnZUxpbmsgPSAnJztcbiAgICAgICAgbGV0IHN5c0FkbWluTGluayA9ICcnO1xuICAgICAgICBsZXQgaXNBZG1pbiA9IGZhbHNlO1xuICAgICAgICBsZXQgaXNTeXN0ZW1BZG1pbiA9IGZhbHNlO1xuICAgICAgICBsZXQgdGVhbVNldHRpbmdzID0gbnVsbDtcbiAgICAgICAgbGV0IGludGVncmF0aW9uc0xpbmsgPSBudWxsO1xuXG4gICAgICAgIGlmICghY3VycmVudFVzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRVc2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlzQWRtaW4gPSBUZWFtU3RvcmUuaXNUZWFtQWRtaW5Gb3JDdXJyZW50VGVhbSgpIHx8IFVzZXJTdG9yZS5pc1N5c3RlbUFkbWluRm9yQ3VycmVudFVzZXIoKTtcbiAgICAgICAgICAgIGlzU3lzdGVtQWRtaW4gPSBVc2VyU3RvcmUuaXNTeXN0ZW1BZG1pbkZvckN1cnJlbnRVc2VyKCk7XG5cbiAgICAgICAgICAgIGludml0ZUxpbmsgPSAoXG4gICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3N0eWxlLS1ub25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3NlbmRFbWFpbEludml0ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd0ludml0ZU1lbWJlck1vZGFsfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSduYXZiYXJfZHJvcGRvd24uaW52aXRlTWVtYmVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdTZW5kIEVtYWlsIEludml0ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBhZGRNZW1iZXJUb1RlYW0gPSAoXG4gICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3N0eWxlLS1ub25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2FkZFVzZXJzVG9UZWFtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93QWRkVXNlcnNUb1RlYW1Nb2RhbH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nbmF2YmFyX2Ryb3Bkb3duLmFkZE1lbWJlclRvVGVhbSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nQWRkIE1lbWJlcnMgdG8gVGVhbSdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy50ZWFtVHlwZSA9PT0gQ29uc3RhbnRzLk9QRU5fVEVBTSAmJiBjb25maWcuRW5hYmxlVXNlckNyZWF0aW9uID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgICB0ZWFtTGluayA9IChcbiAgICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc3R5bGUtLW5vbmUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2dldFRlYW1JbnZpdGVMaW5rJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd0dldFRlYW1JbnZpdGVMaW5rTW9kYWx9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J25hdmJhcl9kcm9wZG93bi50ZWFtTGluaydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0dldCBUZWFtIEludml0ZSBMaW5rJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZ2xvYmFsLndpbmRvdy5tbV9saWNlbnNlLklzTGljZW5zZWQgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgIGlmIChjb25maWcuUmVzdHJpY3RUZWFtSW52aXRlID09PSBDb25zdGFudHMuUEVSTUlTU0lPTlNfU1lTVEVNX0FETUlOICYmICFpc1N5c3RlbUFkbWluKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlYW1MaW5rID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaW52aXRlTGluayA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGFkZE1lbWJlclRvVGVhbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb25maWcuUmVzdHJpY3RUZWFtSW52aXRlID09PSBDb25zdGFudHMuUEVSTUlTU0lPTlNfVEVBTV9BRE1JTiAmJiAhaXNBZG1pbikge1xuICAgICAgICAgICAgICAgICAgICB0ZWFtTGluayA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGludml0ZUxpbmsgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBhZGRNZW1iZXJUb1RlYW0gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtZW1iZXJzTmFtZSA9IChcbiAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgaWQ9J25hdmJhcl9kcm9wZG93bi5tYW5hZ2VNZW1iZXJzJ1xuICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdNYW5hZ2UgTWVtYmVycydcbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGlzQWRtaW4pIHtcbiAgICAgICAgICAgIHRlYW1TZXR0aW5ncyA9IChcbiAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc3R5bGUtLW5vbmUnXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD0ndGVhbVNldHRpbmdzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9J21vZGFsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10YXJnZXQ9JyN0ZWFtX3NldHRpbmdzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVEcm9wZG93bn1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nbmF2YmFyX2Ryb3Bkb3duLnRlYW1TZXR0aW5ncydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nVGVhbSBTZXR0aW5ncydcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVtYmVyc05hbWUgPSAoXG4gICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgaWQ9J25hdmJhcl9kcm9wZG93bi52aWV3TWVtYmVycydcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J1ZpZXcgTWVtYmVycydcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hbmFnZUxpbmsgPSAoXG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBpZD0nbWFuYWdlTWVtYmVycydcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzdHlsZS0tbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93VGVhbU1lbWJlcnNNb2RhbH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHttZW1iZXJzTmFtZX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgaW50ZWdyYXRpb25zRW5hYmxlZCA9XG4gICAgICAgICAgICBjb25maWcuRW5hYmxlSW5jb21pbmdXZWJob29rcyA9PT0gJ3RydWUnIHx8XG4gICAgICAgICAgICBjb25maWcuRW5hYmxlT3V0Z29pbmdXZWJob29rcyA9PT0gJ3RydWUnIHx8XG4gICAgICAgICAgICBjb25maWcuRW5hYmxlQ29tbWFuZHMgPT09ICd0cnVlJyB8fFxuICAgICAgICAgICAgKGNvbmZpZy5FbmFibGVPQXV0aFNlcnZpY2VQcm92aWRlciA9PT0gJ3RydWUnICYmIChpc1N5c3RlbUFkbWluIHx8IGNvbmZpZy5FbmFibGVPbmx5QWRtaW5JbnRlZ3JhdGlvbnMgIT09ICd0cnVlJykpO1xuICAgICAgICBpZiAoaW50ZWdyYXRpb25zRW5hYmxlZCAmJiAoaXNBZG1pbiB8fCBjb25maWcuRW5hYmxlT25seUFkbWluSW50ZWdyYXRpb25zICE9PSAndHJ1ZScpKSB7XG4gICAgICAgICAgICBpbnRlZ3JhdGlvbnNMaW5rID0gKFxuICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdJbnRlZ3JhdGlvbnMnXG4gICAgICAgICAgICAgICAgICAgICAgICB0bz17Jy8nICsgdGhpcy5wcm9wcy50ZWFtTmFtZSArICcvaW50ZWdyYXRpb25zJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J25hdmJhcl9kcm9wZG93bi5pbnRlZ3JhdGlvbnMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0ludGVncmF0aW9ucydcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1N5c3RlbUFkbWluKSB7XG4gICAgICAgICAgICBzeXNBZG1pbkxpbmsgPSAoXG4gICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3N5c3RlbUNvbnNvbGUnXG4gICAgICAgICAgICAgICAgICAgICAgICB0bz17Jy9hZG1pbl9jb25zb2xlJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J25hdmJhcl9kcm9wZG93bi5jb25zb2xlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdTeXN0ZW0gQ29uc29sZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRlYW1zID0gW107XG4gICAgICAgIGxldCBtb3JlVGVhbXMgPSBmYWxzZTtcblxuICAgICAgICBpZiAoY29uZmlnLkVuYWJsZVRlYW1DcmVhdGlvbiA9PT0gJ3RydWUnIHx8IFVzZXJTdG9yZS5pc1N5c3RlbUFkbWluRm9yQ3VycmVudFVzZXIoKSkge1xuICAgICAgICAgICAgdGVhbXMucHVzaChcbiAgICAgICAgICAgICAgICA8bGkga2V5PSduZXdUZWFtX2xpJz5cbiAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdjcmVhdGVUZWFtJ1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5PSduZXdUZWFtX2EnXG4gICAgICAgICAgICAgICAgICAgICAgICB0bz0nL2NyZWF0ZV90ZWFtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVDbGlja31cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nbmF2YmFyX2Ryb3Bkb3duLmNyZWF0ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nQ3JlYXRlIGEgTmV3IFRlYW0nXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpc0FscmVhZHlNZW1iZXIgPSB0aGlzLnN0YXRlLnRlYW1NZW1iZXJzLnJlZHVjZSgocmVzdWx0LCBpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXN1bHRbaXRlbS50ZWFtX2lkXSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCB7fSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnN0YXRlLnRlYW1MaXN0aW5ncykge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUudGVhbUxpc3RpbmdzLmhhc093blByb3BlcnR5KGlkKSAmJiAhaXNBbHJlYWR5TWVtYmVyW2lkXSkge1xuICAgICAgICAgICAgICAgIG1vcmVUZWFtcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobW9yZVRlYW1zKSB7XG4gICAgICAgICAgICB0ZWFtcy5wdXNoKFxuICAgICAgICAgICAgICAgIDxsaSBrZXk9J2pvaW5UZWFtX2xpJz5cbiAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdqb2luQW5vdGhlclRlYW0nXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfVxuICAgICAgICAgICAgICAgICAgICAgICAgdG89Jy9zZWxlY3RfdGVhbSdcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nbmF2YmFyX2Ryb3Bkb3duLmpvaW4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0pvaW4gQW5vdGhlciBUZWFtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGVhbXMucHVzaChcbiAgICAgICAgICAgIDxsaSBrZXk9J2xlYXZlVGVhbV9saSc+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3N0eWxlLS1ub25lJ1xuICAgICAgICAgICAgICAgICAgICBpZD0nbGVhdmVUZWFtJ1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtHbG9iYWxBY3Rpb25zLnNob3dMZWF2ZVRlYW1Nb2RhbH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD0nbmF2YmFyX2Ryb3Bkb3duLmxlYXZlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0xlYXZlIFRlYW0nXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICApO1xuXG4gICAgICAgIGxldCBoZWxwTGluayA9IG51bGw7XG4gICAgICAgIGlmIChjb25maWcuSGVscExpbmspIHtcbiAgICAgICAgICAgIGhlbHBMaW5rID0gKFxuICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdoZWxwTGluaydcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD0nX2JsYW5rJ1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsPSdub29wZW5lciBub3JlZmVycmVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgdG89e2NvbmZpZy5IZWxwTGlua31cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nbmF2YmFyX2Ryb3Bkb3duLmhlbHAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0hlbHAnXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVwb3J0TGluayA9IG51bGw7XG4gICAgICAgIGlmIChjb25maWcuUmVwb3J0QVByb2JsZW1MaW5rKSB7XG4gICAgICAgICAgICByZXBvcnRMaW5rID0gKFxuICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdyZXBvcnRMaW5rJ1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PSdfYmxhbmsnXG4gICAgICAgICAgICAgICAgICAgICAgICByZWw9J25vb3BlbmVyIG5vcmVmZXJyZXInXG4gICAgICAgICAgICAgICAgICAgICAgICB0bz17Y29uZmlnLlJlcG9ydEFQcm9ibGVtTGlua31cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nbmF2YmFyX2Ryb3Bkb3duLnJlcG9ydCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nUmVwb3J0IGEgUHJvYmxlbSdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuYXRpdmVBcHBMaW5rID0gbnVsbDtcbiAgICAgICAgaWYgKGdsb2JhbC53aW5kb3cubW1fY29uZmlnLkFwcERvd25sb2FkTGluayAmJiAhVXNlckFnZW50LmlzTW9iaWxlQXBwKCkpIHtcbiAgICAgICAgICAgIG5hdGl2ZUFwcExpbmsgPSAoXG4gICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J25hdGl2ZUFwcExpbmsnXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9J19ibGFuaydcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbD0nbm9vcGVuZXIgbm9yZWZlcnJlcidcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvPXt1c2VTYWZlVXJsKGdsb2JhbC53aW5kb3cubW1fY29uZmlnLkFwcERvd25sb2FkTGluayl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J25hdmJhcl9kcm9wZG93bi5uYXRpdmVBcHBzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdEb3dubG9hZCBBcHBzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRlYW1NZW1iZXJzTW9kYWw7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNob3dUZWFtTWVtYmVyc01vZGFsKSB7XG4gICAgICAgICAgICB0ZWFtTWVtYmVyc01vZGFsID0gKFxuICAgICAgICAgICAgICAgIDxUZWFtTWVtYmVyc01vZGFsXG4gICAgICAgICAgICAgICAgICAgIG9uTG9hZD17dGhpcy50b2dnbGVEcm9wZG93bn1cbiAgICAgICAgICAgICAgICAgICAgb25IaWRlPXt0aGlzLmhpZGVUZWFtTWVtYmVyc01vZGFsfVxuICAgICAgICAgICAgICAgICAgICBpc0FkbWluPXtpc0FkbWlufVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGFkZFVzZXJzVG9UZWFtTW9kYWw7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNob3dBZGRVc2Vyc1RvVGVhbU1vZGFsKSB7XG4gICAgICAgICAgICBhZGRVc2Vyc1RvVGVhbU1vZGFsID0gKFxuICAgICAgICAgICAgICAgIDxBZGRVc2Vyc1RvVGVhbVxuICAgICAgICAgICAgICAgICAgICBvbk1vZGFsRGlzbWlzc2VkPXt0aGlzLmhpZGVBZGRVc2Vyc1RvVGVhbU1vZGFsfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qga2V5Ym9hcmRTaG9ydGN1dHMgPSAoXG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3N0eWxlLS1ub25lJ1xuICAgICAgICAgICAgICAgICAgICBpZD0na2V5Ym9hcmRTaG9ydGN1dHMnXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd1Nob3J0Y3V0c01vZGFsfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSduYXZiYXJfZHJvcGRvd24ua2V5Ym9hcmRTaG9ydGN1dHMnXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nS2V5Ym9hcmQgU2hvcnRjdXRzJ1xuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBhY2NvdW50U2V0dGluZ3MgPSAoXG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3N0eWxlLS1ub25lJ1xuICAgICAgICAgICAgICAgICAgICBpZD0nYWNjb3VudFNldHRpbmdzJ1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dBY2NvdW50U2V0dGluZ3NNb2RhbH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD0nbmF2YmFyX2Ryb3Bkb3duLmFjY291bnRTZXR0aW5ncydcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdBY2NvdW50IFNldHRpbmdzJ1xuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBhYm91dCA9IChcbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGlkPSdhYm91dCdcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzdHlsZS0tbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVBYm91dE1vZGFsfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSduYXZiYXJfZHJvcGRvd24uYWJvdXQnXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nQWJvdXQgTWF0dGVybW9zdCdcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgbG9nb3V0ID0gKFxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzdHlsZS0tbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgaWQ9J2xvZ291dCdcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gR2xvYmFsQWN0aW9ucy5lbWl0VXNlckxvZ2dlZE91dEV2ZW50KCl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J25hdmJhcl9kcm9wZG93bi5sb2dvdXQnXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nTG9nb3V0J1xuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBjdXN0b21FbW9qaSA9IHRoaXMucmVuZGVyQ3VzdG9tRW1vamlMaW5rKCk7XG5cbiAgICAgICAgLy8gRGl2aWRlcnMuXG4gICAgICAgIGxldCBpbnZpdGVEaXZpZGVyID0gbnVsbDtcbiAgICAgICAgaWYgKGludml0ZUxpbmsgfHwgdGVhbUxpbmsgfHwgYWRkTWVtYmVyVG9UZWFtKSB7XG4gICAgICAgICAgICBpbnZpdGVEaXZpZGVyID0gPGxpIGNsYXNzTmFtZT0nZGl2aWRlcicvPjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0ZWFtRGl2aWRlciA9IG51bGw7XG4gICAgICAgIGlmICh0ZWFtU2V0dGluZ3MgfHwgbWFuYWdlTGluayB8fCB0ZWFtcykge1xuICAgICAgICAgICAgdGVhbURpdmlkZXIgPSA8bGkgY2xhc3NOYW1lPSdkaXZpZGVyJy8+O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJhY2tzdGFnZURpdmlkZXIgPSBudWxsO1xuICAgICAgICBpZiAoaW50ZWdyYXRpb25zTGluayB8fCBjdXN0b21FbW9qaSkge1xuICAgICAgICAgICAgYmFja3N0YWdlRGl2aWRlciA9IDxsaSBjbGFzc05hbWU9J2RpdmlkZXInLz47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3lzQWRtaW5EaXZpZGVyID0gbnVsbDtcbiAgICAgICAgaWYgKHN5c0FkbWluTGluaykge1xuICAgICAgICAgICAgc3lzQWRtaW5EaXZpZGVyID0gPGxpIGNsYXNzTmFtZT0nZGl2aWRlcicvPjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWxwRGl2aWRlciA9IG51bGw7XG4gICAgICAgIGlmIChoZWxwTGluayB8fCByZXBvcnRMaW5rIHx8IG5hdGl2ZUFwcExpbmsgfHwgYWJvdXQpIHtcbiAgICAgICAgICAgIGhlbHBEaXZpZGVyID0gPGxpIGNsYXNzTmFtZT0nZGl2aWRlcicvPjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsb2dvdXREaXZpZGVyID0gbnVsbDtcbiAgICAgICAgaWYgKGxvZ291dCkge1xuICAgICAgICAgICAgbG9nb3V0RGl2aWRlciA9IDxsaSBjbGFzc05hbWU9J2RpdmlkZXInLz47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPERyb3Bkb3duXG4gICAgICAgICAgICAgICAgaWQ9J3NpZGViYXItaGVhZGVyLWRyb3Bkb3duJ1xuICAgICAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuc2hvd0Ryb3Bkb3dufVxuICAgICAgICAgICAgICAgIG9uVG9nZ2xlPXt0aGlzLnRvZ2dsZURyb3Bkb3dufVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2lkZWJhci1oZWFkZXItZHJvcGRvd24nXG4gICAgICAgICAgICAgICAgcHVsbFJpZ2h0PXt0cnVlfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTaWRlYmFySGVhZGVyRHJvcGRvd25CdXR0b25cbiAgICAgICAgICAgICAgICAgICAgYnNSb2xlPSd0b2dnbGUnXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlRHJvcGRvd259XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8RHJvcGRvd24uTWVudSBpZD0nc2lkZWJhckRyb3Bkb3duTWVudSc+XG4gICAgICAgICAgICAgICAgICAgIHthY2NvdW50U2V0dGluZ3N9XG4gICAgICAgICAgICAgICAgICAgIHtpbnZpdGVEaXZpZGVyfVxuICAgICAgICAgICAgICAgICAgICB7aW52aXRlTGlua31cbiAgICAgICAgICAgICAgICAgICAge3RlYW1MaW5rfVxuICAgICAgICAgICAgICAgICAgICB7YWRkTWVtYmVyVG9UZWFtfVxuICAgICAgICAgICAgICAgICAgICB7dGVhbURpdmlkZXJ9XG4gICAgICAgICAgICAgICAgICAgIHt0ZWFtU2V0dGluZ3N9XG4gICAgICAgICAgICAgICAgICAgIHttYW5hZ2VMaW5rfVxuICAgICAgICAgICAgICAgICAgICB7dGVhbXN9XG4gICAgICAgICAgICAgICAgICAgIHtiYWNrc3RhZ2VEaXZpZGVyfVxuICAgICAgICAgICAgICAgICAgICB7aW50ZWdyYXRpb25zTGlua31cbiAgICAgICAgICAgICAgICAgICAge2N1c3RvbUVtb2ppfVxuICAgICAgICAgICAgICAgICAgICB7c3lzQWRtaW5EaXZpZGVyfVxuICAgICAgICAgICAgICAgICAgICB7c3lzQWRtaW5MaW5rfVxuICAgICAgICAgICAgICAgICAgICB7aGVscERpdmlkZXJ9XG4gICAgICAgICAgICAgICAgICAgIHtoZWxwTGlua31cbiAgICAgICAgICAgICAgICAgICAge2tleWJvYXJkU2hvcnRjdXRzfVxuICAgICAgICAgICAgICAgICAgICB7cmVwb3J0TGlua31cbiAgICAgICAgICAgICAgICAgICAge25hdGl2ZUFwcExpbmt9XG4gICAgICAgICAgICAgICAgICAgIHthYm91dH1cbiAgICAgICAgICAgICAgICAgICAge2xvZ291dERpdmlkZXJ9XG4gICAgICAgICAgICAgICAgICAgIHtsb2dvdXR9XG4gICAgICAgICAgICAgICAgICAgIHt0ZWFtTWVtYmVyc01vZGFsfVxuICAgICAgICAgICAgICAgICAgICA8QWJvdXRCdWlsZE1vZGFsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93PXt0aGlzLnN0YXRlLnNob3dBYm91dE1vZGFsfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25Nb2RhbERpc21pc3NlZD17dGhpcy5hYm91dE1vZGFsRGlzbWlzc2VkfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB7YWRkVXNlcnNUb1RlYW1Nb2RhbH1cbiAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duLk1lbnU+XG4gICAgICAgICAgICA8L0Ryb3Bkb3duPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBjb21wb25lbnRzL3NpZGViYXJfaGVhZGVyX2Ryb3Bkb3duLmpzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHQTtBQUNBOzs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7QUFDQTs7O0FBWUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQXRCQTtBQThCQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBOzs7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUdBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBOzs7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUdBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFMQTtBQURBO0FBYUE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFMQTtBQURBO0FBQ0E7QUFhQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFEQTtBQUNBO0FBYUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFEQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUZBO0FBUEE7QUFEQTtBQWVBO0FBQ0E7QUFFQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUxBO0FBREE7QUFDQTtBQVVBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFEQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFMQTtBQURBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUZBO0FBTkE7QUFEQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFMQTtBQURBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFMQTtBQURBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUZBO0FBTkE7QUFEQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUZBO0FBTkE7QUFEQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUZBO0FBTkE7QUFEQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFMQTtBQURBO0FBQ0E7QUFhQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFEQTtBQUNBO0FBYUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFGQTtBQUxBO0FBREE7QUFDQTtBQWFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFEQTtBQUNBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQTVCQTtBQVhBO0FBMkNBOzs7QUEzbUJBO0FBM0JBO0FBQ0E7QUEwQkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBREE7QUFTQTtBQURBO0FBUkE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2582\n");

/***/ }),

/***/ 2583:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(7);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(5);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(6);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(8);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(9);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(41);\n\nvar _reactIntl = __webpack_require__(18);\n\nvar _constants = __webpack_require__(10);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SidebarHeaderDropdownButton = function (_React$PureComponent) {\n    (0, _inherits3.default)(SidebarHeaderDropdownButton, _React$PureComponent);\n\n    function SidebarHeaderDropdownButton() {\n        (0, _classCallCheck3.default)(this, SidebarHeaderDropdownButton);\n        return (0, _possibleConstructorReturn3.default)(this, (SidebarHeaderDropdownButton.__proto__ || (0, _getPrototypeOf2.default)(SidebarHeaderDropdownButton)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(SidebarHeaderDropdownButton, [{\n        key: 'render',\n        value: function render() {\n            var mainMenuToolTip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'main-menu__tooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'sidebar.mainMenu',\n                    defaultMessage: 'Main menu'\n                })\n            );\n\n            return _react2.default.createElement(\n                _reactBootstrap.OverlayTrigger,\n                {\n                    trigger: ['hover', 'focus'],\n                    delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                    placement: 'right',\n                    overlay: mainMenuToolTip\n                },\n                _react2.default.createElement(\n                    'button',\n                    {\n                        id: 'sidebarHeaderDropdownButton',\n                        className: 'sidebar-header-dropdown__toggle cursor--pointer style--none',\n                        onClick: this.props.onClick\n                    },\n                    _react2.default.createElement('span', {\n                        className: 'sidebar-header-dropdown__icon',\n                        dangerouslySetInnerHTML: { __html: _constants2.default.MENU_ICON }\n                    })\n                )\n            );\n        }\n    }]);\n    return SidebarHeaderDropdownButton;\n}(_react2.default.PureComponent); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nSidebarHeaderDropdownButton.propTypes = {\n    bsRole: _propTypes2.default.oneOf(['toggle']).isRequired, // eslint-disable-line react/no-unused-prop-types\n    onClick: _propTypes2.default.func.isRequired\n};\nexports.default = SidebarHeaderDropdownButton;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU4My5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL3NpZGViYXJfaGVhZGVyX2Ryb3Bkb3duX2J1dHRvbi5qc3g/NTBjYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTGljZW5zZS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtPdmVybGF5VHJpZ2dlciwgVG9vbHRpcH0gZnJvbSAncmVhY3QtYm9vdHN0cmFwJztcbmltcG9ydCB7Rm9ybWF0dGVkTWVzc2FnZX0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmltcG9ydCBDb25zdGFudHMgZnJvbSAndXRpbHMvY29uc3RhbnRzLmpzeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpZGViYXJIZWFkZXJEcm9wZG93bkJ1dHRvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIGJzUm9sZTogUHJvcFR5cGVzLm9uZU9mKFsndG9nZ2xlJ10pLmlzUmVxdWlyZWQsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3Qvbm8tdW51c2VkLXByb3AtdHlwZXNcbiAgICAgICAgb25DbGljazogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxuICAgIH07XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IG1haW5NZW51VG9vbFRpcCA9IChcbiAgICAgICAgICAgIDxUb29sdGlwIGlkPSdtYWluLW1lbnVfX3Rvb2x0aXAnPlxuICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIGlkPSdzaWRlYmFyLm1haW5NZW51J1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nTWFpbiBtZW51J1xuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxPdmVybGF5VHJpZ2dlclxuICAgICAgICAgICAgICAgIHRyaWdnZXI9e1snaG92ZXInLCAnZm9jdXMnXX1cbiAgICAgICAgICAgICAgICBkZWxheVNob3c9e0NvbnN0YW50cy5PVkVSTEFZX1RJTUVfREVMQVl9XG4gICAgICAgICAgICAgICAgcGxhY2VtZW50PSdyaWdodCdcbiAgICAgICAgICAgICAgICBvdmVybGF5PXttYWluTWVudVRvb2xUaXB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBpZD0nc2lkZWJhckhlYWRlckRyb3Bkb3duQnV0dG9uJ1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NpZGViYXItaGVhZGVyLWRyb3Bkb3duX190b2dnbGUgY3Vyc29yLS1wb2ludGVyIHN0eWxlLS1ub25lJ1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2xpY2t9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzaWRlYmFyLWhlYWRlci1kcm9wZG93bl9faWNvbidcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBDb25zdGFudHMuTUVOVV9JQ09OfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvT3ZlcmxheVRyaWdnZXI+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGNvbXBvbmVudHMvc2lkZWJhcl9oZWFkZXJfZHJvcGRvd25fYnV0dG9uLmpzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBQ0E7Ozs7Ozs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFDQTtBQU9BO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFOQTtBQWtCQTs7O0FBbkNBO0FBVEE7QUFDQTtBQVFBO0FBRUE7QUFDQTtBQUZBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2583\n");

/***/ }),

/***/ 2584:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(7);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(5);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(6);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(8);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(9);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _constants = __webpack_require__(10);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar UnreadChannelIndicator = function (_React$PureComponent) {\n    (0, _inherits3.default)(UnreadChannelIndicator, _React$PureComponent);\n\n    function UnreadChannelIndicator() {\n        (0, _classCallCheck3.default)(this, UnreadChannelIndicator);\n        return (0, _possibleConstructorReturn3.default)(this, (UnreadChannelIndicator.__proto__ || (0, _getPrototypeOf2.default)(UnreadChannelIndicator)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(UnreadChannelIndicator, [{\n        key: 'render',\n        value: function render() {\n            var unreadIcon = _constants2.default.UNREAD_ICON_SVG;\n\n            var displayValue = 'none';\n            if (this.props.show) {\n                displayValue = 'block';\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    id: 'unreadIndicator' + this.props.name,\n                    className: 'nav-pills__unread-indicator ' + this.props.extraClass,\n                    style: { display: displayValue },\n                    onClick: this.props.onClick\n                },\n                this.props.content,\n                _react2.default.createElement('span', {\n                    className: 'icon icon__unread',\n                    dangerouslySetInnerHTML: { __html: unreadIcon }\n                })\n            );\n        }\n    }]);\n    return UnreadChannelIndicator;\n}(_react2.default.PureComponent); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nUnreadChannelIndicator.propTypes = {\n\n    /**\n     * Function to call when the indicator is clicked\n     */\n    onClick: _propTypes2.default.func.isRequired,\n\n    /**\n     * Set whether to show the indicator or not\n     */\n    show: _propTypes2.default.bool,\n\n    /**\n     * The additional CSS class for the indicator\n     */\n    extraClass: _propTypes2.default.string,\n\n    /**\n     * The content of the indicator\n     */\n    content: _propTypes2.default.node,\n\n    /**\n     * The name of the indicator\n     */\n    name: _propTypes2.default.string\n};\nUnreadChannelIndicator.defaultProps = {\n    show: false,\n    extraClass: '',\n    content: ''\n};\nexports.default = UnreadChannelIndicator;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU4NC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb21wb25lbnRzL3VucmVhZF9jaGFubmVsX2luZGljYXRvci5qc3g/MmViMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTGljZW5zZS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQ29uc3RhbnRzIGZyb20gJ3V0aWxzL2NvbnN0YW50cy5qc3gnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVbnJlYWRDaGFubmVsSW5kaWNhdG9yIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcblxuICAgICAgLyoqXG4gICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIGluZGljYXRvciBpcyBjbGlja2VkXG4gICAgICAgKi9cbiAgICAgICAgb25DbGljazogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAgICAgLyoqXG4gICAgICAgKiBTZXQgd2hldGhlciB0byBzaG93IHRoZSBpbmRpY2F0b3Igb3Igbm90XG4gICAgICAgKi9cbiAgICAgICAgc2hvdzogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIGFkZGl0aW9uYWwgQ1NTIGNsYXNzIGZvciB0aGUgaW5kaWNhdG9yXG4gICAgICAgKi9cbiAgICAgICAgZXh0cmFDbGFzczogUHJvcFR5cGVzLnN0cmluZyxcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgY29udGVudCBvZiB0aGUgaW5kaWNhdG9yXG4gICAgICAgKi9cbiAgICAgICAgY29udGVudDogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIG5hbWUgb2YgdGhlIGluZGljYXRvclxuICAgICAgICovXG4gICAgICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmdcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBzaG93OiBmYWxzZSxcbiAgICAgICAgZXh0cmFDbGFzczogJycsXG4gICAgICAgIGNvbnRlbnQ6ICcnXG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB1bnJlYWRJY29uID0gQ29uc3RhbnRzLlVOUkVBRF9JQ09OX1NWRztcblxuICAgICAgICBsZXQgZGlzcGxheVZhbHVlID0gJ25vbmUnO1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5zaG93KSB7XG4gICAgICAgICAgICBkaXNwbGF5VmFsdWUgPSAnYmxvY2snO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBpZD17J3VucmVhZEluZGljYXRvcicgKyB0aGlzLnByb3BzLm5hbWV9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsnbmF2LXBpbGxzX191bnJlYWQtaW5kaWNhdG9yICcgKyB0aGlzLnByb3BzLmV4dHJhQ2xhc3N9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tkaXNwbGF5OiBkaXNwbGF5VmFsdWV9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMub25DbGlja31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jb250ZW50fVxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0naWNvbiBpY29uX191bnJlYWQnXG4gICAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiB1bnJlYWRJY29ufX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGNvbXBvbmVudHMvdW5yZWFkX2NoYW5uZWxfaW5kaWNhdG9yLmpzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFDQTtBQUNBOzs7OztBQUNBOzs7Ozs7Ozs7O0FBbUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQVBBO0FBYUE7OztBQXpEQTtBQVBBO0FBQ0E7QUFNQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUF6QkE7QUFEQTtBQThCQTtBQUNBO0FBQ0E7QUFIQTtBQTdCQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2584\n");

/***/ }),

/***/ 329:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _map = __webpack_require__(159);\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _stringify = __webpack_require__(158);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _extends2 = __webpack_require__(20);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = __webpack_require__(7);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(5);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(6);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(8);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(9);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(41);\n\nvar _reactDom = __webpack_require__(48);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(18);\n\nvar _es = __webpack_require__(45);\n\nvar _preferences = __webpack_require__(213);\n\nvar _channels = __webpack_require__(137);\n\nvar _channel_actions = __webpack_require__(80);\n\nvar ChannelActions = _interopRequireWildcard(_channel_actions);\n\nvar _diagnostics_actions = __webpack_require__(239);\n\nvar _global_actions = __webpack_require__(57);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _app_dispatcher = __webpack_require__(36);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _channel_store = __webpack_require__(34);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _modal_store = __webpack_require__(2164);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _preference_store = __webpack_require__(121);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _redux_store = __webpack_require__(39);\n\nvar _redux_store2 = _interopRequireDefault(_redux_store);\n\nvar _team_store = __webpack_require__(38);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(28);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _channel_utils = __webpack_require__(123);\n\nvar ChannelUtils = _interopRequireWildcard(_channel_utils);\n\nvar _constants = __webpack_require__(10);\n\nvar _utils = __webpack_require__(17);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _favicon16x = __webpack_require__(824);\n\nvar _favicon16x2 = _interopRequireDefault(_favicon16x);\n\nvar _redfavicon16x = __webpack_require__(2568);\n\nvar _redfavicon16x2 = _interopRequireDefault(_redfavicon16x);\n\nvar _load = __webpack_require__(212);\n\nvar _load2 = _interopRequireDefault(_load);\n\nvar _more_channels = __webpack_require__(2569);\n\nvar _more_channels2 = _interopRequireDefault(_more_channels);\n\nvar _more_direct_channels = __webpack_require__(2572);\n\nvar _more_direct_channels2 = _interopRequireDefault(_more_direct_channels);\n\nvar _new_channel_flow = __webpack_require__(2574);\n\nvar _new_channel_flow2 = _interopRequireDefault(_new_channel_flow);\n\nvar _sidebar_header = __webpack_require__(2578);\n\nvar _sidebar_header2 = _interopRequireDefault(_sidebar_header);\n\nvar _status_icon = __webpack_require__(458);\n\nvar _status_icon2 = _interopRequireDefault(_status_icon);\n\nvar _tutorial_tip = __webpack_require__(776);\n\nvar _tutorial_tip2 = _interopRequireDefault(_tutorial_tip);\n\nvar _unread_channel_indicator = __webpack_require__(2584);\n\nvar _unread_channel_indicator2 = _interopRequireDefault(_unread_channel_indicator);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Preferences = _constants.Constants.Preferences; // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar TutorialSteps = _constants.Constants.TutorialSteps;\n\nvar dispatch = _redux_store2.default.dispatch;\nvar getState = _redux_store2.default.getState;\n\nvar Sidebar = function (_React$Component) {\n    (0, _inherits3.default)(Sidebar, _React$Component);\n\n    function Sidebar(props) {\n        (0, _classCallCheck3.default)(this, Sidebar);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (Sidebar.__proto__ || (0, _getPrototypeOf2.default)(Sidebar)).call(this, props));\n\n        _this.getTotalUnreadCount = function () {\n            var unreads = ChannelUtils.getCountsStateFromStores(_this.state.currentTeam, _this.state.teamMembers, _this.state.unreadCounts);\n            return { msgs: unreads.messageCount, mentions: unreads.mentionCount };\n        };\n\n        _this.getStateFromStores = function () {\n            var members = _channel_store2.default.getMyMembers();\n            var teamMembers = _team_store2.default.getMyTeamMembers();\n            var currentChannelId = _channel_store2.default.getCurrentId();\n            var tutorialStep = _preference_store2.default.getInt(Preferences.TUTORIAL_STEP, _user_store2.default.getCurrentId(), 999);\n\n            var displayableChannels = (0, _channels.getChannelsByCategory)(_redux_store2.default.getState());\n\n            return (0, _extends3.default)({\n                activeId: currentChannelId,\n                members: members,\n                teamMembers: teamMembers\n            }, displayableChannels, {\n                unreadCounts: JSON.parse((0, _stringify2.default)(_channel_store2.default.getUnreadCounts())),\n                showTutorialTip: tutorialStep === TutorialSteps.CHANNEL_POPOVER,\n                currentTeam: _team_store2.default.getCurrent(),\n                currentUser: _user_store2.default.getCurrentUser(),\n                townSquare: _channel_store2.default.getByName(_constants.Constants.DEFAULT_CHANNEL),\n                offTopic: _channel_store2.default.getByName(_constants.Constants.OFFTOPIC_CHANNEL)\n            });\n        };\n\n        _this.onInChannelChange = function () {\n            _this.setState({ inChannelChange: !_this.state.inChannelChange });\n        };\n\n        _this.onModalChange = function (value, args) {\n            _this.showMoreDirectChannelsModal(_user_store2.default.getProfileListInChannel(args.channelId, true, false));\n        };\n\n        _this.handleOpenMoreDirectChannelsModal = function (e) {\n            e.preventDefault();\n            if (_this.state.showDirectChannelsModal) {\n                _this.hideMoreDirectChannelsModal();\n            } else {\n                _this.showMoreDirectChannelsModal();\n            }\n        };\n\n        _this.onChange = function () {\n            if (_this.state.currentTeam.id !== _team_store2.default.getCurrentId()) {\n                _channel_store2.default.clear();\n            }\n            _this.setState(_this.getStateFromStores());\n            _this.updateTitle();\n        };\n\n        _this.updateTitle = function () {\n            var channel = _channel_store2.default.getCurrent();\n            if (channel && _this.state.currentTeam) {\n                var currentSiteName = '';\n                if (global.window.mm_config.SiteName != null) {\n                    currentSiteName = global.window.mm_config.SiteName;\n                }\n\n                var currentChannelName = channel.display_name;\n                if (channel.type === _constants.Constants.DM_CHANNEL) {\n                    var teammate = Utils.getDirectTeammate(channel.id);\n                    if (teammate != null) {\n                        currentChannelName = teammate.username;\n                    }\n                }\n\n                var unread = _this.getTotalUnreadCount();\n                var mentionTitle = unread.mentions > 0 ? '(' + unread.mentions + ') ' : '';\n                var unreadTitle = unread.msgs > 0 ? '* ' : '';\n                document.title = mentionTitle + unreadTitle + currentChannelName + ' - ' + _this.state.currentTeam.display_name + ' ' + currentSiteName;\n            }\n        };\n\n        _this.onScroll = function () {\n            _this.updateUnreadIndicators();\n        };\n\n        _this.scrollToFirstUnreadChannel = function () {\n            if (_this.firstUnreadChannel) {\n                var unreadMargin = 15;\n                var container = (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this.refs.container));\n                var firstUnreadElement = (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this.refs[_this.firstUnreadChannel]));\n                var scrollTop = container.scrollTop() + firstUnreadElement.position().top - unreadMargin;\n                container.stop().animate({ scrollTop: scrollTop }, 500, 'swing');\n            }\n        };\n\n        _this.scrollToLastUnreadChannel = function () {\n            if (_this.lastUnreadChannel) {\n                var unreadMargin = 15;\n                var container = (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this.refs.container));\n                var lastUnreadElement = (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this.refs[_this.lastUnreadChannel]));\n                var elementBottom = lastUnreadElement.position().top + lastUnreadElement.height();\n                var scrollTop = container.scrollTop() + (elementBottom - container.height()) + unreadMargin;\n                container.stop().animate({ scrollTop: scrollTop }, 500, 'swing');\n            }\n        };\n\n        _this.updateUnreadIndicators = function () {\n            var container = (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this.refs.container));\n\n            var showTopUnread = false;\n            var showBottomUnread = false;\n\n            // Consider partially obscured channels as above/below\n            var unreadMargin = 15;\n\n            if (_this.firstUnreadChannel) {\n                var firstUnreadElement = (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this.refs[_this.firstUnreadChannel]));\n\n                if (firstUnreadElement.position().top + firstUnreadElement.height() < unreadMargin) {\n                    showTopUnread = true;\n                }\n            }\n\n            if (_this.lastUnreadChannel) {\n                var lastUnreadElement = (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this.refs[_this.lastUnreadChannel]));\n\n                if (lastUnreadElement.position().top > container.height() - unreadMargin) {\n                    showBottomUnread = true;\n                }\n            }\n\n            _this.setState({\n                showTopUnread: showTopUnread,\n                showBottomUnread: showBottomUnread\n            });\n        };\n\n        _this.updateScrollbarOnChannelChange = function (channel) {\n            var curChannel = _this.refs[channel.name].getBoundingClientRect();\n            if (curChannel.top - _constants.Constants.CHANNEL_SCROLL_ADJUSTMENT < 0 || curChannel.top + curChannel.height > _this.refs.container.getBoundingClientRect().height) {\n                _this.refs.container.scrollTop = _this.refs.container.scrollTop + (curChannel.top - _constants.Constants.CHANNEL_SCROLL_ADJUSTMENT);\n                (0, _jquery2.default)('.nav-pills__container').perfectScrollbar('update');\n            }\n        };\n\n        _this.navigateChannelShortcut = function (e) {\n            if (e.altKey && !e.shiftKey && (e.keyCode === _constants.Constants.KeyCodes.UP || e.keyCode === _constants.Constants.KeyCodes.DOWN)) {\n                e.preventDefault();\n\n                if (_this.isSwitchingChannel) {\n                    return;\n                }\n\n                _this.isSwitchingChannel = true;\n                var allChannels = _this.getDisplayedChannels();\n                var curChannelId = _this.state.activeId;\n                var curIndex = -1;\n                for (var i = 0; i < allChannels.length; i++) {\n                    if (allChannels[i].id === curChannelId) {\n                        curIndex = i;\n                    }\n                }\n                var nextIndex = curIndex;\n                if (e.keyCode === _constants.Constants.KeyCodes.DOWN) {\n                    nextIndex = curIndex + 1;\n                } else if (e.keyCode === _constants.Constants.KeyCodes.UP) {\n                    nextIndex = curIndex - 1;\n                }\n                var nextChannel = allChannels[Utils.mod(nextIndex, allChannels.length)];\n                ChannelActions.goToChannel(nextChannel);\n                _this.updateScrollbarOnChannelChange(nextChannel);\n                _this.isSwitchingChannel = false;\n            } else if (Utils.cmdOrCtrlPressed(e) && e.shiftKey && e.keyCode === _constants.Constants.KeyCodes.K) {\n                _this.handleOpenMoreDirectChannelsModal(e);\n            }\n        };\n\n        _this.navigateUnreadChannelShortcut = function (e) {\n            if (e.altKey && e.shiftKey && (e.keyCode === _constants.Constants.KeyCodes.UP || e.keyCode === _constants.Constants.KeyCodes.DOWN)) {\n                e.preventDefault();\n\n                if (_this.isSwitchingChannel) {\n                    return;\n                }\n\n                _this.isSwitchingChannel = true;\n                var allChannels = _this.getDisplayedChannels();\n                var curChannelId = _this.state.activeId;\n                var curIndex = -1;\n                for (var i = 0; i < allChannels.length; i++) {\n                    if (allChannels[i].id === curChannelId) {\n                        curIndex = i;\n                    }\n                }\n                var nextIndex = curIndex;\n                var count = 0;\n                var increment = 0;\n                if (e.keyCode === _constants.Constants.KeyCodes.UP) {\n                    increment = -1;\n                } else if (e.keyCode === _constants.Constants.KeyCodes.DOWN) {\n                    increment = 1;\n                }\n                var unreadCounts = _channel_store2.default.getUnreadCount(allChannels[nextIndex].id);\n                while (count < allChannels.length && unreadCounts.msgs === 0 && unreadCounts.mentions === 0) {\n                    nextIndex += increment;\n                    count++;\n                    nextIndex = Utils.mod(nextIndex, allChannels.length);\n                    unreadCounts = _channel_store2.default.getUnreadCount(allChannels[nextIndex].id);\n                }\n                if (unreadCounts.msgs !== 0 || unreadCounts.mentions !== 0) {\n                    var nextChannel = allChannels[nextIndex];\n                    ChannelActions.goToChannel(nextChannel);\n                    _this.updateScrollbarOnChannelChange(nextChannel);\n                }\n                _this.isSwitchingChannel = false;\n            }\n        };\n\n        _this.getDisplayedChannels = function () {\n            return _this.state.favoriteChannels.concat(_this.state.publicChannels).concat(_this.state.privateChannels).concat(_this.state.directAndGroupChannels);\n        };\n\n        _this.handleLeavePublicChannel = function (e, channel) {\n            e.preventDefault();\n            ChannelActions.leaveChannel(channel.id);\n            (0, _diagnostics_actions.trackEvent)('ui', 'ui_public_channel_x_button_clicked');\n        };\n\n        _this.handleLeavePrivateChannel = function (e, channel) {\n            e.preventDefault();\n            GlobalActions.showLeavePrivateChannelModal(channel);\n            (0, _diagnostics_actions.trackEvent)('ui', 'ui_private_channel_x_button_clicked');\n        };\n\n        _this.handleLeaveDirectChannel = function (e, channel) {\n            e.preventDefault();\n\n            if (!_this.isLeaving.get(channel.id)) {\n                _this.isLeaving.set(channel.id, true);\n\n                var id = void 0;\n                var category = void 0;\n                if (channel.type === _constants.Constants.DM_CHANNEL) {\n                    id = channel.teammate_id;\n                    category = _constants.Constants.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW;\n                } else {\n                    id = channel.id;\n                    category = _constants.Constants.Preferences.CATEGORY_GROUP_CHANNEL_SHOW;\n                }\n\n                var currentUserId = _user_store2.default.getCurrentId();\n                (0, _preferences.savePreferences)(currentUserId, [{ user_id: currentUserId, category: category, name: id, value: 'false' }])(dispatch, getState).then(function () {\n                    _this.isLeaving.set(channel.id, false);\n                });\n\n                if (ChannelUtils.isFavoriteChannel(channel)) {\n                    ChannelActions.unmarkFavorite(channel.id);\n                }\n\n                _this.setState(_this.getStateFromStores());\n                (0, _diagnostics_actions.trackEvent)('ui', 'ui_direct_channel_x_button_clicked');\n            }\n\n            if (channel.id === _this.state.activeId) {\n                _this.closedDirectChannel = true;\n                _es.browserHistory.push('/' + _this.state.currentTeam.name + '/channels/town-square');\n            }\n        };\n\n        _this.showMoreChannelsModal = function () {\n            _this.setState({ showMoreChannelsModal: true });\n            (0, _diagnostics_actions.trackEvent)('ui', 'ui_channels_more_public');\n        };\n\n        _this.hideMoreChannelsModal = function () {\n            _this.setState({ showMoreChannelsModal: false });\n        };\n\n        _this.showNewChannelModal = function (type) {\n            _this.setState({ newChannelModalType: type });\n        };\n\n        _this.hideNewChannelModal = function () {\n            _this.setState({ newChannelModalType: '' });\n        };\n\n        _this.showMoreDirectChannelsModal = function (startingUsers) {\n            (0, _diagnostics_actions.trackEvent)('ui', 'ui_channels_more_direct');\n            _this.setState({ showDirectChannelsModal: true, startingUsers: startingUsers });\n        };\n\n        _this.hideMoreDirectChannelsModal = function () {\n            _this.setState({ showDirectChannelsModal: false, startingUsers: null });\n        };\n\n        _this.openLeftSidebar = function () {\n            if (Utils.isMobile()) {\n                setTimeout(function () {\n                    document.querySelector('.app__body .inner-wrap').classList.add('move--right');\n                    document.querySelector('.app__body .sidebar--left').classList.add('move--right');\n                });\n            }\n        };\n\n        _this.openQuickSwitcher = function (e) {\n            e.preventDefault();\n            _app_dispatcher2.default.handleViewAction({\n                type: _constants.ActionTypes.TOGGLE_QUICK_SWITCH_MODAL\n            });\n        };\n\n        _this.createTutorialTip = function () {\n            var screens = [];\n\n            var townSquareDisplayName = _constants.Constants.DEFAULT_CHANNEL_UI_NAME;\n            if (_this.state.townSquare) {\n                townSquareDisplayName = _this.state.townSquare.display_name;\n            }\n\n            var offTopicDisplayName = _constants.Constants.OFFTOPIC_CHANNEL_UI_NAME;\n            if (_this.state.offTopic) {\n                offTopicDisplayName = _this.state.offTopic.display_name;\n            }\n\n            screens.push(_react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                    id: 'sidebar.tutorialScreen1',\n                    defaultMessage: '<h4>Channels</h4><p><strong>Channels</strong> organize conversations across different topics. They\\u2019re open to everyone on your team. To send private communications use <strong>Direct Messages</strong> for a single person or <strong>Private Channels</strong> for multiple people.</p>'\n                })\n            ));\n\n            screens.push(_react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                    id: 'sidebar.tutorialScreen2',\n                    defaultMessage: '<h4>\"{townsquare}\" and \"{offtopic}\" channels</h4> <p>Here are two public channels to start:</p> <p><strong>{townsquare}</strong> is a place for team-wide communication. Everyone in your team is a member of this channel.</p> <p><strong>{offtopic}</strong> is a place for fun and humor outside of work-related channels. You and your team can decide what other channels to create.</p>',\n                    values: {\n                        townsquare: townSquareDisplayName,\n                        offtopic: offTopicDisplayName\n                    }\n                })\n            ));\n\n            screens.push(_react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                    id: 'sidebar.tutorialScreen3',\n                    defaultMessage: '<h4>Creating and Joining Channels</h4> <p>Click <strong>\"More...\"</strong> to create a new channel or join an existing one.</p> <p>You can also create a new public or private channel by clicking the <strong>\"+\" symbol</strong> next to the public or private channel header.</p>'\n                })\n            ));\n\n            return _react2.default.createElement(_tutorial_tip2.default, {\n                placement: 'right',\n                screens: screens,\n                overlayClass: 'tip-overlay--sidebar',\n                diagnosticsTag: 'tutorial_tip_2_channels'\n            });\n        };\n\n        _this.createChannelElement = function (channel, index, arr, handleClose) {\n            var members = _this.state.members;\n            var activeId = _this.state.activeId;\n            var channelMember = members[channel.id];\n            var unreadCount = _this.state.unreadCounts[channel.id] || { msgs: 0, mentions: 0 };\n            var msgCount = void 0;\n\n            var linkClass = '';\n            if (channel.id === activeId) {\n                linkClass = 'active';\n            }\n\n            var rowClass = 'sidebar-item';\n\n            var unread = false;\n            if (channelMember) {\n                msgCount = unreadCount.msgs + unreadCount.mentions;\n                unread = msgCount > 0 || channelMember.mention_count > 0;\n            }\n\n            if (unread) {\n                rowClass += ' unread-title';\n\n                if (channel.id !== activeId) {\n                    if (!_this.firstUnreadChannel) {\n                        _this.firstUnreadChannel = channel.name;\n                    }\n                    _this.lastUnreadChannel = channel.name;\n                }\n            }\n\n            var badge = null;\n            if (channelMember) {\n                if (unreadCount.mentions) {\n                    badge = _react2.default.createElement(\n                        'span',\n                        { className: 'badge' },\n                        unreadCount.mentions\n                    );\n                    _this.badgesActive = true;\n                }\n            } else if (_this.state.loadingDMChannel === index && channel.type === _constants.Constants.DM_CHANNEL) {\n                badge = _react2.default.createElement('img', {\n                    className: 'channel-loading-gif pull-right',\n                    src: _load2.default\n                });\n            }\n\n            if (unreadCount.mentions > 0) {\n                rowClass += ' has-badge';\n            }\n\n            var icon = null;\n            var globeIcon = _constants.Constants.GLOBE_ICON_SVG;\n            var lockIcon = _constants.Constants.LOCK_ICON_SVG;\n            if (channel.type === _constants.Constants.OPEN_CHANNEL) {\n                icon = _react2.default.createElement('span', {\n                    className: 'icon icon__globe',\n                    dangerouslySetInnerHTML: { __html: globeIcon }\n                });\n            } else if (channel.type === _constants.Constants.PRIVATE_CHANNEL) {\n                icon = _react2.default.createElement('span', {\n                    className: 'icon icon__lock',\n                    dangerouslySetInnerHTML: { __html: lockIcon }\n                });\n            } else if (channel.type === _constants.Constants.GM_CHANNEL) {\n                icon = _react2.default.createElement(\n                    'div',\n                    { className: 'status status--group' },\n                    _user_store2.default.getProfileListInChannel(channel.id, true).length\n                );\n            } else {\n                // set up status icon for direct message channels (status is null for other channel types)\n                icon = _react2.default.createElement(_status_icon2.default, {\n                    type: 'avatar',\n                    status: channel.status\n                });\n            }\n\n            var closeButton = null;\n            var removeTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'remove-dm-tooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'sidebar.removeList',\n                    defaultMessage: 'Remove from list'\n                })\n            );\n            if (channel.type === _constants.Constants.OPEN_CHANNEL || channel.type === _constants.Constants.PRIVATE_CHANNEL) {\n                removeTooltip = _react2.default.createElement(\n                    _reactBootstrap.Tooltip,\n                    { id: 'remove-dm-tooltip' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'sidebar.leave',\n                        defaultMessage: 'Leave channel'\n                    })\n                );\n            }\n            if (handleClose && !badge) {\n                closeButton = _react2.default.createElement(\n                    _reactBootstrap.OverlayTrigger,\n                    {\n                        trigger: ['hover', 'focus'],\n                        delayShow: 1000,\n                        placement: 'top',\n                        overlay: removeTooltip\n                    },\n                    _react2.default.createElement(\n                        'span',\n                        {\n                            onClick: function onClick(e) {\n                                return handleClose(e, channel);\n                            },\n                            className: 'btn-close'\n                        },\n                        ''\n                    )\n                );\n\n                rowClass += ' has-close';\n            }\n\n            var tutorialTip = null;\n            if (_this.state.showTutorialTip && channel.name === _constants.Constants.DEFAULT_CHANNEL) {\n                tutorialTip = _this.createTutorialTip();\n                _this.openLeftSidebar();\n            }\n\n            var link = '';\n            if (channel.fake) {\n                link = '/' + _this.state.currentTeam.name + '/channels/' + channel.name + '?fakechannel=' + encodeURIComponent((0, _stringify2.default)(channel));\n            } else {\n                link = '/' + _this.state.currentTeam.name + '/channels/' + channel.name;\n            }\n\n            var displayName = channel.display_name;\n\n            return _react2.default.createElement(\n                'li',\n                {\n                    key: channel.name,\n                    ref: channel.name,\n                    className: linkClass\n                },\n                _react2.default.createElement(\n                    _es.Link,\n                    {\n                        to: link,\n                        className: rowClass,\n                        onClick: _this.trackChannelSelectedEvent\n                    },\n                    icon,\n                    _react2.default.createElement(\n                        'span',\n                        { className: 'sidebar-item__name' },\n                        displayName\n                    ),\n                    badge,\n                    closeButton\n                ),\n                tutorialTip\n            );\n        };\n\n        _this.trackChannelSelectedEvent = function () {\n            (0, _diagnostics_actions.trackEvent)('ui', 'ui_channel_selected');\n        };\n\n        _this.badgesActive = false;\n        _this.firstUnreadChannel = null;\n        _this.lastUnreadChannel = null;\n\n        _this.isLeaving = new _map2.default();\n        _this.isSwitchingChannel = false;\n        _this.closedDirectChannel = false;\n\n        var state = _this.getStateFromStores();\n        state.newChannelModalType = '';\n        state.showDirectChannelsModal = false;\n        state.showMoreChannelsModal = false;\n        state.loadingDMChannel = -1;\n        state.inChannelChange = false;\n        _this.state = state;\n        return _this;\n    }\n\n    (0, _createClass3.default)(Sidebar, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _channel_store2.default.addChangeListener(this.onChange);\n            _user_store2.default.addChangeListener(this.onChange);\n            _user_store2.default.addInTeamChangeListener(this.onChange);\n            _user_store2.default.addInChannelChangeListener(this.onInChannelChange);\n            _user_store2.default.addStatusesChangeListener(this.onChange);\n            _team_store2.default.addChangeListener(this.onChange);\n            _preference_store2.default.addChangeListener(this.onChange);\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_DM_MODAL, this.onModalChange);\n\n            this.updateTitle();\n            this.updateUnreadIndicators();\n\n            document.addEventListener('keydown', this.navigateChannelShortcut);\n            document.addEventListener('keydown', this.navigateUnreadChannelShortcut);\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            if (!Utils.areObjectsEqual(nextState, this.state)) {\n                return true;\n            }\n            return false;\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            this.updateTitle();\n            this.updateUnreadIndicators();\n            if (!Utils.isMobile()) {\n                (0, _jquery2.default)('.sidebar--left .nav-pills__container').perfectScrollbar();\n            }\n\n            // reset the scrollbar upon switching teams\n            if (this.state.currentTeam !== prevState.currentTeam) {\n                this.refs.container.scrollTop = 0;\n                (0, _jquery2.default)('.nav-pills__container').perfectScrollbar('update');\n            }\n\n            // close the LHS on mobile when you change channels\n            if (this.state.activeId !== prevState.activeId) {\n                if (this.closedDirectChannel) {\n                    this.closedDirectChannel = false;\n                } else {\n                    (0, _jquery2.default)('.app__body .inner-wrap').removeClass('move--right');\n                    (0, _jquery2.default)('.app__body .sidebar--left').removeClass('move--right');\n                    (0, _jquery2.default)('.multi-teams .team-sidebar').removeClass('move--right');\n                }\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _channel_store2.default.removeChangeListener(this.onChange);\n            _user_store2.default.removeChangeListener(this.onChange);\n            _user_store2.default.removeInTeamChangeListener(this.onChange);\n            _user_store2.default.removeInChannelChangeListener(this.onChange);\n            _user_store2.default.removeStatusesChangeListener(this.onChange);\n            _team_store2.default.removeChangeListener(this.onChange);\n            _preference_store2.default.removeChangeListener(this.onChange);\n            _modal_store2.default.removeModalListener(_constants.ActionTypes.TOGGLE_DM_MODAL, this.onModalChange);\n            document.removeEventListener('keydown', this.navigateChannelShortcut);\n            document.removeEventListener('keydown', this.navigateUnreadChannelShortcut);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var switchChannelIcon = _constants.Constants.SWITCH_CHANNEL_ICON_SVG;\n\n            // Check if we have all info needed to render\n            if (this.state.currentTeam == null || this.state.currentUser == null) {\n                return _react2.default.createElement('div', null);\n            }\n\n            this.lastBadgesActive = this.badgesActive;\n            this.badgesActive = false;\n\n            // keep track of the first and last unread channels so we can use them to set the unread indicators\n            this.firstUnreadChannel = null;\n            this.lastUnreadChannel = null;\n\n            // create elements for all 4 types of channels\n            var favoriteItems = this.state.favoriteChannels.map(function (channel, index, arr) {\n                if (channel.type === _constants.Constants.DM_CHANNEL || channel.type === _constants.Constants.GM_CHANNEL) {\n                    return _this2.createChannelElement(channel, index, arr, _this2.handleLeaveDirectChannel);\n                } else if (global.window.mm_config.EnableXToLeaveChannelsFromLHS === 'true') {\n                    if (channel.type === _constants.Constants.OPEN_CHANNEL && channel.name !== _constants.Constants.DEFAULT_CHANNEL) {\n                        return _this2.createChannelElement(channel, index, arr, _this2.handleLeavePublicChannel);\n                    } else if (channel.type === _constants.Constants.PRIVATE_CHANNEL) {\n                        return _this2.createChannelElement(channel, index, arr, _this2.handleLeavePrivateChannel);\n                    }\n                }\n\n                return _this2.createChannelElement(channel);\n            });\n\n            var publicChannelItems = this.state.publicChannels.map(function (channel, index, arr) {\n                if (global.window.mm_config.EnableXToLeaveChannelsFromLHS !== 'true' || channel.name === _constants.Constants.DEFAULT_CHANNEL) {\n                    return _this2.createChannelElement(channel);\n                }\n                return _this2.createChannelElement(channel, index, arr, _this2.handleLeavePublicChannel);\n            });\n\n            var privateChannelItems = this.state.privateChannels.map(function (channel, index, arr) {\n                if (global.window.mm_config.EnableXToLeaveChannelsFromLHS !== 'true') {\n                    return _this2.createChannelElement(channel);\n                }\n                return _this2.createChannelElement(channel, index, arr, _this2.handleLeavePrivateChannel);\n            });\n\n            var directMessageItems = this.state.directAndGroupChannels.map(function (channel, index, arr) {\n                return _this2.createChannelElement(channel, index, arr, _this2.handleLeaveDirectChannel);\n            });\n\n            // update the favicon to show if there are any notifications\n            if (this.lastBadgesActive !== this.badgesActive) {\n                var link = document.createElement('link');\n                link.type = 'image/x-icon';\n                link.rel = 'shortcut icon';\n                link.id = 'favicon';\n                if (this.badgesActive) {\n                    link.href = _redfavicon16x2.default;\n                } else {\n                    link.href = _favicon16x2.default;\n                }\n                var head = document.getElementsByTagName('head')[0];\n                var oldLink = document.getElementById('favicon');\n                if (oldLink) {\n                    head.removeChild(oldLink);\n                }\n                head.appendChild(link);\n            }\n\n            var directMessageMore = _react2.default.createElement(\n                'li',\n                { key: 'more' },\n                _react2.default.createElement(\n                    'button',\n                    {\n                        id: 'moreDirectMessage',\n                        className: 'nav-more cursor--pointer style--none btn--block',\n                        onClick: this.handleOpenMoreDirectChannelsModal\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'sidebar.moreElips',\n                        defaultMessage: 'More...'\n                    })\n                )\n            );\n\n            var showChannelModal = false;\n            if (this.state.newChannelModalType !== '') {\n                showChannelModal = true;\n            }\n\n            var createChannelTootlip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'new-channel-tooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'sidebar.createChannel',\n                    defaultMessage: 'Create new public channel'\n                })\n            );\n            var createGroupTootlip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'new-group-tooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'sidebar.createGroup',\n                    defaultMessage: 'Create new private channel'\n                })\n            );\n\n            var createDirectMessageTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                {\n                    id: 'new-group-tooltip',\n                    className: 'hidden-xs'\n                },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'sidebar.createDirectMessage',\n                    defaultMessage: 'Create new direct message'\n                })\n            );\n\n            var above = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'sidebar.unreads',\n                defaultMessage: 'More unreads'\n            });\n\n            var below = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'sidebar.unreads',\n                defaultMessage: 'More unreads'\n            });\n\n            var isTeamAdmin = _team_store2.default.isTeamAdminForCurrentTeam();\n            var isSystemAdmin = _user_store2.default.isSystemAdminForCurrentUser();\n\n            var createPublicChannelIcon = _react2.default.createElement(\n                _reactBootstrap.OverlayTrigger,\n                {\n                    trigger: ['hover', 'focus'],\n                    delayShow: 500,\n                    placement: 'top',\n                    overlay: createChannelTootlip\n                },\n                _react2.default.createElement(\n                    'button',\n                    {\n                        id: 'createPublicChannel',\n                        className: 'add-channel-btn cursor--pointer style--none',\n                        onClick: this.showNewChannelModal.bind(this, _constants.Constants.OPEN_CHANNEL)\n                    },\n                    '+'\n                )\n            );\n\n            var createPrivateChannelIcon = _react2.default.createElement(\n                _reactBootstrap.OverlayTrigger,\n                {\n                    trigger: ['hover', 'focus'],\n                    delayShow: 500,\n                    placement: 'top',\n                    overlay: createGroupTootlip\n                },\n                _react2.default.createElement(\n                    'button',\n                    {\n                        id: 'createPrivateChannel',\n                        className: 'add-channel-btn cursor--pointer style--none',\n                        onClick: this.showNewChannelModal.bind(this, _constants.Constants.PRIVATE_CHANNEL)\n                    },\n                    '+'\n                )\n            );\n\n            if (!ChannelUtils.showCreateOption(_constants.Constants.OPEN_CHANNEL, isTeamAdmin, isSystemAdmin)) {\n                createPublicChannelIcon = null;\n            }\n\n            var createDirectMessageIcon = _react2.default.createElement(\n                _reactBootstrap.OverlayTrigger,\n                {\n                    className: 'hidden-xs',\n                    delayShow: 500,\n                    placement: 'top',\n                    overlay: createDirectMessageTooltip\n                },\n                _react2.default.createElement(\n                    'button',\n                    {\n                        className: 'add-channel-btn cursor--pointer style--none',\n                        onClick: this.handleOpenMoreDirectChannelsModal\n                    },\n                    '+'\n                )\n            );\n\n            if (!ChannelUtils.showCreateOption(_constants.Constants.PRIVATE_CHANNEL, isTeamAdmin, isSystemAdmin)) {\n                createPrivateChannelIcon = null;\n            }\n\n            var moreDirectChannelsModal = void 0;\n            if (this.state.showDirectChannelsModal) {\n                moreDirectChannelsModal = _react2.default.createElement(_more_direct_channels2.default, {\n                    onModalDismissed: this.hideMoreDirectChannelsModal,\n                    startingUsers: this.state.startingUsers\n                });\n            }\n\n            var moreChannelsModal = void 0;\n            if (this.state.showMoreChannelsModal) {\n                moreChannelsModal = _react2.default.createElement(_more_channels2.default, {\n                    onModalDismissed: this.hideMoreChannelsModal,\n                    handleNewChannel: function handleNewChannel() {\n                        _this2.hideMoreChannelsModal();\n                        _this2.showNewChannelModal(_constants.Constants.OPEN_CHANNEL);\n                    }\n                });\n            }\n\n            var quickSwitchTextShortcutId = 'quick_switch_modal.channelsShortcut.windows';\n            var quickSwitchTextShortcutDefault = '- CTRL+K';\n            if (Utils.isMac()) {\n                quickSwitchTextShortcutId = 'quick_switch_modal.channelsShortcut.mac';\n                quickSwitchTextShortcutDefault = '- K';\n            }\n\n            var quickSwitchTextShortcut = _react2.default.createElement(\n                'span',\n                { className: 'switch__shortcut hidden-xs' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: quickSwitchTextShortcutId,\n                    defaultMessage: quickSwitchTextShortcutDefault\n                })\n            );\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'sidebar--left',\n                    id: 'sidebar-left',\n                    key: 'sidebar-left'\n                },\n                _react2.default.createElement(_new_channel_flow2.default, {\n                    show: showChannelModal,\n                    channelType: this.state.newChannelModalType,\n                    onModalDismissed: this.hideNewChannelModal\n                }),\n                moreDirectChannelsModal,\n                moreChannelsModal,\n                _react2.default.createElement(_sidebar_header2.default, {\n                    teamDisplayName: this.state.currentTeam.display_name,\n                    teamDescription: this.state.currentTeam.description,\n                    teamName: this.state.currentTeam.name,\n                    teamType: this.state.currentTeam.type,\n                    currentUser: this.state.currentUser\n                }),\n                _react2.default.createElement(_unread_channel_indicator2.default, {\n                    name: 'Top',\n                    show: this.state.showTopUnread,\n                    onClick: this.scrollToFirstUnreadChannel,\n                    extraClass: 'nav-pills__unread-indicator-top',\n                    text: above\n                }),\n                _react2.default.createElement(_unread_channel_indicator2.default, {\n                    name: 'Bottom',\n                    show: this.state.showBottomUnread,\n                    onClick: this.scrollToLastUnreadChannel,\n                    extraClass: 'nav-pills__unread-indicator-bottom',\n                    text: below\n                }),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        id: 'sidebarChannelContainer',\n                        ref: 'container',\n                        className: 'nav-pills__container',\n                        onScroll: this.onScroll\n                    },\n                    favoriteItems.length !== 0 && _react2.default.createElement(\n                        'ul',\n                        { className: 'nav nav-pills nav-stacked' },\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'h4',\n                                { id: 'favoriteChannel' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar.favorite',\n                                    defaultMessage: 'FAVORITE CHANNELS'\n                                })\n                            )\n                        ),\n                        favoriteItems\n                    ),\n                    _react2.default.createElement(\n                        'ul',\n                        { className: 'nav nav-pills nav-stacked' },\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'h4',\n                                { id: 'publicChannel' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar.channels',\n                                    defaultMessage: 'PUBLIC CHANNELS'\n                                }),\n                                createPublicChannelIcon\n                            )\n                        ),\n                        publicChannelItems,\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    id: 'sidebarChannelsMore',\n                                    className: 'nav-more cursor--pointer style--none btn--block',\n                                    onClick: this.showMoreChannelsModal\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar.moreElips',\n                                    defaultMessage: 'More...'\n                                })\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'ul',\n                        { className: 'nav nav-pills nav-stacked' },\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'h4',\n                                { id: 'privateChannel' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar.pg',\n                                    defaultMessage: 'PRIVATE CHANNELS'\n                                }),\n                                createPrivateChannelIcon\n                            )\n                        ),\n                        privateChannelItems\n                    ),\n                    _react2.default.createElement(\n                        'ul',\n                        { className: 'nav nav-pills nav-stacked' },\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'h4',\n                                { id: 'directChannel' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar.direct',\n                                    defaultMessage: 'DIRECT MESSAGES'\n                                }),\n                                createDirectMessageIcon\n                            )\n                        ),\n                        directMessageItems,\n                        directMessageMore\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar__switcher' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: 'sidebarSwitcherButton',\n                            className: 'btn btn-link',\n                            onClick: this.openQuickSwitcher\n                        },\n                        _react2.default.createElement('span', {\n                            className: 'icon icon__switch',\n                            dangerouslySetInnerHTML: { __html: switchChannelIcon }\n                        }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channel_switch_modal.title',\n                            defaultMessage: 'Switch Channels'\n                        }),\n                        quickSwitchTextShortcut\n                    )\n                )\n            );\n        }\n    }]);\n    return Sidebar;\n}(_react2.default.Component);\n\nexports.default = Sidebar;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(21)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2NvbXBvbmVudHMvc2lkZWJhci5qc3g/NTY3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTGljZW5zZS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge092ZXJsYXlUcmlnZ2VyLCBUb29sdGlwfSBmcm9tICdyZWFjdC1ib290c3RyYXAnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQge0Zvcm1hdHRlZEhUTUxNZXNzYWdlLCBGb3JtYXR0ZWRNZXNzYWdlfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCB7YnJvd3Nlckhpc3RvcnksIExpbmt9IGZyb20gJ3JlYWN0LXJvdXRlci9lczYnO1xuXG5pbXBvcnQge3NhdmVQcmVmZXJlbmNlc30gZnJvbSAnbWF0dGVybW9zdC1yZWR1eC9hY3Rpb25zL3ByZWZlcmVuY2VzJztcbmltcG9ydCB7Z2V0Q2hhbm5lbHNCeUNhdGVnb3J5fSBmcm9tICdtYXR0ZXJtb3N0LXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy9jaGFubmVscyc7XG5cbmltcG9ydCAqIGFzIENoYW5uZWxBY3Rpb25zIGZyb20gJ2FjdGlvbnMvY2hhbm5lbF9hY3Rpb25zLmpzeCc7XG5pbXBvcnQge3RyYWNrRXZlbnR9IGZyb20gJ2FjdGlvbnMvZGlhZ25vc3RpY3NfYWN0aW9ucy5qc3gnO1xuaW1wb3J0ICogYXMgR2xvYmFsQWN0aW9ucyBmcm9tICdhY3Rpb25zL2dsb2JhbF9hY3Rpb25zLmpzeCc7XG5pbXBvcnQgQXBwRGlzcGF0Y2hlciBmcm9tICdkaXNwYXRjaGVyL2FwcF9kaXNwYXRjaGVyLmpzeCc7XG5pbXBvcnQgQ2hhbm5lbFN0b3JlIGZyb20gJ3N0b3Jlcy9jaGFubmVsX3N0b3JlLmpzeCc7XG5pbXBvcnQgTW9kYWxTdG9yZSBmcm9tICdzdG9yZXMvbW9kYWxfc3RvcmUuanN4JztcbmltcG9ydCBQcmVmZXJlbmNlU3RvcmUgZnJvbSAnc3RvcmVzL3ByZWZlcmVuY2Vfc3RvcmUuanN4JztcbmltcG9ydCBzdG9yZSBmcm9tICdzdG9yZXMvcmVkdXhfc3RvcmUuanN4JztcbmltcG9ydCBUZWFtU3RvcmUgZnJvbSAnc3RvcmVzL3RlYW1fc3RvcmUuanN4JztcbmltcG9ydCBVc2VyU3RvcmUgZnJvbSAnc3RvcmVzL3VzZXJfc3RvcmUuanN4JztcblxuaW1wb3J0ICogYXMgQ2hhbm5lbFV0aWxzIGZyb20gJ3V0aWxzL2NoYW5uZWxfdXRpbHMuanN4JztcbmltcG9ydCB7QWN0aW9uVHlwZXMsIENvbnN0YW50c30gZnJvbSAndXRpbHMvY29uc3RhbnRzLmpzeCc7XG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tICd1dGlscy91dGlscy5qc3gnO1xuXG5pbXBvcnQgZmF2aWNvbiBmcm9tICdpbWFnZXMvZmF2aWNvbi9mYXZpY29uLTE2eDE2LnBuZyc7XG5pbXBvcnQgcmVkRmF2aWNvbiBmcm9tICdpbWFnZXMvZmF2aWNvbi9yZWRmYXZpY29uLTE2eDE2LnBuZyc7XG5pbXBvcnQgbG9hZGluZ0dpZiBmcm9tICdpbWFnZXMvbG9hZC5naWYnO1xuXG5pbXBvcnQgTW9yZUNoYW5uZWxzIGZyb20gJ2NvbXBvbmVudHMvbW9yZV9jaGFubmVscyc7XG5pbXBvcnQgTW9yZURpcmVjdENoYW5uZWxzIGZyb20gJ2NvbXBvbmVudHMvbW9yZV9kaXJlY3RfY2hhbm5lbHMnO1xuXG5pbXBvcnQgTmV3Q2hhbm5lbEZsb3cgZnJvbSAnLi9uZXdfY2hhbm5lbF9mbG93LmpzeCc7XG5pbXBvcnQgU2lkZWJhckhlYWRlciBmcm9tICcuL3NpZGViYXJfaGVhZGVyLmpzeCc7XG5pbXBvcnQgU3RhdHVzSWNvbiBmcm9tICcuL3N0YXR1c19pY29uLmpzeCc7XG5pbXBvcnQgVHV0b3JpYWxUaXAgZnJvbSAnLi90dXRvcmlhbC90dXRvcmlhbF90aXAuanN4JztcbmltcG9ydCBVbnJlYWRDaGFubmVsSW5kaWNhdG9yIGZyb20gJy4vdW5yZWFkX2NoYW5uZWxfaW5kaWNhdG9yLmpzeCc7XG5cbmNvbnN0IFByZWZlcmVuY2VzID0gQ29uc3RhbnRzLlByZWZlcmVuY2VzO1xuY29uc3QgVHV0b3JpYWxTdGVwcyA9IENvbnN0YW50cy5UdXRvcmlhbFN0ZXBzO1xuXG5jb25zdCBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuY29uc3QgZ2V0U3RhdGUgPSBzdG9yZS5nZXRTdGF0ZTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2lkZWJhciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAgIHRoaXMuYmFkZ2VzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZmlyc3RVbnJlYWRDaGFubmVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0VW5yZWFkQ2hhbm5lbCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5pc0xlYXZpbmcgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuaXNTd2l0Y2hpbmdDaGFubmVsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2xvc2VkRGlyZWN0Q2hhbm5lbCA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5nZXRTdGF0ZUZyb21TdG9yZXMoKTtcbiAgICAgICAgc3RhdGUubmV3Q2hhbm5lbE1vZGFsVHlwZSA9ICcnO1xuICAgICAgICBzdGF0ZS5zaG93RGlyZWN0Q2hhbm5lbHNNb2RhbCA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5zaG93TW9yZUNoYW5uZWxzTW9kYWwgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUubG9hZGluZ0RNQ2hhbm5lbCA9IC0xO1xuICAgICAgICBzdGF0ZS5pbkNoYW5uZWxDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIH1cblxuICAgIGdldFRvdGFsVW5yZWFkQ291bnQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVucmVhZHMgPSBDaGFubmVsVXRpbHMuZ2V0Q291bnRzU3RhdGVGcm9tU3RvcmVzKHRoaXMuc3RhdGUuY3VycmVudFRlYW0sIHRoaXMuc3RhdGUudGVhbU1lbWJlcnMsIHRoaXMuc3RhdGUudW5yZWFkQ291bnRzKTtcbiAgICAgICAgcmV0dXJuIHttc2dzOiB1bnJlYWRzLm1lc3NhZ2VDb3VudCwgbWVudGlvbnM6IHVucmVhZHMubWVudGlvbkNvdW50fTtcbiAgICB9XG5cbiAgICBnZXRTdGF0ZUZyb21TdG9yZXMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lbWJlcnMgPSBDaGFubmVsU3RvcmUuZ2V0TXlNZW1iZXJzKCk7XG4gICAgICAgIGNvbnN0IHRlYW1NZW1iZXJzID0gVGVhbVN0b3JlLmdldE15VGVhbU1lbWJlcnMoKTtcbiAgICAgICAgY29uc3QgY3VycmVudENoYW5uZWxJZCA9IENoYW5uZWxTdG9yZS5nZXRDdXJyZW50SWQoKTtcbiAgICAgICAgY29uc3QgdHV0b3JpYWxTdGVwID0gUHJlZmVyZW5jZVN0b3JlLmdldEludChQcmVmZXJlbmNlcy5UVVRPUklBTF9TVEVQLCBVc2VyU3RvcmUuZ2V0Q3VycmVudElkKCksIDk5OSk7XG5cbiAgICAgICAgY29uc3QgZGlzcGxheWFibGVDaGFubmVscyA9IGdldENoYW5uZWxzQnlDYXRlZ29yeShzdG9yZS5nZXRTdGF0ZSgpKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWN0aXZlSWQ6IGN1cnJlbnRDaGFubmVsSWQsXG4gICAgICAgICAgICBtZW1iZXJzLFxuICAgICAgICAgICAgdGVhbU1lbWJlcnMsXG4gICAgICAgICAgICAuLi5kaXNwbGF5YWJsZUNoYW5uZWxzLFxuICAgICAgICAgICAgdW5yZWFkQ291bnRzOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KENoYW5uZWxTdG9yZS5nZXRVbnJlYWRDb3VudHMoKSkpLFxuICAgICAgICAgICAgc2hvd1R1dG9yaWFsVGlwOiB0dXRvcmlhbFN0ZXAgPT09IFR1dG9yaWFsU3RlcHMuQ0hBTk5FTF9QT1BPVkVSLFxuICAgICAgICAgICAgY3VycmVudFRlYW06IFRlYW1TdG9yZS5nZXRDdXJyZW50KCksXG4gICAgICAgICAgICBjdXJyZW50VXNlcjogVXNlclN0b3JlLmdldEN1cnJlbnRVc2VyKCksXG4gICAgICAgICAgICB0b3duU3F1YXJlOiBDaGFubmVsU3RvcmUuZ2V0QnlOYW1lKENvbnN0YW50cy5ERUZBVUxUX0NIQU5ORUwpLFxuICAgICAgICAgICAgb2ZmVG9waWM6IENoYW5uZWxTdG9yZS5nZXRCeU5hbWUoQ29uc3RhbnRzLk9GRlRPUElDX0NIQU5ORUwpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgb25JbkNoYW5uZWxDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2luQ2hhbm5lbENoYW5nZTogIXRoaXMuc3RhdGUuaW5DaGFubmVsQ2hhbmdlfSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIENoYW5uZWxTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uQ2hhbmdlKTtcbiAgICAgICAgVXNlclN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMub25DaGFuZ2UpO1xuICAgICAgICBVc2VyU3RvcmUuYWRkSW5UZWFtQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkNoYW5nZSk7XG4gICAgICAgIFVzZXJTdG9yZS5hZGRJbkNoYW5uZWxDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uSW5DaGFubmVsQ2hhbmdlKTtcbiAgICAgICAgVXNlclN0b3JlLmFkZFN0YXR1c2VzQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkNoYW5nZSk7XG4gICAgICAgIFRlYW1TdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uQ2hhbmdlKTtcbiAgICAgICAgUHJlZmVyZW5jZVN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMub25DaGFuZ2UpO1xuICAgICAgICBNb2RhbFN0b3JlLmFkZE1vZGFsTGlzdGVuZXIoQWN0aW9uVHlwZXMuVE9HR0xFX0RNX01PREFMLCB0aGlzLm9uTW9kYWxDaGFuZ2UpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVGl0bGUoKTtcbiAgICAgICAgdGhpcy51cGRhdGVVbnJlYWRJbmRpY2F0b3JzKCk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMubmF2aWdhdGVDaGFubmVsU2hvcnRjdXQpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5uYXZpZ2F0ZVVucmVhZENoYW5uZWxTaG9ydGN1dCk7XG4gICAgfVxuXG4gICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgICAgIGlmICghVXRpbHMuYXJlT2JqZWN0c0VxdWFsKG5leHRTdGF0ZSwgdGhpcy5zdGF0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVUaXRsZSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVVucmVhZEluZGljYXRvcnMoKTtcbiAgICAgICAgaWYgKCFVdGlscy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICAkKCcuc2lkZWJhci0tbGVmdCAubmF2LXBpbGxzX19jb250YWluZXInKS5wZXJmZWN0U2Nyb2xsYmFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCB0aGUgc2Nyb2xsYmFyIHVwb24gc3dpdGNoaW5nIHRlYW1zXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRUZWFtICE9PSBwcmV2U3RhdGUuY3VycmVudFRlYW0pIHtcbiAgICAgICAgICAgIHRoaXMucmVmcy5jb250YWluZXIuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgICAgICQoJy5uYXYtcGlsbHNfX2NvbnRhaW5lcicpLnBlcmZlY3RTY3JvbGxiYXIoJ3VwZGF0ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xvc2UgdGhlIExIUyBvbiBtb2JpbGUgd2hlbiB5b3UgY2hhbmdlIGNoYW5uZWxzXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZUlkICE9PSBwcmV2U3RhdGUuYWN0aXZlSWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNsb3NlZERpcmVjdENoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlZERpcmVjdENoYW5uZWwgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnLmFwcF9fYm9keSAuaW5uZXItd3JhcCcpLnJlbW92ZUNsYXNzKCdtb3ZlLS1yaWdodCcpO1xuICAgICAgICAgICAgICAgICQoJy5hcHBfX2JvZHkgLnNpZGViYXItLWxlZnQnKS5yZW1vdmVDbGFzcygnbW92ZS0tcmlnaHQnKTtcbiAgICAgICAgICAgICAgICAkKCcubXVsdGktdGVhbXMgLnRlYW0tc2lkZWJhcicpLnJlbW92ZUNsYXNzKCdtb3ZlLS1yaWdodCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIENoYW5uZWxTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uQ2hhbmdlKTtcbiAgICAgICAgVXNlclN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMub25DaGFuZ2UpO1xuICAgICAgICBVc2VyU3RvcmUucmVtb3ZlSW5UZWFtQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkNoYW5nZSk7XG4gICAgICAgIFVzZXJTdG9yZS5yZW1vdmVJbkNoYW5uZWxDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uQ2hhbmdlKTtcbiAgICAgICAgVXNlclN0b3JlLnJlbW92ZVN0YXR1c2VzQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkNoYW5nZSk7XG4gICAgICAgIFRlYW1TdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uQ2hhbmdlKTtcbiAgICAgICAgUHJlZmVyZW5jZVN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMub25DaGFuZ2UpO1xuICAgICAgICBNb2RhbFN0b3JlLnJlbW92ZU1vZGFsTGlzdGVuZXIoQWN0aW9uVHlwZXMuVE9HR0xFX0RNX01PREFMLCB0aGlzLm9uTW9kYWxDaGFuZ2UpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5uYXZpZ2F0ZUNoYW5uZWxTaG9ydGN1dCk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm5hdmlnYXRlVW5yZWFkQ2hhbm5lbFNob3J0Y3V0KTtcbiAgICB9XG5cbiAgICBvbk1vZGFsQ2hhbmdlID0gKHZhbHVlLCBhcmdzKSA9PiB7XG4gICAgICAgIHRoaXMuc2hvd01vcmVEaXJlY3RDaGFubmVsc01vZGFsKFVzZXJTdG9yZS5nZXRQcm9maWxlTGlzdEluQ2hhbm5lbChhcmdzLmNoYW5uZWxJZCwgdHJ1ZSwgZmFsc2UpKTtcbiAgICB9XG5cbiAgICBoYW5kbGVPcGVuTW9yZURpcmVjdENoYW5uZWxzTW9kYWwgPSAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNob3dEaXJlY3RDaGFubmVsc01vZGFsKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGVNb3JlRGlyZWN0Q2hhbm5lbHNNb2RhbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zaG93TW9yZURpcmVjdENoYW5uZWxzTW9kYWwoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VGVhbS5pZCAhPT0gVGVhbVN0b3JlLmdldEN1cnJlbnRJZCgpKSB7XG4gICAgICAgICAgICBDaGFubmVsU3RvcmUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFN0YXRlKHRoaXMuZ2V0U3RhdGVGcm9tU3RvcmVzKCkpO1xuICAgICAgICB0aGlzLnVwZGF0ZVRpdGxlKCk7XG4gICAgfVxuXG4gICAgdXBkYXRlVGl0bGUgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNoYW5uZWwgPSBDaGFubmVsU3RvcmUuZ2V0Q3VycmVudCgpO1xuICAgICAgICBpZiAoY2hhbm5lbCAmJiB0aGlzLnN0YXRlLmN1cnJlbnRUZWFtKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudFNpdGVOYW1lID0gJyc7XG4gICAgICAgICAgICBpZiAoZ2xvYmFsLndpbmRvdy5tbV9jb25maWcuU2l0ZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTaXRlTmFtZSA9IGdsb2JhbC53aW5kb3cubW1fY29uZmlnLlNpdGVOYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY3VycmVudENoYW5uZWxOYW1lID0gY2hhbm5lbC5kaXNwbGF5X25hbWU7XG4gICAgICAgICAgICBpZiAoY2hhbm5lbC50eXBlID09PSBDb25zdGFudHMuRE1fQ0hBTk5FTCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlYW1tYXRlID0gVXRpbHMuZ2V0RGlyZWN0VGVhbW1hdGUoY2hhbm5lbC5pZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRlYW1tYXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudENoYW5uZWxOYW1lID0gdGVhbW1hdGUudXNlcm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB1bnJlYWQgPSB0aGlzLmdldFRvdGFsVW5yZWFkQ291bnQoKTtcbiAgICAgICAgICAgIGNvbnN0IG1lbnRpb25UaXRsZSA9IHVucmVhZC5tZW50aW9ucyA+IDAgPyAnKCcgKyB1bnJlYWQubWVudGlvbnMgKyAnKSAnIDogJyc7XG4gICAgICAgICAgICBjb25zdCB1bnJlYWRUaXRsZSA9IHVucmVhZC5tc2dzID4gMCA/ICcqICcgOiAnJztcbiAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gbWVudGlvblRpdGxlICsgdW5yZWFkVGl0bGUgKyBjdXJyZW50Q2hhbm5lbE5hbWUgKyAnIC0gJyArIHRoaXMuc3RhdGUuY3VycmVudFRlYW0uZGlzcGxheV9uYW1lICsgJyAnICsgY3VycmVudFNpdGVOYW1lO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25TY3JvbGwgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlVW5yZWFkSW5kaWNhdG9ycygpO1xuICAgIH1cblxuICAgIHNjcm9sbFRvRmlyc3RVbnJlYWRDaGFubmVsID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5maXJzdFVucmVhZENoYW5uZWwpIHtcbiAgICAgICAgICAgIGNvbnN0IHVucmVhZE1hcmdpbiA9IDE1O1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gJChSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuY29udGFpbmVyKSk7XG4gICAgICAgICAgICBjb25zdCBmaXJzdFVucmVhZEVsZW1lbnQgPSAkKFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmc1t0aGlzLmZpcnN0VW5yZWFkQ2hhbm5lbF0pKTtcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbFRvcCA9IChjb250YWluZXIuc2Nyb2xsVG9wKCkgKyBmaXJzdFVucmVhZEVsZW1lbnQucG9zaXRpb24oKS50b3ApIC0gdW5yZWFkTWFyZ2luO1xuICAgICAgICAgICAgY29udGFpbmVyLnN0b3AoKS5hbmltYXRlKHtzY3JvbGxUb3B9LCA1MDAsICdzd2luZycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2Nyb2xsVG9MYXN0VW5yZWFkQ2hhbm5lbCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMubGFzdFVucmVhZENoYW5uZWwpIHtcbiAgICAgICAgICAgIGNvbnN0IHVucmVhZE1hcmdpbiA9IDE1O1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gJChSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuY29udGFpbmVyKSk7XG4gICAgICAgICAgICBjb25zdCBsYXN0VW5yZWFkRWxlbWVudCA9ICQoUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzW3RoaXMubGFzdFVucmVhZENoYW5uZWxdKSk7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50Qm90dG9tID0gbGFzdFVucmVhZEVsZW1lbnQucG9zaXRpb24oKS50b3AgKyBsYXN0VW5yZWFkRWxlbWVudC5oZWlnaHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbFRvcCA9IChjb250YWluZXIuc2Nyb2xsVG9wKCkgKyAoZWxlbWVudEJvdHRvbSAtIGNvbnRhaW5lci5oZWlnaHQoKSkpICsgdW5yZWFkTWFyZ2luO1xuICAgICAgICAgICAgY29udGFpbmVyLnN0b3AoKS5hbmltYXRlKHtzY3JvbGxUb3B9LCA1MDAsICdzd2luZycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlVW5yZWFkSW5kaWNhdG9ycyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gJChSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuY29udGFpbmVyKSk7XG5cbiAgICAgICAgdmFyIHNob3dUb3BVbnJlYWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHNob3dCb3R0b21VbnJlYWQgPSBmYWxzZTtcblxuICAgICAgICAvLyBDb25zaWRlciBwYXJ0aWFsbHkgb2JzY3VyZWQgY2hhbm5lbHMgYXMgYWJvdmUvYmVsb3dcbiAgICAgICAgY29uc3QgdW5yZWFkTWFyZ2luID0gMTU7XG5cbiAgICAgICAgaWYgKHRoaXMuZmlyc3RVbnJlYWRDaGFubmVsKSB7XG4gICAgICAgICAgICB2YXIgZmlyc3RVbnJlYWRFbGVtZW50ID0gJChSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnNbdGhpcy5maXJzdFVucmVhZENoYW5uZWxdKSk7XG5cbiAgICAgICAgICAgIGlmIChmaXJzdFVucmVhZEVsZW1lbnQucG9zaXRpb24oKS50b3AgKyBmaXJzdFVucmVhZEVsZW1lbnQuaGVpZ2h0KCkgPCB1bnJlYWRNYXJnaW4pIHtcbiAgICAgICAgICAgICAgICBzaG93VG9wVW5yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmxhc3RVbnJlYWRDaGFubmVsKSB7XG4gICAgICAgICAgICB2YXIgbGFzdFVucmVhZEVsZW1lbnQgPSAkKFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmc1t0aGlzLmxhc3RVbnJlYWRDaGFubmVsXSkpO1xuXG4gICAgICAgICAgICBpZiAobGFzdFVucmVhZEVsZW1lbnQucG9zaXRpb24oKS50b3AgPiBjb250YWluZXIuaGVpZ2h0KCkgLSB1bnJlYWRNYXJnaW4pIHtcbiAgICAgICAgICAgICAgICBzaG93Qm90dG9tVW5yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc2hvd1RvcFVucmVhZCxcbiAgICAgICAgICAgIHNob3dCb3R0b21VbnJlYWRcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlU2Nyb2xsYmFyT25DaGFubmVsQ2hhbmdlID0gKGNoYW5uZWwpID0+IHtcbiAgICAgICAgY29uc3QgY3VyQ2hhbm5lbCA9IHRoaXMucmVmc1tjaGFubmVsLm5hbWVdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAoKGN1ckNoYW5uZWwudG9wIC0gQ29uc3RhbnRzLkNIQU5ORUxfU0NST0xMX0FESlVTVE1FTlQgPCAwKSB8fCAoY3VyQ2hhbm5lbC50b3AgKyBjdXJDaGFubmVsLmhlaWdodCA+IHRoaXMucmVmcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0KSkge1xuICAgICAgICAgICAgdGhpcy5yZWZzLmNvbnRhaW5lci5zY3JvbGxUb3AgPSB0aGlzLnJlZnMuY29udGFpbmVyLnNjcm9sbFRvcCArIChjdXJDaGFubmVsLnRvcCAtIENvbnN0YW50cy5DSEFOTkVMX1NDUk9MTF9BREpVU1RNRU5UKTtcbiAgICAgICAgICAgICQoJy5uYXYtcGlsbHNfX2NvbnRhaW5lcicpLnBlcmZlY3RTY3JvbGxiYXIoJ3VwZGF0ZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmF2aWdhdGVDaGFubmVsU2hvcnRjdXQgPSAoZSkgPT4ge1xuICAgICAgICBpZiAoZS5hbHRLZXkgJiYgIWUuc2hpZnRLZXkgJiYgKGUua2V5Q29kZSA9PT0gQ29uc3RhbnRzLktleUNvZGVzLlVQIHx8IGUua2V5Q29kZSA9PT0gQ29uc3RhbnRzLktleUNvZGVzLkRPV04pKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3dpdGNoaW5nQ2hhbm5lbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pc1N3aXRjaGluZ0NoYW5uZWwgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgYWxsQ2hhbm5lbHMgPSB0aGlzLmdldERpc3BsYXllZENoYW5uZWxzKCk7XG4gICAgICAgICAgICBjb25zdCBjdXJDaGFubmVsSWQgPSB0aGlzLnN0YXRlLmFjdGl2ZUlkO1xuICAgICAgICAgICAgbGV0IGN1ckluZGV4ID0gLTE7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbENoYW5uZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFsbENoYW5uZWxzW2ldLmlkID09PSBjdXJDaGFubmVsSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VySW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBuZXh0SW5kZXggPSBjdXJJbmRleDtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IENvbnN0YW50cy5LZXlDb2Rlcy5ET1dOKSB7XG4gICAgICAgICAgICAgICAgbmV4dEluZGV4ID0gY3VySW5kZXggKyAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IENvbnN0YW50cy5LZXlDb2Rlcy5VUCkge1xuICAgICAgICAgICAgICAgIG5leHRJbmRleCA9IGN1ckluZGV4IC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5leHRDaGFubmVsID0gYWxsQ2hhbm5lbHNbVXRpbHMubW9kKG5leHRJbmRleCwgYWxsQ2hhbm5lbHMubGVuZ3RoKV07XG4gICAgICAgICAgICBDaGFubmVsQWN0aW9ucy5nb1RvQ2hhbm5lbChuZXh0Q2hhbm5lbCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNjcm9sbGJhck9uQ2hhbm5lbENoYW5nZShuZXh0Q2hhbm5lbCk7XG4gICAgICAgICAgICB0aGlzLmlzU3dpdGNoaW5nQ2hhbm5lbCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKFV0aWxzLmNtZE9yQ3RybFByZXNzZWQoZSkgJiYgZS5zaGlmdEtleSAmJiBlLmtleUNvZGUgPT09IENvbnN0YW50cy5LZXlDb2Rlcy5LKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZU9wZW5Nb3JlRGlyZWN0Q2hhbm5lbHNNb2RhbChlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5hdmlnYXRlVW5yZWFkQ2hhbm5lbFNob3J0Y3V0ID0gKGUpID0+IHtcbiAgICAgICAgaWYgKGUuYWx0S2V5ICYmIGUuc2hpZnRLZXkgJiYgKGUua2V5Q29kZSA9PT0gQ29uc3RhbnRzLktleUNvZGVzLlVQIHx8IGUua2V5Q29kZSA9PT0gQ29uc3RhbnRzLktleUNvZGVzLkRPV04pKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3dpdGNoaW5nQ2hhbm5lbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pc1N3aXRjaGluZ0NoYW5uZWwgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgYWxsQ2hhbm5lbHMgPSB0aGlzLmdldERpc3BsYXllZENoYW5uZWxzKCk7XG4gICAgICAgICAgICBjb25zdCBjdXJDaGFubmVsSWQgPSB0aGlzLnN0YXRlLmFjdGl2ZUlkO1xuICAgICAgICAgICAgbGV0IGN1ckluZGV4ID0gLTE7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbENoYW5uZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFsbENoYW5uZWxzW2ldLmlkID09PSBjdXJDaGFubmVsSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VySW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBuZXh0SW5kZXggPSBjdXJJbmRleDtcbiAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgICBsZXQgaW5jcmVtZW50ID0gMDtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IENvbnN0YW50cy5LZXlDb2Rlcy5VUCkge1xuICAgICAgICAgICAgICAgIGluY3JlbWVudCA9IC0xO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IENvbnN0YW50cy5LZXlDb2Rlcy5ET1dOKSB7XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50ID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB1bnJlYWRDb3VudHMgPSBDaGFubmVsU3RvcmUuZ2V0VW5yZWFkQ291bnQoYWxsQ2hhbm5lbHNbbmV4dEluZGV4XS5pZCk7XG4gICAgICAgICAgICB3aGlsZSAoY291bnQgPCBhbGxDaGFubmVscy5sZW5ndGggJiYgdW5yZWFkQ291bnRzLm1zZ3MgPT09IDAgJiYgdW5yZWFkQ291bnRzLm1lbnRpb25zID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbmV4dEluZGV4ICs9IGluY3JlbWVudDtcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgIG5leHRJbmRleCA9IFV0aWxzLm1vZChuZXh0SW5kZXgsIGFsbENoYW5uZWxzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdW5yZWFkQ291bnRzID0gQ2hhbm5lbFN0b3JlLmdldFVucmVhZENvdW50KGFsbENoYW5uZWxzW25leHRJbmRleF0uaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVucmVhZENvdW50cy5tc2dzICE9PSAwIHx8IHVucmVhZENvdW50cy5tZW50aW9ucyAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDaGFubmVsID0gYWxsQ2hhbm5lbHNbbmV4dEluZGV4XTtcbiAgICAgICAgICAgICAgICBDaGFubmVsQWN0aW9ucy5nb1RvQ2hhbm5lbChuZXh0Q2hhbm5lbCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTY3JvbGxiYXJPbkNoYW5uZWxDaGFuZ2UobmV4dENoYW5uZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pc1N3aXRjaGluZ0NoYW5uZWwgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldERpc3BsYXllZENoYW5uZWxzID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5mYXZvcml0ZUNoYW5uZWxzLmNvbmNhdCh0aGlzLnN0YXRlLnB1YmxpY0NoYW5uZWxzKS5jb25jYXQodGhpcy5zdGF0ZS5wcml2YXRlQ2hhbm5lbHMpLmNvbmNhdCh0aGlzLnN0YXRlLmRpcmVjdEFuZEdyb3VwQ2hhbm5lbHMpO1xuICAgIH1cblxuICAgIGhhbmRsZUxlYXZlUHVibGljQ2hhbm5lbCA9IChlLCBjaGFubmVsKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgQ2hhbm5lbEFjdGlvbnMubGVhdmVDaGFubmVsKGNoYW5uZWwuaWQpO1xuICAgICAgICB0cmFja0V2ZW50KCd1aScsICd1aV9wdWJsaWNfY2hhbm5lbF94X2J1dHRvbl9jbGlja2VkJyk7XG4gICAgfVxuXG4gICAgaGFuZGxlTGVhdmVQcml2YXRlQ2hhbm5lbCA9IChlLCBjaGFubmVsKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgR2xvYmFsQWN0aW9ucy5zaG93TGVhdmVQcml2YXRlQ2hhbm5lbE1vZGFsKGNoYW5uZWwpO1xuICAgICAgICB0cmFja0V2ZW50KCd1aScsICd1aV9wcml2YXRlX2NoYW5uZWxfeF9idXR0b25fY2xpY2tlZCcpO1xuICAgIH1cblxuICAgIGhhbmRsZUxlYXZlRGlyZWN0Q2hhbm5lbCA9IChlLCBjaGFubmVsKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoIXRoaXMuaXNMZWF2aW5nLmdldChjaGFubmVsLmlkKSkge1xuICAgICAgICAgICAgdGhpcy5pc0xlYXZpbmcuc2V0KGNoYW5uZWwuaWQsIHRydWUpO1xuXG4gICAgICAgICAgICBsZXQgaWQ7XG4gICAgICAgICAgICBsZXQgY2F0ZWdvcnk7XG4gICAgICAgICAgICBpZiAoY2hhbm5lbC50eXBlID09PSBDb25zdGFudHMuRE1fQ0hBTk5FTCkge1xuICAgICAgICAgICAgICAgIGlkID0gY2hhbm5lbC50ZWFtbWF0ZV9pZDtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeSA9IENvbnN0YW50cy5QcmVmZXJlbmNlcy5DQVRFR09SWV9ESVJFQ1RfQ0hBTk5FTF9TSE9XO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZCA9IGNoYW5uZWwuaWQ7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkgPSBDb25zdGFudHMuUHJlZmVyZW5jZXMuQ0FURUdPUllfR1JPVVBfQ0hBTk5FTF9TSE9XO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VXNlcklkID0gVXNlclN0b3JlLmdldEN1cnJlbnRJZCgpO1xuICAgICAgICAgICAgc2F2ZVByZWZlcmVuY2VzKGN1cnJlbnRVc2VySWQsIFt7dXNlcl9pZDogY3VycmVudFVzZXJJZCwgY2F0ZWdvcnksIG5hbWU6IGlkLCB2YWx1ZTogJ2ZhbHNlJ31dKShkaXNwYXRjaCwgZ2V0U3RhdGUpLnRoZW4oXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTGVhdmluZy5zZXQoY2hhbm5lbC5pZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChDaGFubmVsVXRpbHMuaXNGYXZvcml0ZUNoYW5uZWwoY2hhbm5lbCkpIHtcbiAgICAgICAgICAgICAgICBDaGFubmVsQWN0aW9ucy51bm1hcmtGYXZvcml0ZShjaGFubmVsLmlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh0aGlzLmdldFN0YXRlRnJvbVN0b3JlcygpKTtcbiAgICAgICAgICAgIHRyYWNrRXZlbnQoJ3VpJywgJ3VpX2RpcmVjdF9jaGFubmVsX3hfYnV0dG9uX2NsaWNrZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFubmVsLmlkID09PSB0aGlzLnN0YXRlLmFjdGl2ZUlkKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlZERpcmVjdENoYW5uZWwgPSB0cnVlO1xuICAgICAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaCgnLycgKyB0aGlzLnN0YXRlLmN1cnJlbnRUZWFtLm5hbWUgKyAnL2NoYW5uZWxzL3Rvd24tc3F1YXJlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaG93TW9yZUNoYW5uZWxzTW9kYWwgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dNb3JlQ2hhbm5lbHNNb2RhbDogdHJ1ZX0pO1xuICAgICAgICB0cmFja0V2ZW50KCd1aScsICd1aV9jaGFubmVsc19tb3JlX3B1YmxpYycpO1xuICAgIH1cblxuICAgIGhpZGVNb3JlQ2hhbm5lbHNNb2RhbCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c2hvd01vcmVDaGFubmVsc01vZGFsOiBmYWxzZX0pO1xuICAgIH1cblxuICAgIHNob3dOZXdDaGFubmVsTW9kYWwgPSAodHlwZSkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtuZXdDaGFubmVsTW9kYWxUeXBlOiB0eXBlfSk7XG4gICAgfVxuXG4gICAgaGlkZU5ld0NoYW5uZWxNb2RhbCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bmV3Q2hhbm5lbE1vZGFsVHlwZTogJyd9KTtcbiAgICB9XG5cbiAgICBzaG93TW9yZURpcmVjdENoYW5uZWxzTW9kYWwgPSAoc3RhcnRpbmdVc2VycykgPT4ge1xuICAgICAgICB0cmFja0V2ZW50KCd1aScsICd1aV9jaGFubmVsc19tb3JlX2RpcmVjdCcpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtzaG93RGlyZWN0Q2hhbm5lbHNNb2RhbDogdHJ1ZSwgc3RhcnRpbmdVc2Vyc30pO1xuICAgIH1cblxuICAgIGhpZGVNb3JlRGlyZWN0Q2hhbm5lbHNNb2RhbCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c2hvd0RpcmVjdENoYW5uZWxzTW9kYWw6IGZhbHNlLCBzdGFydGluZ1VzZXJzOiBudWxsfSk7XG4gICAgfVxuXG4gICAgb3BlbkxlZnRTaWRlYmFyID0gKCkgPT4ge1xuICAgICAgICBpZiAoVXRpbHMuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFwcF9fYm9keSAuaW5uZXItd3JhcCcpLmNsYXNzTGlzdC5hZGQoJ21vdmUtLXJpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFwcF9fYm9keSAuc2lkZWJhci0tbGVmdCcpLmNsYXNzTGlzdC5hZGQoJ21vdmUtLXJpZ2h0Jyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9wZW5RdWlja1N3aXRjaGVyID0gKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBBcHBEaXNwYXRjaGVyLmhhbmRsZVZpZXdBY3Rpb24oe1xuICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuVE9HR0xFX1FVSUNLX1NXSVRDSF9NT0RBTFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVUdXRvcmlhbFRpcCA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2NyZWVucyA9IFtdO1xuXG4gICAgICAgIGxldCB0b3duU3F1YXJlRGlzcGxheU5hbWUgPSBDb25zdGFudHMuREVGQVVMVF9DSEFOTkVMX1VJX05BTUU7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnRvd25TcXVhcmUpIHtcbiAgICAgICAgICAgIHRvd25TcXVhcmVEaXNwbGF5TmFtZSA9IHRoaXMuc3RhdGUudG93blNxdWFyZS5kaXNwbGF5X25hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb2ZmVG9waWNEaXNwbGF5TmFtZSA9IENvbnN0YW50cy5PRkZUT1BJQ19DSEFOTkVMX1VJX05BTUU7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm9mZlRvcGljKSB7XG4gICAgICAgICAgICBvZmZUb3BpY0Rpc3BsYXlOYW1lID0gdGhpcy5zdGF0ZS5vZmZUb3BpYy5kaXNwbGF5X25hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBzY3JlZW5zLnB1c2goXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRIVE1MTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICBpZD0nc2lkZWJhci50dXRvcmlhbFNjcmVlbjEnXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSc8aDQ+Q2hhbm5lbHM8L2g0PjxwPjxzdHJvbmc+Q2hhbm5lbHM8L3N0cm9uZz4gb3JnYW5pemUgY29udmVyc2F0aW9ucyBhY3Jvc3MgZGlmZmVyZW50IHRvcGljcy4gVGhleeKAmXJlIG9wZW4gdG8gZXZlcnlvbmUgb24geW91ciB0ZWFtLiBUbyBzZW5kIHByaXZhdGUgY29tbXVuaWNhdGlvbnMgdXNlIDxzdHJvbmc+RGlyZWN0IE1lc3NhZ2VzPC9zdHJvbmc+IGZvciBhIHNpbmdsZSBwZXJzb24gb3IgPHN0cm9uZz5Qcml2YXRlIENoYW5uZWxzPC9zdHJvbmc+IGZvciBtdWx0aXBsZSBwZW9wbGUuPC9wPidcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG5cbiAgICAgICAgc2NyZWVucy5wdXNoKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkSFRNTE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgaWQ9J3NpZGViYXIudHV0b3JpYWxTY3JlZW4yJ1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nPGg0Plwie3Rvd25zcXVhcmV9XCIgYW5kIFwie29mZnRvcGljfVwiIGNoYW5uZWxzPC9oND5cbiAgICAgICAgICAgICAgICAgICAgPHA+SGVyZSBhcmUgdHdvIHB1YmxpYyBjaGFubmVscyB0byBzdGFydDo8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+e3Rvd25zcXVhcmV9PC9zdHJvbmc+IGlzIGEgcGxhY2UgZm9yIHRlYW0td2lkZSBjb21tdW5pY2F0aW9uLiBFdmVyeW9uZSBpbiB5b3VyIHRlYW0gaXMgYSBtZW1iZXIgb2YgdGhpcyBjaGFubmVsLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz57b2ZmdG9waWN9PC9zdHJvbmc+IGlzIGEgcGxhY2UgZm9yIGZ1biBhbmQgaHVtb3Igb3V0c2lkZSBvZiB3b3JrLXJlbGF0ZWQgY2hhbm5lbHMuIFlvdSBhbmQgeW91ciB0ZWFtIGNhbiBkZWNpZGUgd2hhdCBvdGhlciBjaGFubmVscyB0byBjcmVhdGUuPC9wPidcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3duc3F1YXJlOiB0b3duU3F1YXJlRGlzcGxheU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZ0b3BpYzogb2ZmVG9waWNEaXNwbGF5TmFtZVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcblxuICAgICAgICBzY3JlZW5zLnB1c2goXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRIVE1MTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICBpZD0nc2lkZWJhci50dXRvcmlhbFNjcmVlbjMnXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSc8aDQ+Q3JlYXRpbmcgYW5kIEpvaW5pbmcgQ2hhbm5lbHM8L2g0PlxuICAgICAgICAgICAgICAgICAgICA8cD5DbGljayA8c3Ryb25nPlwiTW9yZS4uLlwiPC9zdHJvbmc+IHRvIGNyZWF0ZSBhIG5ldyBjaGFubmVsIG9yIGpvaW4gYW4gZXhpc3Rpbmcgb25lLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHA+WW91IGNhbiBhbHNvIGNyZWF0ZSBhIG5ldyBwdWJsaWMgb3IgcHJpdmF0ZSBjaGFubmVsIGJ5IGNsaWNraW5nIHRoZSA8c3Ryb25nPlwiK1wiIHN5bWJvbDwvc3Ryb25nPiBuZXh0IHRvIHRoZSBwdWJsaWMgb3IgcHJpdmF0ZSBjaGFubmVsIGhlYWRlci48L3A+J1xuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFR1dG9yaWFsVGlwXG4gICAgICAgICAgICAgICAgcGxhY2VtZW50PSdyaWdodCdcbiAgICAgICAgICAgICAgICBzY3JlZW5zPXtzY3JlZW5zfVxuICAgICAgICAgICAgICAgIG92ZXJsYXlDbGFzcz0ndGlwLW92ZXJsYXktLXNpZGViYXInXG4gICAgICAgICAgICAgICAgZGlhZ25vc3RpY3NUYWc9J3R1dG9yaWFsX3RpcF8yX2NoYW5uZWxzJ1xuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjcmVhdGVDaGFubmVsRWxlbWVudCA9IChjaGFubmVsLCBpbmRleCwgYXJyLCBoYW5kbGVDbG9zZSkgPT4ge1xuICAgICAgICBjb25zdCBtZW1iZXJzID0gdGhpcy5zdGF0ZS5tZW1iZXJzO1xuICAgICAgICBjb25zdCBhY3RpdmVJZCA9IHRoaXMuc3RhdGUuYWN0aXZlSWQ7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxNZW1iZXIgPSBtZW1iZXJzW2NoYW5uZWwuaWRdO1xuICAgICAgICBjb25zdCB1bnJlYWRDb3VudCA9IHRoaXMuc3RhdGUudW5yZWFkQ291bnRzW2NoYW5uZWwuaWRdIHx8IHttc2dzOiAwLCBtZW50aW9uczogMH07XG4gICAgICAgIGxldCBtc2dDb3VudDtcblxuICAgICAgICBsZXQgbGlua0NsYXNzID0gJyc7XG4gICAgICAgIGlmIChjaGFubmVsLmlkID09PSBhY3RpdmVJZCkge1xuICAgICAgICAgICAgbGlua0NsYXNzID0gJ2FjdGl2ZSc7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcm93Q2xhc3MgPSAnc2lkZWJhci1pdGVtJztcblxuICAgICAgICB2YXIgdW5yZWFkID0gZmFsc2U7XG4gICAgICAgIGlmIChjaGFubmVsTWVtYmVyKSB7XG4gICAgICAgICAgICBtc2dDb3VudCA9IHVucmVhZENvdW50Lm1zZ3MgKyB1bnJlYWRDb3VudC5tZW50aW9ucztcbiAgICAgICAgICAgIHVucmVhZCA9IG1zZ0NvdW50ID4gMCB8fCBjaGFubmVsTWVtYmVyLm1lbnRpb25fY291bnQgPiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVucmVhZCkge1xuICAgICAgICAgICAgcm93Q2xhc3MgKz0gJyB1bnJlYWQtdGl0bGUnO1xuXG4gICAgICAgICAgICBpZiAoY2hhbm5lbC5pZCAhPT0gYWN0aXZlSWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZmlyc3RVbnJlYWRDaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RVbnJlYWRDaGFubmVsID0gY2hhbm5lbC5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RVbnJlYWRDaGFubmVsID0gY2hhbm5lbC5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhZGdlID0gbnVsbDtcbiAgICAgICAgaWYgKGNoYW5uZWxNZW1iZXIpIHtcbiAgICAgICAgICAgIGlmICh1bnJlYWRDb3VudC5tZW50aW9ucykge1xuICAgICAgICAgICAgICAgIGJhZGdlID0gPHNwYW4gY2xhc3NOYW1lPSdiYWRnZSc+e3VucmVhZENvdW50Lm1lbnRpb25zfTwvc3Bhbj47XG4gICAgICAgICAgICAgICAgdGhpcy5iYWRnZXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUubG9hZGluZ0RNQ2hhbm5lbCA9PT0gaW5kZXggJiYgY2hhbm5lbC50eXBlID09PSBDb25zdGFudHMuRE1fQ0hBTk5FTCkge1xuICAgICAgICAgICAgYmFkZ2UgPSAoXG4gICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2NoYW5uZWwtbG9hZGluZy1naWYgcHVsbC1yaWdodCdcbiAgICAgICAgICAgICAgICAgICAgc3JjPXtsb2FkaW5nR2lmfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVucmVhZENvdW50Lm1lbnRpb25zID4gMCkge1xuICAgICAgICAgICAgcm93Q2xhc3MgKz0gJyBoYXMtYmFkZ2UnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGljb24gPSBudWxsO1xuICAgICAgICBjb25zdCBnbG9iZUljb24gPSBDb25zdGFudHMuR0xPQkVfSUNPTl9TVkc7XG4gICAgICAgIGNvbnN0IGxvY2tJY29uID0gQ29uc3RhbnRzLkxPQ0tfSUNPTl9TVkc7XG4gICAgICAgIGlmIChjaGFubmVsLnR5cGUgPT09IENvbnN0YW50cy5PUEVOX0NIQU5ORUwpIHtcbiAgICAgICAgICAgIGljb24gPSAoXG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdpY29uIGljb25fX2dsb2JlJ1xuICAgICAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogZ2xvYmVJY29ufX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsLnR5cGUgPT09IENvbnN0YW50cy5QUklWQVRFX0NIQU5ORUwpIHtcbiAgICAgICAgICAgIGljb24gPSAoXG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdpY29uIGljb25fX2xvY2snXG4gICAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBsb2NrSWNvbn19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbC50eXBlID09PSBDb25zdGFudHMuR01fQ0hBTk5FTCkge1xuICAgICAgICAgICAgaWNvbiA9IDxkaXYgY2xhc3NOYW1lPSdzdGF0dXMgc3RhdHVzLS1ncm91cCc+e1VzZXJTdG9yZS5nZXRQcm9maWxlTGlzdEluQ2hhbm5lbChjaGFubmVsLmlkLCB0cnVlKS5sZW5ndGh9PC9kaXY+O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gc2V0IHVwIHN0YXR1cyBpY29uIGZvciBkaXJlY3QgbWVzc2FnZSBjaGFubmVscyAoc3RhdHVzIGlzIG51bGwgZm9yIG90aGVyIGNoYW5uZWwgdHlwZXMpXG4gICAgICAgICAgICBpY29uID0gKFxuICAgICAgICAgICAgICAgIDxTdGF0dXNJY29uXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9J2F2YXRhcidcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzPXtjaGFubmVsLnN0YXR1c31cbiAgICAgICAgICAgICAgICAvPik7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2xvc2VCdXR0b24gPSBudWxsO1xuICAgICAgICBsZXQgcmVtb3ZlVG9vbHRpcCA9IChcbiAgICAgICAgICAgIDxUb29sdGlwIGlkPSdyZW1vdmUtZG0tdG9vbHRpcCc+XG4gICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgaWQ9J3NpZGViYXIucmVtb3ZlTGlzdCdcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J1JlbW92ZSBmcm9tIGxpc3QnXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGNoYW5uZWwudHlwZSA9PT0gQ29uc3RhbnRzLk9QRU5fQ0hBTk5FTCB8fCBjaGFubmVsLnR5cGUgPT09IENvbnN0YW50cy5QUklWQVRFX0NIQU5ORUwpIHtcbiAgICAgICAgICAgIHJlbW92ZVRvb2x0aXAgPSAoXG4gICAgICAgICAgICAgICAgPFRvb2x0aXAgaWQ9J3JlbW92ZS1kbS10b29sdGlwJz5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdzaWRlYmFyLmxlYXZlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0xlYXZlIGNoYW5uZWwnXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlQ2xvc2UgJiYgIWJhZGdlKSB7XG4gICAgICAgICAgICBjbG9zZUJ1dHRvbiA9IChcbiAgICAgICAgICAgICAgICA8T3ZlcmxheVRyaWdnZXJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcj17Wydob3ZlcicsICdmb2N1cyddfVxuICAgICAgICAgICAgICAgICAgICBkZWxheVNob3c9ezEwMDB9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD0ndG9wJ1xuICAgICAgICAgICAgICAgICAgICBvdmVybGF5PXtyZW1vdmVUb29sdGlwfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBoYW5kbGVDbG9zZShlLCBjaGFubmVsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYnRuLWNsb3NlJ1xuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7J8OXJ31cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvT3ZlcmxheVRyaWdnZXI+XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByb3dDbGFzcyArPSAnIGhhcy1jbG9zZSc7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdHV0b3JpYWxUaXAgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zaG93VHV0b3JpYWxUaXAgJiYgY2hhbm5lbC5uYW1lID09PSBDb25zdGFudHMuREVGQVVMVF9DSEFOTkVMKSB7XG4gICAgICAgICAgICB0dXRvcmlhbFRpcCA9IHRoaXMuY3JlYXRlVHV0b3JpYWxUaXAoKTtcbiAgICAgICAgICAgIHRoaXMub3BlbkxlZnRTaWRlYmFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGluayA9ICcnO1xuICAgICAgICBpZiAoY2hhbm5lbC5mYWtlKSB7XG4gICAgICAgICAgICBsaW5rID0gJy8nICsgdGhpcy5zdGF0ZS5jdXJyZW50VGVhbS5uYW1lICsgJy9jaGFubmVscy8nICsgY2hhbm5lbC5uYW1lICsgJz9mYWtlY2hhbm5lbD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNoYW5uZWwpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpbmsgPSAnLycgKyB0aGlzLnN0YXRlLmN1cnJlbnRUZWFtLm5hbWUgKyAnL2NoYW5uZWxzLycgKyBjaGFubmVsLm5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkaXNwbGF5TmFtZSA9IGNoYW5uZWwuZGlzcGxheV9uYW1lO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICBrZXk9e2NoYW5uZWwubmFtZX1cbiAgICAgICAgICAgICAgICByZWY9e2NoYW5uZWwubmFtZX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2xpbmtDbGFzc31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICAgICAgICB0bz17bGlua31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtyb3dDbGFzc31cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy50cmFja0NoYW5uZWxTZWxlY3RlZEV2ZW50fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2ljb259XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc2lkZWJhci1pdGVtX19uYW1lJz57ZGlzcGxheU5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICB7YmFkZ2V9XG4gICAgICAgICAgICAgICAgICAgIHtjbG9zZUJ1dHRvbn1cbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAge3R1dG9yaWFsVGlwfVxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICB0cmFja0NoYW5uZWxTZWxlY3RlZEV2ZW50ID0gKCkgPT4ge1xuICAgICAgICB0cmFja0V2ZW50KCd1aScsICd1aV9jaGFubmVsX3NlbGVjdGVkJyk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBzd2l0Y2hDaGFubmVsSWNvbiA9IENvbnN0YW50cy5TV0lUQ0hfQ0hBTk5FTF9JQ09OX1NWRztcblxuICAgICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGFsbCBpbmZvIG5lZWRlZCB0byByZW5kZXJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudFRlYW0gPT0gbnVsbCB8fCB0aGlzLnN0YXRlLmN1cnJlbnRVc2VyID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAoPGRpdi8+KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGFzdEJhZGdlc0FjdGl2ZSA9IHRoaXMuYmFkZ2VzQWN0aXZlO1xuICAgICAgICB0aGlzLmJhZGdlc0FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgdGhlIGZpcnN0IGFuZCBsYXN0IHVucmVhZCBjaGFubmVscyBzbyB3ZSBjYW4gdXNlIHRoZW0gdG8gc2V0IHRoZSB1bnJlYWQgaW5kaWNhdG9yc1xuICAgICAgICB0aGlzLmZpcnN0VW5yZWFkQ2hhbm5lbCA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdFVucmVhZENoYW5uZWwgPSBudWxsO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBlbGVtZW50cyBmb3IgYWxsIDQgdHlwZXMgb2YgY2hhbm5lbHNcbiAgICAgICAgY29uc3QgZmF2b3JpdGVJdGVtcyA9IHRoaXMuc3RhdGUuZmF2b3JpdGVDaGFubmVscy5cbiAgICAgICAgICAgIG1hcCgoY2hhbm5lbCwgaW5kZXgsIGFycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjaGFubmVsLnR5cGUgPT09IENvbnN0YW50cy5ETV9DSEFOTkVMIHx8IGNoYW5uZWwudHlwZSA9PT0gQ29uc3RhbnRzLkdNX0NIQU5ORUwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQ2hhbm5lbEVsZW1lbnQoY2hhbm5lbCwgaW5kZXgsIGFyciwgdGhpcy5oYW5kbGVMZWF2ZURpcmVjdENoYW5uZWwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZ2xvYmFsLndpbmRvdy5tbV9jb25maWcuRW5hYmxlWFRvTGVhdmVDaGFubmVsc0Zyb21MSFMgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbC50eXBlID09PSBDb25zdGFudHMuT1BFTl9DSEFOTkVMICYmIGNoYW5uZWwubmFtZSAhPT0gQ29uc3RhbnRzLkRFRkFVTFRfQ0hBTk5FTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQ2hhbm5lbEVsZW1lbnQoY2hhbm5lbCwgaW5kZXgsIGFyciwgdGhpcy5oYW5kbGVMZWF2ZVB1YmxpY0NoYW5uZWwpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWwudHlwZSA9PT0gQ29uc3RhbnRzLlBSSVZBVEVfQ0hBTk5FTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQ2hhbm5lbEVsZW1lbnQoY2hhbm5lbCwgaW5kZXgsIGFyciwgdGhpcy5oYW5kbGVMZWF2ZVByaXZhdGVDaGFubmVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUNoYW5uZWxFbGVtZW50KGNoYW5uZWwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcHVibGljQ2hhbm5lbEl0ZW1zID0gdGhpcy5zdGF0ZS5wdWJsaWNDaGFubmVscy5tYXAoKGNoYW5uZWwsIGluZGV4LCBhcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChnbG9iYWwud2luZG93Lm1tX2NvbmZpZy5FbmFibGVYVG9MZWF2ZUNoYW5uZWxzRnJvbUxIUyAhPT0gJ3RydWUnIHx8XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5uYW1lID09PSBDb25zdGFudHMuREVGQVVMVF9DSEFOTkVMXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVDaGFubmVsRWxlbWVudChjaGFubmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUNoYW5uZWxFbGVtZW50KGNoYW5uZWwsIGluZGV4LCBhcnIsIHRoaXMuaGFuZGxlTGVhdmVQdWJsaWNDaGFubmVsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcHJpdmF0ZUNoYW5uZWxJdGVtcyA9IHRoaXMuc3RhdGUucHJpdmF0ZUNoYW5uZWxzLm1hcCgoY2hhbm5lbCwgaW5kZXgsIGFycikgPT4ge1xuICAgICAgICAgICAgaWYgKGdsb2JhbC53aW5kb3cubW1fY29uZmlnLkVuYWJsZVhUb0xlYXZlQ2hhbm5lbHNGcm9tTEhTICE9PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVDaGFubmVsRWxlbWVudChjaGFubmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUNoYW5uZWxFbGVtZW50KGNoYW5uZWwsIGluZGV4LCBhcnIsIHRoaXMuaGFuZGxlTGVhdmVQcml2YXRlQ2hhbm5lbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGRpcmVjdE1lc3NhZ2VJdGVtcyA9IHRoaXMuc3RhdGUuZGlyZWN0QW5kR3JvdXBDaGFubmVscy5tYXAoKGNoYW5uZWwsIGluZGV4LCBhcnIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUNoYW5uZWxFbGVtZW50KGNoYW5uZWwsIGluZGV4LCBhcnIsIHRoaXMuaGFuZGxlTGVhdmVEaXJlY3RDaGFubmVsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBmYXZpY29uIHRvIHNob3cgaWYgdGhlcmUgYXJlIGFueSBub3RpZmljYXRpb25zXG4gICAgICAgIGlmICh0aGlzLmxhc3RCYWRnZXNBY3RpdmUgIT09IHRoaXMuYmFkZ2VzQWN0aXZlKSB7XG4gICAgICAgICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgICAgICAgIGxpbmsudHlwZSA9ICdpbWFnZS94LWljb24nO1xuICAgICAgICAgICAgbGluay5yZWwgPSAnc2hvcnRjdXQgaWNvbic7XG4gICAgICAgICAgICBsaW5rLmlkID0gJ2Zhdmljb24nO1xuICAgICAgICAgICAgaWYgKHRoaXMuYmFkZ2VzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgbGluay5ocmVmID0gcmVkRmF2aWNvbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGluay5ocmVmID0gZmF2aWNvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICAgICAgICAgIHZhciBvbGRMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zhdmljb24nKTtcbiAgICAgICAgICAgIGlmIChvbGRMaW5rKSB7XG4gICAgICAgICAgICAgICAgaGVhZC5yZW1vdmVDaGlsZChvbGRMaW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGlyZWN0TWVzc2FnZU1vcmUgPSAoXG4gICAgICAgICAgICA8bGkga2V5PSdtb3JlJz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGlkPSdtb3JlRGlyZWN0TWVzc2FnZSdcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSduYXYtbW9yZSBjdXJzb3ItLXBvaW50ZXIgc3R5bGUtLW5vbmUgYnRuLS1ibG9jaydcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVPcGVuTW9yZURpcmVjdENoYW5uZWxzTW9kYWx9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3NpZGViYXIubW9yZUVsaXBzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J01vcmUuLi4nXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICApO1xuXG4gICAgICAgIGxldCBzaG93Q2hhbm5lbE1vZGFsID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm5ld0NoYW5uZWxNb2RhbFR5cGUgIT09ICcnKSB7XG4gICAgICAgICAgICBzaG93Q2hhbm5lbE1vZGFsID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNyZWF0ZUNoYW5uZWxUb290bGlwID0gKFxuICAgICAgICAgICAgPFRvb2x0aXAgaWQ9J25ldy1jaGFubmVsLXRvb2x0aXAnID5cbiAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICBpZD0nc2lkZWJhci5jcmVhdGVDaGFubmVsJ1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nQ3JlYXRlIG5ldyBwdWJsaWMgY2hhbm5lbCdcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICApO1xuICAgICAgICBjb25zdCBjcmVhdGVHcm91cFRvb3RsaXAgPSAoXG4gICAgICAgICAgICA8VG9vbHRpcCBpZD0nbmV3LWdyb3VwLXRvb2x0aXAnPlxuICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIGlkPSdzaWRlYmFyLmNyZWF0ZUdyb3VwJ1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nQ3JlYXRlIG5ldyBwcml2YXRlIGNoYW5uZWwnXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBjcmVhdGVEaXJlY3RNZXNzYWdlVG9vbHRpcCA9IChcbiAgICAgICAgICAgIDxUb29sdGlwXG4gICAgICAgICAgICAgICAgaWQ9J25ldy1ncm91cC10b29sdGlwJ1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0naGlkZGVuLXhzJ1xuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIGlkPSdzaWRlYmFyLmNyZWF0ZURpcmVjdE1lc3NhZ2UnXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdDcmVhdGUgbmV3IGRpcmVjdCBtZXNzYWdlJ1xuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgYWJvdmUgPSAoXG4gICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgIGlkPSdzaWRlYmFyLnVucmVhZHMnXG4gICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J01vcmUgdW5yZWFkcydcbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgYmVsb3cgPSAoXG4gICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgIGlkPSdzaWRlYmFyLnVucmVhZHMnXG4gICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J01vcmUgdW5yZWFkcydcbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgaXNUZWFtQWRtaW4gPSBUZWFtU3RvcmUuaXNUZWFtQWRtaW5Gb3JDdXJyZW50VGVhbSgpO1xuICAgICAgICBjb25zdCBpc1N5c3RlbUFkbWluID0gVXNlclN0b3JlLmlzU3lzdGVtQWRtaW5Gb3JDdXJyZW50VXNlcigpO1xuXG4gICAgICAgIGxldCBjcmVhdGVQdWJsaWNDaGFubmVsSWNvbiA9IChcbiAgICAgICAgICAgIDxPdmVybGF5VHJpZ2dlclxuICAgICAgICAgICAgICAgIHRyaWdnZXI9e1snaG92ZXInLCAnZm9jdXMnXX1cbiAgICAgICAgICAgICAgICBkZWxheVNob3c9ezUwMH1cbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9J3RvcCdcbiAgICAgICAgICAgICAgICBvdmVybGF5PXtjcmVhdGVDaGFubmVsVG9vdGxpcH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGlkPSdjcmVhdGVQdWJsaWNDaGFubmVsJ1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2FkZC1jaGFubmVsLWJ0biBjdXJzb3ItLXBvaW50ZXIgc3R5bGUtLW5vbmUnXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd05ld0NoYW5uZWxNb2RhbC5iaW5kKHRoaXMsIENvbnN0YW50cy5PUEVOX0NIQU5ORUwpfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeycrJ31cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvT3ZlcmxheVRyaWdnZXI+XG4gICAgICAgICk7XG5cbiAgICAgICAgbGV0IGNyZWF0ZVByaXZhdGVDaGFubmVsSWNvbiA9IChcbiAgICAgICAgICAgIDxPdmVybGF5VHJpZ2dlclxuICAgICAgICAgICAgICAgIHRyaWdnZXI9e1snaG92ZXInLCAnZm9jdXMnXX1cbiAgICAgICAgICAgICAgICBkZWxheVNob3c9ezUwMH1cbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9J3RvcCdcbiAgICAgICAgICAgICAgICBvdmVybGF5PXtjcmVhdGVHcm91cFRvb3RsaXB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBpZD0nY3JlYXRlUHJpdmF0ZUNoYW5uZWwnXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYWRkLWNoYW5uZWwtYnRuIGN1cnNvci0tcG9pbnRlciBzdHlsZS0tbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93TmV3Q2hhbm5lbE1vZGFsLmJpbmQodGhpcywgQ29uc3RhbnRzLlBSSVZBVEVfQ0hBTk5FTCl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7JysnfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9PdmVybGF5VHJpZ2dlcj5cbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIUNoYW5uZWxVdGlscy5zaG93Q3JlYXRlT3B0aW9uKENvbnN0YW50cy5PUEVOX0NIQU5ORUwsIGlzVGVhbUFkbWluLCBpc1N5c3RlbUFkbWluKSkge1xuICAgICAgICAgICAgY3JlYXRlUHVibGljQ2hhbm5lbEljb24gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3JlYXRlRGlyZWN0TWVzc2FnZUljb24gPSAoXG4gICAgICAgICAgICA8T3ZlcmxheVRyaWdnZXJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2hpZGRlbi14cydcbiAgICAgICAgICAgICAgICBkZWxheVNob3c9ezUwMH1cbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9J3RvcCdcbiAgICAgICAgICAgICAgICBvdmVybGF5PXtjcmVhdGVEaXJlY3RNZXNzYWdlVG9vbHRpcH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYWRkLWNoYW5uZWwtYnRuIGN1cnNvci0tcG9pbnRlciBzdHlsZS0tbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVPcGVuTW9yZURpcmVjdENoYW5uZWxzTW9kYWx9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7JysnfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9PdmVybGF5VHJpZ2dlcj5cbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIUNoYW5uZWxVdGlscy5zaG93Q3JlYXRlT3B0aW9uKENvbnN0YW50cy5QUklWQVRFX0NIQU5ORUwsIGlzVGVhbUFkbWluLCBpc1N5c3RlbUFkbWluKSkge1xuICAgICAgICAgICAgY3JlYXRlUHJpdmF0ZUNoYW5uZWxJY29uID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtb3JlRGlyZWN0Q2hhbm5lbHNNb2RhbDtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2hvd0RpcmVjdENoYW5uZWxzTW9kYWwpIHtcbiAgICAgICAgICAgIG1vcmVEaXJlY3RDaGFubmVsc01vZGFsID0gKFxuICAgICAgICAgICAgICAgIDxNb3JlRGlyZWN0Q2hhbm5lbHNcbiAgICAgICAgICAgICAgICAgICAgb25Nb2RhbERpc21pc3NlZD17dGhpcy5oaWRlTW9yZURpcmVjdENoYW5uZWxzTW9kYWx9XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0aW5nVXNlcnM9e3RoaXMuc3RhdGUuc3RhcnRpbmdVc2Vyc31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtb3JlQ2hhbm5lbHNNb2RhbDtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2hvd01vcmVDaGFubmVsc01vZGFsKSB7XG4gICAgICAgICAgICBtb3JlQ2hhbm5lbHNNb2RhbCA9IChcbiAgICAgICAgICAgICAgICA8TW9yZUNoYW5uZWxzXG4gICAgICAgICAgICAgICAgICAgIG9uTW9kYWxEaXNtaXNzZWQ9e3RoaXMuaGlkZU1vcmVDaGFubmVsc01vZGFsfVxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVOZXdDaGFubmVsPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGVNb3JlQ2hhbm5lbHNNb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TmV3Q2hhbm5lbE1vZGFsKENvbnN0YW50cy5PUEVOX0NIQU5ORUwpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHF1aWNrU3dpdGNoVGV4dFNob3J0Y3V0SWQgPSAncXVpY2tfc3dpdGNoX21vZGFsLmNoYW5uZWxzU2hvcnRjdXQud2luZG93cyc7XG4gICAgICAgIGxldCBxdWlja1N3aXRjaFRleHRTaG9ydGN1dERlZmF1bHQgPSAnLSBDVFJMK0snO1xuICAgICAgICBpZiAoVXRpbHMuaXNNYWMoKSkge1xuICAgICAgICAgICAgcXVpY2tTd2l0Y2hUZXh0U2hvcnRjdXRJZCA9ICdxdWlja19zd2l0Y2hfbW9kYWwuY2hhbm5lbHNTaG9ydGN1dC5tYWMnO1xuICAgICAgICAgICAgcXVpY2tTd2l0Y2hUZXh0U2hvcnRjdXREZWZhdWx0ID0gJy0g4oyYSyc7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBxdWlja1N3aXRjaFRleHRTaG9ydGN1dCA9IChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc3dpdGNoX19zaG9ydGN1dCBoaWRkZW4teHMnPlxuICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIGlkPXtxdWlja1N3aXRjaFRleHRTaG9ydGN1dElkfVxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT17cXVpY2tTd2l0Y2hUZXh0U2hvcnRjdXREZWZhdWx0fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NpZGViYXItLWxlZnQnXG4gICAgICAgICAgICAgICAgaWQ9J3NpZGViYXItbGVmdCdcbiAgICAgICAgICAgICAgICBrZXk9J3NpZGViYXItbGVmdCdcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TmV3Q2hhbm5lbEZsb3dcbiAgICAgICAgICAgICAgICAgICAgc2hvdz17c2hvd0NoYW5uZWxNb2RhbH1cbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbFR5cGU9e3RoaXMuc3RhdGUubmV3Q2hhbm5lbE1vZGFsVHlwZX1cbiAgICAgICAgICAgICAgICAgICAgb25Nb2RhbERpc21pc3NlZD17dGhpcy5oaWRlTmV3Q2hhbm5lbE1vZGFsfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAge21vcmVEaXJlY3RDaGFubmVsc01vZGFsfVxuICAgICAgICAgICAgICAgIHttb3JlQ2hhbm5lbHNNb2RhbH1cblxuICAgICAgICAgICAgICAgIDxTaWRlYmFySGVhZGVyXG4gICAgICAgICAgICAgICAgICAgIHRlYW1EaXNwbGF5TmFtZT17dGhpcy5zdGF0ZS5jdXJyZW50VGVhbS5kaXNwbGF5X25hbWV9XG4gICAgICAgICAgICAgICAgICAgIHRlYW1EZXNjcmlwdGlvbj17dGhpcy5zdGF0ZS5jdXJyZW50VGVhbS5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgdGVhbU5hbWU9e3RoaXMuc3RhdGUuY3VycmVudFRlYW0ubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgdGVhbVR5cGU9e3RoaXMuc3RhdGUuY3VycmVudFRlYW0udHlwZX1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFVzZXI9e3RoaXMuc3RhdGUuY3VycmVudFVzZXJ9XG4gICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICAgIDxVbnJlYWRDaGFubmVsSW5kaWNhdG9yXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9J1RvcCdcbiAgICAgICAgICAgICAgICAgICAgc2hvdz17dGhpcy5zdGF0ZS5zaG93VG9wVW5yZWFkfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNjcm9sbFRvRmlyc3RVbnJlYWRDaGFubmVsfVxuICAgICAgICAgICAgICAgICAgICBleHRyYUNsYXNzPSduYXYtcGlsbHNfX3VucmVhZC1pbmRpY2F0b3ItdG9wJ1xuICAgICAgICAgICAgICAgICAgICB0ZXh0PXthYm92ZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxVbnJlYWRDaGFubmVsSW5kaWNhdG9yXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9J0JvdHRvbSdcbiAgICAgICAgICAgICAgICAgICAgc2hvdz17dGhpcy5zdGF0ZS5zaG93Qm90dG9tVW5yZWFkfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNjcm9sbFRvTGFzdFVucmVhZENoYW5uZWx9XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQ2xhc3M9J25hdi1waWxsc19fdW5yZWFkLWluZGljYXRvci1ib3R0b20nXG4gICAgICAgICAgICAgICAgICAgIHRleHQ9e2JlbG93fVxuICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGlkPSdzaWRlYmFyQ2hhbm5lbENvbnRhaW5lcidcbiAgICAgICAgICAgICAgICAgICAgcmVmPSdjb250YWluZXInXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nbmF2LXBpbGxzX19jb250YWluZXInXG4gICAgICAgICAgICAgICAgICAgIG9uU2Nyb2xsPXt0aGlzLm9uU2Nyb2xsfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2Zhdm9yaXRlSXRlbXMubGVuZ3RoICE9PSAwICYmIDx1bCBjbGFzc05hbWU9J25hdiBuYXYtcGlsbHMgbmF2LXN0YWNrZWQnPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBpZD0nZmF2b3JpdGVDaGFubmVsJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdzaWRlYmFyLmZhdm9yaXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J0ZBVk9SSVRFIENIQU5ORUxTJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAge2Zhdm9yaXRlSXRlbXN9XG4gICAgICAgICAgICAgICAgICAgIDwvdWw+fVxuICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPSduYXYgbmF2LXBpbGxzIG5hdi1zdGFja2VkJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgaWQ9J3B1YmxpY0NoYW5uZWwnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3NpZGViYXIuY2hhbm5lbHMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nUFVCTElDIENIQU5ORUxTJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3JlYXRlUHVibGljQ2hhbm5lbEljb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cHVibGljQ2hhbm5lbEl0ZW1zfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3NpZGViYXJDaGFubmVsc01vcmUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nbmF2LW1vcmUgY3Vyc29yLS1wb2ludGVyIHN0eWxlLS1ub25lIGJ0bi0tYmxvY2snXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd01vcmVDaGFubmVsc01vZGFsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdzaWRlYmFyLm1vcmVFbGlwcydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdNb3JlLi4uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgPC91bD5cblxuICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPSduYXYgbmF2LXBpbGxzIG5hdi1zdGFja2VkJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgaWQ9J3ByaXZhdGVDaGFubmVsJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdzaWRlYmFyLnBnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J1BSSVZBVEUgQ0hBTk5FTFMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjcmVhdGVQcml2YXRlQ2hhbm5lbEljb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cHJpdmF0ZUNoYW5uZWxJdGVtc31cbiAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT0nbmF2IG5hdi1waWxscyBuYXYtc3RhY2tlZCc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGlkPSdkaXJlY3RDaGFubmVsJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdzaWRlYmFyLmRpcmVjdCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlPSdESVJFQ1QgTUVTU0FHRVMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjcmVhdGVEaXJlY3RNZXNzYWdlSWNvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtkaXJlY3RNZXNzYWdlSXRlbXN9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGlyZWN0TWVzc2FnZU1vcmV9XG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NpZGViYXJfX3N3aXRjaGVyJz5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3NpZGViYXJTd2l0Y2hlckJ1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYnRuIGJ0bi1saW5rJ1xuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vcGVuUXVpY2tTd2l0Y2hlcn1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2ljb24gaWNvbl9fc3dpdGNoJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBzd2l0Y2hDaGFubmVsSWNvbn19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17J2NoYW5uZWxfc3dpdGNoX21vZGFsLnRpdGxlJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT0nU3dpdGNoIENoYW5uZWxzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtxdWlja1N3aXRjaFRleHRTaG9ydGN1dH1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY29tcG9uZW50cy9zaWRlYmFyLmpzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHQTtBQUNBOzs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7O0FBQ0E7QUF6Q0E7QUFDQTtBQXlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQXhCQTtBQTBCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUE5Q0E7QUFnREE7QUFDQTtBQUNBO0FBbERBO0FBa0hBO0FBQ0E7QUFDQTtBQXBIQTtBQXNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN0hBO0FBK0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcklBO0FBdUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNUpBO0FBOEpBO0FBQ0E7QUFDQTtBQWhLQTtBQWtLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExS0E7QUE0S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFyTEE7QUF1TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBcE5BO0FBc05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNU5BO0FBOE5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNVBBO0FBOFBBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBclNBO0FBdVNBO0FBQ0E7QUFDQTtBQXpTQTtBQTJTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBL1NBO0FBaVRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFyVEE7QUF1VEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExVkE7QUE0VkE7QUFDQTtBQUNBO0FBQ0E7QUEvVkE7QUFpV0E7QUFDQTtBQUNBO0FBbldBO0FBcVdBO0FBQ0E7QUFDQTtBQXZXQTtBQXlXQTtBQUNBO0FBQ0E7QUEzV0E7QUE2V0E7QUFDQTtBQUNBO0FBQ0E7QUFoWEE7QUFrWEE7QUFDQTtBQUNBO0FBcFhBO0FBc1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE3WEE7QUErWEE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBcFlBO0FBc1lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFDQTtBQU9BO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBTkE7QUFEQTtBQUNBO0FBY0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQUNBO0FBU0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQS9iQTtBQWljQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFPQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRkE7QUFJQTtBQUpBO0FBTkE7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQWZBO0FBa0JBO0FBQ0E7QUF4bEJBO0FBMGxCQTtBQUNBO0FBQ0E7QUF6bEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpCQTtBQWtCQTtBQUNBOzs7QUFnQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQThlQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFEQTtBQUNBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFPQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBQ0E7QUFPQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUpBO0FBQ0E7QUFVQTtBQUVBO0FBQ0E7QUFGQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBRkE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBTEE7QUFOQTtBQUNBO0FBZUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFMQTtBQU5BO0FBQ0E7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUpBO0FBTkE7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFDQTtBQU9BO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFRQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQURBO0FBUUE7QUFUQTtBQVdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFMQTtBQURBO0FBU0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFEQTtBQVhBO0FBeUJBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFMQTtBQURBO0FBU0E7QUFWQTtBQVlBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFMQTtBQURBO0FBU0E7QUFDQTtBQVhBO0FBdERBO0FBb0VBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBYkE7QUFEQTtBQXhHQTtBQTJIQTs7O0FBbjhCQTtBQUNBO0FBREE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///329\n");

/***/ })

});