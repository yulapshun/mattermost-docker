webpackJsonp([2],{2354:function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=a(6),r=n(u),l=a(4),i=n(l),s=a(5),o=n(s),d=a(7),f=n(d),c=a(8),m=n(c),p=a(2),g=n(p),h=a(1),b=n(h),_=a(17),k=a(44),v=function(t){function a(){return(0,i.default)(this,a),(0,f.default)(this,(a.__proto__||(0,r.default)(a)).apply(this,arguments))}return(0,m.default)(a,t),(0,o.default)(a,[{key:"render",value:function(){return this.props.team?b.default.createElement("div",{className:"backstage-navbar"},b.default.createElement(k.Link,{className:"backstage-navbar__back",to:"/"+this.props.team.name+"/channels/town-square"},b.default.createElement("i",{className:"fa fa-angle-left"}),b.default.createElement("span",null,b.default.createElement(_.FormattedMessage,{id:"backstage_navbar.backToMattermost",defaultMessage:"Back to {siteName}",values:{siteName:e.window.mm_config.SiteName}})))):null}}],[{key:"propTypes",get:function(){return{team:g.default.object.isRequired}}}]),a}(b.default.Component);t.default=v}).call(t,a(22))},2355:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=a(6),r=n(u),l=a(4),i=n(l),s=a(5),o=n(s),d=a(7),f=n(d),c=a(8),m=n(c),p=a(2),g=n(p),h=a(1),b=n(h),_=a(17),k=a(35),v=n(k),E=a(16),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(E),C=a(2356),M=n(C),N=a(2357),j=n(N),A=function(e){function t(){return(0,i.default)(this,t),(0,f.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,o.default)(t,[{key:"renderCustomEmoji",value:function(){return"true"===window.mm_config.EnableCustomEmoji&&y.canCreateCustomEmoji(this.props.user)?b.default.createElement(M.default,{name:"emoji",parentLink:"/"+this.props.team.name,icon:"fa-smile-o",title:b.default.createElement(_.FormattedMessage,{id:"backstage_sidebar.emoji",defaultMessage:"Custom Emoji"})}):null}},{key:"renderIntegrations",value:function(){var e=window.mm_config,t=y.isSystemAdmin(this.props.user.roles);if("true"!==e.EnableIncomingWebhooks&&"true"!==e.EnableOutgoingWebhooks&&"true"!==e.EnableCommands&&"true"!==e.EnableOAuthServiceProvider)return null;if("false"!==e.EnableOnlyAdminIntegrations&&!t&&!v.default.isTeamAdmin(this.props.user.id,this.props.team.id))return null;var a=null;"true"===e.EnableIncomingWebhooks&&(a=b.default.createElement(j.default,{name:"incoming_webhooks",title:b.default.createElement(_.FormattedMessage,{id:"backstage_sidebar.integrations.incoming_webhooks",defaultMessage:"Incoming Webhooks"})}));var n=null;"true"===e.EnableOutgoingWebhooks&&(n=b.default.createElement(j.default,{name:"outgoing_webhooks",title:b.default.createElement(_.FormattedMessage,{id:"backstage_sidebar.integrations.outgoing_webhooks",defaultMessage:"Outgoing Webhooks"})}));var u=null;"true"===e.EnableCommands&&(u=b.default.createElement(j.default,{name:"commands",title:b.default.createElement(_.FormattedMessage,{id:"backstage_sidebar.integrations.commands",defaultMessage:"Slash Commands"})}));var r=null;return"true"!==e.EnableOAuthServiceProvider||!t&&"true"===e.EnableOnlyAdminIntegrations||(r=b.default.createElement(j.default,{name:"oauth2-apps",title:b.default.createElement(_.FormattedMessage,{id:"backstage_sidebar.integrations.oauthApps",defaultMessage:"OAuth 2.0 Applications"})})),b.default.createElement(M.default,{name:"integrations",parentLink:"/"+this.props.team.name,icon:"fa-link",title:b.default.createElement(_.FormattedMessage,{id:"backstage_sidebar.integrations",defaultMessage:"Integrations"})},a,n,u,r)}},{key:"render",value:function(){return b.default.createElement("div",{className:"backstage-sidebar"},b.default.createElement("ul",null,this.renderCustomEmoji(),this.renderIntegrations()))}}],[{key:"propTypes",get:function(){return{team:g.default.object.isRequired,user:g.default.object.isRequired}}}]),t}(b.default.Component);t.default=A},2356:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=a(6),r=n(u),l=a(4),i=n(l),s=a(5),o=n(s),d=a(7),f=n(d),c=a(8),m=n(c),p=a(2),g=n(p),h=a(1),b=n(h),_=a(44),k=function(e){function t(){return(0,i.default)(this,t),(0,f.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.title,n=e.icon,u=e.parentLink,r=e.children,l=u+"/"+t,i=null;return r.length>0&&this.context.router.isActive(l)&&(i=b.default.createElement("ul",{className:"sections"},b.default.Children.map(r,function(e){return e?b.default.cloneElement(e,{parentLink:l}):e}))),b.default.createElement("li",{className:"backstage-sidebar__category"},b.default.createElement(_.Link,{to:l,className:"category-title",activeClassName:"category-title--active",onlyActiveOnIndex:!0},b.default.createElement("i",{className:"fa "+n}),b.default.createElement("span",{className:"category-title__text"},a)),i)}}],[{key:"propTypes",get:function(){return{name:g.default.string.isRequired,title:g.default.node.isRequired,icon:g.default.string.isRequired,parentLink:g.default.string,children:g.default.arrayOf(g.default.element)}}},{key:"defaultProps",get:function(){return{parentLink:"",children:[]}}},{key:"contextTypes",get:function(){return{router:g.default.object.isRequired}}}]),t}(b.default.Component);t.default=k},2357:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=a(6),r=n(u),l=a(4),i=n(l),s=a(5),o=n(s),d=a(7),f=n(d),c=a(8),m=n(c),p=a(2),g=n(p),h=a(1),b=n(h),_=a(44),k=function(e){function t(){return(0,i.default)(this,t),(0,f.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,o.default)(t,[{key:"getLink",value:function(){return this.props.parentLink+"/"+this.props.name}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.subsection,n=e.children,u=this.getLink(),r=null;n.length>0&&(r=b.default.createElement("ul",{className:"subsections"},b.default.Children.map(n,function(e){return b.default.cloneElement(e,{parentLink:u,subsection:!0})})));var l="section";return a&&(l="subsection"),b.default.createElement("li",{className:l},b.default.createElement(_.Link,{className:l+"-title",activeClassName:l+"-title--active",to:u},b.default.createElement("span",{className:l+"-title__text"},t)),r)}}],[{key:"propTypes",get:function(){return{name:g.default.string.isRequired,title:g.default.node.isRequired,parentLink:g.default.string,subsection:g.default.bool,children:g.default.arrayOf(g.default.element)}}},{key:"defaultProps",get:function(){return{parentLink:"",subsection:!1,children:[]}}},{key:"contextTypes",get:function(){return{router:g.default.object.isRequired}}}]),t}(b.default.Component);t.default=k},770:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=a(6),r=n(u),l=a(4),i=n(l),s=a(7),o=n(s),d=a(5),f=n(d),c=a(8),m=n(c),p=a(2),g=n(p),h=a(1),b=n(h),_=a(316),k=n(_),v=a(35),E=n(v),y=a(25),C=n(y),M=a(2083),N=n(M),j=a(2354),A=n(j),O=a(2355),T=n(O),L=function(e){function t(e){(0,i.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));a.onTeamChange=a.onTeamChange.bind(a);var n=E.default.getCurrent();return a.state={team:n,isAdmin:C.default.isSystemAdminForCurrentUser(a.props.user)||E.default.isTeamAdminForCurrentTeam(n)},a}return(0,m.default)(t,e),(0,f.default)(t,null,[{key:"propTypes",get:function(){return{user:g.default.object,children:g.default.node.isRequired}}}]),(0,f.default)(t,[{key:"componentDidMount",value:function(){E.default.addChangeListener(this.onTeamChange)}},{key:"componentWillUnmount",value:function(){E.default.removeChangeListener(this.onTeamChange)}},{key:"onTeamChange",value:function(){var e=E.default.getCurrent();this.state={team:e,isAdmin:C.default.isSystemAdminForCurrentUser(this.props.user)||E.default.isTeamAdminForCurrentTeam(e)}}},{key:"render",value:function(){var e=this;return b.default.createElement("div",{className:"backstage"},b.default.createElement(N.default,null),b.default.createElement(A.default,{team:this.state.team}),b.default.createElement(k.default,{pluggableName:"Root"}),b.default.createElement("div",{className:"backstage-body"},b.default.createElement(T.default,{team:this.state.team,user:this.props.user}),b.default.Children.map(this.props.children,function(t){return t?b.default.cloneElement(t,{team:e.state.team,user:e.props.user,isAdmin:e.state.isAdmin}):t})))}}]),t}(b.default.Component);t.default=L}});
//# sourceMappingURL=2.5ed05ec0f933580c52ca.js.map