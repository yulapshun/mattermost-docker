{"version":3,"sources":["webpack:///19.585ec6290fef5bffca1b.js","webpack:///./components/integrations/components/edit_oauth_app/index.js","webpack:///./components/integrations/components/edit_oauth_app/edit_oauth_app.jsx"],"names":["webpackJsonp","2136","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","mapStateToProps","state","ownProps","oauthAppId","location","query","id","_extends3","isSystemAdmin","_users","isCurrentUserSystemAdmin","oauthApp","entities","integrations","oauthApps","editOAuthAppRequest","requests","updateOAuthApp","mapDispatchToProps","dispatch","actions","_redux","bindActionCreators","getOAuthApp","editOAuthApp","Object","defineProperty","value","_extends2","_reactRedux","_integrations","_edit_oauth_app","_edit_oauth_app2","connect","2383","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_es","_reactIntl","_loading_screen","_loading_screen2","_confirm_modal","_confirm_modal2","_abstract_oauth_app","_abstract_oauth_app2","HEADER","defaultMessage","FOOTER","EditOAuthApp","_React$PureComponent","props","_this2","this","_this","__proto__","call","_ref","mark","_callee","app","callbackUrlsSame","wrap","_context","prev","next","newApp","token","callback_urls","length","every","v","i","handleConfirmModal","submitOAuthApp","stop","_x","apply","arguments","setState","showConfirmModal","confirmModalDismissed","_callee2","data","_context2","serverError","sent","browserHistory","push","team","name","abrupt","error","message","renderExtra","confirmButton","createElement","FormattedMessage","confirmTitle","confirmMessage","title","confirmButtonText","show","onConfirm","onCancel","key","window","mm_config","EnableOAuthServiceProvider","header","footer","action","initialApp","PureComponent","propTypes","object","isRequired","bool","string","shape","func"],"mappings":"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","file":"19.585ec6290fef5bffca1b.js","sourcesContent":["webpackJsonp([19],{\n\n/***/ 2136:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(19);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactRedux = __webpack_require__(31);\n\nvar _redux = __webpack_require__(20);\n\nvar _integrations = __webpack_require__(735);\n\nvar _users = __webpack_require__(50);\n\nvar _edit_oauth_app = __webpack_require__(2383);\n\nvar _edit_oauth_app2 = _interopRequireDefault(_edit_oauth_app);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mapStateToProps(state, ownProps) {\n    var oauthAppId = ownProps.location.query.id;\n\n    return (0, _extends3.default)({}, ownProps, {\n        isSystemAdmin: (0, _users.isCurrentUserSystemAdmin)(state),\n        oauthAppId: oauthAppId,\n        oauthApp: state.entities.integrations.oauthApps[oauthAppId],\n        editOAuthAppRequest: state.requests.integrations.updateOAuthApp\n    });\n} // Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: (0, _redux.bindActionCreators)({\n            getOAuthApp: _integrations.getOAuthApp,\n            editOAuthApp: _integrations.editOAuthApp\n        }, dispatch)\n    };\n}\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_edit_oauth_app2.default);\n\n/***/ }),\n\n/***/ 2383:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _regenerator = __webpack_require__(76);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(77);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(4);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(7);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(8);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _es = __webpack_require__(44);\n\nvar _reactIntl = __webpack_require__(17);\n\nvar _loading_screen = __webpack_require__(236);\n\nvar _loading_screen2 = _interopRequireDefault(_loading_screen);\n\nvar _confirm_modal = __webpack_require__(311);\n\nvar _confirm_modal2 = _interopRequireDefault(_confirm_modal);\n\nvar _abstract_oauth_app = __webpack_require__(2094);\n\nvar _abstract_oauth_app2 = _interopRequireDefault(_abstract_oauth_app);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HEADER = { id: 'integrations.edit', defaultMessage: 'Edit' }; // Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar FOOTER = { id: 'update_incoming_webhook.update', defaultMessage: 'Update' };\n\nvar EditOAuthApp = function (_React$PureComponent) {\n    (0, _inherits3.default)(EditOAuthApp, _React$PureComponent);\n\n    function EditOAuthApp(props) {\n        var _this2 = this;\n\n        (0, _classCallCheck3.default)(this, EditOAuthApp);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (EditOAuthApp.__proto__ || (0, _getPrototypeOf2.default)(EditOAuthApp)).call(this, props));\n\n        _this.editOAuthApp = function () {\n            var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(app) {\n                var callbackUrlsSame;\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _this.newApp = app;\n\n                                if (_this.props.oauthApp.id) {\n                                    app.id = _this.props.oauthApp.id;\n                                }\n\n                                if (_this.props.oauthApp.token) {\n                                    app.token = _this.props.oauthApp.token;\n                                }\n\n                                callbackUrlsSame = _this.props.oauthApp.callback_urls.length === app.callback_urls.length && _this.props.oauthApp.callback_urls.every(function (v, i) {\n                                    return v === app.callback_urls[i];\n                                });\n\n                                if (!(callbackUrlsSame === false)) {\n                                    _context.next = 8;\n                                    break;\n                                }\n\n                                _this.handleConfirmModal();\n                                _context.next = 10;\n                                break;\n\n                            case 8:\n                                _context.next = 10;\n                                return _this.submitOAuthApp();\n\n                            case 10:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, _this2);\n            }));\n\n            return function (_x) {\n                return _ref.apply(this, arguments);\n            };\n        }();\n\n        _this.handleConfirmModal = function () {\n            _this.setState({ showConfirmModal: true });\n        };\n\n        _this.confirmModalDismissed = function () {\n            _this.setState({ showConfirmModal: false });\n        };\n\n        _this.submitOAuthApp = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2() {\n            var data;\n            return _regenerator2.default.wrap(function _callee2$(_context2) {\n                while (1) {\n                    switch (_context2.prev = _context2.next) {\n                        case 0:\n                            _this.setState({ serverError: '' });\n\n                            _context2.next = 3;\n                            return _this.props.actions.editOAuthApp(_this.newApp);\n\n                        case 3:\n                            data = _context2.sent;\n\n                            if (!data) {\n                                _context2.next = 7;\n                                break;\n                            }\n\n                            _es.browserHistory.push('/' + _this.props.team.name + '/integrations/oauth2-apps');\n                            return _context2.abrupt('return');\n\n                        case 7:\n\n                            _this.setState({ showConfirmModal: false });\n\n                            if (_this.props.editOAuthAppRequest.error) {\n                                _this.setState({ serverError: _this.props.editOAuthAppRequest.error.message });\n                            }\n\n                        case 9:\n                        case 'end':\n                            return _context2.stop();\n                    }\n                }\n            }, _callee2, _this2);\n        }));\n\n        _this.renderExtra = function () {\n            var confirmButton = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'update_command.update',\n                defaultMessage: 'Update'\n            });\n\n            var confirmTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'update_oauth_app.confirm',\n                defaultMessage: 'Edit OAuth 2.0 application'\n            });\n\n            var confirmMessage = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'update_oauth_app.question',\n                defaultMessage: 'Your changes may break the existing OAuth 2.0 application. Are you sure you would like to update it?'\n            });\n\n            return _react2.default.createElement(_confirm_modal2.default, {\n                title: confirmTitle,\n                message: confirmMessage,\n                confirmButtonText: confirmButton,\n                show: _this.state.showConfirmModal,\n                onConfirm: _this.submitOAuthApp,\n                onCancel: _this.confirmModalDismissed\n            });\n        };\n\n        _this.state = {\n            showConfirmModal: false,\n            serverError: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(EditOAuthApp, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            if (window.mm_config.EnableOAuthServiceProvider === 'true') {\n                this.props.actions.getOAuthApp(this.props.oauthAppId);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.props.oauthApp) {\n                return _react2.default.createElement(_loading_screen2.default, null);\n            }\n\n            return _react2.default.createElement(_abstract_oauth_app2.default, {\n                team: this.props.team,\n                isSystemAdmin: this.props.isSystemAdmin,\n                header: HEADER,\n                footer: FOOTER,\n                renderExtra: this.renderExtra(),\n                action: this.editOAuthApp,\n                serverError: this.state.serverError,\n                initialApp: this.props.oauthApp\n            });\n        }\n    }]);\n    return EditOAuthApp;\n}(_react2.default.PureComponent);\n\nEditOAuthApp.propTypes = {\n\n    /**\n    * The current team\n    */\n    team: _propTypes2.default.object.isRequired,\n\n    /**\n    * Set if the current user is a system admin\n    */\n    isSystemAdmin: _propTypes2.default.bool,\n\n    /**\n    * The id of the OAuthApp to edit\n    */\n    oauthAppId: _propTypes2.default.string.isRequired,\n\n    /**\n    * The OAuthApp data\n    */\n    oauthApp: _propTypes2.default.object,\n\n    /**\n    * The request state for editOAuthApp action. Contains status and error\n    */\n    editOAuthAppRequest: _propTypes2.default.object.isRequired,\n\n    actions: _propTypes2.default.shape({\n\n        /**\n        * The function to call to get OAuthApp\n        */\n        getOAuthApp: _propTypes2.default.func.isRequired,\n\n        /**\n        * The function to call to edit OAuthApp\n        */\n        editOAuthApp: _propTypes2.default.func.isRequired\n    }).isRequired\n};\nexports.default = EditOAuthApp;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 19.585ec6290fef5bffca1b.js","// Copyright (c) 2017 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getOAuthApp, editOAuthApp} from 'mattermost-redux/actions/integrations';\nimport {isCurrentUserSystemAdmin} from 'mattermost-redux/selectors/entities/users';\n\nimport EditOAuthApp from './edit_oauth_app.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const oauthAppId = ownProps.location.query.id;\n\n    return {\n        ...ownProps,\n        isSystemAdmin: isCurrentUserSystemAdmin(state),\n        oauthAppId,\n        oauthApp: state.entities.integrations.oauthApps[oauthAppId],\n        editOAuthAppRequest: state.requests.integrations.updateOAuthApp\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getOAuthApp,\n            editOAuthApp\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditOAuthApp);\n\n\n\n// WEBPACK FOOTER //\n// ./components/integrations/components/edit_oauth_app/index.js","// Copyright (c) 2017-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {browserHistory} from 'react-router/es6';\nimport {FormattedMessage} from 'react-intl';\n\nimport LoadingScreen from 'components/loading_screen.jsx';\nimport ConfirmModal from 'components/confirm_modal.jsx';\nimport AbstractOAuthApp from '../abstract_oauth_app.jsx';\n\nconst HEADER = {id: 'integrations.edit', defaultMessage: 'Edit'};\nconst FOOTER = {id: 'update_incoming_webhook.update', defaultMessage: 'Update'};\n\nexport default class EditOAuthApp extends React.PureComponent {\n    static propTypes = {\n\n        /**\n        * The current team\n        */\n        team: PropTypes.object.isRequired,\n\n        /**\n        * Set if the current user is a system admin\n        */\n        isSystemAdmin: PropTypes.bool,\n\n        /**\n        * The id of the OAuthApp to edit\n        */\n        oauthAppId: PropTypes.string.isRequired,\n\n        /**\n        * The OAuthApp data\n        */\n        oauthApp: PropTypes.object,\n\n        /**\n        * The request state for editOAuthApp action. Contains status and error\n        */\n        editOAuthAppRequest: PropTypes.object.isRequired,\n\n        actions: PropTypes.shape({\n\n            /**\n            * The function to call to get OAuthApp\n            */\n            getOAuthApp: PropTypes.func.isRequired,\n\n            /**\n            * The function to call to edit OAuthApp\n            */\n            editOAuthApp: PropTypes.func.isRequired\n        }).isRequired\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            showConfirmModal: false,\n            serverError: ''\n        };\n    }\n\n    componentDidMount() {\n        if (window.mm_config.EnableOAuthServiceProvider === 'true') {\n            this.props.actions.getOAuthApp(this.props.oauthAppId);\n        }\n    }\n\n    editOAuthApp = async (app) => {\n        this.newApp = app;\n\n        if (this.props.oauthApp.id) {\n            app.id = this.props.oauthApp.id;\n        }\n\n        if (this.props.oauthApp.token) {\n            app.token = this.props.oauthApp.token;\n        }\n\n        const callbackUrlsSame = (this.props.oauthApp.callback_urls.length === app.callback_urls.length) &&\n            this.props.oauthApp.callback_urls.every((v, i) => v === app.callback_urls[i]);\n\n        if (callbackUrlsSame === false) {\n            this.handleConfirmModal();\n        } else {\n            await this.submitOAuthApp();\n        }\n    }\n\n    handleConfirmModal = () => {\n        this.setState({showConfirmModal: true});\n    }\n\n    confirmModalDismissed = () => {\n        this.setState({showConfirmModal: false});\n    }\n\n    submitOAuthApp = async () => {\n        this.setState({serverError: ''});\n\n        const data = await this.props.actions.editOAuthApp(this.newApp);\n\n        if (data) {\n            browserHistory.push(`/${this.props.team.name}/integrations/oauth2-apps`);\n            return;\n        }\n\n        this.setState({showConfirmModal: false});\n\n        if (this.props.editOAuthAppRequest.error) {\n            this.setState({serverError: this.props.editOAuthAppRequest.error.message});\n        }\n    }\n\n    renderExtra = () => {\n        const confirmButton = (\n            <FormattedMessage\n                id='update_command.update'\n                defaultMessage='Update'\n            />\n        );\n\n        const confirmTitle = (\n            <FormattedMessage\n                id='update_oauth_app.confirm'\n                defaultMessage='Edit OAuth 2.0 application'\n            />\n        );\n\n        const confirmMessage = (\n            <FormattedMessage\n                id='update_oauth_app.question'\n                defaultMessage='Your changes may break the existing OAuth 2.0 application. Are you sure you would like to update it?'\n            />\n        );\n\n        return (\n            <ConfirmModal\n                title={confirmTitle}\n                message={confirmMessage}\n                confirmButtonText={confirmButton}\n                show={this.state.showConfirmModal}\n                onConfirm={this.submitOAuthApp}\n                onCancel={this.confirmModalDismissed}\n            />\n        );\n    }\n\n    render() {\n        if (!this.props.oauthApp) {\n            return <LoadingScreen/>;\n        }\n\n        return (\n            <AbstractOAuthApp\n                team={this.props.team}\n                isSystemAdmin={this.props.isSystemAdmin}\n                header={HEADER}\n                footer={FOOTER}\n                renderExtra={this.renderExtra()}\n                action={this.editOAuthApp}\n                serverError={this.state.serverError}\n                initialApp={this.props.oauthApp}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/integrations/components/edit_oauth_app/edit_oauth_app.jsx"],"sourceRoot":""}